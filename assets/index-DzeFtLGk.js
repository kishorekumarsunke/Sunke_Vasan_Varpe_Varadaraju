(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function mo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ku={exports:{}},Nr={};var jf;function Ub(){if(jf)return Nr;jf=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(o,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var x in u)x!=="key"&&(d[x]=u[x])}else d=u;return u=d.ref,{$$typeof:n,type:o,key:h,ref:u!==void 0?u:null,props:d}}return Nr.Fragment=a,Nr.jsx=i,Nr.jsxs=i,Nr}var Nf;function Hb(){return Nf||(Nf=1,ku.exports=Ub()),ku.exports}var t=Hb(),Eu={exports:{}},Oe={};var wf;function qb(){if(wf)return Oe;wf=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function N(j){return j===null||typeof j!="object"?null:(j=S&&j[S]||j["@@iterator"],typeof j=="function"?j:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,U={};function k(j,O,v){this.props=j,this.context=O,this.refs=U,this.updater=v||B}k.prototype.isReactComponent={},k.prototype.setState=function(j,O){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,O,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function M(){}M.prototype=k.prototype;function H(j,O,v){this.props=j,this.context=O,this.refs=U,this.updater=v||B}var ne=H.prototype=new M;ne.constructor=H,E(ne,k.prototype),ne.isPureReactComponent=!0;var be=Array.isArray;function $(){}var q={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function me(j,O,v){var Y=v.ref;return{$$typeof:n,type:j,key:O,ref:Y!==void 0?Y:null,props:v}}function G(j,O){return me(j.type,O,j.props)}function A(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function I(j){var O={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(v){return O[v]})}var le=/\/+/g;function re(j,O){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):O.toString(36)}function ce(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then($,$):(j.status="pending",j.then(function(O){j.status==="pending"&&(j.status="fulfilled",j.value=O)},function(O){j.status==="pending"&&(j.status="rejected",j.reason=O)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function C(j,O,v,Y,oe){var he=typeof j;(he==="undefined"||he==="boolean")&&(j=null);var Se=!1;if(j===null)Se=!0;else switch(he){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(j.$$typeof){case n:case a:Se=!0;break;case g:return Se=j._init,C(Se(j._payload),O,v,Y,oe)}}if(Se)return oe=oe(j),Se=Y===""?"."+re(j,0):Y,be(oe)?(v="",Se!=null&&(v=Se.replace(le,"$&/")+"/"),C(oe,O,v,"",function(yt){return yt})):oe!=null&&(A(oe)&&(oe=G(oe,v+(oe.key==null||j&&j.key===oe.key?"":(""+oe.key).replace(le,"$&/")+"/")+Se)),O.push(oe)),1;Se=0;var De=Y===""?".":Y+":";if(be(j))for(var Ae=0;Ae<j.length;Ae++)Y=j[Ae],he=De+re(Y,Ae),Se+=C(Y,O,v,he,oe);else if(Ae=N(j),typeof Ae=="function")for(j=Ae.call(j),Ae=0;!(Y=j.next()).done;)Y=Y.value,he=De+re(Y,Ae++),Se+=C(Y,O,v,he,oe);else if(he==="object"){if(typeof j.then=="function")return C(ce(j),O,v,Y,oe);throw O=String(j),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Se}function K(j,O,v){if(j==null)return j;var Y=[],oe=0;return C(j,Y,"","",function(he){return O.call(v,he,oe++)}),Y}function ye(j){if(j._status===-1){var O=j._result;O=O(),O.then(function(v){(j._status===0||j._status===-1)&&(j._status=1,j._result=v)},function(v){(j._status===0||j._status===-1)&&(j._status=2,j._result=v)}),j._status===-1&&(j._status=0,j._result=O)}if(j._status===1)return j._result.default;throw j._result}var Ee=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},D={map:K,forEach:function(j,O,v){K(j,function(){O.apply(this,arguments)},v)},count:function(j){var O=0;return K(j,function(){O++}),O},toArray:function(j){return K(j,function(O){return O})||[]},only:function(j){if(!A(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Oe.Activity=y,Oe.Children=D,Oe.Component=k,Oe.Fragment=i,Oe.Profiler=u,Oe.PureComponent=H,Oe.StrictMode=o,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return q.H.useMemoCache(j)}},Oe.cache=function(j){return function(){return j.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(j,O,v){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Y=E({},j.props),oe=j.key;if(O!=null)for(he in O.key!==void 0&&(oe=""+O.key),O)!fe.call(O,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&O.ref===void 0||(Y[he]=O[he]);var he=arguments.length-2;if(he===1)Y.children=v;else if(1<he){for(var Se=Array(he),De=0;De<he;De++)Se[De]=arguments[De+2];Y.children=Se}return me(j.type,oe,Y)},Oe.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},Oe.createElement=function(j,O,v){var Y,oe={},he=null;if(O!=null)for(Y in O.key!==void 0&&(he=""+O.key),O)fe.call(O,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(oe[Y]=O[Y]);var Se=arguments.length-2;if(Se===1)oe.children=v;else if(1<Se){for(var De=Array(Se),Ae=0;Ae<Se;Ae++)De[Ae]=arguments[Ae+2];oe.children=De}if(j&&j.defaultProps)for(Y in Se=j.defaultProps,Se)oe[Y]===void 0&&(oe[Y]=Se[Y]);return me(j,he,oe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:x,render:j}},Oe.isValidElement=A,Oe.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:ye}},Oe.memo=function(j,O){return{$$typeof:f,type:j,compare:O===void 0?null:O}},Oe.startTransition=function(j){var O=q.T,v={};q.T=v;try{var Y=j(),oe=q.S;oe!==null&&oe(v,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then($,Ee)}catch(he){Ee(he)}finally{O!==null&&v.types!==null&&(O.types=v.types),q.T=O}},Oe.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Oe.use=function(j){return q.H.use(j)},Oe.useActionState=function(j,O,v){return q.H.useActionState(j,O,v)},Oe.useCallback=function(j,O){return q.H.useCallback(j,O)},Oe.useContext=function(j){return q.H.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j,O){return q.H.useDeferredValue(j,O)},Oe.useEffect=function(j,O){return q.H.useEffect(j,O)},Oe.useEffectEvent=function(j){return q.H.useEffectEvent(j)},Oe.useId=function(){return q.H.useId()},Oe.useImperativeHandle=function(j,O,v){return q.H.useImperativeHandle(j,O,v)},Oe.useInsertionEffect=function(j,O){return q.H.useInsertionEffect(j,O)},Oe.useLayoutEffect=function(j,O){return q.H.useLayoutEffect(j,O)},Oe.useMemo=function(j,O){return q.H.useMemo(j,O)},Oe.useOptimistic=function(j,O){return q.H.useOptimistic(j,O)},Oe.useReducer=function(j,O,v){return q.H.useReducer(j,O,v)},Oe.useRef=function(j){return q.H.useRef(j)},Oe.useState=function(j){return q.H.useState(j)},Oe.useSyncExternalStore=function(j,O,v){return q.H.useSyncExternalStore(j,O,v)},Oe.useTransition=function(){return q.H.useTransition()},Oe.version="19.2.0",Oe}var Sf;function dd(){return Sf||(Sf=1,Eu.exports=qb()),Eu.exports}var T=dd();const _x=mo(T);var Cu={exports:{}},wr={},Au={exports:{}},_u={};var Tf;function $b(){return Tf||(Tf=1,(function(n){function a(C,K){var ye=C.length;C.push(K);e:for(;0<ye;){var Ee=ye-1>>>1,D=C[Ee];if(0<u(D,K))C[Ee]=K,C[ye]=D,ye=Ee;else break e}}function i(C){return C.length===0?null:C[0]}function o(C){if(C.length===0)return null;var K=C[0],ye=C.pop();if(ye!==K){C[0]=ye;e:for(var Ee=0,D=C.length,j=D>>>1;Ee<j;){var O=2*(Ee+1)-1,v=C[O],Y=O+1,oe=C[Y];if(0>u(v,ye))Y<D&&0>u(oe,v)?(C[Ee]=oe,C[Y]=ye,Ee=Y):(C[Ee]=v,C[O]=ye,Ee=O);else if(Y<D&&0>u(oe,ye))C[Ee]=oe,C[Y]=ye,Ee=Y;else break e}}return K}function u(C,K){var ye=C.sortIndex-K.sortIndex;return ye!==0?ye:C.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var h=Date,x=h.now();n.unstable_now=function(){return h.now()-x}}var p=[],f=[],g=1,y=null,S=3,N=!1,B=!1,E=!1,U=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ne(C){for(var K=i(f);K!==null;){if(K.callback===null)o(f);else if(K.startTime<=C)o(f),K.sortIndex=K.expirationTime,a(p,K);else break;K=i(f)}}function be(C){if(E=!1,ne(C),!B)if(i(p)!==null)B=!0,$||($=!0,I());else{var K=i(f);K!==null&&ce(be,K.startTime-C)}}var $=!1,q=-1,fe=5,me=-1;function G(){return U?!0:!(n.unstable_now()-me<fe)}function A(){if(U=!1,$){var C=n.unstable_now();me=C;var K=!0;try{e:{B=!1,E&&(E=!1,M(q),q=-1),N=!0;var ye=S;try{t:{for(ne(C),y=i(p);y!==null&&!(y.expirationTime>C&&G());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,S=y.priorityLevel;var D=Ee(y.expirationTime<=C);if(C=n.unstable_now(),typeof D=="function"){y.callback=D,ne(C),K=!0;break t}y===i(p)&&o(p),ne(C)}else o(p);y=i(p)}if(y!==null)K=!0;else{var j=i(f);j!==null&&ce(be,j.startTime-C),K=!1}}break e}finally{y=null,S=ye,N=!1}K=void 0}}finally{K?I():$=!1}}}var I;if(typeof H=="function")I=function(){H(A)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,re=le.port2;le.port1.onmessage=A,I=function(){re.postMessage(null)}}else I=function(){k(A,0)};function ce(C,K){q=k(function(){C(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(C){switch(S){case 1:case 2:case 3:var K=3;break;default:K=S}var ye=S;S=K;try{return C()}finally{S=ye}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(C,K){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ye=S;S=C;try{return K()}finally{S=ye}},n.unstable_scheduleCallback=function(C,K,ye){var Ee=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ee+ye:Ee):ye=Ee,C){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ye+D,C={id:g++,callback:K,priorityLevel:C,startTime:ye,expirationTime:D,sortIndex:-1},ye>Ee?(C.sortIndex=ye,a(f,C),i(p)===null&&C===i(f)&&(E?(M(q),q=-1):E=!0,ce(be,ye-Ee))):(C.sortIndex=D,a(p,C),B||N||(B=!0,$||($=!0,I()))),C},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(C){var K=S;return function(){var ye=S;S=K;try{return C.apply(this,arguments)}finally{S=ye}}}})(_u)),_u}var kf;function Yb(){return kf||(kf=1,Au.exports=$b()),Au.exports}var Du={exports:{}},Kt={};var Ef;function Fb(){if(Ef)return Kt;Ef=1;var n=dd();function a(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(p,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:p,containerInfo:f,implementation:g}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Kt.createPortal=function(p,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(a(299));return d(p,f,null,g)},Kt.flushSync=function(p){var f=h.T,g=o.p;try{if(h.T=null,o.p=2,p)return p()}finally{h.T=f,o.p=g,o.d.f()}},Kt.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(p,f))},Kt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},Kt.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var g=f.as,y=x(g,f.crossOrigin),S=typeof f.integrity=="string"?f.integrity:void 0,N=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?o.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:N}):g==="script"&&o.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:N,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Kt.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=x(f.as,f.crossOrigin);o.d.M(p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(p)},Kt.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=x(g,f.crossOrigin);o.d.L(p,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Kt.preloadModule=function(p,f){if(typeof p=="string")if(f){var g=x(f.as,f.crossOrigin);o.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(p)},Kt.requestFormReset=function(p){o.d.r(p)},Kt.unstable_batchedUpdates=function(p,f){return p(f)},Kt.useFormState=function(p,f,g){return h.H.useFormState(p,f,g)},Kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Kt.version="19.2.0",Kt}var Cf;function Gb(){if(Cf)return Du.exports;Cf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Du.exports=Fb(),Du.exports}var Af;function Vb(){if(Af)return wr;Af=1;var n=Yb(),a=dd(),i=Gb();function o(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var s=e,l=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(l=s.return),e=s.return;while(e)}return s.tag===3?l:null}function h(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function x(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(o(188))}function f(e){var s=e.alternate;if(!s){if(s=d(e),s===null)throw Error(o(188));return s!==e?null:e}for(var l=e,r=s;;){var c=l.return;if(c===null)break;var m=c.alternate;if(m===null){if(r=c.return,r!==null){l=r;continue}break}if(c.child===m.child){for(m=c.child;m;){if(m===l)return p(c),e;if(m===r)return p(c),s;m=m.sibling}throw Error(o(188))}if(l.return!==r.return)l=c,r=m;else{for(var b=!1,w=c.child;w;){if(w===l){b=!0,l=c,r=m;break}if(w===r){b=!0,r=c,l=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===l){b=!0,l=m,r=c;break}if(w===r){b=!0,r=m,l=c;break}w=w.sibling}if(!b)throw Error(o(189))}}if(l.alternate!==r)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:s}function g(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=g(e),s!==null)return s;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case k:return"Profiler";case U:return"StrictMode";case be:return"Suspense";case $:return"SuspenseList";case me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case H:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case ne:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return s=e.displayName||null,s!==null?s:re(e.type)||"Memo";case fe:s=e._payload,e=e._init;try{return re(e(s))}catch{}}return null}var ce=Array.isArray,C=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ee=[],D=-1;function j(e){return{current:e}}function O(e){0>D||(e.current=Ee[D],Ee[D]=null,D--)}function v(e,s){D++,Ee[D]=e.current,e.current=s}var Y=j(null),oe=j(null),he=j(null),Se=j(null);function De(e,s){switch(v(he,s),v(oe,e),v(Y,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Fh(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Fh(s),e=Gh(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(Y),v(Y,e)}function Ae(){O(Y),O(oe),O(he)}function yt(e){e.memoizedState!==null&&v(Se,e);var s=Y.current,l=Gh(s,e.type);s!==l&&(v(oe,e),v(Y,l))}function vt(e){oe.current===e&&(O(Y),O(oe)),Se.current===e&&(O(Se),br._currentValue=ye)}var ns,kt;function $t(e){if(ns===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ns=s&&s[1]||"",kt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ns+e+kt}var Et=!1;function ls(e,s){if(!e||Et)return"";Et=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var X=J}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(J){X=J}e.call(ie.prototype)}}else{try{throw Error()}catch(J){X=J}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=r.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var z=b.split(`
`),Q=w.split(`
`);for(c=r=0;r<z.length&&!z[r].includes("DetermineComponentFrameRoot");)r++;for(;c<Q.length&&!Q[c].includes("DetermineComponentFrameRoot");)c++;if(r===z.length||c===Q.length)for(r=z.length-1,c=Q.length-1;1<=r&&0<=c&&z[r]!==Q[c];)c--;for(;1<=r&&0<=c;r--,c--)if(z[r]!==Q[c]){if(r!==1||c!==1)do if(r--,c--,0>c||z[r]!==Q[c]){var se=`
`+z[r].replace(" at new "," at ");return e.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",e.displayName)),se}while(1<=r&&0<=c);break}}}finally{Et=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?$t(l):""}function Zs(e,s){switch(e.tag){case 26:case 27:case 5:return $t(e.type);case 16:return $t("Lazy");case 13:return e.child!==s&&s!==null?$t("Suspense Fallback"):$t("Suspense");case 19:return $t("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return $t("Activity");default:return""}}function dn(e){try{var s="",l=null;do s+=Zs(e,l),l=e,e=e.return;while(e);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ks=Object.prototype.hasOwnProperty,ft=n.unstable_scheduleCallback,es=n.unstable_cancelCallback,mn=n.unstable_shouldYield,Ot=n.unstable_requestPaint,Ct=n.unstable_now,$n=n.unstable_getCurrentPriorityLevel,ee=n.unstable_ImmediatePriority,xe=n.unstable_UserBlockingPriority,Ce=n.unstable_NormalPriority,Me=n.unstable_LowPriority,Re=n.unstable_IdlePriority,Vt=n.log,Es=n.unstable_setDisableYieldValue,At=null,ut=null;function _t(e){if(typeof Vt=="function"&&Es(e),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(At,e)}catch{}}var Ie=Math.clz32?Math.clz32:Ma,Cs=Math.log,Jt=Math.LN2;function Ma(e){return e>>>=0,e===0?32:31-(Cs(e)/Jt|0)|0}var fs=256,Yn=262144,hn=4194304;function Bt(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Js(e,s,l){var r=e.pendingLanes;if(r===0)return 0;var c=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=r&134217727;return w!==0?(r=w&~m,r!==0?c=Bt(r):(b&=w,b!==0?c=Bt(b):l||(l=w&~e,l!==0&&(c=Bt(l))))):(w=r&~m,w!==0?c=Bt(w):b!==0?c=Bt(b):l||(l=r&~e,l!==0&&(c=Bt(l)))),c===0?0:s!==0&&s!==c&&(s&m)===0&&(m=c&-c,l=s&-s,m>=l||m===32&&(l&4194048)!==0)?s:c}function jt(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function Fn(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var e=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),e}function gl(e){for(var s=[],l=0;31>l;l++)s.push(e);return s}function Ks(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function za(e,s,l,r,c,m){var b=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var w=e.entanglements,z=e.expirationTimes,Q=e.hiddenUpdates;for(l=b&~l;0<l;){var se=31-Ie(l),ie=1<<se;w[se]=0,z[se]=-1;var X=Q[se];if(X!==null)for(Q[se]=null,se=0;se<X.length;se++){var J=X[se];J!==null&&(J.lane&=-536870913)}l&=~ie}r!==0&&Ws(e,r,0),m!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~s))}function Ws(e,s,l){e.pendingLanes|=s,e.suspendedLanes&=~s;var r=31-Ie(s);e.entangledLanes|=s,e.entanglements[r]=e.entanglements[r]|1073741824|l&261930}function As(e,s){var l=e.entangledLanes|=s;for(e=e.entanglements;l;){var r=31-Ie(l),c=1<<r;c&s|e[r]&s&&(e[r]|=s),l&=~c}}function bl(e,s){var l=s&-s;return l=(l&42)!==0?1:fn(l),(l&(e.suspendedLanes|s))!==0?0:l}function fn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yl(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:ff(e.type))}function Gn(e,s){var l=K.p;try{return K.p=e,s()}finally{K.p=l}}var _s=Math.random().toString(36).slice(2),Nt="__reactFiber$"+_s,Yt="__reactProps$"+_s,en="__reactContainer$"+_s,tn="__reactEvents$"+_s,Yl="__reactListeners$"+_s,pn="__reactHandles$"+_s,_="__reactResources$"+_s,ue="__reactMarker$"+_s;function te(e){delete e[Nt],delete e[Yt],delete e[tn],delete e[Yl],delete e[pn]}function je(e){var s=e[Nt];if(s)return s;for(var l=e.parentNode;l;){if(s=l[en]||l[Nt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(e=Jh(e);e!==null;){if(l=e[Nt])return l;e=Jh(e)}return s}e=l,l=e.parentNode}return null}function ve(e){if(e=e[Nt]||e[en]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function Le(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(o(33))}function R(e){var s=e[_];return s||(s=e[_]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Z(e){e[ue]=!0}var W=new Set,de={};function Ne(e,s){V(e,s),V(e+"Capture",s)}function V(e,s){for(de[e]=s,e=0;e<s.length;e++)W.add(s[e])}var We=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ft={},pe={};function at(e){return ks.call(pe,e)?!0:ks.call(Ft,e)?!1:We.test(e)?pe[e]=!0:(Ft[e]=!0,!1)}function Qe(e,s,l){if(at(s))if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+l)}}function gn(e,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+l)}}function Ut(e,s,l,r){if(r===null)e.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(s,l,""+r)}}function Ds(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ld(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Dp(e,s,l){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,m=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return c.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function yo(e){if(!e._valueTracker){var s=Ld(e)?"checked":"value";e._valueTracker=Dp(e,s,""+e[s])}}function Od(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var l=s.getValue(),r="";return e&&(r=Ld(e)?e.checked?"true":"false":e.value),e=r,e!==l?(s.setValue(e),!0):!1}function Hr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rp=/[\n"\\]/g;function Rs(e){return e.replace(Rp,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vo(e,s,l,r,c,m,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),s!=null?b==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Ds(s)):e.value!==""+Ds(s)&&(e.value=""+Ds(s)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),s!=null?jo(e,b,Ds(s)):l!=null?jo(e,b,Ds(l)):r!=null&&e.removeAttribute("value"),c==null&&m!=null&&(e.defaultChecked=!!m),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Ds(w):e.removeAttribute("name")}function Bd(e,s,l,r,c,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){yo(e);return}l=l!=null?""+Ds(l):"",s=s!=null?""+Ds(s):l,w||s===e.value||(e.value=s),e.defaultValue=s}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=w?e.checked:!!r,e.defaultChecked=!!r,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),yo(e)}function jo(e,s,l){s==="number"&&Hr(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Fl(e,s,l,r){if(e=e.options,s){s={};for(var c=0;c<l.length;c++)s["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=s.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&r&&(e[l].defaultSelected=!0)}else{for(l=""+Ds(l),s=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}s!==null||e[c].disabled||(s=e[c])}s!==null&&(s.selected=!0)}}function Ud(e,s,l){if(s!=null&&(s=""+Ds(s),s!==e.value&&(e.value=s),l==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=l!=null?""+Ds(l):""}function Hd(e,s,l,r){if(s==null){if(r!=null){if(l!=null)throw Error(o(92));if(ce(r)){if(1<r.length)throw Error(o(93));r=r[0]}l=r}l==null&&(l=""),s=l}l=Ds(s),e.defaultValue=l,r=e.textContent,r===l&&r!==""&&r!==null&&(e.value=r),yo(e)}function Gl(e,s){if(s){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=s;return}}e.textContent=s}var Mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qd(e,s,l){var r=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":r?e.setProperty(s,l):typeof l!="number"||l===0||Mp.has(s)?s==="float"?e.cssFloat=l:e[s]=(""+l).trim():e[s]=l+"px"}function $d(e,s,l){if(s!=null&&typeof s!="object")throw Error(o(62));if(e=e.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in s)r=s[c],s.hasOwnProperty(c)&&l[c]!==r&&qd(e,c,r)}else for(var m in s)s.hasOwnProperty(m)&&qd(e,m,s[m])}function No(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qr(e){return Lp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bn(){}var wo=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vl=null,Pl=null;function Yd(e){var s=ve(e);if(s&&(e=s.stateNode)){var l=e[Yt]||null;e:switch(e=s.stateNode,s.type){case"input":if(vo(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rs(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var r=l[s];if(r!==e&&r.form===e.form){var c=r[Yt]||null;if(!c)throw Error(o(90));vo(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<l.length;s++)r=l[s],r.form===e.form&&Od(r)}break e;case"textarea":Ud(e,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Fl(e,!!l.multiple,s,!1)}}}var To=!1;function Fd(e,s,l){if(To)return e(s,l);To=!0;try{var r=e(s);return r}finally{if(To=!1,(Vl!==null||Pl!==null)&&(Ei(),Vl&&(s=Vl,e=Pl,Pl=Vl=null,Yd(s),e)))for(s=0;s<e.length;s++)Yd(e[s])}}function La(e,s){var l=e.stateNode;if(l===null)return null;var r=l[Yt]||null;if(r===null)return null;l=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,s,typeof l));return l}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(yn)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{ko=!1}var Vn=null,Eo=null,$r=null;function Gd(){if($r)return $r;var e,s=Eo,l=s.length,r,c="value"in Vn?Vn.value:Vn.textContent,m=c.length;for(e=0;e<l&&s[e]===c[e];e++);var b=l-e;for(r=1;r<=b&&s[l-r]===c[m-r];r++);return $r=c.slice(e,1<r?1-r:void 0)}function Yr(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Fr(){return!0}function Vd(){return!1}function as(e){function s(l,r,c,m,b){this._reactName=l,this._targetInst=c,this.type=r,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(l=e[w],this[w]=l?l(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Fr:Vd,this.isPropagationStopped=Vd,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),s}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=as(vl),Ba=y({},vl,{view:0,detail:0}),Op=as(Ba),Co,Ao,Ua,Vr=y({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ua&&(Ua&&e.type==="mousemove"?(Co=e.screenX-Ua.screenX,Ao=e.screenY-Ua.screenY):Ao=Co=0,Ua=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:Ao}}),Pd=as(Vr),Bp=y({},Vr,{dataTransfer:0}),Up=as(Bp),Hp=y({},Ba,{relatedTarget:0}),_o=as(Hp),qp=y({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),$p=as(qp),Yp=y({},vl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=as(Yp),Gp=y({},vl,{data:0}),Id=as(Gp),Vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qp(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Ip[e])?!!s[e]:!1}function Do(){return Qp}var Xp=y({},Ba,{key:function(e){if(e.key){var s=Vp[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Yr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(e){return e.type==="keypress"?Yr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zp=as(Xp),Jp=y({},Vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=as(Jp),Kp=y({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),Wp=as(Kp),eg=y({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),tg=as(eg),sg=y({},Vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ng=as(sg),lg=y({},vl,{newState:0,oldState:0}),ag=as(lg),rg=[9,13,27,32],Ro=yn&&"CompositionEvent"in window,Ha=null;yn&&"documentMode"in document&&(Ha=document.documentMode);var ig=yn&&"TextEvent"in window&&!Ha,Xd=yn&&(!Ro||Ha&&8<Ha&&11>=Ha),Zd=" ",Jd=!1;function Kd(e,s){switch(e){case"keyup":return rg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Il=!1;function og(e,s){switch(e){case"compositionend":return Wd(s);case"keypress":return s.which!==32?null:(Jd=!0,Zd);case"textInput":return e=s.data,e===Zd&&Jd?null:e;default:return null}}function cg(e,s){if(Il)return e==="compositionend"||!Ro&&Kd(e,s)?(e=Gd(),$r=Eo=Vn=null,Il=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xd&&s.locale!=="ko"?null:s.data;default:return null}}var ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function em(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!ug[e.type]:s==="textarea"}function tm(e,s,l,r){Vl?Pl?Pl.push(r):Pl=[r]:Vl=r,s=zi(s,"onChange"),0<s.length&&(l=new Gr("onChange","change",null,l,r),e.push({event:l,listeners:s}))}var qa=null,$a=null;function dg(e){Bh(e,0)}function Pr(e){var s=Le(e);if(Od(s))return e}function sm(e,s){if(e==="change")return s}var nm=!1;if(yn){var Mo;if(yn){var zo="oninput"in document;if(!zo){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),zo=typeof lm.oninput=="function"}Mo=zo}else Mo=!1;nm=Mo&&(!document.documentMode||9<document.documentMode)}function am(){qa&&(qa.detachEvent("onpropertychange",rm),$a=qa=null)}function rm(e){if(e.propertyName==="value"&&Pr($a)){var s=[];tm(s,$a,e,So(e)),Fd(dg,s)}}function mg(e,s,l){e==="focusin"?(am(),qa=s,$a=l,qa.attachEvent("onpropertychange",rm)):e==="focusout"&&am()}function hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pr($a)}function fg(e,s){if(e==="click")return Pr(s)}function xg(e,s){if(e==="input"||e==="change")return Pr(s)}function pg(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var xs=typeof Object.is=="function"?Object.is:pg;function Ya(e,s){if(xs(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var l=Object.keys(e),r=Object.keys(s);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var c=l[r];if(!ks.call(s,c)||!xs(e[c],s[c]))return!1}return!0}function im(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function om(e,s){var l=im(e);e=0;for(var r;l;){if(l.nodeType===3){if(r=e+l.textContent.length,e<=s&&r>=s)return{node:l,offset:s-e};e=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=im(l)}}function cm(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?cm(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function um(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Hr(e.document);s instanceof e.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)e=s.contentWindow;else break;s=Hr(e.document)}return s}function Lo(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var gg=yn&&"documentMode"in document&&11>=document.documentMode,Ql=null,Oo=null,Fa=null,Bo=!1;function dm(e,s,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bo||Ql==null||Ql!==Hr(r)||(r=Ql,"selectionStart"in r&&Lo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fa&&Ya(Fa,r)||(Fa=r,r=zi(Oo,"onSelect"),0<r.length&&(s=new Gr("onSelect","select",null,s,l),e.push({event:s,listeners:r}),s.target=Ql)))}function jl(e,s){var l={};return l[e.toLowerCase()]=s.toLowerCase(),l["Webkit"+e]="webkit"+s,l["Moz"+e]="moz"+s,l}var Xl={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},Uo={},mm={};yn&&(mm=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function Nl(e){if(Uo[e])return Uo[e];if(!Xl[e])return e;var s=Xl[e],l;for(l in s)if(s.hasOwnProperty(l)&&l in mm)return Uo[e]=s[l];return e}var hm=Nl("animationend"),fm=Nl("animationiteration"),xm=Nl("animationstart"),bg=Nl("transitionrun"),yg=Nl("transitionstart"),vg=Nl("transitioncancel"),pm=Nl("transitionend"),gm=new Map,Ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ho.push("scrollEnd");function Gs(e,s){gm.set(e,s),Ne(s,[e])}var Ir=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ms=[],Zl=0,qo=0;function Qr(){for(var e=Zl,s=qo=Zl=0;s<e;){var l=Ms[s];Ms[s++]=null;var r=Ms[s];Ms[s++]=null;var c=Ms[s];Ms[s++]=null;var m=Ms[s];if(Ms[s++]=null,r!==null&&c!==null){var b=r.pending;b===null?c.next=c:(c.next=b.next,b.next=c),r.pending=c}m!==0&&bm(l,c,m)}}function Xr(e,s,l,r){Ms[Zl++]=e,Ms[Zl++]=s,Ms[Zl++]=l,Ms[Zl++]=r,qo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function $o(e,s,l,r){return Xr(e,s,l,r),Zr(e)}function wl(e,s){return Xr(e,null,null,s),Zr(e)}function bm(e,s,l){e.lanes|=l;var r=e.alternate;r!==null&&(r.lanes|=l);for(var c=!1,m=e.return;m!==null;)m.childLanes|=l,r=m.alternate,r!==null&&(r.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(c=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,c&&s!==null&&(c=31-Ie(l),e=m.hiddenUpdates,r=e[c],r===null?e[c]=[s]:r.push(s),s.lane=l|536870912),m):null}function Zr(e){if(50<dr)throw dr=0,Zc=null,Error(o(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Jl={};function jg(e,s,l,r){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,s,l,r){return new jg(e,s,l,r)}function Yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,s){var l=e.alternate;return l===null?(l=ps(e.tag,s,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=s,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,s=e.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function ym(e,s){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,s=l.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function Jr(e,s,l,r,c,m){var b=0;if(r=e,typeof e=="function")Yo(e)&&(b=1);else if(typeof e=="string")b=kb(e,l,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case me:return e=ps(31,l,s,c),e.elementType=me,e.lanes=m,e;case E:return Sl(l.children,c,m,s);case U:b=8,c|=24;break;case k:return e=ps(12,l,s,c|2),e.elementType=k,e.lanes=m,e;case be:return e=ps(13,l,s,c),e.elementType=be,e.lanes=m,e;case $:return e=ps(19,l,s,c),e.elementType=$,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:b=10;break e;case M:b=9;break e;case ne:b=11;break e;case q:b=14;break e;case fe:b=16,r=null;break e}b=29,l=Error(o(130,e===null?"null":typeof e,"")),r=null}return s=ps(b,l,s,c),s.elementType=e,s.type=r,s.lanes=m,s}function Sl(e,s,l,r){return e=ps(7,e,r,s),e.lanes=l,e}function Fo(e,s,l){return e=ps(6,e,null,s),e.lanes=l,e}function vm(e){var s=ps(18,null,null,0);return s.stateNode=e,s}function Go(e,s,l){return s=ps(4,e.children!==null?e.children:[],e.key,s),s.lanes=l,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var jm=new WeakMap;function zs(e,s){if(typeof e=="object"&&e!==null){var l=jm.get(e);return l!==void 0?l:(s={value:e,source:s,stack:dn(s)},jm.set(e,s),s)}return{value:e,source:s,stack:dn(s)}}var Kl=[],Wl=0,Kr=null,Ga=0,Ls=[],Os=0,Pn=null,sn=1,nn="";function jn(e,s){Kl[Wl++]=Ga,Kl[Wl++]=Kr,Kr=e,Ga=s}function Nm(e,s,l){Ls[Os++]=sn,Ls[Os++]=nn,Ls[Os++]=Pn,Pn=e;var r=sn;e=nn;var c=32-Ie(r)-1;r&=~(1<<c),l+=1;var m=32-Ie(s)+c;if(30<m){var b=c-c%5;m=(r&(1<<b)-1).toString(32),r>>=b,c-=b,sn=1<<32-Ie(s)+c|l<<c|r,nn=m+e}else sn=1<<m|l<<c|r,nn=e}function Vo(e){e.return!==null&&(jn(e,1),Nm(e,1,0))}function Po(e){for(;e===Kr;)Kr=Kl[--Wl],Kl[Wl]=null,Ga=Kl[--Wl],Kl[Wl]=null;for(;e===Pn;)Pn=Ls[--Os],Ls[Os]=null,nn=Ls[--Os],Ls[Os]=null,sn=Ls[--Os],Ls[Os]=null}function wm(e,s){Ls[Os++]=sn,Ls[Os++]=nn,Ls[Os++]=Pn,sn=s.id,nn=s.overflow,Pn=e}var Pt=null,dt=null,Pe=!1,In=null,Bs=!1,Io=Error(o(519));function Qn(e){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Va(zs(s,e)),Io}function Sm(e){var s=e.stateNode,l=e.type,r=e.memoizedProps;switch(s[Nt]=e,s[Yt]=r,l){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(l=0;l<hr.length;l++)Ye(hr[l],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),Bd(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),Hd(s,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||r.suppressHydrationWarning===!0||$h(s.textContent,l)?(r.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),r.onScroll!=null&&Ye("scroll",s),r.onScrollEnd!=null&&Ye("scrollend",s),r.onClick!=null&&(s.onclick=bn),s=!0):s=!1,s||Qn(e,!0)}function Tm(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:Bs=!1;return;case 27:case 3:Bs=!0;return;default:Pt=Pt.return}}function ea(e){if(e!==Pt)return!1;if(!Pe)return Tm(e),Pe=!0,!1;var s=e.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||du(e.type,e.memoizedProps)),l=!l),l&&dt&&Qn(e),Tm(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));dt=Zh(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));dt=Zh(e)}else s===27?(s=dt,ol(e.type)?(e=pu,pu=null,dt=e):dt=s):dt=Pt?Hs(e.stateNode.nextSibling):null;return!0}function Tl(){dt=Pt=null,Pe=!1}function Qo(){var e=In;return e!==null&&(cs===null?cs=e:cs.push.apply(cs,e),In=null),e}function Va(e){In===null?In=[e]:In.push(e)}var Xo=j(null),kl=null,Nn=null;function Xn(e,s,l){v(Xo,s._currentValue),s._currentValue=l}function wn(e){e._currentValue=Xo.current,O(Xo)}function Zo(e,s,l){for(;e!==null;){var r=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),e===l)break;e=e.return}}function Jo(e,s,l,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var m=c.dependencies;if(m!==null){var b=c.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=c;for(var z=0;z<s.length;z++)if(w.context===s[z]){m.lanes|=l,w=m.alternate,w!==null&&(w.lanes|=l),Zo(m.return,l,e),r||(b=null);break e}m=w.next}}else if(c.tag===18){if(b=c.return,b===null)throw Error(o(341));b.lanes|=l,m=b.alternate,m!==null&&(m.lanes|=l),Zo(b,l,e),b=null}else b=c.child;if(b!==null)b.return=c;else for(b=c;b!==null;){if(b===e){b=null;break}if(c=b.sibling,c!==null){c.return=b.return,b=c;break}b=b.return}c=b}}function ta(e,s,l,r){e=null;for(var c=s,m=!1;c!==null;){if(!m){if((c.flags&524288)!==0)m=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var b=c.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var w=c.type;xs(c.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(c===Se.current){if(b=c.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(br):e=[br])}c=c.return}e!==null&&Jo(s,e,l,r),s.flags|=262144}function Wr(e){for(e=e.firstContext;e!==null;){if(!xs(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function El(e){kl=e,Nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function It(e){return km(kl,e)}function ei(e,s){return kl===null&&El(e),km(e,s)}function km(e,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Nn===null){if(e===null)throw Error(o(308));Nn=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Nn=Nn.next=s;return l}var Ng=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(l,r){e.push(r)}};this.abort=function(){s.aborted=!0,e.forEach(function(l){return l()})}},wg=n.unstable_scheduleCallback,Sg=n.unstable_NormalPriority,Dt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ko(){return{controller:new Ng,data:new Map,refCount:0}}function Pa(e){e.refCount--,e.refCount===0&&wg(Sg,function(){e.controller.abort()})}var Ia=null,Wo=0,sa=0,na=null;function Tg(e,s){if(Ia===null){var l=Ia=[];Wo=0,sa=su(),na={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Wo++,s.then(Em,Em),s}function Em(){if(--Wo===0&&Ia!==null){na!==null&&(na.status="fulfilled");var e=Ia;Ia=null,sa=0,na=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function kg(e,s){var l=[],r={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){r.status="fulfilled",r.value=s;for(var c=0;c<l.length;c++)(0,l[c])(s)},function(c){for(r.status="rejected",r.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),r}var Cm=C.S;C.S=function(e,s){dh=Ct(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Tg(e,s),Cm!==null&&Cm(e,s)};var Cl=j(null);function ec(){var e=Cl.current;return e!==null?e:rt.pooledCache}function ti(e,s){s===null?v(Cl,Cl.current):v(Cl,s.pool)}function Am(){var e=ec();return e===null?null:{parent:Dt._currentValue,pool:e}}var la=Error(o(460)),tc=Error(o(474)),si=Error(o(542)),ni={then:function(){}};function _m(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dm(e,s,l){switch(l=e[l],l===void 0?e.push(s):l!==s&&(s.then(bn,bn),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Mm(e),e;default:if(typeof s.status=="string")s.then(bn,bn);else{if(e=rt,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=s,e.status="pending",e.then(function(r){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=r}},function(r){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Mm(e),e}throw _l=s,la}}function Al(e){try{var s=e._init;return s(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(_l=l,la):l}}var _l=null;function Rm(){if(_l===null)throw Error(o(459));var e=_l;return _l=null,e}function Mm(e){if(e===la||e===si)throw Error(o(483))}var aa=null,Qa=0;function li(e){var s=Qa;return Qa+=1,aa===null&&(aa=[]),Dm(aa,e,s)}function Xa(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function ai(e,s){throw s.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(s),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function zm(e){function s(F,L){if(e){var P=F.deletions;P===null?(F.deletions=[L],F.flags|=16):P.push(L)}}function l(F,L){if(!e)return null;for(;L!==null;)s(F,L),L=L.sibling;return null}function r(F){for(var L=new Map;F!==null;)F.key!==null?L.set(F.key,F):L.set(F.index,F),F=F.sibling;return L}function c(F,L){return F=vn(F,L),F.index=0,F.sibling=null,F}function m(F,L,P){return F.index=P,e?(P=F.alternate,P!==null?(P=P.index,P<L?(F.flags|=67108866,L):P):(F.flags|=67108866,L)):(F.flags|=1048576,L)}function b(F){return e&&F.alternate===null&&(F.flags|=67108866),F}function w(F,L,P,ae){return L===null||L.tag!==6?(L=Fo(P,F.mode,ae),L.return=F,L):(L=c(L,P),L.return=F,L)}function z(F,L,P,ae){var ke=P.type;return ke===E?se(F,L,P.props.children,ae,P.key):L!==null&&(L.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&Al(ke)===L.type)?(L=c(L,P.props),Xa(L,P),L.return=F,L):(L=Jr(P.type,P.key,P.props,null,F.mode,ae),Xa(L,P),L.return=F,L)}function Q(F,L,P,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==P.containerInfo||L.stateNode.implementation!==P.implementation?(L=Go(P,F.mode,ae),L.return=F,L):(L=c(L,P.children||[]),L.return=F,L)}function se(F,L,P,ae,ke){return L===null||L.tag!==7?(L=Sl(P,F.mode,ae,ke),L.return=F,L):(L=c(L,P),L.return=F,L)}function ie(F,L,P){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Fo(""+L,F.mode,P),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return P=Jr(L.type,L.key,L.props,null,F.mode,P),Xa(P,L),P.return=F,P;case B:return L=Go(L,F.mode,P),L.return=F,L;case fe:return L=Al(L),ie(F,L,P)}if(ce(L)||I(L))return L=Sl(L,F.mode,P,null),L.return=F,L;if(typeof L.then=="function")return ie(F,li(L),P);if(L.$$typeof===H)return ie(F,ei(F,L),P);ai(F,L)}return null}function X(F,L,P,ae){var ke=L!==null?L.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ke!==null?null:w(F,L,""+P,ae);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return P.key===ke?z(F,L,P,ae):null;case B:return P.key===ke?Q(F,L,P,ae):null;case fe:return P=Al(P),X(F,L,P,ae)}if(ce(P)||I(P))return ke!==null?null:se(F,L,P,ae,null);if(typeof P.then=="function")return X(F,L,li(P),ae);if(P.$$typeof===H)return X(F,L,ei(F,P),ae);ai(F,P)}return null}function J(F,L,P,ae,ke){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return F=F.get(P)||null,w(L,F,""+ae,ke);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case N:return F=F.get(ae.key===null?P:ae.key)||null,z(L,F,ae,ke);case B:return F=F.get(ae.key===null?P:ae.key)||null,Q(L,F,ae,ke);case fe:return ae=Al(ae),J(F,L,P,ae,ke)}if(ce(ae)||I(ae))return F=F.get(P)||null,se(L,F,ae,ke,null);if(typeof ae.then=="function")return J(F,L,P,li(ae),ke);if(ae.$$typeof===H)return J(F,L,P,ei(L,ae),ke);ai(L,ae)}return null}function we(F,L,P,ae){for(var ke=null,Xe=null,Te=L,He=L=0,Ve=null;Te!==null&&He<P.length;He++){Te.index>He?(Ve=Te,Te=null):Ve=Te.sibling;var Ze=X(F,Te,P[He],ae);if(Ze===null){Te===null&&(Te=Ve);break}e&&Te&&Ze.alternate===null&&s(F,Te),L=m(Ze,L,He),Xe===null?ke=Ze:Xe.sibling=Ze,Xe=Ze,Te=Ve}if(He===P.length)return l(F,Te),Pe&&jn(F,He),ke;if(Te===null){for(;He<P.length;He++)Te=ie(F,P[He],ae),Te!==null&&(L=m(Te,L,He),Xe===null?ke=Te:Xe.sibling=Te,Xe=Te);return Pe&&jn(F,He),ke}for(Te=r(Te);He<P.length;He++)Ve=J(Te,F,He,P[He],ae),Ve!==null&&(e&&Ve.alternate!==null&&Te.delete(Ve.key===null?He:Ve.key),L=m(Ve,L,He),Xe===null?ke=Ve:Xe.sibling=Ve,Xe=Ve);return e&&Te.forEach(function(hl){return s(F,hl)}),Pe&&jn(F,He),ke}function _e(F,L,P,ae){if(P==null)throw Error(o(151));for(var ke=null,Xe=null,Te=L,He=L=0,Ve=null,Ze=P.next();Te!==null&&!Ze.done;He++,Ze=P.next()){Te.index>He?(Ve=Te,Te=null):Ve=Te.sibling;var hl=X(F,Te,Ze.value,ae);if(hl===null){Te===null&&(Te=Ve);break}e&&Te&&hl.alternate===null&&s(F,Te),L=m(hl,L,He),Xe===null?ke=hl:Xe.sibling=hl,Xe=hl,Te=Ve}if(Ze.done)return l(F,Te),Pe&&jn(F,He),ke;if(Te===null){for(;!Ze.done;He++,Ze=P.next())Ze=ie(F,Ze.value,ae),Ze!==null&&(L=m(Ze,L,He),Xe===null?ke=Ze:Xe.sibling=Ze,Xe=Ze);return Pe&&jn(F,He),ke}for(Te=r(Te);!Ze.done;He++,Ze=P.next())Ze=J(Te,F,He,Ze.value,ae),Ze!==null&&(e&&Ze.alternate!==null&&Te.delete(Ze.key===null?He:Ze.key),L=m(Ze,L,He),Xe===null?ke=Ze:Xe.sibling=Ze,Xe=Ze);return e&&Te.forEach(function(Bb){return s(F,Bb)}),Pe&&jn(F,He),ke}function lt(F,L,P,ae){if(typeof P=="object"&&P!==null&&P.type===E&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case N:e:{for(var ke=P.key;L!==null;){if(L.key===ke){if(ke=P.type,ke===E){if(L.tag===7){l(F,L.sibling),ae=c(L,P.props.children),ae.return=F,F=ae;break e}}else if(L.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===fe&&Al(ke)===L.type){l(F,L.sibling),ae=c(L,P.props),Xa(ae,P),ae.return=F,F=ae;break e}l(F,L);break}else s(F,L);L=L.sibling}P.type===E?(ae=Sl(P.props.children,F.mode,ae,P.key),ae.return=F,F=ae):(ae=Jr(P.type,P.key,P.props,null,F.mode,ae),Xa(ae,P),ae.return=F,F=ae)}return b(F);case B:e:{for(ke=P.key;L!==null;){if(L.key===ke)if(L.tag===4&&L.stateNode.containerInfo===P.containerInfo&&L.stateNode.implementation===P.implementation){l(F,L.sibling),ae=c(L,P.children||[]),ae.return=F,F=ae;break e}else{l(F,L);break}else s(F,L);L=L.sibling}ae=Go(P,F.mode,ae),ae.return=F,F=ae}return b(F);case fe:return P=Al(P),lt(F,L,P,ae)}if(ce(P))return we(F,L,P,ae);if(I(P)){if(ke=I(P),typeof ke!="function")throw Error(o(150));return P=ke.call(P),_e(F,L,P,ae)}if(typeof P.then=="function")return lt(F,L,li(P),ae);if(P.$$typeof===H)return lt(F,L,ei(F,P),ae);ai(F,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,L!==null&&L.tag===6?(l(F,L.sibling),ae=c(L,P),ae.return=F,F=ae):(l(F,L),ae=Fo(P,F.mode,ae),ae.return=F,F=ae),b(F)):l(F,L)}return function(F,L,P,ae){try{Qa=0;var ke=lt(F,L,P,ae);return aa=null,ke}catch(Te){if(Te===la||Te===si)throw Te;var Xe=ps(29,Te,null,F.mode);return Xe.lanes=ae,Xe.return=F,Xe}finally{}}}var Dl=zm(!0),Lm=zm(!1),Zn=!1;function sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nc(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(e,s,l){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Je&2)!==0){var c=r.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s,s=Zr(e),bm(e,null,l),s}return Xr(e,r,s,l),Zr(e)}function Za(e,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var r=s.lanes;r&=e.pendingLanes,l|=r,s.lanes=l,As(e,l)}}function lc(e,s){var l=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var c=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?c=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?c=m=s:m=m.next=s}else c=m=s;l={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:m,shared:r.shared,callbacks:r.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=s:e.next=s,l.lastBaseUpdate=s}var ac=!1;function Ja(){if(ac){var e=na;if(e!==null)throw e}}function Ka(e,s,l,r){ac=!1;var c=e.updateQueue;Zn=!1;var m=c.firstBaseUpdate,b=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var z=w,Q=z.next;z.next=null,b===null?m=Q:b.next=Q,b=z;var se=e.alternate;se!==null&&(se=se.updateQueue,w=se.lastBaseUpdate,w!==b&&(w===null?se.firstBaseUpdate=Q:w.next=Q,se.lastBaseUpdate=z))}if(m!==null){var ie=c.baseState;b=0,se=Q=z=null,w=m;do{var X=w.lane&-536870913,J=X!==w.lane;if(J?(Ge&X)===X:(r&X)===X){X!==0&&X===sa&&(ac=!0),se!==null&&(se=se.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=e,_e=w;X=s;var lt=l;switch(_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ie=we.call(lt,ie,X);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,X=typeof we=="function"?we.call(lt,ie,X):we,X==null)break e;ie=y({},ie,X);break e;case 2:Zn=!0}}X=w.callback,X!==null&&(e.flags|=64,J&&(e.flags|=8192),J=c.callbacks,J===null?c.callbacks=[X]:J.push(X))}else J={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},se===null?(Q=se=J,z=ie):se=se.next=J,b|=X;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;J=w,w=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);se===null&&(z=ie),c.baseState=z,c.firstBaseUpdate=Q,c.lastBaseUpdate=se,m===null&&(c.shared.lanes=0),nl|=b,e.lanes=b,e.memoizedState=ie}}function Om(e,s){if(typeof e!="function")throw Error(o(191,e));e.call(s)}function Bm(e,s){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Om(l[e],s)}var ra=j(null),ri=j(0);function Um(e,s){e=Rn,v(ri,e),v(ra,s),Rn=e|s.baseLanes}function rc(){v(ri,Rn),v(ra,ra.current)}function ic(){Rn=ri.current,O(ra),O(ri)}var gs=j(null),Us=null;function Wn(e){var s=e.alternate;v(wt,wt.current&1),v(gs,e),Us===null&&(s===null||ra.current!==null||s.memoizedState!==null)&&(Us=e)}function oc(e){v(wt,wt.current),v(gs,e),Us===null&&(Us=e)}function Hm(e){e.tag===22?(v(wt,wt.current),v(gs,e),Us===null&&(Us=e)):el()}function el(){v(wt,wt.current),v(gs,gs.current)}function bs(e){O(gs),Us===e&&(Us=null),O(wt)}var wt=j(0);function ii(e){for(var s=e;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||fu(l)||xu(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sn=0,Ue=null,st=null,Rt=null,oi=!1,ia=!1,Rl=!1,ci=0,Wa=0,oa=null,Eg=0;function gt(){throw Error(o(321))}function cc(e,s){if(s===null)return!1;for(var l=0;l<s.length&&l<e.length;l++)if(!xs(e[l],s[l]))return!1;return!0}function uc(e,s,l,r,c,m){return Sn=m,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=e===null||e.memoizedState===null?N0:Tc,Rl=!1,m=l(r,c),Rl=!1,ia&&(m=$m(s,l,r,c)),qm(e),m}function qm(e){C.H=sr;var s=st!==null&&st.next!==null;if(Sn=0,Rt=st=Ue=null,oi=!1,Wa=0,oa=null,s)throw Error(o(300));e===null||Mt||(e=e.dependencies,e!==null&&Wr(e)&&(Mt=!0))}function $m(e,s,l,r){Ue=e;var c=0;do{if(ia&&(oa=null),Wa=0,ia=!1,25<=c)throw Error(o(301));if(c+=1,Rt=st=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}C.H=w0,m=s(l,r)}while(ia);return m}function Cg(){var e=C.H,s=e.useState()[0];return s=typeof s.then=="function"?er(s):s,e=e.useState()[0],(st!==null?st.memoizedState:null)!==e&&(Ue.flags|=1024),s}function dc(){var e=ci!==0;return ci=0,e}function mc(e,s,l){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~l}function hc(e){if(oi){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}oi=!1}Sn=0,Rt=st=Ue=null,ia=!1,Wa=ci=0,oa=null}function ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ue.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function St(){if(st===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var s=Rt===null?Ue.memoizedState:Rt.next;if(s!==null)Rt=s,st=e;else{if(e===null)throw Ue.alternate===null?Error(o(467)):Error(o(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Rt===null?Ue.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function ui(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function er(e){var s=Wa;return Wa+=1,oa===null&&(oa=[]),e=Dm(oa,e,s),s=Ue,(Rt===null?s.memoizedState:Rt.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?N0:Tc),e}function di(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return er(e);if(e.$$typeof===H)return It(e)}throw Error(o(438,String(e)))}function fc(e){var s=null,l=Ue.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var r=Ue.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ui(),Ue.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(e),r=0;r<e;r++)l[r]=G;return s.index++,l}function Tn(e,s){return typeof s=="function"?s(e):s}function mi(e){var s=St();return xc(s,st,e)}function xc(e,s,l){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=l;var c=e.baseQueue,m=r.pending;if(m!==null){if(c!==null){var b=c.next;c.next=m.next,m.next=b}s.baseQueue=c=m,r.pending=null}if(m=e.baseState,c===null)e.memoizedState=m;else{s=c.next;var w=b=null,z=null,Q=s,se=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(Ge&ie)===ie:(Sn&ie)===ie){var X=Q.revertLane;if(X===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===sa&&(se=!0);else if((Sn&X)===X){Q=Q.next,X===sa&&(se=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(w=z=ie,b=m):z=z.next=ie,Ue.lanes|=X,nl|=X;ie=Q.action,Rl&&l(m,ie),m=Q.hasEagerState?Q.eagerState:l(m,ie)}else X={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(w=z=X,b=m):z=z.next=X,Ue.lanes|=ie,nl|=ie;Q=Q.next}while(Q!==null&&Q!==s);if(z===null?b=m:z.next=w,!xs(m,e.memoizedState)&&(Mt=!0,se&&(l=na,l!==null)))throw l;e.memoizedState=m,e.baseState=b,e.baseQueue=z,r.lastRenderedState=m}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function pc(e){var s=St(),l=s.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var r=l.dispatch,c=l.pending,m=s.memoizedState;if(c!==null){l.pending=null;var b=c=c.next;do m=e(m,b.action),b=b.next;while(b!==c);xs(m,s.memoizedState)||(Mt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,r]}function Ym(e,s,l){var r=Ue,c=St(),m=Pe;if(m){if(l===void 0)throw Error(o(407));l=l()}else l=s();var b=!xs((st||c).memoizedState,l);if(b&&(c.memoizedState=l,Mt=!0),c=c.queue,yc(Vm.bind(null,r,c,e),[e]),c.getSnapshot!==s||b||Rt!==null&&Rt.memoizedState.tag&1){if(r.flags|=2048,ca(9,{destroy:void 0},Gm.bind(null,r,c,l,s),null),rt===null)throw Error(o(349));m||(Sn&127)!==0||Fm(r,s,l)}return l}function Fm(e,s,l){e.flags|=16384,e={getSnapshot:s,value:l},s=Ue.updateQueue,s===null?(s=ui(),Ue.updateQueue=s,s.stores=[e]):(l=s.stores,l===null?s.stores=[e]:l.push(e))}function Gm(e,s,l,r){s.value=l,s.getSnapshot=r,Pm(s)&&Im(e)}function Vm(e,s,l){return l(function(){Pm(s)&&Im(e)})}function Pm(e){var s=e.getSnapshot;e=e.value;try{var l=s();return!xs(e,l)}catch{return!0}}function Im(e){var s=wl(e,2);s!==null&&us(s,e,2)}function gc(e){var s=ts();if(typeof e=="function"){var l=e;if(e=l(),Rl){_t(!0);try{l()}finally{_t(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},s}function Qm(e,s,l,r){return e.baseState=l,xc(e,st,typeof r=="function"?r:Tn)}function Ag(e,s,l,r,c){if(xi(e))throw Error(o(485));if(e=s.action,e!==null){var m={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};C.T!==null?l(!0):m.isTransition=!1,r(m),l=s.pending,l===null?(m.next=s.pending=m,Xm(s,m)):(m.next=l.next,s.pending=l.next=m)}}function Xm(e,s){var l=s.action,r=s.payload,c=e.state;if(s.isTransition){var m=C.T,b={};C.T=b;try{var w=l(c,r),z=C.S;z!==null&&z(b,w),Zm(e,s,w)}catch(Q){bc(e,s,Q)}finally{m!==null&&b.types!==null&&(m.types=b.types),C.T=m}}else try{m=l(c,r),Zm(e,s,m)}catch(Q){bc(e,s,Q)}}function Zm(e,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){Jm(e,s,r)},function(r){return bc(e,s,r)}):Jm(e,s,l)}function Jm(e,s,l){s.status="fulfilled",s.value=l,Km(s),e.state=l,s=e.pending,s!==null&&(l=s.next,l===s?e.pending=null:(l=l.next,s.next=l,Xm(e,l)))}function bc(e,s,l){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=l,Km(s),s=s.next;while(s!==r)}e.action=null}function Km(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function Wm(e,s){return s}function e0(e,s){if(Pe){var l=rt.formState;if(l!==null){e:{var r=Ue;if(Pe){if(dt){t:{for(var c=dt,m=Bs;c.nodeType!==8;){if(!m){c=null;break t}if(c=Hs(c.nextSibling),c===null){c=null;break t}}m=c.data,c=m==="F!"||m==="F"?c:null}if(c){dt=Hs(c.nextSibling),r=c.data==="F!";break e}}Qn(r)}r=!1}r&&(s=l[0])}}return l=ts(),l.memoizedState=l.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:s},l.queue=r,l=y0.bind(null,Ue,r),r.dispatch=l,r=gc(!1),m=Sc.bind(null,Ue,!1,r.queue),r=ts(),c={state:s,dispatch:null,action:e,pending:null},r.queue=c,l=Ag.bind(null,Ue,c,m,l),c.dispatch=l,r.memoizedState=e,[s,l,!1]}function t0(e){var s=St();return s0(s,st,e)}function s0(e,s,l){if(s=xc(e,s,Wm)[0],e=mi(Tn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var r=er(s)}catch(b){throw b===la?si:b}else r=s;s=St();var c=s.queue,m=c.dispatch;return l!==s.memoizedState&&(Ue.flags|=2048,ca(9,{destroy:void 0},_g.bind(null,c,l),null)),[r,m,e]}function _g(e,s){e.action=s}function n0(e){var s=St(),l=st;if(l!==null)return s0(s,l,e);St(),s=s.memoizedState,l=St();var r=l.queue.dispatch;return l.memoizedState=e,[s,r,!1]}function ca(e,s,l,r){return e={tag:e,create:l,deps:r,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=ui(),Ue.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=e.next=e:(r=l.next,l.next=e,e.next=r,s.lastEffect=e),e}function l0(){return St().memoizedState}function hi(e,s,l,r){var c=ts();Ue.flags|=e,c.memoizedState=ca(1|s,{destroy:void 0},l,r===void 0?null:r)}function fi(e,s,l,r){var c=St();r=r===void 0?null:r;var m=c.memoizedState.inst;st!==null&&r!==null&&cc(r,st.memoizedState.deps)?c.memoizedState=ca(s,m,l,r):(Ue.flags|=e,c.memoizedState=ca(1|s,m,l,r))}function a0(e,s){hi(8390656,8,e,s)}function yc(e,s){fi(2048,8,e,s)}function Dg(e){Ue.flags|=4;var s=Ue.updateQueue;if(s===null)s=ui(),Ue.updateQueue=s,s.events=[e];else{var l=s.events;l===null?s.events=[e]:l.push(e)}}function r0(e){var s=St().memoizedState;return Dg({ref:s,nextImpl:e}),function(){if((Je&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function i0(e,s){return fi(4,2,e,s)}function o0(e,s){return fi(4,4,e,s)}function c0(e,s){if(typeof s=="function"){e=e();var l=s(e);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function u0(e,s,l){l=l!=null?l.concat([e]):null,fi(4,4,c0.bind(null,s,e),l)}function vc(){}function d0(e,s){var l=St();s=s===void 0?null:s;var r=l.memoizedState;return s!==null&&cc(s,r[1])?r[0]:(l.memoizedState=[e,s],e)}function m0(e,s){var l=St();s=s===void 0?null:s;var r=l.memoizedState;if(s!==null&&cc(s,r[1]))return r[0];if(r=e(),Rl){_t(!0);try{e()}finally{_t(!1)}}return l.memoizedState=[r,s],r}function jc(e,s,l){return l===void 0||(Sn&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=s:(e.memoizedState=l,e=hh(),Ue.lanes|=e,nl|=e,l)}function h0(e,s,l,r){return xs(l,s)?l:ra.current!==null?(e=jc(e,l,r),xs(e,s)||(Mt=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(Ge&261930)===0?(Mt=!0,e.memoizedState=l):(e=hh(),Ue.lanes|=e,nl|=e,s)}function f0(e,s,l,r,c){var m=K.p;K.p=m!==0&&8>m?m:8;var b=C.T,w={};C.T=w,Sc(e,!1,s,l);try{var z=c(),Q=C.S;if(Q!==null&&Q(w,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var se=kg(z,r);tr(e,s,se,js(e))}else tr(e,s,r,js(e))}catch(ie){tr(e,s,{then:function(){},status:"rejected",reason:ie},js())}finally{K.p=m,b!==null&&w.types!==null&&(b.types=w.types),C.T=b}}function Rg(){}function Nc(e,s,l,r){if(e.tag!==5)throw Error(o(476));var c=x0(e).queue;f0(e,c,s,ye,l===null?Rg:function(){return p0(e),l(r)})}function x0(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:ye},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:l},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function p0(e){var s=x0(e);s.next===null&&(s=e.alternate.memoizedState),tr(e,s.next.queue,{},js())}function wc(){return It(br)}function g0(){return St().memoizedState}function b0(){return St().memoizedState}function Mg(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var l=js();e=Jn(l);var r=Kn(s,e,l);r!==null&&(us(r,s,l),Za(r,s,l)),s={cache:Ko()},e.payload=s;return}s=s.return}}function zg(e,s,l){var r=js();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xi(e)?v0(s,l):(l=$o(e,s,l,r),l!==null&&(us(l,e,r),j0(l,s,r)))}function y0(e,s,l){var r=js();tr(e,s,l,r)}function tr(e,s,l,r){var c={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(xi(e))v0(s,c);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,w=m(b,l);if(c.hasEagerState=!0,c.eagerState=w,xs(w,b))return Xr(e,s,c,0),rt===null&&Qr(),!1}catch{}finally{}if(l=$o(e,s,c,r),l!==null)return us(l,e,r),j0(l,s,r),!0}return!1}function Sc(e,s,l,r){if(r={lane:2,revertLane:su(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xi(e)){if(s)throw Error(o(479))}else s=$o(e,l,r,2),s!==null&&us(s,e,2)}function xi(e){var s=e.alternate;return e===Ue||s!==null&&s===Ue}function v0(e,s){ia=oi=!0;var l=e.pending;l===null?s.next=s:(s.next=l.next,l.next=s),e.pending=s}function j0(e,s,l){if((l&4194048)!==0){var r=s.lanes;r&=e.pendingLanes,l|=r,s.lanes=l,As(e,l)}}var sr={readContext:It,use:di,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};sr.useEffectEvent=gt;var N0={readContext:It,use:di,useCallback:function(e,s){return ts().memoizedState=[e,s===void 0?null:s],e},useContext:It,useEffect:a0,useImperativeHandle:function(e,s,l){l=l!=null?l.concat([e]):null,hi(4194308,4,c0.bind(null,s,e),l)},useLayoutEffect:function(e,s){return hi(4194308,4,e,s)},useInsertionEffect:function(e,s){hi(4,2,e,s)},useMemo:function(e,s){var l=ts();s=s===void 0?null:s;var r=e();if(Rl){_t(!0);try{e()}finally{_t(!1)}}return l.memoizedState=[r,s],r},useReducer:function(e,s,l){var r=ts();if(l!==void 0){var c=l(s);if(Rl){_t(!0);try{l(s)}finally{_t(!1)}}}else c=s;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=zg.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var s=ts();return e={current:e},s.memoizedState=e},useState:function(e){e=gc(e);var s=e.queue,l=y0.bind(null,Ue,s);return s.dispatch=l,[e.memoizedState,l]},useDebugValue:vc,useDeferredValue:function(e,s){var l=ts();return jc(l,e,s)},useTransition:function(){var e=gc(!1);return e=f0.bind(null,Ue,e.queue,!0,!1),ts().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,l){var r=Ue,c=ts();if(Pe){if(l===void 0)throw Error(o(407));l=l()}else{if(l=s(),rt===null)throw Error(o(349));(Ge&127)!==0||Fm(r,s,l)}c.memoizedState=l;var m={value:l,getSnapshot:s};return c.queue=m,a0(Vm.bind(null,r,m,e),[e]),r.flags|=2048,ca(9,{destroy:void 0},Gm.bind(null,r,m,l,s),null),l},useId:function(){var e=ts(),s=rt.identifierPrefix;if(Pe){var l=nn,r=sn;l=(r&~(1<<32-Ie(r)-1)).toString(32)+l,s="_"+s+"R_"+l,l=ci++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Eg++,s="_"+s+"r_"+l.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:wc,useFormState:e0,useActionState:e0,useOptimistic:function(e){var s=ts();s.memoizedState=s.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Sc.bind(null,Ue,!0,l),l.dispatch=s,[e,s]},useMemoCache:fc,useCacheRefresh:function(){return ts().memoizedState=Mg.bind(null,Ue)},useEffectEvent:function(e){var s=ts(),l={impl:e};return s.memoizedState=l,function(){if((Je&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Tc={readContext:It,use:di,useCallback:d0,useContext:It,useEffect:yc,useImperativeHandle:u0,useInsertionEffect:i0,useLayoutEffect:o0,useMemo:m0,useReducer:mi,useRef:l0,useState:function(){return mi(Tn)},useDebugValue:vc,useDeferredValue:function(e,s){var l=St();return h0(l,st.memoizedState,e,s)},useTransition:function(){var e=mi(Tn)[0],s=St().memoizedState;return[typeof e=="boolean"?e:er(e),s]},useSyncExternalStore:Ym,useId:g0,useHostTransitionStatus:wc,useFormState:t0,useActionState:t0,useOptimistic:function(e,s){var l=St();return Qm(l,st,e,s)},useMemoCache:fc,useCacheRefresh:b0};Tc.useEffectEvent=r0;var w0={readContext:It,use:di,useCallback:d0,useContext:It,useEffect:yc,useImperativeHandle:u0,useInsertionEffect:i0,useLayoutEffect:o0,useMemo:m0,useReducer:pc,useRef:l0,useState:function(){return pc(Tn)},useDebugValue:vc,useDeferredValue:function(e,s){var l=St();return st===null?jc(l,e,s):h0(l,st.memoizedState,e,s)},useTransition:function(){var e=pc(Tn)[0],s=St().memoizedState;return[typeof e=="boolean"?e:er(e),s]},useSyncExternalStore:Ym,useId:g0,useHostTransitionStatus:wc,useFormState:n0,useActionState:n0,useOptimistic:function(e,s){var l=St();return st!==null?Qm(l,st,e,s):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:fc,useCacheRefresh:b0};w0.useEffectEvent=r0;function kc(e,s,l,r){s=e.memoizedState,l=l(r,s),l=l==null?s:y({},s,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ec={enqueueSetState:function(e,s,l){e=e._reactInternals;var r=js(),c=Jn(r);c.payload=s,l!=null&&(c.callback=l),s=Kn(e,c,r),s!==null&&(us(s,e,r),Za(s,e,r))},enqueueReplaceState:function(e,s,l){e=e._reactInternals;var r=js(),c=Jn(r);c.tag=1,c.payload=s,l!=null&&(c.callback=l),s=Kn(e,c,r),s!==null&&(us(s,e,r),Za(s,e,r))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var l=js(),r=Jn(l);r.tag=2,s!=null&&(r.callback=s),s=Kn(e,r,l),s!==null&&(us(s,e,l),Za(s,e,l))}};function S0(e,s,l,r,c,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,m,b):s.prototype&&s.prototype.isPureReactComponent?!Ya(l,r)||!Ya(c,m):!0}function T0(e,s,l,r){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,r),s.state!==e&&Ec.enqueueReplaceState(s,s.state,null)}function Ml(e,s){var l=s;if("ref"in s){l={};for(var r in s)r!=="ref"&&(l[r]=s[r])}if(e=e.defaultProps){l===s&&(l=y({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}function k0(e){Ir(e)}function E0(e){console.error(e)}function C0(e){Ir(e)}function pi(e,s){try{var l=e.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function A0(e,s,l){try{var r=e.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Cc(e,s,l){return l=Jn(l),l.tag=3,l.payload={element:null},l.callback=function(){pi(e,s)},l}function _0(e){return e=Jn(e),e.tag=3,e}function D0(e,s,l,r){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var m=r.value;e.payload=function(){return c(m)},e.callback=function(){A0(s,l,r)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){A0(s,l,r),typeof c!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function Lg(e,s,l,r,c){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=l.alternate,s!==null&&ta(s,l,c,!0),l=gs.current,l!==null){switch(l.tag){case 31:case 13:return Us===null?Ci():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=c,r===ni?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([r]):s.add(r),Wc(e,r,c)),!1;case 22:return l.flags|=65536,r===ni?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([r]):l.add(r)),Wc(e,r,c)),!1}throw Error(o(435,l.tag))}return Wc(e,r,c),Ci(),!1}if(Pe)return s=gs.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,r!==Io&&(e=Error(o(422),{cause:r}),Va(zs(e,l)))):(r!==Io&&(s=Error(o(423),{cause:r}),Va(zs(s,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=zs(r,l),c=Cc(e.stateNode,r,c),lc(e,c),bt!==4&&(bt=2)),!1;var m=Error(o(520),{cause:r});if(m=zs(m,l),ur===null?ur=[m]:ur.push(m),bt!==4&&(bt=2),s===null)return!0;r=zs(r,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=Cc(l.stateNode,r,e),lc(l,e),!1;case 1:if(s=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ll===null||!ll.has(m))))return l.flags|=65536,c&=-c,l.lanes|=c,c=_0(c),D0(c,e,l,r),lc(l,c),!1}l=l.return}while(l!==null);return!1}var Ac=Error(o(461)),Mt=!1;function Qt(e,s,l,r){s.child=e===null?Lm(s,null,l,r):Dl(s,e.child,l,r)}function R0(e,s,l,r,c){l=l.render;var m=s.ref;if("ref"in r){var b={};for(var w in r)w!=="ref"&&(b[w]=r[w])}else b=r;return El(s),r=uc(e,s,l,b,m,c),w=dc(),e!==null&&!Mt?(mc(e,s,c),kn(e,s,c)):(Pe&&w&&Vo(s),s.flags|=1,Qt(e,s,r,c),s.child)}function M0(e,s,l,r,c){if(e===null){var m=l.type;return typeof m=="function"&&!Yo(m)&&m.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=m,z0(e,s,m,r,c)):(e=Jr(l.type,null,r,s,s.mode,c),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!Bc(e,c)){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(b,r)&&e.ref===s.ref)return kn(e,s,c)}return s.flags|=1,e=vn(m,r),e.ref=s.ref,e.return=s,s.child=e}function z0(e,s,l,r,c){if(e!==null){var m=e.memoizedProps;if(Ya(m,r)&&e.ref===s.ref)if(Mt=!1,s.pendingProps=r=m,Bc(e,c))(e.flags&131072)!==0&&(Mt=!0);else return s.lanes=e.lanes,kn(e,s,c)}return _c(e,s,l,r,c)}function L0(e,s,l,r){var c=r.children,m=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(r=s.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~m}else r=0,s.child=null;return O0(e,s,m,l,r)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&ti(s,m!==null?m.cachePool:null),m!==null?Um(s,m):rc(),Hm(s);else return r=s.lanes=536870912,O0(e,s,m!==null?m.baseLanes|l:l,l,r)}else m!==null?(ti(s,m.cachePool),Um(s,m),el(),s.memoizedState=null):(e!==null&&ti(s,null),rc(),el());return Qt(e,s,c,l),s.child}function nr(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function O0(e,s,l,r,c){var m=ec();return m=m===null?null:{parent:Dt._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},e!==null&&ti(s,null),rc(),Hm(s),e!==null&&ta(e,s,r,!0),s.childLanes=c,null}function gi(e,s){return s=yi({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function B0(e,s,l){return Dl(s,e.child,null,l),e=gi(s,s.pendingProps),e.flags|=2,bs(s),s.memoizedState=null,e}function Og(e,s,l){var r=s.pendingProps,c=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(Pe){if(r.mode==="hidden")return e=gi(s,r),s.lanes=536870912,nr(null,e);if(oc(s),(e=dt)?(e=Xh(e,Bs),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Pn!==null?{id:sn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},l=vm(e),l.return=s,s.child=l,Pt=s,dt=null)):e=null,e===null)throw Qn(s);return s.lanes=536870912,null}return gi(s,r)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(oc(s),c)if(s.flags&256)s.flags&=-257,s=B0(e,s,l);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(o(558));else if(Mt||ta(e,s,l,!1),c=(l&e.childLanes)!==0,Mt||c){if(r=rt,r!==null&&(b=bl(r,l),b!==0&&b!==m.retryLane))throw m.retryLane=b,wl(e,b),us(r,e,b),Ac;Ci(),s=B0(e,s,l)}else e=m.treeContext,dt=Hs(b.nextSibling),Pt=s,Pe=!0,In=null,Bs=!1,e!==null&&wm(s,e),s=gi(s,r),s.flags|=4096;return s}return e=vn(e.child,{mode:r.mode,children:r.children}),e.ref=s.ref,s.child=e,e.return=s,e}function bi(e,s){var l=s.ref;if(l===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(s.flags|=4194816)}}function _c(e,s,l,r,c){return El(s),l=uc(e,s,l,r,void 0,c),r=dc(),e!==null&&!Mt?(mc(e,s,c),kn(e,s,c)):(Pe&&r&&Vo(s),s.flags|=1,Qt(e,s,l,c),s.child)}function U0(e,s,l,r,c,m){return El(s),s.updateQueue=null,l=$m(s,r,l,c),qm(e),r=dc(),e!==null&&!Mt?(mc(e,s,m),kn(e,s,m)):(Pe&&r&&Vo(s),s.flags|=1,Qt(e,s,l,m),s.child)}function H0(e,s,l,r,c){if(El(s),s.stateNode===null){var m=Jl,b=l.contextType;typeof b=="object"&&b!==null&&(m=It(b)),m=new l(r,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ec,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=r,m.state=s.memoizedState,m.refs={},sc(s),b=l.contextType,m.context=typeof b=="object"&&b!==null?It(b):Jl,m.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(kc(s,l,b,r),m.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Ec.enqueueReplaceState(m,m.state,null),Ka(s,r,m,c),Ja(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(e===null){m=s.stateNode;var w=s.memoizedProps,z=Ml(l,w);m.props=z;var Q=m.context,se=l.contextType;b=Jl,typeof se=="object"&&se!==null&&(b=It(se));var ie=l.getDerivedStateFromProps;se=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||Q!==b)&&T0(s,m,r,b),Zn=!1;var X=s.memoizedState;m.state=X,Ka(s,r,m,c),Ja(),Q=s.memoizedState,w||X!==Q||Zn?(typeof ie=="function"&&(kc(s,l,ie,r),Q=s.memoizedState),(z=Zn||S0(s,l,z,r,X,Q,b))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=Q),m.props=r,m.state=Q,m.context=b,r=z):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{m=s.stateNode,nc(e,s),b=s.memoizedProps,se=Ml(l,b),m.props=se,ie=s.pendingProps,X=m.context,Q=l.contextType,z=Jl,typeof Q=="object"&&Q!==null&&(z=It(Q)),w=l.getDerivedStateFromProps,(Q=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ie||X!==z)&&T0(s,m,r,z),Zn=!1,X=s.memoizedState,m.state=X,Ka(s,r,m,c),Ja();var J=s.memoizedState;b!==ie||X!==J||Zn||e!==null&&e.dependencies!==null&&Wr(e.dependencies)?(typeof w=="function"&&(kc(s,l,w,r),J=s.memoizedState),(se=Zn||S0(s,l,se,r,X,J,z)||e!==null&&e.dependencies!==null&&Wr(e.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,J,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,J,z)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=J),m.props=r,m.state=J,m.context=z,r=se):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(s.flags|=1024),r=!1)}return m=r,bi(e,s),r=(s.flags&128)!==0,m||r?(m=s.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&r?(s.child=Dl(s,e.child,null,c),s.child=Dl(s,null,l,c)):Qt(e,s,l,c),s.memoizedState=m.state,e=s.child):e=kn(e,s,c),e}function q0(e,s,l,r){return Tl(),s.flags|=256,Qt(e,s,l,r),s.child}var Dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rc(e){return{baseLanes:e,cachePool:Am()}}function Mc(e,s,l){return e=e!==null?e.childLanes&~l:0,s&&(e|=vs),e}function $0(e,s,l){var r=s.pendingProps,c=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(wt.current&2)!==0),b&&(c=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,e===null){if(Pe){if(c?Wn(s):el(),(e=dt)?(e=Xh(e,Bs),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Pn!==null?{id:sn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},l=vm(e),l.return=s,s.child=l,Pt=s,dt=null)):e=null,e===null)throw Qn(s);return xu(e)?s.lanes=32:s.lanes=536870912,null}var w=r.children;return r=r.fallback,c?(el(),c=s.mode,w=yi({mode:"hidden",children:w},c),r=Sl(r,c,l,null),w.return=s,r.return=s,w.sibling=r,s.child=w,r=s.child,r.memoizedState=Rc(l),r.childLanes=Mc(e,b,l),s.memoizedState=Dc,nr(null,r)):(Wn(s),zc(s,w))}var z=e.memoizedState;if(z!==null&&(w=z.dehydrated,w!==null)){if(m)s.flags&256?(Wn(s),s.flags&=-257,s=Lc(e,s,l)):s.memoizedState!==null?(el(),s.child=e.child,s.flags|=128,s=null):(el(),w=r.fallback,c=s.mode,r=yi({mode:"visible",children:r.children},c),w=Sl(w,c,l,null),w.flags|=2,r.return=s,w.return=s,r.sibling=w,s.child=r,Dl(s,e.child,null,l),r=s.child,r.memoizedState=Rc(l),r.childLanes=Mc(e,b,l),s.memoizedState=Dc,s=nr(null,r));else if(Wn(s),xu(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Q=b.dgst;b=Q,r=Error(o(419)),r.stack="",r.digest=b,Va({value:r,source:null,stack:null}),s=Lc(e,s,l)}else if(Mt||ta(e,s,l,!1),b=(l&e.childLanes)!==0,Mt||b){if(b=rt,b!==null&&(r=bl(b,l),r!==0&&r!==z.retryLane))throw z.retryLane=r,wl(e,r),us(b,e,r),Ac;fu(w)||Ci(),s=Lc(e,s,l)}else fu(w)?(s.flags|=192,s.child=e.child,s=null):(e=z.treeContext,dt=Hs(w.nextSibling),Pt=s,Pe=!0,In=null,Bs=!1,e!==null&&wm(s,e),s=zc(s,r.children),s.flags|=4096);return s}return c?(el(),w=r.fallback,c=s.mode,z=e.child,Q=z.sibling,r=vn(z,{mode:"hidden",children:r.children}),r.subtreeFlags=z.subtreeFlags&65011712,Q!==null?w=vn(Q,w):(w=Sl(w,c,l,null),w.flags|=2),w.return=s,r.return=s,r.sibling=w,s.child=r,nr(null,r),r=s.child,w=e.child.memoizedState,w===null?w=Rc(l):(c=w.cachePool,c!==null?(z=Dt._currentValue,c=c.parent!==z?{parent:z,pool:z}:c):c=Am(),w={baseLanes:w.baseLanes|l,cachePool:c}),r.memoizedState=w,r.childLanes=Mc(e,b,l),s.memoizedState=Dc,nr(e.child,r)):(Wn(s),l=e.child,e=l.sibling,l=vn(l,{mode:"visible",children:r.children}),l.return=s,l.sibling=null,e!==null&&(b=s.deletions,b===null?(s.deletions=[e],s.flags|=16):b.push(e)),s.child=l,s.memoizedState=null,l)}function zc(e,s){return s=yi({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function yi(e,s){return e=ps(22,e,null,s),e.lanes=0,e}function Lc(e,s,l){return Dl(s,e.child,null,l),e=zc(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Y0(e,s,l){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s),Zo(e.return,s,l)}function Oc(e,s,l,r,c,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:c,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=r,b.tail=l,b.tailMode=c,b.treeForkCount=m)}function F0(e,s,l){var r=s.pendingProps,c=r.revealOrder,m=r.tail;r=r.children;var b=wt.current,w=(b&2)!==0;if(w?(b=b&1|2,s.flags|=128):b&=1,v(wt,b),Qt(e,s,r,l),r=Pe?Ga:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Y0(e,l,s);else if(e.tag===19)Y0(e,l,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(l=s.child,c=null;l!==null;)e=l.alternate,e!==null&&ii(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=s.child,s.child=null):(c=l.sibling,l.sibling=null),Oc(s,!1,c,l,m,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,c=s.child,s.child=null;c!==null;){if(e=c.alternate,e!==null&&ii(e)===null){s.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}Oc(s,!0,l,null,m,r);break;case"together":Oc(s,!1,null,null,void 0,r);break;default:s.memoizedState=null}return s.child}function kn(e,s,l){if(e!==null&&(s.dependencies=e.dependencies),nl|=s.lanes,(l&s.childLanes)===0)if(e!==null){if(ta(e,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(o(153));if(s.child!==null){for(e=s.child,l=vn(e,e.pendingProps),s.child=l,l.return=s;e.sibling!==null;)e=e.sibling,l=l.sibling=vn(e,e.pendingProps),l.return=s;l.sibling=null}return s.child}function Bc(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&Wr(e)))}function Bg(e,s,l){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),Xn(s,Dt,e.memoizedState.cache),Tl();break;case 27:case 5:yt(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:Xn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,oc(s),null;break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(Wn(s),s.flags|=128,null):(l&s.child.childLanes)!==0?$0(e,s,l):(Wn(s),e=kn(e,s,l),e!==null?e.sibling:null);Wn(s);break;case 19:var c=(e.flags&128)!==0;if(r=(l&s.childLanes)!==0,r||(ta(e,s,l,!1),r=(l&s.childLanes)!==0),c){if(r)return F0(e,s,l);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),v(wt,wt.current),r)break;return null;case 22:return s.lanes=0,L0(e,s,l,s.pendingProps);case 24:Xn(s,Dt,e.memoizedState.cache)}return kn(e,s,l)}function G0(e,s,l){if(e!==null)if(e.memoizedProps!==s.pendingProps)Mt=!0;else{if(!Bc(e,l)&&(s.flags&128)===0)return Mt=!1,Bg(e,s,l);Mt=(e.flags&131072)!==0}else Mt=!1,Pe&&(s.flags&1048576)!==0&&Nm(s,Ga,s.index);switch(s.lanes=0,s.tag){case 16:e:{var r=s.pendingProps;if(e=Al(s.elementType),s.type=e,typeof e=="function")Yo(e)?(r=Ml(e,r),s.tag=1,s=H0(null,s,e,r,l)):(s.tag=0,s=_c(null,s,e,r,l));else{if(e!=null){var c=e.$$typeof;if(c===ne){s.tag=11,s=R0(null,s,e,r,l);break e}else if(c===q){s.tag=14,s=M0(null,s,e,r,l);break e}}throw s=re(e)||e,Error(o(306,s,""))}}return s;case 0:return _c(e,s,s.type,s.pendingProps,l);case 1:return r=s.type,c=Ml(r,s.pendingProps),H0(e,s,r,c,l);case 3:e:{if(De(s,s.stateNode.containerInfo),e===null)throw Error(o(387));r=s.pendingProps;var m=s.memoizedState;c=m.element,nc(e,s),Ka(s,r,null,l);var b=s.memoizedState;if(r=b.cache,Xn(s,Dt,r),r!==m.cache&&Jo(s,[Dt],l,!0),Ja(),r=b.element,m.isDehydrated)if(m={element:r,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=q0(e,s,r,l);break e}else if(r!==c){c=zs(Error(o(424)),s),Va(c),s=q0(e,s,r,l);break e}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dt=Hs(e.firstChild),Pt=s,Pe=!0,In=null,Bs=!0,l=Lm(s,null,r,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Tl(),r===c){s=kn(e,s,l);break e}Qt(e,s,r,l)}s=s.child}return s;case 26:return bi(e,s),e===null?(l=tf(s.type,null,s.pendingProps,null))?s.memoizedState=l:Pe||(l=s.type,e=s.pendingProps,r=Li(he.current).createElement(l),r[Nt]=s,r[Yt]=e,Xt(r,l,e),Z(r),s.stateNode=r):s.memoizedState=tf(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return yt(s),e===null&&Pe&&(r=s.stateNode=Kh(s.type,s.pendingProps,he.current),Pt=s,Bs=!0,c=dt,ol(s.type)?(pu=c,dt=Hs(r.firstChild)):dt=c),Qt(e,s,s.pendingProps.children,l),bi(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&Pe&&((c=r=dt)&&(r=hb(r,s.type,s.pendingProps,Bs),r!==null?(s.stateNode=r,Pt=s,dt=Hs(r.firstChild),Bs=!1,c=!0):c=!1),c||Qn(s)),yt(s),c=s.type,m=s.pendingProps,b=e!==null?e.memoizedProps:null,r=m.children,du(c,m)?r=null:b!==null&&du(c,b)&&(s.flags|=32),s.memoizedState!==null&&(c=uc(e,s,Cg,null,null,l),br._currentValue=c),bi(e,s),Qt(e,s,r,l),s.child;case 6:return e===null&&Pe&&((e=l=dt)&&(l=fb(l,s.pendingProps,Bs),l!==null?(s.stateNode=l,Pt=s,dt=null,e=!0):e=!1),e||Qn(s)),null;case 13:return $0(e,s,l);case 4:return De(s,s.stateNode.containerInfo),r=s.pendingProps,e===null?s.child=Dl(s,null,r,l):Qt(e,s,r,l),s.child;case 11:return R0(e,s,s.type,s.pendingProps,l);case 7:return Qt(e,s,s.pendingProps,l),s.child;case 8:return Qt(e,s,s.pendingProps.children,l),s.child;case 12:return Qt(e,s,s.pendingProps.children,l),s.child;case 10:return r=s.pendingProps,Xn(s,s.type,r.value),Qt(e,s,r.children,l),s.child;case 9:return c=s.type._context,r=s.pendingProps.children,El(s),c=It(c),r=r(c),s.flags|=1,Qt(e,s,r,l),s.child;case 14:return M0(e,s,s.type,s.pendingProps,l);case 15:return z0(e,s,s.type,s.pendingProps,l);case 19:return F0(e,s,l);case 31:return Og(e,s,l);case 22:return L0(e,s,l,s.pendingProps);case 24:return El(s),r=It(Dt),e===null?(c=ec(),c===null&&(c=rt,m=Ko(),c.pooledCache=m,m.refCount++,m!==null&&(c.pooledCacheLanes|=l),c=m),s.memoizedState={parent:r,cache:c},sc(s),Xn(s,Dt,c)):((e.lanes&l)!==0&&(nc(e,s),Ka(s,null,null,l),Ja()),c=e.memoizedState,m=s.memoizedState,c.parent!==r?(c={parent:r,cache:r},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),Xn(s,Dt,r)):(r=m.cache,Xn(s,Dt,r),r!==c.cache&&Jo(s,[Dt],l,!0))),Qt(e,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function En(e){e.flags|=4}function Uc(e,s,l,r,c){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(gh())e.flags|=8192;else throw _l=ni,tc}else e.flags&=-16777217}function V0(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!rf(s))if(gh())e.flags|=8192;else throw _l=ni,tc}function vi(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?$l():536870912,e.lanes|=s,ha|=s)}function lr(e,s){if(!Pe)switch(e.tailMode){case"hidden":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mt(e){var s=e.alternate!==null&&e.alternate.child===e.child,l=0,r=0;if(s)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=l,s}function Ug(e,s,l){var r=s.pendingProps;switch(Po(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return l=s.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),wn(Dt),Ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ea(s)?En(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qo())),mt(s),null;case 26:var c=s.type,m=s.memoizedState;return e===null?(En(s),m!==null?(mt(s),V0(s,m)):(mt(s),Uc(s,c,null,r,l))):m?m!==e.memoizedState?(En(s),mt(s),V0(s,m)):(mt(s),s.flags&=-16777217):(e=e.memoizedProps,e!==r&&En(s),mt(s),Uc(s,c,e,r,l)),null;case 27:if(vt(s),l=he.current,c=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==r&&En(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return mt(s),null}e=Y.current,ea(s)?Sm(s):(e=Kh(c,r,l),s.stateNode=e,En(s))}return mt(s),null;case 5:if(vt(s),c=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==r&&En(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return mt(s),null}if(m=Y.current,ea(s))Sm(s);else{var b=Li(he.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof r.is=="string"?b.createElement("select",{is:r.is}):b.createElement("select"),r.multiple?m.multiple=!0:r.size&&(m.size=r.size);break;default:m=typeof r.is=="string"?b.createElement(c,{is:r.is}):b.createElement(c)}}m[Nt]=s,m[Yt]=r;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(Xt(m,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&En(s)}}return mt(s),Uc(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,l),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==r&&En(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(o(166));if(e=he.current,ea(s)){if(e=s.stateNode,l=s.memoizedProps,r=null,c=Pt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[Nt]=s,e=!!(e.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||$h(e.nodeValue,l)),e||Qn(s,!0)}else e=Li(e).createTextNode(r),e[Nt]=s,s.stateNode=e}return mt(s),null;case 31:if(l=s.memoizedState,e===null||e.memoizedState!==null){if(r=ea(s),l!==null){if(e===null){if(!r)throw Error(o(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Nt]=s}else Tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),e=!1}else l=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return s.flags&256?(bs(s),s):(bs(s),null);if((s.flags&128)!==0)throw Error(o(558))}return mt(s),null;case 13:if(r=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ea(s),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Nt]=s}else Tl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),c=!1}else c=Qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return s.flags&256?(bs(s),s):(bs(s),null)}return bs(s),(s.flags&128)!==0?(s.lanes=l,s):(l=r!==null,e=e!==null&&e.memoizedState!==null,l&&(r=s.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),m=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==c&&(r.flags|=2048)),l!==e&&l&&(s.child.flags|=8192),vi(s,s.updateQueue),mt(s),null);case 4:return Ae(),e===null&&ru(s.stateNode.containerInfo),mt(s),null;case 10:return wn(s.type),mt(s),null;case 19:if(O(wt),r=s.memoizedState,r===null)return mt(s),null;if(c=(s.flags&128)!==0,m=r.rendering,m===null)if(c)lr(r,!1);else{if(bt!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=ii(e),m!==null){for(s.flags|=128,lr(r,!1),e=m.updateQueue,s.updateQueue=e,vi(s,e),s.subtreeFlags=0,e=l,l=s.child;l!==null;)ym(l,e),l=l.sibling;return v(wt,wt.current&1|2),Pe&&jn(s,r.treeForkCount),s.child}e=e.sibling}r.tail!==null&&Ct()>Ti&&(s.flags|=128,c=!0,lr(r,!1),s.lanes=4194304)}else{if(!c)if(e=ii(m),e!==null){if(s.flags|=128,c=!0,e=e.updateQueue,s.updateQueue=e,vi(s,e),lr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!m.alternate&&!Pe)return mt(s),null}else 2*Ct()-r.renderingStartTime>Ti&&l!==536870912&&(s.flags|=128,c=!0,lr(r,!1),s.lanes=4194304);r.isBackwards?(m.sibling=s.child,s.child=m):(e=r.last,e!==null?e.sibling=m:s.child=m,r.last=m)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ct(),e.sibling=null,l=wt.current,v(wt,c?l&1|2:l&1),Pe&&jn(s,r.treeForkCount),e):(mt(s),null);case 22:case 23:return bs(s),ic(),r=s.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?(l&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),l=s.updateQueue,l!==null&&vi(s,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(s.flags|=2048),e!==null&&O(Cl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),wn(Dt),mt(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function Hg(e,s){switch(Po(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return wn(Dt),Ae(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return vt(s),null;case 31:if(s.memoizedState!==null){if(bs(s),s.alternate===null)throw Error(o(340));Tl()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(bs(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Tl()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return O(wt),null;case 4:return Ae(),null;case 10:return wn(s.type),null;case 22:case 23:return bs(s),ic(),e!==null&&O(Cl),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return wn(Dt),null;case 25:return null;default:return null}}function P0(e,s){switch(Po(s),s.tag){case 3:wn(Dt),Ae();break;case 26:case 27:case 5:vt(s);break;case 4:Ae();break;case 31:s.memoizedState!==null&&bs(s);break;case 13:bs(s);break;case 19:O(wt);break;case 10:wn(s.type);break;case 22:case 23:bs(s),ic(),e!==null&&O(Cl);break;case 24:wn(Dt)}}function ar(e,s){try{var l=s.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var c=r.next;l=c;do{if((l.tag&e)===e){r=void 0;var m=l.create,b=l.inst;r=m(),b.destroy=r}l=l.next}while(l!==c)}}catch(w){tt(s,s.return,w)}}function tl(e,s,l){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var m=c.next;r=m;do{if((r.tag&e)===e){var b=r.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,c=s;var z=l,Q=w;try{Q()}catch(se){tt(c,z,se)}}}r=r.next}while(r!==m)}}catch(se){tt(s,s.return,se)}}function I0(e){var s=e.updateQueue;if(s!==null){var l=e.stateNode;try{Bm(s,l)}catch(r){tt(e,e.return,r)}}}function Q0(e,s,l){l.props=Ml(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(r){tt(e,s,r)}}function rr(e,s){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof l=="function"?e.refCleanup=l(r):l.current=r}}catch(c){tt(e,s,c)}}function ln(e,s){var l=e.ref,r=e.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(c){tt(e,s,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){tt(e,s,c)}else l.current=null}function X0(e){var s=e.type,l=e.memoizedProps,r=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(c){tt(e,e.return,c)}}function Hc(e,s,l){try{var r=e.stateNode;ib(r,e.type,l,s),r[Yt]=s}catch(c){tt(e,e.return,c)}}function Z0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ol(e.type)||e.tag===4}function qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ol(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $c(e,s,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(e),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=bn));else if(r!==4&&(r===27&&ol(e.type)&&(l=e.stateNode,s=null),e=e.child,e!==null))for($c(e,s,l),e=e.sibling;e!==null;)$c(e,s,l),e=e.sibling}function ji(e,s,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,s?l.insertBefore(e,s):l.appendChild(e);else if(r!==4&&(r===27&&ol(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ji(e,s,l),e=e.sibling;e!==null;)ji(e,s,l),e=e.sibling}function J0(e){var s=e.stateNode,l=e.memoizedProps;try{for(var r=e.type,c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Xt(s,r,l),s[Nt]=e,s[Yt]=l}catch(m){tt(e,e.return,m)}}var Cn=!1,zt=!1,Yc=!1,K0=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function qg(e,s){if(e=e.containerInfo,cu=Yi,e=um(e),Lo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var c=r.anchorOffset,m=r.focusNode;r=r.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var b=0,w=-1,z=-1,Q=0,se=0,ie=e,X=null;t:for(;;){for(var J;ie!==l||c!==0&&ie.nodeType!==3||(w=b+c),ie!==m||r!==0&&ie.nodeType!==3||(z=b+r),ie.nodeType===3&&(b+=ie.nodeValue.length),(J=ie.firstChild)!==null;)X=ie,ie=J;for(;;){if(ie===e)break t;if(X===l&&++Q===c&&(w=b),X===m&&++se===r&&(z=b),(J=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=J}l=w===-1||z===-1?null:{start:w,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(uu={focusedElem:e,selectionRange:l},Yi=!1,Gt=s;Gt!==null;)if(s=Gt,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Gt=e;else for(;Gt!==null;){switch(s=Gt,m=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)c=e[l],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=s,c=m.memoizedProps,m=m.memoizedState,r=l.stateNode;try{var we=Ml(l.type,c);e=r.getSnapshotBeforeUpdate(we,m),r.__reactInternalSnapshotBeforeUpdate=e}catch(_e){tt(l,l.return,_e)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,l=e.nodeType,l===9)hu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=s.sibling,e!==null){e.return=s.return,Gt=e;break}Gt=s.return}}function W0(e,s,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:_n(e,l),r&4&&ar(5,l);break;case 1:if(_n(e,l),r&4)if(e=l.stateNode,s===null)try{e.componentDidMount()}catch(b){tt(l,l.return,b)}else{var c=Ml(l.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(c,s,e.__reactInternalSnapshotBeforeUpdate)}catch(b){tt(l,l.return,b)}}r&64&&I0(l),r&512&&rr(l,l.return);break;case 3:if(_n(e,l),r&64&&(e=l.updateQueue,e!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Bm(e,s)}catch(b){tt(l,l.return,b)}}break;case 27:s===null&&r&4&&J0(l);case 26:case 5:_n(e,l),s===null&&r&4&&X0(l),r&512&&rr(l,l.return);break;case 12:_n(e,l);break;case 31:_n(e,l),r&4&&sh(e,l);break;case 13:_n(e,l),r&4&&nh(e,l),r&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Xg.bind(null,l),xb(e,l))));break;case 22:if(r=l.memoizedState!==null||Cn,!r){s=s!==null&&s.memoizedState!==null||zt,c=Cn;var m=zt;Cn=r,(zt=s)&&!m?Dn(e,l,(l.subtreeFlags&8772)!==0):_n(e,l),Cn=c,zt=m}break;case 30:break;default:_n(e,l)}}function eh(e){var s=e.alternate;s!==null&&(e.alternate=null,eh(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&te(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,rs=!1;function An(e,s,l){for(l=l.child;l!==null;)th(e,s,l),l=l.sibling}function th(e,s,l){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(At,l)}catch{}switch(l.tag){case 26:zt||ln(l,s),An(e,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:zt||ln(l,s);var r=xt,c=rs;ol(l.type)&&(xt=l.stateNode,rs=!1),An(e,s,l),xr(l.stateNode),xt=r,rs=c;break;case 5:zt||ln(l,s);case 6:if(r=xt,c=rs,xt=null,An(e,s,l),xt=r,rs=c,xt!==null)if(rs)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(l.stateNode)}catch(m){tt(l,s,m)}else try{xt.removeChild(l.stateNode)}catch(m){tt(l,s,m)}break;case 18:xt!==null&&(rs?(e=xt,Ih(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ja(e)):Ih(xt,l.stateNode));break;case 4:r=xt,c=rs,xt=l.stateNode.containerInfo,rs=!0,An(e,s,l),xt=r,rs=c;break;case 0:case 11:case 14:case 15:tl(2,l,s),zt||tl(4,l,s),An(e,s,l);break;case 1:zt||(ln(l,s),r=l.stateNode,typeof r.componentWillUnmount=="function"&&Q0(l,s,r)),An(e,s,l);break;case 21:An(e,s,l);break;case 22:zt=(r=zt)||l.memoizedState!==null,An(e,s,l),zt=r;break;default:An(e,s,l)}}function sh(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(l){tt(s,s.return,l)}}}function nh(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(l){tt(s,s.return,l)}}function $g(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new K0),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new K0),s;default:throw Error(o(435,e.tag))}}function Ni(e,s){var l=$g(e);s.forEach(function(r){if(!l.has(r)){l.add(r);var c=Zg.bind(null,e,r);r.then(c,c)}})}function is(e,s){var l=s.deletions;if(l!==null)for(var r=0;r<l.length;r++){var c=l[r],m=e,b=s,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ol(w.type)){xt=w.stateNode,rs=!1;break e}break;case 5:xt=w.stateNode,rs=!1;break e;case 3:case 4:xt=w.stateNode.containerInfo,rs=!0;break e}w=w.return}if(xt===null)throw Error(o(160));th(m,b,c),xt=null,rs=!1,m=c.alternate,m!==null&&(m.return=null),c.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)lh(s,e),s=s.sibling}var Vs=null;function lh(e,s){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:is(s,e),os(e),r&4&&(tl(3,e,e.return),ar(3,e),tl(5,e,e.return));break;case 1:is(s,e),os(e),r&512&&(zt||l===null||ln(l,l.return)),r&64&&Cn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var c=Vs;if(is(s,e),os(e),r&512&&(zt||l===null||ln(l,l.return)),r&4){var m=l!==null?l.memoizedState:null;if(r=e.memoizedState,l===null)if(r===null)if(e.stateNode===null){e:{r=e.type,l=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":m=c.getElementsByTagName("title")[0],(!m||m[ue]||m[Nt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=c.createElement(r),c.head.insertBefore(m,c.querySelector("head > title"))),Xt(m,r,l),m[Nt]=e,Z(m),r=m;break e;case"link":var b=lf("link","href",c).get(r+(l.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(w,1);break t}}m=c.createElement(r),Xt(m,r,l),c.head.appendChild(m);break;case"meta":if(b=lf("meta","content",c).get(r+(l.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(w,1);break t}}m=c.createElement(r),Xt(m,r,l),c.head.appendChild(m);break;default:throw Error(o(468,r))}m[Nt]=e,Z(m),r=m}e.stateNode=r}else af(c,e.type,e.stateNode);else e.stateNode=nf(c,r,e.memoizedProps);else m!==r?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,r===null?af(c,e.type,e.stateNode):nf(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Hc(e,e.memoizedProps,l.memoizedProps)}break;case 27:is(s,e),os(e),r&512&&(zt||l===null||ln(l,l.return)),l!==null&&r&4&&Hc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(is(s,e),os(e),r&512&&(zt||l===null||ln(l,l.return)),e.flags&32){c=e.stateNode;try{Gl(c,"")}catch(we){tt(e,e.return,we)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Hc(e,c,l!==null?l.memoizedProps:c)),r&1024&&(Yc=!0);break;case 6:if(is(s,e),os(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,l=e.stateNode;try{l.nodeValue=r}catch(we){tt(e,e.return,we)}}break;case 3:if(Ui=null,c=Vs,Vs=Oi(s.containerInfo),is(s,e),Vs=c,os(e),r&4&&l!==null&&l.memoizedState.isDehydrated)try{ja(s.containerInfo)}catch(we){tt(e,e.return,we)}Yc&&(Yc=!1,ah(e));break;case 4:r=Vs,Vs=Oi(e.stateNode.containerInfo),is(s,e),os(e),Vs=r;break;case 12:is(s,e),os(e);break;case 31:is(s,e),os(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ni(e,r)));break;case 13:is(s,e),os(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Si=Ct()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ni(e,r)));break;case 22:c=e.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,Q=Cn,se=zt;if(Cn=Q||c,zt=se||z,is(s,e),zt=se,Cn=Q,os(e),r&8192)e:for(s=e.stateNode,s._visibility=c?s._visibility&-2:s._visibility|1,c&&(l===null||z||Cn||zt||zl(e)),l=null,s=e;;){if(s.tag===5||s.tag===26){if(l===null){z=l=s;try{if(m=z.stateNode,c)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=z.stateNode;var ie=z.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(we){tt(z,z.return,we)}}}else if(s.tag===6){if(l===null){z=s;try{z.stateNode.nodeValue=c?"":z.memoizedProps}catch(we){tt(z,z.return,we)}}}else if(s.tag===18){if(l===null){z=s;try{var J=z.stateNode;c?Qh(J,!0):Qh(z.stateNode,!1)}catch(we){tt(z,z.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=e.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,Ni(e,l))));break;case 19:is(s,e),os(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ni(e,r)));break;case 30:break;case 21:break;default:is(s,e),os(e)}}function os(e){var s=e.flags;if(s&2){try{for(var l,r=e.return;r!==null;){if(Z0(r)){l=r;break}r=r.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var c=l.stateNode,m=qc(e);ji(e,m,c);break;case 5:var b=l.stateNode;l.flags&32&&(Gl(b,""),l.flags&=-33);var w=qc(e);ji(e,w,b);break;case 3:case 4:var z=l.stateNode.containerInfo,Q=qc(e);$c(e,Q,z);break;default:throw Error(o(161))}}catch(se){tt(e,e.return,se)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function ah(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;ah(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function _n(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)W0(e,s.alternate,s),s=s.sibling}function zl(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:tl(4,s,s.return),zl(s);break;case 1:ln(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Q0(s,s.return,l),zl(s);break;case 27:xr(s.stateNode);case 26:case 5:ln(s,s.return),zl(s);break;case 22:s.memoizedState===null&&zl(s);break;case 30:zl(s);break;default:zl(s)}e=e.sibling}}function Dn(e,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,c=e,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:Dn(c,m,l),ar(4,m);break;case 1:if(Dn(c,m,l),r=m,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Q){tt(r,r.return,Q)}if(r=m,c=r.updateQueue,c!==null){var w=r.stateNode;try{var z=c.shared.hiddenCallbacks;if(z!==null)for(c.shared.hiddenCallbacks=null,c=0;c<z.length;c++)Om(z[c],w)}catch(Q){tt(r,r.return,Q)}}l&&b&64&&I0(m),rr(m,m.return);break;case 27:J0(m);case 26:case 5:Dn(c,m,l),l&&r===null&&b&4&&X0(m),rr(m,m.return);break;case 12:Dn(c,m,l);break;case 31:Dn(c,m,l),l&&b&4&&sh(c,m);break;case 13:Dn(c,m,l),l&&b&4&&nh(c,m);break;case 22:m.memoizedState===null&&Dn(c,m,l),rr(m,m.return);break;case 30:break;default:Dn(c,m,l)}s=s.sibling}}function Fc(e,s){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Pa(l))}function Gc(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Pa(e))}function Ps(e,s,l,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rh(e,s,l,r),s=s.sibling}function rh(e,s,l,r){var c=s.flags;switch(s.tag){case 0:case 11:case 15:Ps(e,s,l,r),c&2048&&ar(9,s);break;case 1:Ps(e,s,l,r);break;case 3:Ps(e,s,l,r),c&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Pa(e)));break;case 12:if(c&2048){Ps(e,s,l,r),e=s.stateNode;try{var m=s.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){tt(s,s.return,z)}}else Ps(e,s,l,r);break;case 31:Ps(e,s,l,r);break;case 13:Ps(e,s,l,r);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?Ps(e,s,l,r):ir(e,s):m._visibility&2?Ps(e,s,l,r):(m._visibility|=2,ua(e,s,l,r,(s.subtreeFlags&10256)!==0||!1)),c&2048&&Fc(b,s);break;case 24:Ps(e,s,l,r),c&2048&&Gc(s.alternate,s);break;default:Ps(e,s,l,r)}}function ua(e,s,l,r,c){for(c=c&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=e,b=s,w=l,z=r,Q=b.flags;switch(b.tag){case 0:case 11:case 15:ua(m,b,w,z,c),ar(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?ua(m,b,w,z,c):ir(m,b):(se._visibility|=2,ua(m,b,w,z,c)),c&&Q&2048&&Fc(b.alternate,b);break;case 24:ua(m,b,w,z,c),c&&Q&2048&&Gc(b.alternate,b);break;default:ua(m,b,w,z,c)}s=s.sibling}}function ir(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=e,r=s,c=r.flags;switch(r.tag){case 22:ir(l,r),c&2048&&Fc(r.alternate,r);break;case 24:ir(l,r),c&2048&&Gc(r.alternate,r);break;default:ir(l,r)}s=s.sibling}}var or=8192;function da(e,s,l){if(e.subtreeFlags&or)for(e=e.child;e!==null;)ih(e,s,l),e=e.sibling}function ih(e,s,l){switch(e.tag){case 26:da(e,s,l),e.flags&or&&e.memoizedState!==null&&Eb(l,Vs,e.memoizedState,e.memoizedProps);break;case 5:da(e,s,l);break;case 3:case 4:var r=Vs;Vs=Oi(e.stateNode.containerInfo),da(e,s,l),Vs=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=or,or=16777216,da(e,s,l),or=r):da(e,s,l));break;default:da(e,s,l)}}function oh(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function cr(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var r=s[l];Gt=r,uh(r,e)}oh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ch(e),e=e.sibling}function ch(e){switch(e.tag){case 0:case 11:case 15:cr(e),e.flags&2048&&tl(9,e,e.return);break;case 3:cr(e);break;case 12:cr(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,wi(e)):cr(e);break;default:cr(e)}}function wi(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var r=s[l];Gt=r,uh(r,e)}oh(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:tl(8,s,s.return),wi(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,wi(s));break;default:wi(s)}e=e.sibling}}function uh(e,s){for(;Gt!==null;){var l=Gt;switch(l.tag){case 0:case 11:case 15:tl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Pa(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,Gt=r;else e:for(l=e;Gt!==null;){r=Gt;var c=r.sibling,m=r.return;if(eh(r),r===l){Gt=null;break e}if(c!==null){c.return=m,Gt=c;break e}Gt=m}}}var Yg={getCacheForType:function(e){var s=It(Dt),l=s.data.get(e);return l===void 0&&(l=e(),s.data.set(e,l)),l},cacheSignal:function(){return It(Dt).controller.signal}},Fg=typeof WeakMap=="function"?WeakMap:Map,Je=0,rt=null,$e=null,Ge=0,et=0,ys=null,sl=!1,ma=!1,Vc=!1,Rn=0,bt=0,nl=0,Ll=0,Pc=0,vs=0,ha=0,ur=null,cs=null,Ic=!1,Si=0,dh=0,Ti=1/0,ki=null,ll=null,Ht=0,al=null,fa=null,Mn=0,Qc=0,Xc=null,mh=null,dr=0,Zc=null;function js(){return(Je&2)!==0&&Ge!==0?Ge&-Ge:C.T!==null?su():yl()}function hh(){if(vs===0)if((Ge&536870912)===0||Pe){var e=Yn;Yn<<=1,(Yn&3932160)===0&&(Yn=262144),vs=e}else vs=536870912;return e=gs.current,e!==null&&(e.flags|=32),vs}function us(e,s,l){(e===rt&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(xa(e,0),rl(e,Ge,vs,!1)),Ks(e,l),((Je&2)===0||e!==rt)&&(e===rt&&((Je&2)===0&&(Ll|=l),bt===4&&rl(e,Ge,vs,!1)),an(e))}function fh(e,s,l){if((Je&6)!==0)throw Error(o(327));var r=!l&&(s&127)===0&&(s&e.expiredLanes)===0||jt(e,s),c=r?Pg(e,s):Kc(e,s,!0),m=r;do{if(c===0){ma&&!r&&rl(e,s,0,!1);break}else{if(l=e.current.alternate,m&&!Gg(l)){c=Kc(e,s,!1),m=!1;continue}if(c===2){if(m=s,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var w=e;c=ur;var z=w.current.memoizedState.isDehydrated;if(z&&(xa(w,b).flags|=256),b=Kc(w,b,!1),b!==2){if(Vc&&!z){w.errorRecoveryDisabledLanes|=m,Ll|=m,c=4;break e}m=cs,cs=c,m!==null&&(cs===null?cs=m:cs.push.apply(cs,m))}c=b}if(m=!1,c!==2)continue}}if(c===1){xa(e,0),rl(e,s,0,!0);break}e:{switch(r=e,m=c,m){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:rl(r,s,vs,!sl);break e;case 2:cs=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(c=Si+300-Ct(),10<c)){if(rl(r,s,vs,!sl),Js(r,0,!0)!==0)break e;Mn=s,r.timeoutHandle=Vh(xh.bind(null,r,l,cs,ki,Ic,s,vs,Ll,ha,sl,m,"Throttled",-0,0),c);break e}xh(r,l,cs,ki,Ic,s,vs,Ll,ha,sl,m,null,-0,0)}}break}while(!0);an(e)}function xh(e,s,l,r,c,m,b,w,z,Q,se,ie,X,J){if(e.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},ih(s,m,ie);var we=(m&62914560)===m?Si-Ct():(m&4194048)===m?dh-Ct():0;if(we=Cb(ie,we),we!==null){Mn=m,e.cancelPendingCommit=we(wh.bind(null,e,s,m,l,r,c,b,w,z,se,ie,null,X,J)),rl(e,m,b,!Q);return}}wh(e,s,m,l,r,c,b,w,z)}function Gg(e){for(var s=e;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var c=l[r],m=c.getSnapshot;c=c.value;try{if(!xs(m(),c))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rl(e,s,l,r){s&=~Pc,s&=~Ll,e.suspendedLanes|=s,e.pingedLanes&=~s,r&&(e.warmLanes|=s),r=e.expirationTimes;for(var c=s;0<c;){var m=31-Ie(c),b=1<<m;r[m]=-1,c&=~b}l!==0&&Ws(e,l,s)}function Ei(){return(Je&6)===0?(mr(0),!1):!0}function Jc(){if($e!==null){if(et===0)var e=$e.return;else e=$e,Nn=kl=null,hc(e),aa=null,Qa=0,e=$e;for(;e!==null;)P0(e.alternate,e),e=e.return;$e=null}}function xa(e,s){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,ub(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Mn=0,Jc(),rt=e,$e=l=vn(e.current,null),Ge=s,et=0,ys=null,sl=!1,ma=jt(e,s),Vc=!1,ha=vs=Pc=Ll=nl=bt=0,cs=ur=null,Ic=!1,(s&8)!==0&&(s|=s&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=s;0<r;){var c=31-Ie(r),m=1<<c;s|=e[c],r&=~m}return Rn=s,Qr(),l}function ph(e,s){Ue=null,C.H=sr,s===la||s===si?(s=Rm(),et=3):s===tc?(s=Rm(),et=4):et=s===Ac?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ys=s,$e===null&&(bt=1,pi(e,zs(s,e.current)))}function gh(){var e=gs.current;return e===null?!0:(Ge&4194048)===Ge?Us===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Us:!1}function bh(){var e=C.H;return C.H=sr,e===null?sr:e}function yh(){var e=C.A;return C.A=Yg,e}function Ci(){bt=4,sl||(Ge&4194048)!==Ge&&gs.current!==null||(ma=!0),(nl&134217727)===0&&(Ll&134217727)===0||rt===null||rl(rt,Ge,vs,!1)}function Kc(e,s,l){var r=Je;Je|=2;var c=bh(),m=yh();(rt!==e||Ge!==s)&&(ki=null,xa(e,s)),s=!1;var b=bt;e:do try{if(et!==0&&$e!==null){var w=$e,z=ys;switch(et){case 8:Jc(),b=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(s=!0);var Q=et;if(et=0,ys=null,pa(e,w,z,Q),l&&ma){b=0;break e}break;default:Q=et,et=0,ys=null,pa(e,w,z,Q)}}Vg(),b=bt;break}catch(se){ph(e,se)}while(!0);return s&&e.shellSuspendCounter++,Nn=kl=null,Je=r,C.H=c,C.A=m,$e===null&&(rt=null,Ge=0,Qr()),b}function Vg(){for(;$e!==null;)vh($e)}function Pg(e,s){var l=Je;Je|=2;var r=bh(),c=yh();rt!==e||Ge!==s?(ki=null,Ti=Ct()+500,xa(e,s)):ma=jt(e,s);e:do try{if(et!==0&&$e!==null){s=$e;var m=ys;t:switch(et){case 1:et=0,ys=null,pa(e,s,m,1);break;case 2:case 9:if(_m(m)){et=0,ys=null,jh(s);break}s=function(){et!==2&&et!==9||rt!==e||(et=7),an(e)},m.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:_m(m)?(et=0,ys=null,jh(s)):(et=0,ys=null,pa(e,s,m,7));break;case 5:var b=null;switch($e.tag){case 26:b=$e.memoizedState;case 5:case 27:var w=$e;if(b?rf(b):w.stateNode.complete){et=0,ys=null;var z=w.sibling;if(z!==null)$e=z;else{var Q=w.return;Q!==null?($e=Q,Ai(Q)):$e=null}break t}}et=0,ys=null,pa(e,s,m,5);break;case 6:et=0,ys=null,pa(e,s,m,6);break;case 8:Jc(),bt=6;break e;default:throw Error(o(462))}}Ig();break}catch(se){ph(e,se)}while(!0);return Nn=kl=null,C.H=r,C.A=c,Je=l,$e!==null?0:(rt=null,Ge=0,Qr(),bt)}function Ig(){for(;$e!==null&&!mn();)vh($e)}function vh(e){var s=G0(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,s===null?Ai(e):$e=s}function jh(e){var s=e,l=s.alternate;switch(s.tag){case 15:case 0:s=U0(l,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=U0(l,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:hc(s);default:P0(l,s),s=$e=ym(s,Rn),s=G0(l,s,Rn)}e.memoizedProps=e.pendingProps,s===null?Ai(e):$e=s}function pa(e,s,l,r){Nn=kl=null,hc(s),aa=null,Qa=0;var c=s.return;try{if(Lg(e,c,s,l,Ge)){bt=1,pi(e,zs(l,e.current)),$e=null;return}}catch(m){if(c!==null)throw $e=c,m;bt=1,pi(e,zs(l,e.current)),$e=null;return}s.flags&32768?(Pe||r===1?e=!0:ma||(Ge&536870912)!==0?e=!1:(sl=e=!0,(r===2||r===9||r===3||r===6)&&(r=gs.current,r!==null&&r.tag===13&&(r.flags|=16384))),Nh(s,e)):Ai(s)}function Ai(e){var s=e;do{if((s.flags&32768)!==0){Nh(s,sl);return}e=s.return;var l=Ug(s.alternate,s,Rn);if(l!==null){$e=l;return}if(s=s.sibling,s!==null){$e=s;return}$e=s=e}while(s!==null);bt===0&&(bt=5)}function Nh(e,s){do{var l=Hg(e.alternate,e);if(l!==null){l.flags&=32767,$e=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(e=e.sibling,e!==null)){$e=e;return}$e=e=l}while(e!==null);bt=6,$e=null}function wh(e,s,l,r,c,m,b,w,z){e.cancelPendingCommit=null;do _i();while(Ht!==0);if((Je&6)!==0)throw Error(o(327));if(s!==null){if(s===e.current)throw Error(o(177));if(m=s.lanes|s.childLanes,m|=qo,za(e,l,m,b,w,z),e===rt&&($e=rt=null,Ge=0),fa=s,al=e,Mn=l,Qc=m,Xc=c,mh=r,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jg(Ce,function(){return Ch(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||r){r=C.T,C.T=null,c=K.p,K.p=2,b=Je,Je|=4;try{qg(e,s,l)}finally{Je=b,K.p=c,C.T=r}}Ht=1,Sh(),Th(),kh()}}function Sh(){if(Ht===1){Ht=0;var e=al,s=fa,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=C.T,C.T=null;var r=K.p;K.p=2;var c=Je;Je|=4;try{lh(s,e);var m=uu,b=um(e.containerInfo),w=m.focusedElem,z=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&cm(w.ownerDocument.documentElement,w)){if(z!==null&&Lo(w)){var Q=z.start,se=z.end;if(se===void 0&&(se=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(se,w.value.length);else{var ie=w.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var J=X.getSelection(),we=w.textContent.length,_e=Math.min(z.start,we),lt=z.end===void 0?_e:Math.min(z.end,we);!J.extend&&_e>lt&&(b=lt,lt=_e,_e=b);var F=om(w,_e),L=om(w,lt);if(F&&L&&(J.rangeCount!==1||J.anchorNode!==F.node||J.anchorOffset!==F.offset||J.focusNode!==L.node||J.focusOffset!==L.offset)){var P=ie.createRange();P.setStart(F.node,F.offset),J.removeAllRanges(),_e>lt?(J.addRange(P),J.extend(L.node,L.offset)):(P.setEnd(L.node,L.offset),J.addRange(P))}}}}for(ie=[],J=w;J=J.parentNode;)J.nodeType===1&&ie.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var ae=ie[w];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Yi=!!cu,uu=cu=null}finally{Je=c,K.p=r,C.T=l}}e.current=s,Ht=2}}function Th(){if(Ht===2){Ht=0;var e=al,s=fa,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=C.T,C.T=null;var r=K.p;K.p=2;var c=Je;Je|=4;try{W0(e,s.alternate,s)}finally{Je=c,K.p=r,C.T=l}}Ht=3}}function kh(){if(Ht===4||Ht===3){Ht=0,Ot();var e=al,s=fa,l=Mn,r=mh;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,fa=al=null,Eh(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ll=null),xn(l),s=s.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(At,s,void 0,(s.current.flags&128)===128)}catch{}if(r!==null){s=C.T,c=K.p,K.p=2,C.T=null;try{for(var m=e.onRecoverableError,b=0;b<r.length;b++){var w=r[b];m(w.value,{componentStack:w.stack})}}finally{C.T=s,K.p=c}}(Mn&3)!==0&&_i(),an(e),c=e.pendingLanes,(l&261930)!==0&&(c&42)!==0?e===Zc?dr++:(dr=0,Zc=e):dr=0,mr(0)}}function Eh(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Pa(s)))}function _i(){return Sh(),Th(),kh(),Ch()}function Ch(){if(Ht!==5)return!1;var e=al,s=Qc;Qc=0;var l=xn(Mn),r=C.T,c=K.p;try{K.p=32>l?32:l,C.T=null,l=Xc,Xc=null;var m=al,b=Mn;if(Ht=0,fa=al=null,Mn=0,(Je&6)!==0)throw Error(o(331));var w=Je;if(Je|=4,ch(m.current),rh(m,m.current,b,l),Je=w,mr(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(At,m)}catch{}return!0}finally{K.p=c,C.T=r,Eh(e,s)}}function Ah(e,s,l){s=zs(l,s),s=Cc(e.stateNode,s,2),e=Kn(e,s,2),e!==null&&(Ks(e,2),an(e))}function tt(e,s,l){if(e.tag===3)Ah(e,e,l);else for(;s!==null;){if(s.tag===3){Ah(s,e,l);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ll===null||!ll.has(r))){e=zs(l,e),l=_0(2),r=Kn(s,l,2),r!==null&&(D0(l,r,s,e),Ks(r,2),an(r));break}}s=s.return}}function Wc(e,s,l){var r=e.pingCache;if(r===null){r=e.pingCache=new Fg;var c=new Set;r.set(s,c)}else c=r.get(s),c===void 0&&(c=new Set,r.set(s,c));c.has(l)||(Vc=!0,c.add(l),e=Qg.bind(null,e,s,l),s.then(e,e))}function Qg(e,s,l){var r=e.pingCache;r!==null&&r.delete(s),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,rt===e&&(Ge&l)===l&&(bt===4||bt===3&&(Ge&62914560)===Ge&&300>Ct()-Si?(Je&2)===0&&xa(e,0):Pc|=l,ha===Ge&&(ha=0)),an(e)}function _h(e,s){s===0&&(s=$l()),e=wl(e,s),e!==null&&(Ks(e,s),an(e))}function Xg(e){var s=e.memoizedState,l=0;s!==null&&(l=s.retryLane),_h(e,l)}function Zg(e,s){var l=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(s),_h(e,l)}function Jg(e,s){return ft(e,s)}var Di=null,ga=null,eu=!1,Ri=!1,tu=!1,il=0;function an(e){e!==ga&&e.next===null&&(ga===null?Di=ga=e:ga=ga.next=e),Ri=!0,eu||(eu=!0,Wg())}function mr(e,s){if(!tu&&Ri){tu=!0;do for(var l=!1,r=Di;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var m=0;else{var b=r.suspendedLanes,w=r.pingedLanes;m=(1<<31-Ie(42|e)+1)-1,m&=c&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,zh(r,m))}else m=Ge,m=Js(r,r===rt?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(m&3)===0||jt(r,m)||(l=!0,zh(r,m));r=r.next}while(l);tu=!1}}function Kg(){Dh()}function Dh(){Ri=eu=!1;var e=0;il!==0&&cb()&&(e=il);for(var s=Ct(),l=null,r=Di;r!==null;){var c=r.next,m=Rh(r,s);m===0?(r.next=null,l===null?Di=c:l.next=c,c===null&&(ga=l)):(l=r,(e!==0||(m&3)!==0)&&(Ri=!0)),r=c}Ht!==0&&Ht!==5||mr(e),il!==0&&(il=0)}function Rh(e,s){for(var l=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-Ie(m),w=1<<b,z=c[b];z===-1?((w&l)===0||(w&r)!==0)&&(c[b]=Fn(w,s)):z<=s&&(e.expiredLanes|=w),m&=~w}if(s=rt,l=Ge,l=Js(e,e===s?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,l===0||e===s&&(et===2||et===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&es(r),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||jt(e,l)){if(s=l&-l,s===e.callbackPriority)return s;switch(r!==null&&es(r),xn(l)){case 2:case 8:l=xe;break;case 32:l=Ce;break;case 268435456:l=Re;break;default:l=Ce}return r=Mh.bind(null,e),l=ft(l,r),e.callbackPriority=s,e.callbackNode=l,s}return r!==null&&r!==null&&es(r),e.callbackPriority=2,e.callbackNode=null,2}function Mh(e,s){if(Ht!==0&&Ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(_i()&&e.callbackNode!==l)return null;var r=Ge;return r=Js(e,e===rt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(fh(e,r,s),Rh(e,Ct()),e.callbackNode!=null&&e.callbackNode===l?Mh.bind(null,e):null)}function zh(e,s){if(_i())return null;fh(e,s,!0)}function Wg(){db(function(){(Je&6)!==0?ft(ee,Kg):Dh()})}function su(){if(il===0){var e=sa;e===0&&(e=fs,fs<<=1,(fs&261888)===0&&(fs=256)),il=e}return il}function Lh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qr(""+e)}function Oh(e,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,e.id&&l.setAttribute("form",e.id),s.parentNode.insertBefore(l,s),e=new FormData(e),l.parentNode.removeChild(l),e}function eb(e,s,l,r,c){if(s==="submit"&&l&&l.stateNode===c){var m=Lh((c[Yt]||null).action),b=r.submitter;b&&(s=(s=b[Yt]||null)?Lh(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var w=new Gr("action","action",null,r,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(il!==0){var z=b?Oh(c,b):new FormData(c);Nc(l,{pending:!0,data:z,method:c.method,action:m},null,z)}}else typeof m=="function"&&(w.preventDefault(),z=b?Oh(c,b):new FormData(c),Nc(l,{pending:!0,data:z,method:c.method,action:m},m,z))},currentTarget:c}]})}}for(var nu=0;nu<Ho.length;nu++){var lu=Ho[nu],tb=lu.toLowerCase(),sb=lu[0].toUpperCase()+lu.slice(1);Gs(tb,"on"+sb)}Gs(hm,"onAnimationEnd"),Gs(fm,"onAnimationIteration"),Gs(xm,"onAnimationStart"),Gs("dblclick","onDoubleClick"),Gs("focusin","onFocus"),Gs("focusout","onBlur"),Gs(bg,"onTransitionRun"),Gs(yg,"onTransitionStart"),Gs(vg,"onTransitionCancel"),Gs(pm,"onTransitionEnd"),V("onMouseEnter",["mouseout","mouseover"]),V("onMouseLeave",["mouseout","mouseover"]),V("onPointerEnter",["pointerout","pointerover"]),V("onPointerLeave",["pointerout","pointerover"]),Ne("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ne("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ne("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ne("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ne("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hr));function Bh(e,s){s=(s&4)!==0;for(var l=0;l<e.length;l++){var r=e[l],c=r.event;r=r.listeners;e:{var m=void 0;if(s)for(var b=r.length-1;0<=b;b--){var w=r[b],z=w.instance,Q=w.currentTarget;if(w=w.listener,z!==m&&c.isPropagationStopped())break e;m=w,c.currentTarget=Q;try{m(c)}catch(se){Ir(se)}c.currentTarget=null,m=z}else for(b=0;b<r.length;b++){if(w=r[b],z=w.instance,Q=w.currentTarget,w=w.listener,z!==m&&c.isPropagationStopped())break e;m=w,c.currentTarget=Q;try{m(c)}catch(se){Ir(se)}c.currentTarget=null,m=z}}}}function Ye(e,s){var l=s[tn];l===void 0&&(l=s[tn]=new Set);var r=e+"__bubble";l.has(r)||(Uh(s,e,2,!1),l.add(r))}function au(e,s,l){var r=0;s&&(r|=4),Uh(l,e,r,s)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function ru(e){if(!e[Mi]){e[Mi]=!0,W.forEach(function(l){l!=="selectionchange"&&(nb.has(l)||au(l,!1,e),au(l,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Mi]||(s[Mi]=!0,au("selectionchange",!1,s))}}function Uh(e,s,l,r){switch(ff(s)){case 2:var c=Db;break;case 8:c=Rb;break;default:c=ju}l=c.bind(null,s,l,e),c=void 0,!ko||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(s,l,{capture:!0,passive:c}):e.addEventListener(s,l,!0):c!==void 0?e.addEventListener(s,l,{passive:c}):e.addEventListener(s,l,!1)}function iu(e,s,l,r,c){var m=r;if((s&1)===0&&(s&2)===0&&r!==null)e:for(;;){if(r===null)return;var b=r.tag;if(b===3||b===4){var w=r.stateNode.containerInfo;if(w===c)break;if(b===4)for(b=r.return;b!==null;){var z=b.tag;if((z===3||z===4)&&b.stateNode.containerInfo===c)return;b=b.return}for(;w!==null;){if(b=je(w),b===null)return;if(z=b.tag,z===5||z===6||z===26||z===27){r=m=b;continue e}w=w.parentNode}}r=r.return}Fd(function(){var Q=m,se=So(l),ie=[];e:{var X=gm.get(e);if(X!==void 0){var J=Gr,we=e;switch(e){case"keypress":if(Yr(l)===0)break e;case"keydown":case"keyup":J=Zp;break;case"focusin":we="focus",J=_o;break;case"focusout":we="blur",J=_o;break;case"beforeblur":case"afterblur":J=_o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Wp;break;case hm:case fm:case xm:J=$p;break;case pm:J=tg;break;case"scroll":case"scrollend":J=Op;break;case"wheel":J=ng;break;case"copy":case"cut":case"paste":J=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Qd;break;case"toggle":case"beforetoggle":J=ag}var _e=(s&4)!==0,lt=!_e&&(e==="scroll"||e==="scrollend"),F=_e?X!==null?X+"Capture":null:X;_e=[];for(var L=Q,P;L!==null;){var ae=L;if(P=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||P===null||F===null||(ae=La(L,F),ae!=null&&_e.push(fr(L,ae,P))),lt)break;L=L.return}0<_e.length&&(X=new J(X,we,null,l,se),ie.push({event:X,listeners:_e}))}}if((s&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",X&&l!==wo&&(we=l.relatedTarget||l.fromElement)&&(je(we)||we[en]))break e;if((J||X)&&(X=se.window===se?se:(X=se.ownerDocument)?X.defaultView||X.parentWindow:window,J?(we=l.relatedTarget||l.toElement,J=Q,we=we?je(we):null,we!==null&&(lt=d(we),_e=we.tag,we!==lt||_e!==5&&_e!==27&&_e!==6)&&(we=null)):(J=null,we=Q),J!==we)){if(_e=Pd,ae="onMouseLeave",F="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(_e=Qd,ae="onPointerLeave",F="onPointerEnter",L="pointer"),lt=J==null?X:Le(J),P=we==null?X:Le(we),X=new _e(ae,L+"leave",J,l,se),X.target=lt,X.relatedTarget=P,ae=null,je(se)===Q&&(_e=new _e(F,L+"enter",we,l,se),_e.target=P,_e.relatedTarget=lt,ae=_e),lt=ae,J&&we)t:{for(_e=lb,F=J,L=we,P=0,ae=F;ae;ae=_e(ae))P++;ae=0;for(var ke=L;ke;ke=_e(ke))ae++;for(;0<P-ae;)F=_e(F),P--;for(;0<ae-P;)L=_e(L),ae--;for(;P--;){if(F===L||L!==null&&F===L.alternate){_e=F;break t}F=_e(F),L=_e(L)}_e=null}else _e=null;J!==null&&Hh(ie,X,J,_e,!1),we!==null&&lt!==null&&Hh(ie,lt,we,_e,!0)}}e:{if(X=Q?Le(Q):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Xe=sm;else if(em(X))if(nm)Xe=xg;else{Xe=hg;var Te=mg}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&No(Q.elementType)&&(Xe=sm):Xe=fg;if(Xe&&(Xe=Xe(e,Q))){tm(ie,Xe,l,se);break e}Te&&Te(e,X,Q),e==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&jo(X,"number",X.value)}switch(Te=Q?Le(Q):window,e){case"focusin":(em(Te)||Te.contentEditable==="true")&&(Ql=Te,Oo=Q,Fa=null);break;case"focusout":Fa=Oo=Ql=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,dm(ie,l,se);break;case"selectionchange":if(gg)break;case"keydown":case"keyup":dm(ie,l,se)}var He;if(Ro)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Il?Kd(e,l)&&(Ve="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(Xd&&l.locale!=="ko"&&(Il||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Il&&(He=Gd()):(Vn=se,Eo="value"in Vn?Vn.value:Vn.textContent,Il=!0)),Te=zi(Q,Ve),0<Te.length&&(Ve=new Id(Ve,e,null,l,se),ie.push({event:Ve,listeners:Te}),He?Ve.data=He:(He=Wd(l),He!==null&&(Ve.data=He)))),(He=ig?og(e,l):cg(e,l))&&(Ve=zi(Q,"onBeforeInput"),0<Ve.length&&(Te=new Id("onBeforeInput","beforeinput",null,l,se),ie.push({event:Te,listeners:Ve}),Te.data=He)),eb(ie,e,Q,l,se)}Bh(ie,s)})}function fr(e,s,l){return{instance:e,listener:s,currentTarget:l}}function zi(e,s){for(var l=s+"Capture",r=[];e!==null;){var c=e,m=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||m===null||(c=La(e,l),c!=null&&r.unshift(fr(e,c,m)),c=La(e,s),c!=null&&r.push(fr(e,c,m))),e.tag===3)return r;e=e.return}return[]}function lb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hh(e,s,l,r,c){for(var m=s._reactName,b=[];l!==null&&l!==r;){var w=l,z=w.alternate,Q=w.stateNode;if(w=w.tag,z!==null&&z===r)break;w!==5&&w!==26&&w!==27||Q===null||(z=Q,c?(Q=La(l,m),Q!=null&&b.unshift(fr(l,Q,z))):c||(Q=La(l,m),Q!=null&&b.push(fr(l,Q,z)))),l=l.return}b.length!==0&&e.push({event:s,listeners:b})}var ab=/\r\n?/g,rb=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(ab,`
`).replace(rb,"")}function $h(e,s){return s=qh(s),qh(e)===s}function nt(e,s,l,r,c,m){switch(l){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||Gl(e,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&Gl(e,""+r);break;case"className":gn(e,"class",r);break;case"tabIndex":gn(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,l,r);break;case"style":$d(e,r,m);break;case"data":if(s!=="object"){gn(e,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||l!=="href")){e.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=qr(""+r),e.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(s!=="input"&&nt(e,s,"name",c.name,c,null),nt(e,s,"formEncType",c.formEncType,c,null),nt(e,s,"formMethod",c.formMethod,c,null),nt(e,s,"formTarget",c.formTarget,c,null)):(nt(e,s,"encType",c.encType,c,null),nt(e,s,"method",c.method,c,null),nt(e,s,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=qr(""+r),e.setAttribute(l,r);break;case"onClick":r!=null&&(e.onclick=bn);break;case"onScroll":r!=null&&Ye("scroll",e);break;case"onScrollEnd":r!=null&&Ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(l=r.__html,l!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}l=qr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""+r):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":r===!0?e.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,r):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(l,r):e.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(l):e.setAttribute(l,r);break;case"popover":Ye("beforetoggle",e),Ye("toggle",e),Qe(e,"popover",r);break;case"xlinkActuate":Ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Qe(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zp.get(l)||l,Qe(e,l,r))}}function ou(e,s,l,r,c,m){switch(l){case"style":$d(e,r,m);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(l=r.__html,l!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof r=="string"?Gl(e,r):(typeof r=="number"||typeof r=="bigint")&&Gl(e,""+r);break;case"onScroll":r!=null&&Ye("scroll",e);break;case"onScrollEnd":r!=null&&Ye("scrollend",e);break;case"onClick":r!=null&&(e.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!de.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),s=l.slice(2,c?l.length-7:void 0),m=e[Yt]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(s,m,c),typeof r=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(s,r,c);break e}l in e?e[l]=r:r===!0?e.setAttribute(l,""):Qe(e,l,r)}}}function Xt(e,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",e),Ye("load",e);var r=!1,c=!1,m;for(m in l)if(l.hasOwnProperty(m)){var b=l[m];if(b!=null)switch(m){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:nt(e,s,m,b,l,null)}}c&&nt(e,s,"srcSet",l.srcSet,l,null),r&&nt(e,s,"src",l.src,l,null);return;case"input":Ye("invalid",e);var w=m=b=c=null,z=null,Q=null;for(r in l)if(l.hasOwnProperty(r)){var se=l[r];if(se!=null)switch(r){case"name":c=se;break;case"type":b=se;break;case"checked":z=se;break;case"defaultChecked":Q=se;break;case"value":m=se;break;case"defaultValue":w=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(o(137,s));break;default:nt(e,s,r,se,l,null)}}Bd(e,m,w,z,Q,b,c,!1);return;case"select":Ye("invalid",e),r=b=m=null;for(c in l)if(l.hasOwnProperty(c)&&(w=l[c],w!=null))switch(c){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":r=w;default:nt(e,s,c,w,l,null)}s=m,l=b,e.multiple=!!r,s!=null?Fl(e,!!r,s,!1):l!=null&&Fl(e,!!r,l,!0);return;case"textarea":Ye("invalid",e),m=c=r=null;for(b in l)if(l.hasOwnProperty(b)&&(w=l[b],w!=null))switch(b){case"value":r=w;break;case"defaultValue":c=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(91));break;default:nt(e,s,b,w,l,null)}Hd(e,r,c,m);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(r=l[z],r!=null))switch(z){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:nt(e,s,z,r,l,null)}return;case"dialog":Ye("beforetoggle",e),Ye("toggle",e),Ye("cancel",e),Ye("close",e);break;case"iframe":case"object":Ye("load",e);break;case"video":case"audio":for(r=0;r<hr.length;r++)Ye(hr[r],e);break;case"image":Ye("error",e),Ye("load",e);break;case"details":Ye("toggle",e);break;case"embed":case"source":case"link":Ye("error",e),Ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(r=l[Q],r!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:nt(e,s,Q,r,l,null)}return;default:if(No(s)){for(se in l)l.hasOwnProperty(se)&&(r=l[se],r!==void 0&&ou(e,s,se,r,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(r=l[w],r!=null&&nt(e,s,w,r,l,null))}function ib(e,s,l,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,m=null,b=null,w=null,z=null,Q=null,se=null;for(J in l){var ie=l[J];if(l.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=ie;default:r.hasOwnProperty(J)||nt(e,s,J,null,r,ie)}}for(var X in r){var J=r[X];if(ie=l[X],r.hasOwnProperty(X)&&(J!=null||ie!=null))switch(X){case"type":m=J;break;case"name":c=J;break;case"checked":Q=J;break;case"defaultChecked":se=J;break;case"value":b=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,s));break;default:J!==ie&&nt(e,s,X,J,r,ie)}}vo(e,b,w,z,Q,se,m,c);return;case"select":J=b=w=X=null;for(m in l)if(z=l[m],l.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":J=z;default:r.hasOwnProperty(m)||nt(e,s,m,null,r,z)}for(c in r)if(m=r[c],z=l[c],r.hasOwnProperty(c)&&(m!=null||z!=null))switch(c){case"value":X=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==z&&nt(e,s,c,m,r,z)}s=w,l=b,r=J,X!=null?Fl(e,!!l,X,!1):!!r!=!!l&&(s!=null?Fl(e,!!l,s,!0):Fl(e,!!l,l?[]:"",!1));return;case"textarea":J=X=null;for(w in l)if(c=l[w],l.hasOwnProperty(w)&&c!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:nt(e,s,w,null,r,c)}for(b in r)if(c=r[b],m=l[b],r.hasOwnProperty(b)&&(c!=null||m!=null))switch(b){case"value":X=c;break;case"defaultValue":J=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==m&&nt(e,s,b,c,r,m)}Ud(e,X,J);return;case"option":for(var we in l)if(X=l[we],l.hasOwnProperty(we)&&X!=null&&!r.hasOwnProperty(we))switch(we){case"selected":e.selected=!1;break;default:nt(e,s,we,null,r,X)}for(z in r)if(X=r[z],J=l[z],r.hasOwnProperty(z)&&X!==J&&(X!=null||J!=null))switch(z){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:nt(e,s,z,X,r,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in l)X=l[_e],l.hasOwnProperty(_e)&&X!=null&&!r.hasOwnProperty(_e)&&nt(e,s,_e,null,r,X);for(Q in r)if(X=r[Q],J=l[Q],r.hasOwnProperty(Q)&&X!==J&&(X!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,s));break;default:nt(e,s,Q,X,r,J)}return;default:if(No(s)){for(var lt in l)X=l[lt],l.hasOwnProperty(lt)&&X!==void 0&&!r.hasOwnProperty(lt)&&ou(e,s,lt,void 0,r,X);for(se in r)X=r[se],J=l[se],!r.hasOwnProperty(se)||X===J||X===void 0&&J===void 0||ou(e,s,se,X,r,J);return}}for(var F in l)X=l[F],l.hasOwnProperty(F)&&X!=null&&!r.hasOwnProperty(F)&&nt(e,s,F,null,r,X);for(ie in r)X=r[ie],J=l[ie],!r.hasOwnProperty(ie)||X===J||X==null&&J==null||nt(e,s,ie,X,r,J)}function Yh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ob(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var c=l[r],m=c.transferSize,b=c.initiatorType,w=c.duration;if(m&&w&&Yh(b)){for(b=0,w=c.responseEnd,r+=1;r<l.length;r++){var z=l[r],Q=z.startTime;if(Q>w)break;var se=z.transferSize,ie=z.initiatorType;se&&Yh(ie)&&(z=z.responseEnd,b+=se*(z<w?1:(w-Q)/(z-Q)))}if(--r,s+=8*(m+b)/(c.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cu=null,uu=null;function Li(e){return e.nodeType===9?e:e.ownerDocument}function Fh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gh(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function du(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mu=null;function cb(){var e=window.event;return e&&e.type==="popstate"?e===mu?!1:(mu=e,!0):(mu=null,!1)}var Vh=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,Ph=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof Ph<"u"?function(e){return Ph.resolve(null).then(e).catch(mb)}:Vh;function mb(e){setTimeout(function(){throw e})}function ol(e){return e==="head"}function Ih(e,s){var l=s,r=0;do{var c=l.nextSibling;if(e.removeChild(l),c&&c.nodeType===8)if(l=c.data,l==="/$"||l==="/&"){if(r===0){e.removeChild(c),ja(s);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")xr(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,xr(l);for(var m=l.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[ue]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=b}}else l==="body"&&xr(e.ownerDocument.body);l=c}while(l);ja(s)}function Qh(e,s){var l=e;e=0;do{var r=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=r}while(l)}function hu(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":hu(l),te(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function hb(e,s,l,r){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[ue])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Hs(e.nextSibling),e===null)break}return null}function fb(e,s,l){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Hs(e.nextSibling),e===null))return null;return e}function Xh(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Hs(e.nextSibling),e===null))return null;return e}function fu(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xb(e,s){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||l.readyState!=="loading")s();else{var r=function(){s(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Hs(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var pu=null;function Zh(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(s===0)return Hs(e.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}e=e.nextSibling}return null}function Jh(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return e;s--}else l!=="/$"&&l!=="/&"||s++}e=e.previousSibling}return null}function Kh(e,s,l){switch(s=Li(l),e){case"html":if(e=s.documentElement,!e)throw Error(o(452));return e;case"head":if(e=s.head,!e)throw Error(o(453));return e;case"body":if(e=s.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function xr(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);te(e)}var qs=new Map,Wh=new Set;function Oi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=K.d;K.d={f:pb,r:gb,D:bb,C:yb,L:vb,m:jb,X:wb,S:Nb,M:Sb};function pb(){var e=zn.f(),s=Ei();return e||s}function gb(e){var s=ve(e);s!==null&&s.tag===5&&s.type==="form"?p0(s):zn.r(e)}var ba=typeof document>"u"?null:document;function ef(e,s,l){var r=ba;if(r&&typeof s=="string"&&s){var c=Rs(s);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),Wh.has(c)||(Wh.add(c),e={rel:e,crossOrigin:l,href:s},r.querySelector(c)===null&&(s=r.createElement("link"),Xt(s,"link",e),Z(s),r.head.appendChild(s)))}}function bb(e){zn.D(e),ef("dns-prefetch",e,null)}function yb(e,s){zn.C(e,s),ef("preconnect",e,s)}function vb(e,s,l){zn.L(e,s,l);var r=ba;if(r&&e&&s){var c='link[rel="preload"][as="'+Rs(s)+'"]';s==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+Rs(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+Rs(l.imageSizes)+'"]')):c+='[href="'+Rs(e)+'"]';var m=c;switch(s){case"style":m=ya(e);break;case"script":m=va(e)}qs.has(m)||(e=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:e,as:s},l),qs.set(m,e),r.querySelector(c)!==null||s==="style"&&r.querySelector(pr(m))||s==="script"&&r.querySelector(gr(m))||(s=r.createElement("link"),Xt(s,"link",e),Z(s),r.head.appendChild(s)))}}function jb(e,s){zn.m(e,s);var l=ba;if(l&&e){var r=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+Rs(r)+'"][href="'+Rs(e)+'"]',m=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=va(e)}if(!qs.has(m)&&(e=y({rel:"modulepreload",href:e},s),qs.set(m,e),l.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gr(m)))return}r=l.createElement("link"),Xt(r,"link",e),Z(r),l.head.appendChild(r)}}}function Nb(e,s,l){zn.S(e,s,l);var r=ba;if(r&&e){var c=R(r).hoistableStyles,m=ya(e);s=s||"default";var b=c.get(m);if(!b){var w={loading:0,preload:null};if(b=r.querySelector(pr(m)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":s},l),(l=qs.get(m))&&gu(e,l);var z=b=r.createElement("link");Z(z),Xt(z,"link",e),z._p=new Promise(function(Q,se){z.onload=Q,z.onerror=se}),z.addEventListener("load",function(){w.loading|=1}),z.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Bi(b,s,r)}b={type:"stylesheet",instance:b,count:1,state:w},c.set(m,b)}}}function wb(e,s){zn.X(e,s);var l=ba;if(l&&e){var r=R(l).hoistableScripts,c=va(e),m=r.get(c);m||(m=l.querySelector(gr(c)),m||(e=y({src:e,async:!0},s),(s=qs.get(c))&&bu(e,s),m=l.createElement("script"),Z(m),Xt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(c,m))}}function Sb(e,s){zn.M(e,s);var l=ba;if(l&&e){var r=R(l).hoistableScripts,c=va(e),m=r.get(c);m||(m=l.querySelector(gr(c)),m||(e=y({src:e,async:!0,type:"module"},s),(s=qs.get(c))&&bu(e,s),m=l.createElement("script"),Z(m),Xt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(c,m))}}function tf(e,s,l,r){var c=(c=he.current)?Oi(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ya(l.href),l=R(c).hoistableStyles,r=l.get(s),r||(r={type:"style",instance:null,count:0,state:null},l.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ya(l.href);var m=R(c).hoistableStyles,b=m.get(e);if(b||(c=c.ownerDocument||c,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=c.querySelector(pr(e)))&&!m._p&&(b.instance=m,b.state.loading=5),qs.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qs.set(e,l),m||Tb(c,e,l,b.state))),s&&r===null)throw Error(o(528,""));return b}if(s&&r!==null)throw Error(o(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=va(l),l=R(c).hoistableScripts,r=l.get(s),r||(r={type:"script",instance:null,count:0,state:null},l.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ya(e){return'href="'+Rs(e)+'"'}function pr(e){return'link[rel="stylesheet"]['+e+"]"}function sf(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Tb(e,s,l,r){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=e.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),Xt(s,"link",l),Z(s),e.head.appendChild(s))}function va(e){return'[src="'+Rs(e)+'"]'}function gr(e){return"script[async]"+e}function nf(e,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var r=e.querySelector('style[data-href~="'+Rs(l.href)+'"]');if(r)return s.instance=r,Z(r),r;var c=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Z(r),Xt(r,"style",c),Bi(r,l.precedence,e),s.instance=r;case"stylesheet":c=ya(l.href);var m=e.querySelector(pr(c));if(m)return s.state.loading|=4,s.instance=m,Z(m),m;r=sf(l),(c=qs.get(c))&&gu(r,c),m=(e.ownerDocument||e).createElement("link"),Z(m);var b=m;return b._p=new Promise(function(w,z){b.onload=w,b.onerror=z}),Xt(m,"link",r),s.state.loading|=4,Bi(m,l.precedence,e),s.instance=m;case"script":return m=va(l.src),(c=e.querySelector(gr(m)))?(s.instance=c,Z(c),c):(r=l,(c=qs.get(m))&&(r=y({},l),bu(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),Z(c),Xt(c,"link",r),e.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(r=s.instance,s.state.loading|=4,Bi(r,l.precedence,e));return s.instance}function Bi(e,s,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,m=c,b=0;b<r.length;b++){var w=r[b];if(w.dataset.precedence===s)m=w;else if(m!==c)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(e,s.firstChild))}function gu(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function bu(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Ui=null;function lf(e,s,l){if(Ui===null){var r=new Map,c=Ui=new Map;c.set(l,r)}else c=Ui,r=c.get(l),r||(r=new Map,c.set(l,r));if(r.has(e))return r;for(r.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var m=l[c];if(!(m[ue]||m[Nt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=e+b;var w=r.get(b);w?w.push(m):r.set(b,[m])}}return r}function af(e,s,l){e=e.ownerDocument||e,e.head.insertBefore(l,s==="title"?e.querySelector("head > title"):null)}function kb(e,s,l){if(l===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function rf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Eb(e,s,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var c=ya(r.href),m=s.querySelector(pr(c));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Hi.bind(e),s.then(e,e)),l.state.loading|=4,l.instance=m,Z(m);return}m=s.ownerDocument||s,r=sf(r),(c=qs.get(c))&&gu(r,c),m=m.createElement("link"),Z(m);var b=m;b._p=new Promise(function(w,z){b.onload=w,b.onerror=z}),Xt(m,"link",r),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Hi.bind(e),s.addEventListener("load",l),s.addEventListener("error",l))}}var yu=0;function Cb(e,s){return e.stylesheets&&e.count===0&&$i(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var r=setTimeout(function(){if(e.stylesheets&&$i(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+s);0<e.imgBytes&&yu===0&&(yu=62500*ob());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$i(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>yu?50:800)+s);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Hi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$i(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qi=null;function $i(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qi=new Map,s.forEach(Ab,e),qi=null,Hi.call(e))}function Ab(e,s){if(!(s.state.loading&4)){var l=qi.get(e);if(l)var r=l.get(null);else{l=new Map,qi.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<c.length;m++){var b=c[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),r=b)}r&&l.set(null,r)}c=s.instance,b=c.getAttribute("data-precedence"),m=l.get(b)||r,m===r&&l.set(null,c),l.set(b,c),this.count++,r=Hi.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),m?m.parentNode.insertBefore(c,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),s.state.loading|=4}}var br={$$typeof:H,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function _b(e,s,l,r,c,m,b,w,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.hiddenUpdates=gl(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function of(e,s,l,r,c,m,b,w,z,Q,se,ie){return e=new _b(e,s,l,b,z,Q,se,ie,w),s=1,m===!0&&(s|=24),m=ps(3,null,null,s),e.current=m,m.stateNode=e,s=Ko(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:r,isDehydrated:l,cache:s},sc(m),e}function cf(e){return e?(e=Jl,e):Jl}function uf(e,s,l,r,c,m){c=cf(c),r.context===null?r.context=c:r.pendingContext=c,r=Jn(s),r.payload={element:l},m=m===void 0?null:m,m!==null&&(r.callback=m),l=Kn(e,r,s),l!==null&&(us(l,e,s),Za(l,e,s))}function df(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<s?l:s}}function vu(e,s){df(e,s),(e=e.alternate)&&df(e,s)}function mf(e){if(e.tag===13||e.tag===31){var s=wl(e,67108864);s!==null&&us(s,e,67108864),vu(e,67108864)}}function hf(e){if(e.tag===13||e.tag===31){var s=js();s=fn(s);var l=wl(e,s);l!==null&&us(l,e,s),vu(e,s)}}var Yi=!0;function Db(e,s,l,r){var c=C.T;C.T=null;var m=K.p;try{K.p=2,ju(e,s,l,r)}finally{K.p=m,C.T=c}}function Rb(e,s,l,r){var c=C.T;C.T=null;var m=K.p;try{K.p=8,ju(e,s,l,r)}finally{K.p=m,C.T=c}}function ju(e,s,l,r){if(Yi){var c=Nu(r);if(c===null)iu(e,s,r,Fi,l),xf(e,r);else if(zb(c,e,s,l,r))r.stopPropagation();else if(xf(e,r),s&4&&-1<Mb.indexOf(e)){for(;c!==null;){var m=ve(c);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Bt(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var z=1<<31-Ie(b);w.entanglements[1]|=z,b&=~z}an(m),(Je&6)===0&&(Ti=Ct()+500,mr(0))}}break;case 31:case 13:w=wl(m,2),w!==null&&us(w,m,2),Ei(),vu(m,2)}if(m=Nu(r),m===null&&iu(e,s,r,Fi,l),m===c)break;c=m}c!==null&&r.stopPropagation()}else iu(e,s,r,null,l)}}function Nu(e){return e=So(e),wu(e)}var Fi=null;function wu(e){if(Fi=null,e=je(e),e!==null){var s=d(e);if(s===null)e=null;else{var l=s.tag;if(l===13){if(e=h(s),e!==null)return e;e=null}else if(l===31){if(e=x(s),e!==null)return e;e=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Fi=e,null}function ff(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($n()){case ee:return 2;case xe:return 8;case Ce:case Me:return 32;case Re:return 268435456;default:return 32}default:return 32}}var Su=!1,cl=null,ul=null,dl=null,yr=new Map,vr=new Map,ml=[],Mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xf(e,s){switch(e){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":yr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(s.pointerId)}}function jr(e,s,l,r,c,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:l,eventSystemFlags:r,nativeEvent:m,targetContainers:[c]},s!==null&&(s=ve(s),s!==null&&mf(s)),e):(e.eventSystemFlags|=r,s=e.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),e)}function zb(e,s,l,r,c){switch(s){case"focusin":return cl=jr(cl,e,s,l,r,c),!0;case"dragenter":return ul=jr(ul,e,s,l,r,c),!0;case"mouseover":return dl=jr(dl,e,s,l,r,c),!0;case"pointerover":var m=c.pointerId;return yr.set(m,jr(yr.get(m)||null,e,s,l,r,c)),!0;case"gotpointercapture":return m=c.pointerId,vr.set(m,jr(vr.get(m)||null,e,s,l,r,c)),!0}return!1}function pf(e){var s=je(e.target);if(s!==null){var l=d(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){e.blockedOn=s,Gn(e.priority,function(){hf(l)});return}}else if(s===31){if(s=x(l),s!==null){e.blockedOn=s,Gn(e.priority,function(){hf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gi(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var l=Nu(e.nativeEvent);if(l===null){l=e.nativeEvent;var r=new l.constructor(l.type,l);wo=r,l.target.dispatchEvent(r),wo=null}else return s=ve(l),s!==null&&mf(s),e.blockedOn=l,!1;s.shift()}return!0}function gf(e,s,l){Gi(e)&&l.delete(s)}function Lb(){Su=!1,cl!==null&&Gi(cl)&&(cl=null),ul!==null&&Gi(ul)&&(ul=null),dl!==null&&Gi(dl)&&(dl=null),yr.forEach(gf),vr.forEach(gf)}function Vi(e,s){e.blockedOn===s&&(e.blockedOn=null,Su||(Su=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Lb)))}var Pi=null;function bf(e){Pi!==e&&(Pi=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pi===e&&(Pi=null);for(var s=0;s<e.length;s+=3){var l=e[s],r=e[s+1],c=e[s+2];if(typeof r!="function"){if(wu(r||l)===null)continue;break}var m=ve(l);m!==null&&(e.splice(s,3),s-=3,Nc(m,{pending:!0,data:c,method:l.method,action:r},r,c))}}))}function ja(e){function s(z){return Vi(z,e)}cl!==null&&Vi(cl,e),ul!==null&&Vi(ul,e),dl!==null&&Vi(dl,e),yr.forEach(s),vr.forEach(s);for(var l=0;l<ml.length;l++){var r=ml[l];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ml.length&&(l=ml[0],l.blockedOn===null);)pf(l),l.blockedOn===null&&ml.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var c=l[r],m=l[r+1],b=c[Yt]||null;if(typeof m=="function")b||bf(l);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(c=m,b=m[Yt]||null)w=b.formAction;else if(wu(c)!==null)continue}else w=b.action;typeof w=="function"?l[r+1]=w:(l.splice(r,3),r-=3),bf(l)}}}function yf(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return c=b})},focusReset:"manual",scroll:"manual"})}function s(){c!==null&&(c(),c=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),c!==null&&(c(),c=null)}}}function Tu(e){this._internalRoot=e}Ii.prototype.render=Tu.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(o(409));var l=s.current,r=js();uf(l,r,e,s,null,null)},Ii.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;uf(e.current,2,null,e,null,null),Ei(),s[en]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var s=yl();e={blockedOn:null,target:e,priority:s};for(var l=0;l<ml.length&&s!==0&&s<ml[l].priority;l++);ml.splice(l,0,e),l===0&&pf(e)}};var vf=a.version;if(vf!=="19.2.0")throw Error(o(527,vf,"19.2.0"));K.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=f(s),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Ob={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{At=Qi.inject(Ob),ut=Qi}catch{}}return wr.createRoot=function(e,s){if(!u(e))throw Error(o(299));var l=!1,r="",c=k0,m=E0,b=C0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=of(e,1,!1,null,null,l,r,null,c,m,b,yf),e[en]=s.current,ru(e),new Tu(s)},wr.hydrateRoot=function(e,s,l){if(!u(e))throw Error(o(299));var r=!1,c="",m=k0,b=E0,w=C0,z=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(z=l.formState)),s=of(e,1,!0,s,l??null,r,c,z,m,b,w,yf),s.context=cf(null),l=s.current,r=js(),r=fn(r),c=Jn(r),c.callback=null,Kn(l,c,r),l=r,s.current.lanes=l,Ks(s,l),an(s),e[en]=s.current,ru(e),new Ii(s)},wr.version="19.2.0",wr}var _f;function Pb(){if(_f)return Cu.exports;_f=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Cu.exports=Vb(),Cu.exports}var Ib=Pb();const Qb=mo(Ib);var Df="popstate";function Xb(n={}){function a(o,u){let{pathname:d,search:h,hash:x}=o.location;return Zu("",{pathname:d,search:h,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){return typeof u=="string"?u:Mr(u)}return Jb(a,i,null,n)}function pt(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function Ss(n,a){if(!n){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Zb(){return Math.random().toString(36).substring(2,10)}function Rf(n,a){return{usr:n.state,key:n.key,idx:a}}function Zu(n,a,i=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof a=="string"?Ca(a):a,state:i,key:a&&a.key||o||Zb()}}function Mr({pathname:n="/",search:a="",hash:i=""}){return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Ca(n){let a={};if(n){let i=n.indexOf("#");i>=0&&(a.hash=n.substring(i),n=n.substring(0,i));let o=n.indexOf("?");o>=0&&(a.search=n.substring(o),n=n.substring(0,o)),n&&(a.pathname=n)}return a}function Jb(n,a,i,o={}){let{window:u=document.defaultView,v5Compat:d=!1}=o,h=u.history,x="POP",p=null,f=g();f==null&&(f=0,h.replaceState({...h.state,idx:f},""));function g(){return(h.state||{idx:null}).idx}function y(){x="POP";let U=g(),k=U==null?null:U-f;f=U,p&&p({action:x,location:E.location,delta:k})}function S(U,k){x="PUSH";let M=Zu(E.location,U,k);f=g()+1;let H=Rf(M,f),ne=E.createHref(M);try{h.pushState(H,"",ne)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;u.location.assign(ne)}d&&p&&p({action:x,location:E.location,delta:1})}function N(U,k){x="REPLACE";let M=Zu(E.location,U,k);f=g();let H=Rf(M,f),ne=E.createHref(M);h.replaceState(H,"",ne),d&&p&&p({action:x,location:E.location,delta:0})}function B(U){return Kb(U)}let E={get action(){return x},get location(){return n(u,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(Df,y),p=U,()=>{u.removeEventListener(Df,y),p=null}},createHref(U){return a(u,U)},createURL:B,encodeLocation(U){let k=B(U);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:S,replace:N,go(U){return h.go(U)}};return E}function Kb(n,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),pt(i,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:Mr(n);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function Dx(n,a,i="/"){return Wb(n,a,i,!1)}function Wb(n,a,i,o){let u=typeof a=="string"?Ca(a):a,d=Hn(u.pathname||"/",i);if(d==null)return null;let h=Rx(n);ey(h);let x=null;for(let p=0;x==null&&p<h.length;++p){let f=dy(d);x=cy(h[p],f,o)}return x}function Rx(n,a=[],i=[],o="",u=!1){let d=(h,x,p=u,f)=>{let g={relativePath:f===void 0?h.path||"":f,caseSensitive:h.caseSensitive===!0,childrenIndex:x,route:h};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&p)return;pt(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let y=Un([o,g.relativePath]),S=i.concat(g);h.children&&h.children.length>0&&(pt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Rx(h.children,a,S,y,p)),!(h.path==null&&!h.index)&&a.push({path:y,score:iy(y,h.index),routesMeta:S})};return n.forEach((h,x)=>{if(h.path===""||!h.path?.includes("?"))d(h,x);else for(let p of Mx(h.path))d(h,x,!0,p)}),a}function Mx(n){let a=n.split("/");if(a.length===0)return[];let[i,...o]=a,u=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return u?[d,""]:[d];let h=Mx(o.join("/")),x=[];return x.push(...h.map(p=>p===""?d:[d,p].join("/"))),u&&x.push(...h),x.map(p=>n.startsWith("/")&&p===""?"/":p)}function ey(n){n.sort((a,i)=>a.score!==i.score?i.score-a.score:oy(a.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var ty=/^:[\w-]+$/,sy=3,ny=2,ly=1,ay=10,ry=-2,Mf=n=>n==="*";function iy(n,a){let i=n.split("/"),o=i.length;return i.some(Mf)&&(o+=ry),a&&(o+=ny),i.filter(u=>!Mf(u)).reduce((u,d)=>u+(ty.test(d)?sy:d===""?ly:ay),o)}function oy(n,a){return n.length===a.length&&n.slice(0,-1).every((o,u)=>o===a[u])?n[n.length-1]-a[a.length-1]:0}function cy(n,a,i=!1){let{routesMeta:o}=n,u={},d="/",h=[];for(let x=0;x<o.length;++x){let p=o[x],f=x===o.length-1,g=d==="/"?a:a.slice(d.length)||"/",y=oo({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},g),S=p.route;if(!y&&f&&i&&!o[o.length-1].route.index&&(y=oo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(u,y.params),h.push({params:u,pathname:Un([d,y.pathname]),pathnameBase:py(Un([d,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(d=Un([d,y.pathnameBase]))}return h}function oo(n,a){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,o]=uy(n.path,n.caseSensitive,n.end),u=a.match(i);if(!u)return null;let d=u[0],h=d.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:o.reduce((f,{paramName:g,isOptional:y},S)=>{if(g==="*"){let B=x[S]||"";h=d.slice(0,d.length-B.length).replace(/(.)\/+$/,"$1")}const N=x[S];return y&&!N?f[g]=void 0:f[g]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:d,pathnameBase:h,pattern:n}}function uy(n,a=!1,i=!0){Ss(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,p)=>(o.push({paramName:x,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),o]}function dy(n){try{return n.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Ss(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),n}}function Hn(n,a){if(a==="/")return n;if(!n.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,o=n.charAt(i);return o&&o!=="/"?null:n.slice(i)||"/"}var my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hy=n=>my.test(n);function fy(n,a="/"){let{pathname:i,search:o="",hash:u=""}=typeof n=="string"?Ca(n):n,d;if(i)if(hy(i))d=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),Ss(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?d=zf(i.substring(1),"/"):d=zf(i,a)}else d=a;return{pathname:d,search:gy(o),hash:by(u)}}function zf(n,a){let i=a.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Ru(n,a,i,o){return`Cannot include a '${n}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xy(n){return n.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function md(n){let a=xy(n);return a.map((i,o)=>o===a.length-1?i.pathname:i.pathnameBase)}function hd(n,a,i,o=!1){let u;typeof n=="string"?u=Ca(n):(u={...n},pt(!u.pathname||!u.pathname.includes("?"),Ru("?","pathname","search",u)),pt(!u.pathname||!u.pathname.includes("#"),Ru("#","pathname","hash",u)),pt(!u.search||!u.search.includes("#"),Ru("#","search","hash",u)));let d=n===""||u.pathname==="",h=d?"/":u.pathname,x;if(h==null)x=i;else{let y=a.length-1;if(!o&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),y-=1;u.pathname=S.join("/")}x=y>=0?a[y]:"/"}let p=fy(u,x),f=h&&h!=="/"&&h.endsWith("/"),g=(d||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(f||g)&&(p.pathname+="/"),p}var Un=n=>n.join("/").replace(/\/\/+/g,"/"),py=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gy=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,by=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zx=["POST","PUT","PATCH","DELETE"];new Set(zx);var vy=["GET",...zx];new Set(vy);var Aa=T.createContext(null);Aa.displayName="DataRouter";var ho=T.createContext(null);ho.displayName="DataRouterState";T.createContext(!1);var Lx=T.createContext({isTransitioning:!1});Lx.displayName="ViewTransition";var jy=T.createContext(new Map);jy.displayName="Fetchers";var Ny=T.createContext(null);Ny.displayName="Await";var Is=T.createContext(null);Is.displayName="Navigation";var Lr=T.createContext(null);Lr.displayName="Location";var Qs=T.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var fd=T.createContext(null);fd.displayName="RouteError";function wy(n,{relative:a}={}){pt(_a(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=T.useContext(Is),{hash:u,pathname:d,search:h}=Or(n,{relative:a}),x=d;return i!=="/"&&(x=d==="/"?i:Un([i,d])),o.createHref({pathname:x,search:h,hash:u})}function _a(){return T.useContext(Lr)!=null}function Ts(){return pt(_a(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Lr).location}var Ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bx(n){T.useContext(Is).static||T.useLayoutEffect(n)}function Xs(){let{isDataRoute:n}=T.useContext(Qs);return n?By():Sy()}function Sy(){pt(_a(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(Aa),{basename:a,navigator:i}=T.useContext(Is),{matches:o}=T.useContext(Qs),{pathname:u}=Ts(),d=JSON.stringify(md(o)),h=T.useRef(!1);return Bx(()=>{h.current=!0}),T.useCallback((p,f={})=>{if(Ss(h.current,Ox),!h.current)return;if(typeof p=="number"){i.go(p);return}let g=hd(p,JSON.parse(d),u,f.relative==="path");n==null&&a!=="/"&&(g.pathname=g.pathname==="/"?a:Un([a,g.pathname])),(f.replace?i.replace:i.push)(g,f.state,f)},[a,i,d,u,n])}T.createContext(null);function Ty(){let{matches:n}=T.useContext(Qs),a=n[n.length-1];return a?a.params:{}}function Or(n,{relative:a}={}){let{matches:i}=T.useContext(Qs),{pathname:o}=Ts(),u=JSON.stringify(md(i));return T.useMemo(()=>hd(n,JSON.parse(u),o,a==="path"),[n,u,o,a])}function ky(n,a){return Ux(n,a)}function Ux(n,a,i,o,u){pt(_a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=T.useContext(Is),{matches:h}=T.useContext(Qs),x=h[h.length-1],p=x?x.params:{},f=x?x.pathname:"/",g=x?x.pathnameBase:"/",y=x&&x.route;{let M=y&&y.path||"";Hx(f,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let S=Ts(),N;if(a){let M=typeof a=="string"?Ca(a):a;pt(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),N=M}else N=S;let B=N.pathname||"/",E=B;if(g!=="/"){let M=g.replace(/^\//,"").split("/");E="/"+B.replace(/^\//,"").split("/").slice(M.length).join("/")}let U=Dx(n,{pathname:E});Ss(y||U!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Ss(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Dy(U&&U.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:Un([g,d.encodeLocation?d.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Un([g,d.encodeLocation?d.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),h,i,o,u);return a&&k?T.createElement(Lr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},k):k}function Ey(){let n=Oy(),a=yy(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:d},"ErrorBoundary")," or"," ",T.createElement("code",{style:d},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},a),i?T.createElement("pre",{style:u},i):null,h)}var Cy=T.createElement(Ey,null),Ay=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){this.props.onError?this.props.onError(n,a):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?T.createElement(Qs.Provider,{value:this.props.routeContext},T.createElement(fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _y({routeContext:n,match:a,children:i}){let o=T.useContext(Aa);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),T.createElement(Qs.Provider,{value:n},i)}function Dy(n,a=[],i=null,o=null,u=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let d=n,h=i?.errors;if(h!=null){let g=d.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);pt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,g+1))}let x=!1,p=-1;if(i)for(let g=0;g<d.length;g++){let y=d[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:S,errors:N}=i,B=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!N||N[y.route.id]===void 0);if(y.route.lazy||B){x=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}let f=i&&o?(g,y)=>{o(g,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:y})}:void 0;return d.reduceRight((g,y,S)=>{let N,B=!1,E=null,U=null;i&&(N=h&&y.route.id?h[y.route.id]:void 0,E=y.route.errorElement||Cy,x&&(p<0&&S===0?(Hx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,U=null):p===S&&(B=!0,U=y.route.hydrateFallbackElement||null)));let k=a.concat(d.slice(0,S+1)),M=()=>{let H;return N?H=E:B?H=U:y.route.Component?H=T.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,T.createElement(_y,{match:y,routeContext:{outlet:g,matches:k,isDataRoute:i!=null},children:H})};return i&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?T.createElement(Ay,{location:i.location,revalidation:i.revalidation,component:E,error:N,children:M(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):M()},null)}function xd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ry(n){let a=T.useContext(Aa);return pt(a,xd(n)),a}function My(n){let a=T.useContext(ho);return pt(a,xd(n)),a}function zy(n){let a=T.useContext(Qs);return pt(a,xd(n)),a}function pd(n){let a=zy(n),i=a.matches[a.matches.length-1];return pt(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function Ly(){return pd("useRouteId")}function Oy(){let n=T.useContext(fd),a=My("useRouteError"),i=pd("useRouteError");return n!==void 0?n:a.errors?.[i]}function By(){let{router:n}=Ry("useNavigate"),a=pd("useNavigate"),i=T.useRef(!1);return Bx(()=>{i.current=!0}),T.useCallback(async(u,d={})=>{Ss(i.current,Ox),i.current&&(typeof u=="number"?n.navigate(u):await n.navigate(u,{fromRouteId:a,...d}))},[n,a])}var Lf={};function Hx(n,a,i){!a&&!Lf[n]&&(Lf[n]=!0,Ss(!1,i))}T.memo(Uy);function Uy({routes:n,future:a,state:i,unstable_onError:o}){return Ux(n,void 0,i,o,a)}function Ta({to:n,replace:a,state:i,relative:o}){pt(_a(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=T.useContext(Is);Ss(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=T.useContext(Qs),{pathname:h}=Ts(),x=Xs(),p=hd(n,md(d),h,o==="path"),f=JSON.stringify(p);return T.useEffect(()=>{x(JSON.parse(f),{replace:a,state:i,relative:o})},[x,f,o,a,i]),null}function ht(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hy({basename:n="/",children:a=null,location:i,navigationType:o="POP",navigator:u,static:d=!1}){pt(!_a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),x=T.useMemo(()=>({basename:h,navigator:u,static:d,future:{}}),[h,u,d]);typeof i=="string"&&(i=Ca(i));let{pathname:p="/",search:f="",hash:g="",state:y=null,key:S="default"}=i,N=T.useMemo(()=>{let B=Hn(p,h);return B==null?null:{location:{pathname:B,search:f,hash:g,state:y,key:S},navigationType:o}},[h,p,f,g,y,S,o]);return Ss(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:T.createElement(Is.Provider,{value:x},T.createElement(Lr.Provider,{children:a,value:N}))}function qx({children:n,location:a}){return ky(Ju(n),a)}function Ju(n,a=[]){let i=[];return T.Children.forEach(n,(o,u)=>{if(!T.isValidElement(o))return;let d=[...a,u];if(o.type===T.Fragment){i.push.apply(i,Ju(o.props.children,d));return}pt(o.type===ht,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Ju(o.props.children,d)),i.push(h)}),i}var lo="get",ao="application/x-www-form-urlencoded";function fo(n){return n!=null&&typeof n.tagName=="string"}function qy(n){return fo(n)&&n.tagName.toLowerCase()==="button"}function $y(n){return fo(n)&&n.tagName.toLowerCase()==="form"}function Yy(n){return fo(n)&&n.tagName.toLowerCase()==="input"}function Fy(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Gy(n,a){return n.button===0&&(!a||a==="_self")&&!Fy(n)}function Ku(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((a,i)=>{let o=n[i];return a.concat(Array.isArray(o)?o.map(u=>[i,u]):[[i,o]])},[]))}function Vy(n,a){let i=Ku(n);return a&&a.forEach((o,u)=>{i.has(u)||a.getAll(u).forEach(d=>{i.append(u,d)})}),i}var Xi=null;function Py(){if(Xi===null)try{new FormData(document.createElement("form"),0),Xi=!1}catch{Xi=!0}return Xi}var Iy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mu(n){return n!=null&&!Iy.has(n)?(Ss(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ao}"`),null):n}function Qy(n,a){let i,o,u,d,h;if($y(n)){let x=n.getAttribute("action");o=x?Hn(x,a):null,i=n.getAttribute("method")||lo,u=Mu(n.getAttribute("enctype"))||ao,d=new FormData(n)}else if(qy(n)||Yy(n)&&(n.type==="submit"||n.type==="image")){let x=n.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||x.getAttribute("action");if(o=p?Hn(p,a):null,i=n.getAttribute("formmethod")||x.getAttribute("method")||lo,u=Mu(n.getAttribute("formenctype"))||Mu(x.getAttribute("enctype"))||ao,d=new FormData(x,n),!Py()){let{name:f,type:g,value:y}=n;if(g==="image"){let S=f?`${f}.`:"";d.append(`${S}x`,"0"),d.append(`${S}y`,"0")}else f&&d.append(f,y)}}else{if(fo(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=lo,o=null,u=ao,h=n}return d&&u==="text/plain"&&(h=d,d=void 0),{action:o,method:i.toLowerCase(),encType:u,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gd(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function Xy(n,a,i){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname=`_root.${i}`:a&&Hn(o.pathname,a)==="/"?o.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Zy(n,a){if(n.id in a)return a[n.id];try{let i=await import(n.module);return a[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jy(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Ky(n,a,i){let o=await Promise.all(n.map(async u=>{let d=a.routes[u.route.id];if(d){let h=await Zy(d,i);return h.links?h.links():[]}return[]}));return sv(o.flat(1).filter(Jy).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Of(n,a,i,o,u,d){let h=(p,f)=>i[f]?p.route.id!==i[f].route.id:!0,x=(p,f)=>i[f].pathname!==p.pathname||i[f].route.path?.endsWith("*")&&i[f].params["*"]!==p.params["*"];return d==="assets"?a.filter((p,f)=>h(p,f)||x(p,f)):d==="data"?a.filter((p,f)=>{let g=o.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(h(p,f)||x(p,f))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Wy(n,a,{includeHydrateFallback:i}={}){return ev(n.map(o=>{let u=a.routes[o.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function ev(n){return[...new Set(n)]}function tv(n){let a={},i=Object.keys(n).sort();for(let o of i)a[o]=n[o];return a}function sv(n,a){let i=new Set;return new Set(a),n.reduce((o,u)=>{let d=JSON.stringify(tv(u));return i.has(d)||(i.add(d),o.push({key:d,link:u})),o},[])}function $x(){let n=T.useContext(Aa);return gd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nv(){let n=T.useContext(ho);return gd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var bd=T.createContext(void 0);bd.displayName="FrameworkContext";function Yx(){let n=T.useContext(bd);return gd(n,"You must render this element inside a <HydratedRouter> element"),n}function lv(n,a){let i=T.useContext(bd),[o,u]=T.useState(!1),[d,h]=T.useState(!1),{onFocus:x,onBlur:p,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=a,S=T.useRef(null);T.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let E=k=>{k.forEach(M=>{h(M.isIntersecting)})},U=new IntersectionObserver(E,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[n]),T.useEffect(()=>{if(o){let E=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(E)}}},[o]);let N=()=>{u(!0)},B=()=>{u(!1),h(!1)};return i?n!=="intent"?[d,S,{}]:[d,S,{onFocus:Sr(x,N),onBlur:Sr(p,B),onMouseEnter:Sr(f,N),onMouseLeave:Sr(g,B),onTouchStart:Sr(y,N)}]:[!1,S,{}]}function Sr(n,a){return i=>{n&&n(i),i.defaultPrevented||a(i)}}function av({page:n,...a}){let{router:i}=$x(),o=T.useMemo(()=>Dx(i.routes,n,i.basename),[i.routes,n,i.basename]);return o?T.createElement(iv,{page:n,matches:o,...a}):null}function rv(n){let{manifest:a,routeModules:i}=Yx(),[o,u]=T.useState([]);return T.useEffect(()=>{let d=!1;return Ky(n,a,i).then(h=>{d||u(h)}),()=>{d=!0}},[n,a,i]),o}function iv({page:n,matches:a,...i}){let o=Ts(),{manifest:u,routeModules:d}=Yx(),{basename:h}=$x(),{loaderData:x,matches:p}=nv(),f=T.useMemo(()=>Of(n,a,p,u,o,"data"),[n,a,p,u,o]),g=T.useMemo(()=>Of(n,a,p,u,o,"assets"),[n,a,p,u,o]),y=T.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let B=new Set,E=!1;if(a.forEach(k=>{let M=u.routes[k.route.id];!M||!M.hasLoader||(!f.some(H=>H.route.id===k.route.id)&&k.route.id in x&&d[k.route.id]?.shouldRevalidate||M.hasClientLoader?E=!0:B.add(k.route.id))}),B.size===0)return[];let U=Xy(n,h,"data");return E&&B.size>0&&U.searchParams.set("_routes",a.filter(k=>B.has(k.route.id)).map(k=>k.route.id).join(",")),[U.pathname+U.search]},[h,x,o,u,f,a,n,d]),S=T.useMemo(()=>Wy(g,u),[g,u]),N=rv(g);return T.createElement(T.Fragment,null,y.map(B=>T.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...i})),S.map(B=>T.createElement("link",{key:B,rel:"modulepreload",href:B,...i})),N.map(({key:B,link:E})=>T.createElement("link",{key:B,nonce:i.nonce,...E})))}function ov(...n){return a=>{n.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var Fx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fx&&(window.__reactRouterVersion="7.9.6")}catch{}function Gx({basename:n,children:a,window:i}){let o=T.useRef();o.current==null&&(o.current=Xb({window:i,v5Compat:!0}));let u=o.current,[d,h]=T.useState({action:u.action,location:u.location}),x=T.useCallback(p=>{T.startTransition(()=>h(p))},[h]);return T.useLayoutEffect(()=>u.listen(x),[u,x]),T.createElement(Hy,{basename:n,children:a,location:d.location,navigationType:d.action,navigator:u})}var Vx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=T.forwardRef(function({onClick:a,discover:i="render",prefetch:o="none",relative:u,reloadDocument:d,replace:h,state:x,target:p,to:f,preventScrollReset:g,viewTransition:y,...S},N){let{basename:B}=T.useContext(Is),E=typeof f=="string"&&Vx.test(f),U,k=!1;if(typeof f=="string"&&E&&(U=f,Fx))try{let me=new URL(window.location.href),G=f.startsWith("//")?new URL(me.protocol+f):new URL(f),A=Hn(G.pathname,B);G.origin===me.origin&&A!=null?f=A+G.search+G.hash:k=!0}catch{Ss(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=wy(f,{relative:u}),[H,ne,be]=lv(o,S),$=mv(f,{replace:h,state:x,target:p,preventScrollReset:g,relative:u,viewTransition:y});function q(me){a&&a(me),me.defaultPrevented||$(me)}let fe=T.createElement("a",{...S,...be,href:U||M,onClick:k||d?a:q,ref:ov(N,ne),target:p,"data-discover":!E&&i==="render"?"true":void 0});return H&&!E?T.createElement(T.Fragment,null,fe,T.createElement(av,{page:M})):fe});Fe.displayName="Link";var cv=T.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:o="",end:u=!1,style:d,to:h,viewTransition:x,children:p,...f},g){let y=Or(h,{relative:f.relative}),S=Ts(),N=T.useContext(ho),{navigator:B,basename:E}=T.useContext(Is),U=N!=null&&bv(y)&&x===!0,k=B.encodeLocation?B.encodeLocation(y).pathname:y.pathname,M=S.pathname,H=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(M=M.toLowerCase(),H=H?H.toLowerCase():null,k=k.toLowerCase()),H&&E&&(H=Hn(H,E)||H);const ne=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let be=M===k||!u&&M.startsWith(k)&&M.charAt(ne)==="/",$=H!=null&&(H===k||!u&&H.startsWith(k)&&H.charAt(k.length)==="/"),q={isActive:be,isPending:$,isTransitioning:U},fe=be?a:void 0,me;typeof o=="function"?me=o(q):me=[o,be?"active":null,$?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let G=typeof d=="function"?d(q):d;return T.createElement(Fe,{...f,"aria-current":fe,className:me,ref:g,style:G,to:h,viewTransition:x},typeof p=="function"?p(q):p)});cv.displayName="NavLink";var uv=T.forwardRef(({discover:n="render",fetcherKey:a,navigate:i,reloadDocument:o,replace:u,state:d,method:h=lo,action:x,onSubmit:p,relative:f,preventScrollReset:g,viewTransition:y,...S},N)=>{let B=pv(),E=gv(x,{relative:f}),U=h.toLowerCase()==="get"?"get":"post",k=typeof x=="string"&&Vx.test(x),M=H=>{if(p&&p(H),H.defaultPrevented)return;H.preventDefault();let ne=H.nativeEvent.submitter,be=ne?.getAttribute("formmethod")||h;B(ne||H.currentTarget,{fetcherKey:a,method:be,navigate:i,replace:u,state:d,relative:f,preventScrollReset:g,viewTransition:y})};return T.createElement("form",{ref:N,method:U,action:E,onSubmit:o?p:M,...S,"data-discover":!k&&n==="render"?"true":void 0})});uv.displayName="Form";function dv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Px(n){let a=T.useContext(Aa);return pt(a,dv(n)),a}function mv(n,{target:a,replace:i,state:o,preventScrollReset:u,relative:d,viewTransition:h}={}){let x=Xs(),p=Ts(),f=Or(n,{relative:d});return T.useCallback(g=>{if(Gy(g,a)){g.preventDefault();let y=i!==void 0?i:Mr(p)===Mr(f);x(n,{replace:y,state:o,preventScrollReset:u,relative:d,viewTransition:h})}},[p,x,f,i,o,a,n,u,d,h])}function hv(n){Ss(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=T.useRef(Ku(n)),i=T.useRef(!1),o=Ts(),u=T.useMemo(()=>Vy(o.search,i.current?null:a.current),[o.search]),d=Xs(),h=T.useCallback((x,p)=>{const f=Ku(typeof x=="function"?x(new URLSearchParams(u)):x);i.current=!0,d("?"+f,p)},[d,u]);return[u,h]}var fv=0,xv=()=>`__${String(++fv)}__`;function pv(){let{router:n}=Px("useSubmit"),{basename:a}=T.useContext(Is),i=Ly();return T.useCallback(async(o,u={})=>{let{action:d,method:h,encType:x,formData:p,body:f}=Qy(o,a);if(u.navigate===!1){let g=u.fetcherKey||xv();await n.fetch(g,i,u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:f,formMethod:u.method||h,formEncType:u.encType||x,flushSync:u.flushSync})}else await n.navigate(u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:f,formMethod:u.method||h,formEncType:u.encType||x,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,a,i])}function gv(n,{relative:a}={}){let{basename:i}=T.useContext(Is),o=T.useContext(Qs);pt(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),d={...Or(n||".",{relative:a})},h=Ts();if(n==null){d.search=h.search;let x=new URLSearchParams(d.search),p=x.getAll("index");if(p.some(g=>g==="")){x.delete("index"),p.filter(y=>y).forEach(y=>x.append("index",y));let g=x.toString();d.search=g?`?${g}`:""}}return(!n||n===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Un([i,d.pathname])),Mr(d)}function bv(n,{relative:a}={}){let i=T.useContext(Lx);pt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Px("useViewTransitionState"),u=Or(n,{relative:a});if(!i.isTransitioning)return!1;let d=Hn(i.currentLocation.pathname,o)||i.currentLocation.pathname,h=Hn(i.nextLocation.pathname,o)||i.nextLocation.pathname;return oo(u.pathname,h)!=null||oo(u.pathname,d)!=null}const yv="https://sunke-vasan-varpe-varadaraju.onrender.com/api";class vv{constructor(){this.baseURL=yv}async request(a,i={}){const o=`${this.baseURL}${a}`,u={headers:{"Content-Type":"application/json",...i.headers},...i},d=localStorage.getItem("token");d&&(u.headers.Authorization=`Bearer ${d}`);try{const h=await fetch(o,u),x=await h.json();if(!h.ok){if(h.status===400&&x.errors)return{success:!1,message:x.message,errors:x.errors};throw new Error(x.message||`HTTP error! status: ${h.status}`)}return x}catch(h){if(h.name==="TypeError"&&h.message.includes("fetch"))return console.error("Network error:",h),{success:!1,message:"Network error. Please check your connection."};throw console.error("API request failed:",h),h}}get(a,i={}){return this.request(a,{method:"GET",...i})}post(a,i,o={}){return this.request(a,{method:"POST",body:JSON.stringify(i),...o})}put(a,i,o={}){return this.request(a,{method:"PUT",body:JSON.stringify(i),...o})}delete(a,i={}){return this.request(a,{method:"DELETE",...i})}}const Tr=new vv,Na={async register(n){const a=await Tr.post("/auth/register",n);return a.success&&a.data&&a.data.token?(localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),{success:!0,user:a.data.user,token:a.data.token,message:a.message}):a},async login(n){const a=await Tr.post("/auth/login",n);return a.success&&a.data&&a.data.token?(localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),{success:!0,user:a.data.user,token:a.data.token,message:a.message}):a},async logout(){try{await Tr.post("/auth/logout")}catch(n){console.error("Logout error:",n)}finally{localStorage.removeItem("token"),localStorage.removeItem("user")}},async getProfile(){return await Tr.get("/auth/profile")},async updateProfile(n){return await Tr.put("/auth/profile",n)},getCurrentUser(){const n=localStorage.getItem("user");return n?JSON.parse(n):null},getToken(){return localStorage.getItem("token")},isAuthenticated(){const n=this.getToken();if(!n)return!1;try{return JSON.parse(atob(n.split(".")[1])).exp*1e3>Date.now()}catch{return!1}}},Ix=T.createContext(),qt=()=>{const n=T.useContext(Ix);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Qx=({children:n})=>{const[a,i]=T.useState(null),[o,u]=T.useState(!0);console.log(" AuthProvider rendering, user:",a,"loading:",o),T.useEffect(()=>{(async()=>{console.log(" Initializing auth...");try{const y=Na.isAuthenticated();if(console.log(" Is authenticated:",y),y){const S=Na.getCurrentUser();console.log(" Current user from storage:",S),i(S)}else console.log(" Not authenticated, clearing storage"),localStorage.removeItem("token"),localStorage.removeItem("user")}catch(y){console.error(" Auth initialization error:",y)}finally{console.log(" Auth initialization complete, setting loading to false"),u(!1)}})()},[]);const f={user:a,register:async g=>{try{const y=await Na.register(g);return y.success&&i(y.user),y}catch(y){throw y}},login:async(g,y)=>{try{const S=await Na.login({email:g,password:y});if(S.success)return i(S.user),S;throw new Error(S.message||"Login failed")}catch(S){throw S}},logout:async()=>{try{await Na.logout(),i(null)}catch(g){console.error("Logout error:",g),i(null)}},updateProfile:async g=>{try{const y=await Na.updateProfile(g);if(y.success){const S={...a,...y.profile};return i(S),localStorage.setItem("user",JSON.stringify(S)),y}throw new Error(y.message||"Profile update failed")}catch(y){throw y}},isAuthenticated:!!a,loading:o};return t.jsx(Ix.Provider,{value:f,children:n})},$s=({children:n,requiredRole:a=null})=>{const{user:i,loading:o}=qt();if(o)return t.jsx("div",{className:"protected-route-loading",children:t.jsx("div",{className:"protected-route-spinner"})});if(!i)return t.jsx(Ta,{to:"/login",replace:!0});const u=i?.role||i?.account_type;return a&&u!==a?t.jsx(Ta,{to:"/unauthorized",replace:!0}):n},Zi=({children:n})=>{const{user:a,loading:i}=qt();if(i)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(a)switch(a?.role||a?.account_type){case"student":return t.jsx(Ta,{to:"/student-dashboard",replace:!0});case"tutor":return t.jsx(Ta,{to:"/tutor-dashboard",replace:!0});case"admin":return t.jsx(Ta,{to:"/admin-dashboard",replace:!0});default:return t.jsx(Ta,{to:"/",replace:!0})}return n},Be=({variant:n="primary",size:a="md",children:i,loading:o=!1,className:u="",disabled:d,...h})=>{const x="button-base",p={primary:"button-primary",secondary:"button-secondary",outline:"button-outline"},f={sm:"button-sm",md:"button-md",lg:"button-lg"},g=`${x} ${p[n]} ${f[a]} ${u}`;return t.jsx("button",{className:g,disabled:d||o,...h,children:o?t.jsxs("div",{className:"button-loading",children:[t.jsx("div",{className:"button-spinner"}),"Loading..."]}):i})},jv=()=>{const[n,a]=T.useState(!1),[i,o]=T.useState(!1),[u,d]=T.useState(!1),h=Ts(),x=Xs(),{user:p,logout:f,isAuthenticated:g}=qt(),y=T.useRef(null);T.useEffect(()=>{const M=H=>{y.current&&!y.current.contains(H.target)&&d(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]),T.useEffect(()=>{d(!1),a(!1)},[h]);const N=(()=>{const M=[{name:"Home",href:"/"},{name:"About",href:"/about"}];if(g){const H=[],ne=p?.role||p?.account_type;return ne==="student"&&H.push({name:"Find Tutors",href:"/tutors"}),ne==="student"?H.unshift({name:"Dashboard",href:"/student-dashboard"}):ne==="tutor"?H.unshift({name:"Dashboard",href:"/tutor-dashboard"}):ne==="admin"&&H.unshift({name:"Dashboard",href:"/admin-dashboard"}),[...M,...H]}return M})(),B=M=>h.pathname===M,E=async()=>{o(!0);try{await f(),a(!1),d(!1),x("/")}catch(M){console.error("Logout failed:",M)}finally{o(!1)}},U=()=>{d(!u)},k=()=>{x("/profile"),d(!1),a(!1)};return t.jsx("nav",{className:"navbar-container",children:t.jsxs("div",{className:"navbar-wrapper",children:[t.jsxs("div",{className:"navbar-content",children:[t.jsx("div",{className:"navbar-logo-container",children:t.jsxs(Fe,{to:"/",className:"navbar-logo-link",children:[t.jsx("div",{className:"navbar-logo-icon",children:t.jsx("span",{className:"navbar-logo-text",children:"T"})}),t.jsx("span",{className:"navbar-brand-text",children:"Tutor Together"})]})}),t.jsx("div",{className:"navbar-desktop-nav",children:t.jsx("div",{className:"navbar-nav-links",children:N.map(M=>t.jsx(Fe,{to:M.href,className:`navbar-link ${B(M.href)?"navbar-link-active":"navbar-link-inactive"}`,children:M.name},M.name))})}),t.jsx("div",{className:"navbar-desktop-auth",children:g?t.jsxs("div",{className:"navbar-profile-dropdown-container",ref:y,children:[t.jsx("div",{className:"navbar-profile-wrapper",children:t.jsxs("button",{onClick:U,className:"navbar-profile-button",children:[t.jsx("div",{className:"navbar-avatar",children:(p?.profile?.fullName||p?.full_name||p?.name||p?.username||"").split(" ").map(M=>M[0]).join("")||"U"}),t.jsx("span",{className:"navbar-username",children:p?.profile?.fullName||p?.full_name||p?.name||p?.username||"User"}),t.jsx("svg",{className:"navbar-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),u&&t.jsx("div",{className:"navbar-dropdown-menu",children:t.jsxs("div",{className:"navbar-dropdown-content",children:[t.jsxs("button",{onClick:k,className:"navbar-dropdown-item",children:[t.jsx("svg",{className:"navbar-dropdown-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"View Profile"]}),t.jsx("div",{className:"navbar-dropdown-divider"}),t.jsx("button",{onClick:E,disabled:i,className:"navbar-dropdown-item navbar-dropdown-item-logout",children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"navbar-spinner"}),"Logging out..."]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"navbar-dropdown-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})})]}):t.jsxs(t.Fragment,{children:[t.jsx(Fe,{to:"/login",children:t.jsx(Be,{variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Login"})}),t.jsx(Fe,{to:"/register",children:t.jsx(Be,{variant:"primary",size:"sm",children:"Register"})})]})}),t.jsx("div",{className:"navbar-mobile-toggle",children:t.jsx("button",{onClick:()=>a(!n),className:"navbar-toggle-button",children:t.jsx("svg",{className:"navbar-toggle-icon",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:n?t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]}),n&&t.jsx("div",{className:"navbar-mobile-nav",children:t.jsxs("div",{className:"navbar-mobile-content",children:[t.jsx("div",{className:"navbar-mobile-links",children:N.map(M=>t.jsx(Fe,{to:M.href,className:`navbar-item ${B(M.href)?"navbar-link-active":"navbar-link-inactive"}`,onClick:()=>a(!1),children:M.name},M.name))}),t.jsx("div",{className:"navbar-mobile-auth",children:g?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"navbar-mobile-profile",children:[t.jsx("div",{className:"navbar-mobile-avatar",children:(p?.profile?.fullName||p?.full_name||p?.name||p?.username||"").split(" ").map(M=>M[0]).join("")||"U"}),t.jsx("div",{className:"navbar-mobile-username",children:p?.profile?.fullName||p?.full_name||p?.name||p?.username||"User"})]}),t.jsxs("button",{onClick:k,className:"navbar-mobile-profile-button",children:[t.jsx("svg",{className:"navbar-mobile-profile-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),t.jsx("span",{children:"View Profile"})]}),t.jsx(Be,{variant:"outline",size:"sm",className:"w-full",onClick:E,disabled:i,children:i?t.jsxs("div",{className:"navbar-mobile-logout-content",children:[t.jsx("div",{className:"navbar-mobile-spinner"}),t.jsx("span",{children:"Logging out..."})]}):"Logout"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Fe,{to:"/login",onClick:()=>a(!1),children:t.jsx(Be,{variant:"outline",size:"sm",className:"w-full",children:"Login"})}),t.jsx(Fe,{to:"/register",onClick:()=>a(!1),children:t.jsx(Be,{variant:"primary",size:"sm",className:"w-full",children:"Register"})})]})})]})})]})})},Nv=()=>{const n=Xs();if(Ts().pathname==="/chatbot")return null;const i=()=>{n("/chatbot")};return t.jsxs("div",{className:"ai-chat-container",onClick:i,children:[t.jsxs("div",{className:"ai-chat-button",children:[t.jsx("svg",{className:"ai-chat-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),t.jsx("div",{className:"ai-indicator-outer"}),t.jsx("div",{className:"ai-indicator-inner"})]}),t.jsxs("div",{className:"ai-chat-tooltip",children:["AI Assistant",t.jsx("div",{className:"ai-chat-tooltip-arrow"})]})]})},wv=()=>{try{const{user:n,isAuthenticated:a,loading:i}=qt();console.log(" AuthDebug render:",{user:n,isAuthenticated:a,loading:i});const o={position:"fixed",top:"10px",right:"10px",background:"red",color:"white",padding:"15px",borderRadius:"8px",fontSize:"14px",zIndex:99999,maxWidth:"400px",border:"2px solid white",fontFamily:"monospace"};return i?t.jsxs("div",{style:o,children:[t.jsx("div",{children:t.jsx("strong",{children:" AUTH DEBUG - LOADING"})}),t.jsx("div",{children:"State: Loading auth..."})]}):t.jsxs("div",{style:o,children:[t.jsx("div",{children:t.jsx("strong",{children:" AUTH DEBUG"})}),t.jsxs("div",{children:[" Authenticated: ",a?" YES":" NO"]}),t.jsxs("div",{children:[" User Object: ",n?"EXISTS":"NULL"]}),n&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[" Email: ",n.email||"N/A"]}),t.jsxs("div",{children:[" Role: ",n?.role||n?.account_type||"N/A"]}),t.jsxs("div",{children:[" Name: ",n?.name||n?.full_name||n?.username||"N/A"]}),t.jsxs("div",{children:[" ID: ",n.id||"N/A"]})]}),t.jsxs("div",{children:[" Token: ",localStorage.getItem("token")?"PRESENT":"MISSING"]}),t.jsxs("div",{children:[" Location: ",window.location.pathname]})]})}catch(n){return console.error(" AuthDebug Error:",n),t.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"red",color:"white",padding:"15px",borderRadius:"8px",fontSize:"14px",zIndex:99999,border:"2px solid white"},children:[t.jsx("div",{children:t.jsx("strong",{children:" AUTH DEBUG ERROR"})}),t.jsxs("div",{children:["Error: ",n.message]})]})}},Sv=()=>(console.log(" TestComponent is rendering"),t.jsxs("div",{style:{position:"fixed",top:"100px",left:"10px",background:"green",color:"white",padding:"20px",borderRadius:"8px",zIndex:99999,border:"3px solid yellow"},children:[t.jsx("h3",{children:" TEST COMPONENT"}),t.jsx("div",{children:"If you see this, React is working!"}),t.jsxs("div",{children:["Current Time: ",new Date().toLocaleTimeString()]})]}));class Xw extends _x.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return console.log(" ErrorBoundary - getDerivedStateFromError:",a),{hasError:!0}}componentDidCatch(a,i){console.error(" ErrorBoundary caught an error:",a),console.error(" ErrorBoundary errorInfo:",i),this.setState({error:a||new Error("Unknown error"),errorInfo:i||{componentStack:"No stack trace available"}})}render(){return this.state.hasError?t.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"red",color:"white",padding:"20px",borderRadius:"8px",maxWidth:"80%",zIndex:99999,textAlign:"center"},children:[t.jsx("h2",{children:" Something went wrong!"}),t.jsxs("details",{children:[t.jsx("summary",{children:"Error Details (click to expand)"}),t.jsxs("div",{style:{textAlign:"left",marginTop:"10px"},children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Error:"})," ",this.state.error&&this.state.error.toString()]}),t.jsx("p",{children:t.jsx("strong",{children:"Component Stack:"})}),t.jsx("pre",{children:this.state.errorInfo&&this.state.errorInfo.componentStack?this.state.errorInfo.componentStack:"No component stack available"})]})]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"10px 20px",background:"white",color:"red",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const qn=({children:n,className:a="",hover:i=!0})=>t.jsx("div",{className:`card ${i?"card-hover":""} ${a}`,children:n}),ss=({children:n,className:a="",maxWidth:i="lg"})=>{const o={sm:"container-sm",md:"container-md",lg:"container-lg",xl:"container-xl","2xl":"container-2xl",full:"container-full"};return t.jsx("div",{className:`container-base ${o[i]} ${a}`,children:n})},Tt=({label:n,error:a,helperText:i,className:o="",type:u="text",...d})=>{const[h,x]=T.useState(!1),p=u==="password",f=()=>{x(!h)};return t.jsxs("div",{className:"input-wrapper",children:[n&&t.jsx("label",{className:"input-label",children:n}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:p?h?"text":"password":u,className:`input-field input-field-base ${a?"input-error":""} ${p?"pr-12":""} ${o}`,...d}),p&&t.jsx("button",{type:"button",onClick:f,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200 focus:outline-none transition-colors",tabIndex:-1,children:h?t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),a&&t.jsx("p",{className:"input-error-text",children:a}),i&&!a&&t.jsx("p",{className:"input-helper-text",children:i})]})},Bn=({isOpen:n,onClose:a,title:i,children:o,size:u="md"})=>{if(!n)return null;const d={sm:"modal-sm",md:"modal-md",lg:"modal-lg",xl:"modal-xl"},h=x=>{x.target===x.currentTarget&&a()};return t.jsx("div",{className:"modal-backdrop",onClick:h,children:t.jsxs("div",{className:`modal-content ${d[u]}`,children:[i&&t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:i}),t.jsx("button",{onClick:a,className:"modal-close",children:t.jsx("svg",{className:"modal-close-icon",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),o]})})},Tv=()=>{const{user:n,isAuthenticated:a,loading:i}=qt(),o=Xs();if(T.useEffect(()=>{if(!i&&a&&n){const h=n?.role||n?.account_type;h==="student"?o("/student-dashboard",{replace:!0}):h==="tutor"?o("/tutor-dashboard",{replace:!0}):h==="admin"&&o("/admin-dashboard",{replace:!0})}},[a,n,i,o]),i)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:t.jsx("div",{className:"text-white text-lg",children:"Loading..."})});if(a)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),t.jsx("p",{className:"text-white",children:"Redirecting to dashboard..."})]})});const u=[{icon:"",title:"Personalized Learning",description:"AI-powered matching connects you with tutors who understand your learning style and goals."},{icon:"",title:"AI Study Assistant",description:"Get instant help with homework, generate practice problems, and receive study recommendations."},{icon:"",title:"Progress Tracking",description:"Monitor your learning journey with detailed analytics and achievement milestones."},{icon:"",title:"Interactive Sessions",description:"Engage in live video sessions with screen sharing, whiteboards, and collaborative tools."},{icon:"",title:"Expert Tutors",description:"Learn from qualified educators with proven track records and positive student reviews."},{icon:"",title:"Flexible Scheduling",description:"Book sessions that fit your schedule with instant confirmations and easy rescheduling."}],d=[{name:"Emma Chen",role:"Computer Science Student",content:"Tutor Together helped me improve my programming skills dramatically. The AI assistant is incredibly helpful for debugging!",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=80&h=80&fit=crop"},{name:"Marcus Johnson",role:"High School Student",content:"My calculus grades went from C to A+ in just 3 months. The personalized learning approach really works!",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=80&h=80&fit=crop"},{name:"Sophia Rodriguez",role:"Physics Major",content:"The progress tracking feature keeps me motivated, and the tutors are amazing at explaining complex concepts.",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=80&h=80&fit=crop"}];return t.jsxs("div",{className:"min-h-screen",children:[t.jsx("section",{className:"bg-gradient-to-br from-black via-gray-900 to-black py-20 lg:py-32",children:t.jsx(ss,{children:t.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[t.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Connect, Learn,",t.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-gray-300 bg-clip-text text-transparent",children:" Succeed"})]}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:"Accelerate your learning journey with AI-powered tutoring, personalized study plans, and expert guidance tailored to your goals."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(Fe,{to:"/register",children:t.jsx(Be,{size:"lg",className:"w-full sm:w-auto",children:"Get Started Free"})}),t.jsx(Fe,{to:"/tutors",children:t.jsx(Be,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"Find Tutors"})})]}),t.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"No credit card required  Cancel anytime  500+ expert tutors"})]})})}),t.jsx("section",{className:"py-20 bg-gray-900/50",children:t.jsxs(ss,{children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Why Choose Tutor Together?"}),t.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Our platform combines cutting-edge AI technology with human expertise to create the most effective learning experience."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map((h,x)=>t.jsxs(qn,{className:"text-center",children:[t.jsx("div",{className:"text-4xl mb-4",children:h.icon}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:h.title}),t.jsx("p",{className:"text-gray-300 leading-relaxed",children:h.description})]},x))})]})}),t.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-gray-400",children:t.jsx(ss,{children:t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"10K+"}),t.jsx("div",{className:"text-white/80",children:"Students Helped"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"500+"}),t.jsx("div",{className:"text-white/80",children:"Expert Tutors"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"50+"}),t.jsx("div",{className:"text-white/80",children:"Subjects Covered"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"4.9/5"}),t.jsx("div",{className:"text-white/80",children:"Average Rating"})]})]})})}),t.jsx("section",{className:"py-20 bg-black",children:t.jsxs(ss,{children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"What Our Students Say"}),t.jsx("p",{className:"text-xl text-gray-300",children:"Real success stories from students who transformed their learning experience"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:d.map((h,x)=>t.jsxs(qn,{children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("img",{src:h.avatar,alt:h.name,className:"w-12 h-12 rounded-full mr-4"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-white",children:h.name}),t.jsx("p",{className:"text-gray-400 text-sm",children:h.role})]})]}),t.jsxs("p",{className:"text-gray-300 italic leading-relaxed",children:['"',h.content,'"']}),t.jsx("div",{className:"flex text-yellow-400 mt-4",children:"".repeat(5)})]},x))})]})}),t.jsx("section",{className:"py-20 bg-gray-900/50",children:t.jsx(ss,{children:t.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Learning?"}),t.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join thousands of students who have already accelerated their academic success with our AI-powered tutoring platform."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(Fe,{to:"/register",children:t.jsx(Be,{size:"lg",className:"w-full sm:w-auto",children:"Start Learning Today"})}),t.jsx(Fe,{to:"/about",children:t.jsx(Be,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"Learn More"})})]})]})})})]})},kv=()=>{const[n,a]=T.useState({email:"",password:"",rememberMe:!1}),[i,o]=T.useState({}),[u,d]=T.useState(!1),h=Xs(),{login:x}=qt(),p=y=>{const{name:S,value:N,type:B,checked:E}=y.target;a(U=>({...U,[S]:B==="checkbox"?E:N})),i[S]&&o(U=>({...U,[S]:""}))},f=()=>{const y={};return n.email?/\S+@\S+\.\S+/.test(n.email)||(y.email="Please enter a valid email address"):y.email="Email is required",n.password?n.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",o(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!f()){d(!0);try{const S=await x(n.email,n.password);switch(S.user.account_type||S.user.accountType){case"student":h("/student-dashboard");break;case"tutor":h("/tutor-dashboard");break;case"admin":h("/admin-dashboard");break;default:h("/")}}catch(S){o({submit:S.message||"Invalid email or password. Please try again."})}finally{d(!1)}}};return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs(ss,{maxWidth:"sm",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-gray-400 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"T"})})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),t.jsx("p",{className:"text-gray-400",children:"Sign in to your account to continue learning"})]}),t.jsxs(qn,{children:[t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsx(Tt,{label:"Email Address",type:"email",name:"email",value:n.email,onChange:p,placeholder:"Enter your email",error:i.email,required:!0}),t.jsx(Tt,{label:"Password",type:"password",name:"password",value:n.password,onChange:p,placeholder:"Enter your password",error:i.password,required:!0}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"remember-me",name:"rememberMe",type:"checkbox",checked:n.rememberMe,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-600 bg-gray-800 rounded"}),t.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-sm text-gray-300",children:"Remember me"})]}),t.jsx("div",{className:"text-sm",children:t.jsx(Fe,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Forgot your password?"})})]}),i.submit&&t.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-300 px-4 py-3 rounded-lg",children:i.submit}),t.jsx(Be,{type:"submit",loading:u,className:"w-full",children:u?"Signing In...":"Sign In"})]}),t.jsx("div",{className:"mt-6"}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",t.jsx(Fe,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign up here"})]})})]})]})})},Ev=()=>{const[n,a]=T.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",userType:"student"}),[i,o]=T.useState({}),[u,d]=T.useState(!1),h=Xs(),{register:x}=qt(),p=y=>{const{name:S,value:N,type:B,checked:E}=y.target;a(U=>({...U,[S]:B==="checkbox"?E:N})),i[S]&&o(U=>({...U,[S]:""}))},f=()=>{const y={};return n.firstName.trim()||(y.firstName="First name is required"),n.lastName.trim()||(y.lastName="Last name is required"),n.email?/\S+@\S+\.\S+/.test(n.email)||(y.email="Please enter a valid email address"):y.email="Email is required",n.password?n.password.length<8?y.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(n.password)||(y.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):y.password="Password is required",n.confirmPassword?n.password!==n.confirmPassword&&(y.confirmPassword="Passwords do not match"):y.confirmPassword="Please confirm your password",o(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!f()){d(!0);try{const S={firstName:n.firstName.trim(),lastName:n.lastName.trim(),email:n.email,password:n.password,confirmPassword:n.confirmPassword,userType:n.userType},N=await x(S);if(!N.success){if(N.errors&&Array.isArray(N.errors)){const B={};N.errors.forEach(E=>{B[E.param||"submit"]=E.msg}),o(B)}else o({submit:N.message||"Registration failed. Please try again."});return}if(n.userType==="tutor")o({submit:"success:Your tutor account has been created successfully! You can now log in and complete your profile."}),setTimeout(()=>{h("/login")},2e3);else switch(N.user.role||N.user.accountType){case"student":h("/student-dashboard");break;case"tutor":h("/tutor-dashboard");break;case"admin":h("/admin-dashboard");break;default:h("/")}}catch(S){o({submit:S.message||"Registration failed. This email may already be registered."})}finally{d(!1)}}};return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs(ss,{maxWidth:"sm",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-gray-400 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"T"})})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Your Account"}),t.jsx("p",{className:"text-gray-400",children:"Join thousands of learners and tutors today"})]}),t.jsxs(qn,{children:[t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Tt,{label:"First Name",type:"text",name:"firstName",value:n.firstName,onChange:p,placeholder:"Enter first name",error:i.firstName,required:!0}),t.jsx(Tt,{label:"Last Name",type:"text",name:"lastName",value:n.lastName,onChange:p,placeholder:"Enter last name",error:i.lastName,required:!0})]}),t.jsx(Tt,{label:"Email Address",type:"email",name:"email",value:n.email,onChange:p,placeholder:"Enter your email",error:i.email,required:!0}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"I want to join as a"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`relative cursor-pointer rounded-lg border p-4 transition-colors ${n.userType==="student"?"border-blue-500 bg-blue-900/20":"border-gray-600 bg-gray-800 hover:bg-gray-700"}`,onClick:()=>a(y=>({...y,userType:"student"})),children:[t.jsx("input",{type:"radio",name:"userType",value:"student",checked:n.userType==="student",onChange:p,className:"sr-only"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium text-white",children:"Student"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Learn and grow"})]}),n.userType==="student"&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})]}),t.jsxs("div",{className:`relative cursor-pointer rounded-lg border p-4 transition-colors ${n.userType==="tutor"?"border-blue-500 bg-blue-900/20":"border-gray-600 bg-gray-800 hover:bg-gray-700"}`,onClick:()=>a(y=>({...y,userType:"tutor"})),children:[t.jsx("input",{type:"radio",name:"userType",value:"tutor",checked:n.userType==="tutor",onChange:p,className:"sr-only"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium text-white",children:"Tutor"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Teach and earn"})]}),n.userType==="tutor"&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})]})]})]}),t.jsx(Tt,{label:"Password",type:"password",name:"password",value:n.password,onChange:p,placeholder:"Create a strong password",error:i.password,help:"Must be at least 8 characters with uppercase, lowercase, and number",required:!0}),t.jsx(Tt,{label:"Confirm Password",type:"password",name:"confirmPassword",value:n.confirmPassword,onChange:p,placeholder:"Confirm your password",error:i.confirmPassword,required:!0}),i.submit&&t.jsx("div",{className:`border px-4 py-3 rounded-lg ${i.submit.startsWith("success:")?"bg-green-900/50 border-green-500 text-green-300":"bg-red-900/50 border-red-500 text-red-300"}`,children:i.submit.startsWith("success:")?i.submit.replace("success:",""):i.submit}),t.jsx(Be,{type:"submit",loading:u,className:"w-full",children:u?"Creating Account...":"Create Account"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",t.jsx(Fe,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign in here"})]})})]})]})})},Cv="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Av=()=>{const[n,a]=T.useState({email:""}),[i,o]=T.useState({}),[u,d]=T.useState(!1),[h,x]=T.useState(!1),[p,f]=T.useState(""),[g,y]=T.useState(null),S=E=>{const{name:U,value:k}=E.target;a(M=>({...M,[U]:k})),i[U]&&o(M=>({...M,[U]:""}))},N=()=>{const E={};return n.email?/\S+@\S+\.\S+/.test(n.email)||(E.email="Please enter a valid email address"):E.email="Email is required",o(E),Object.keys(E).length===0},B=async E=>{if(E.preventDefault(),!!N()){d(!0),o({});try{const k=await(await fetch(`${Cv}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email})})).json();if(k.success){x(!0),y(k);let M=k.message;k.debug&&k.debug.token&&(M+=`

Reset Token: ${k.debug.token}

Copy this token to reset your password.`),f(M)}else if(k.errors&&Array.isArray(k.errors)){const M={};k.errors.forEach(H=>{M[H.param||"submit"]=H.msg}),o(M)}else o({submit:k.message||"Failed to send reset email. Please try again."})}catch(U){console.error("Password reset error:",U),o({submit:"Network error. Please check your connection and try again."})}finally{d(!1)}}};return h?t.jsx(ss,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsx(qn,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset"}),t.jsx("div",{className:"text-gray-300 mb-6 whitespace-pre-line text-sm",children:p}),t.jsxs("div",{className:"space-y-4",children:[g&&g.debug&&g.debug.token&&t.jsx(Fe,{to:`/reset-password?token=${g.debug.token}`,children:t.jsx(Be,{variant:"primary",className:"w-full",children:"Reset Password with This Token"})}),t.jsx(Be,{onClick:()=>{x(!1),a({email:""}),f(""),y(null)},variant:"outline",className:"w-full",children:"Send Another Email"}),t.jsx(Fe,{to:"/login",children:t.jsx(Be,{variant:"secondary",className:"w-full",children:"Back to Login"})})]})]})})}):t.jsx(ss,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsxs(qn,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Forgot Password"}),t.jsx("p",{className:"text-gray-300",children:"Enter your email address and we'll send you instructions to reset your password."})]}),t.jsxs("form",{onSubmit:B,className:"space-y-6",children:[t.jsx("div",{children:t.jsx(Tt,{label:"Email Address",type:"email",name:"email",value:n.email,onChange:S,placeholder:"Enter your email address",error:i.email,required:!0})}),i.submit&&t.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg",children:i.submit}),t.jsx(Be,{type:"submit",isLoading:u,disabled:u,className:"w-full",variant:"primary",children:u?"Sending...":"Send Reset Instructions"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(Fe,{to:"/login",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Back to Login"})})]})})},_v="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Dv=()=>{const n=Xs(),[a]=hv(),[i,o]=T.useState({token:"",password:"",confirmPassword:""}),[u,d]=T.useState({}),[h,x]=T.useState(!1),[p,f]=T.useState(!1),[g,y]=T.useState(!1),[S,N]=T.useState(!1);T.useEffect(()=>{const k=a.get("token");k&&o(M=>({...M,token:k}))},[a]);const B=k=>{const{name:M,value:H}=k.target;o(ne=>({...ne,[M]:H})),u[M]&&d(ne=>({...ne,[M]:""})),(M==="password"||M==="confirmPassword")&&u.confirmPassword&&d(ne=>({...ne,confirmPassword:""}))},E=()=>{const k={};return i.token?i.token.length<20&&(k.token="Invalid token format"):k.token="Reset token is required",i.password?i.password.length<8?k.password="Password must be at least 8 characters long":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(i.password)||(k.password="Password must contain at least one lowercase letter, one uppercase letter, and one number"):k.password="Password is required",i.confirmPassword?i.password.trim()!==i.confirmPassword.trim()&&(k.confirmPassword="Passwords do not match"):k.confirmPassword="Please confirm your password",d(k),Object.keys(k).length===0},U=async k=>{if(k.preventDefault(),!!E()){x(!0),d({});try{const H=await(await fetch(`${_v}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:i.token,password:i.password,confirmPassword:i.confirmPassword})})).json();if(H.success)f(!0);else if(H.errors&&Array.isArray(H.errors)){const ne={};H.errors.forEach(be=>{ne[be.param||"submit"]=be.msg}),d(ne)}else d({submit:H.message||"Failed to reset password. Please try again."})}catch(M){console.error("Password reset error:",M),d({submit:"Network error. Please check your connection and try again."})}finally{x(!1)}}};return p?t.jsx(ss,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsx(qn,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successful"}),t.jsx("p",{className:"text-gray-300 mb-6",children:"Your password has been successfully reset. You can now login with your new password."}),t.jsx(Be,{onClick:()=>n("/login"),variant:"primary",className:"w-full",children:"Continue to Login"})]})})}):t.jsx(ss,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsxs(qn,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-300",children:"Enter your reset token and choose a new password."})]}),t.jsxs("form",{onSubmit:U,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Tt,{label:"Reset Token",type:"text",name:"token",value:i.token,onChange:B,placeholder:"Enter your reset token",error:u.token,required:!0}),t.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Copy the token from your forgot password request"})]}),t.jsx("div",{children:t.jsxs("div",{className:"relative",children:[t.jsx(Tt,{label:"New Password",type:g?"text":"password",name:"password",value:i.password,onChange:B,placeholder:"Enter new password",error:u.password,required:!0}),t.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-300 focus:outline-none",children:g?t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})}),t.jsx("div",{children:t.jsxs("div",{className:"relative",children:[t.jsx(Tt,{label:"Confirm New Password",type:S?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:B,placeholder:"Confirm new password",error:u.confirmPassword,required:!0}),t.jsx("button",{type:"button",onClick:()=>N(!S),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-300 focus:outline-none",children:S?t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})}),u.submit&&t.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg",children:u.submit}),t.jsx(Be,{type:"submit",isLoading:h,disabled:h,className:"w-full",variant:"primary",children:h?"Resetting...":"Reset Password"})]}),t.jsxs("div",{className:"mt-6 text-center space-y-2",children:[t.jsx(Fe,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors block",children:"Request New Token"}),t.jsx(Fe,{to:"/login",className:"text-gray-400 hover:text-gray-300 transition-colors block",children:"Back to Login"})]})]})})},Ji="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Ki=()=>localStorage.getItem("token"),ot={async get(n){const a=Ki(),i=`${Ji}${n}`;console.log(` Making GET request to: ${i}`);const o=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}});if(console.log(" GET Response status:",o.status),!o.ok)throw console.error(" GET Response not ok:",o.status,o.statusText),{response:{data:await o.json().catch(()=>({message:"Unknown error"})),status:o.status}};const u=await o.json();return console.log(" GET Success response:",u),u},async post(n,a){const i=Ki(),o=`${Ji}${n}`;console.log(` Making POST request to: ${o}`),console.log(" Request data:",a);const u=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},body:JSON.stringify(a)});if(console.log(" Response status:",u.status),console.log(" Response ok:",u.ok),!u.ok)throw console.error(" Response not ok:",u.status,u.statusText),{response:{data:await u.json().catch(()=>({message:"Unknown error"})),status:u.status}};const d=await u.json();return console.log(" Success response:",d),d},async put(n,a){const i=Ki(),o=`${Ji}${n}`;console.log(` Making PUT request to: ${o}`),console.log(" Request data:",a);const u=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},body:JSON.stringify(a)});if(console.log(" PUT Response status:",u.status),!u.ok)throw console.error(" PUT Response not ok:",u.status,u.statusText),{response:{data:await u.json().catch(()=>({message:"Unknown error"})),status:u.status}};const d=await u.json();return console.log(" PUT Success response:",d),d},async delete(n){const a=Ki(),i=await fetch(`${Ji}${n}`,{method:"DELETE",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}});if(!i.ok)throw{response:{data:await i.json()}};return{data:await i.json()}}},Zt={getTutorAvailability:async(n,a=null)=>{try{const i=a?`?date=${a}`:"";return await ot.get(`/booking/tutors/${n}/availability${i}`)}catch(i){throw i.response?.data||i}},createBooking:async n=>{try{return await ot.post("/booking/bookings",n)}catch(a){throw a||a}},getStudentBookings:async(n=null,a=10,i=0)=>{try{const o=new URLSearchParams;return n&&o.append("status",n),o.append("limit",a),o.append("offset",i),await ot.get(`/booking/student/bookings?${o}`)}catch(o){console.error("Error fetching student bookings from API, using mock data:",o);const u=[{id:"1",tutorId:"a9efb1ee-dced-4c98-895a-a51c24270a5c",tutorName:"Dr. Johnson",tutorEmail:"dr.johnson@university.edu",date:"2025-11-21",startTime:"15:00",endTime:"16:00",duration:1,totalAmount:50,subject:"Mathematics",sessionType:"Mathematics",meetingType:"virtual",location:null,status:"confirmed",notes:"Calculus integration help session - accepted by tutor",createdAt:"2025-11-20T13:00:00Z"},{id:"2",tutorId:"b8f0c2ff-edef-5d09-906c-b62d35381a6d",tutorName:"Prof. Sarah Wilson",tutorEmail:"sarah.wilson@university.edu",date:"2025-11-25",startTime:"14:00",endTime:"15:30",duration:1.5,totalAmount:75,subject:"Physics",sessionType:"Physics",meetingType:"in_person",location:"University Library - Study Room 204",status:"confirmed",notes:"Quantum mechanics review - accepted by tutor",createdAt:"2025-11-20T10:30:00Z"},{id:"3",tutorId:"c7e1d3aa-f0e1-6e10-a17d-c73e46482b7e",tutorName:"Dr. Michael Chen",tutorEmail:"michael.chen@university.edu",date:"2025-11-23",startTime:"10:00",endTime:"11:00",duration:1,totalAmount:50,subject:"Computer Science",sessionType:"Computer Science",meetingType:"virtual",location:null,status:"pending",notes:"Data structures and algorithms help needed",createdAt:"2025-11-20T09:15:00Z"}];let d=u;return n&&n!=="all"&&(d=u.filter(h=>h.status===n)),{bookings:d,totalCount:d.length}}},getTutorBookings:async(n=null,a=10,i=0)=>{try{const o=new URLSearchParams;return n&&o.append("status",n),o.append("limit",a),o.append("offset",i),await ot.get(`/booking/tutor/bookings?${o}`)}catch(o){throw o||o}},getTutorSessions:async()=>{try{console.log(" Making API call to /booking/tutor/sessions...");const n=await ot.get("/booking/tutor/sessions");return console.log(" API response in getTutorSessions:",n),n}catch(n){console.error(" Error fetching tutor sessions from API:",n),console.error(" Error status:",n.response?.status),console.error(" Error message:",n.message),console.error(" Full error object:",n);const a=[{id:"session-1",studentId:"45c456fd-b7c4-4c2f-890b-ac636140ba8c",studentName:"Alex Rodriguez",studentAvatar:"/api/placeholder/40/40",subject:"Calculus",topic:"Integration by Parts",date:"2025-11-20",time:"14:00",duration:60,status:"scheduled",notes:"Focus on advanced integration techniques",meetingLink:"https://zoom.us/j/123456789",meetingType:"virtual"},{id:"session-2",studentId:"45c456fd-b7c4-4c2f-890b-ac636140ba8c",studentName:"Emma Wilson",studentAvatar:"/api/placeholder/40/40",subject:"Physics",topic:"Quantum Mechanics",date:"2025-11-21",time:"10:00",duration:60,status:"scheduled",notes:"Review quantum concepts",meetingLink:"https://meet.google.com/physics-session",meetingType:"virtual"},{id:"session-3",studentId:"45c456fd-b7c4-4c2f-890b-ac636140ba8c",studentName:"James Smith",studentAvatar:"/api/placeholder/40/40",subject:"Mathematics",topic:"Linear Algebra",date:"2025-11-19",time:"09:00",duration:60,status:"completed",notes:"Matrices and determinants",meetingLink:null,meetingType:"in_person",location:"Library Room 204"}];return{sessions:a,totalCount:a.length}}},updateBookingStatus:async(n,a,i=null)=>{try{return await ot.put(`/booking/bookings/${n}/status`,{status:a,notes:i})}catch(o){throw o.response?.data||o}},markSessionComplete:async(n,a=null)=>{try{const i=n.toString().startsWith("session-")?n.replace("session-",""):n;console.log(" Marking session complete:",{originalId:n,numericId:i});const o="https://sunke-vasan-varpe-varadaraju.onrender.com/api",u=localStorage.getItem("token"),d=await fetch(`${o}/booking/bookings/${i}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({completionNotes:a})});if(!d.ok){const x=await d.json().catch(()=>({error:d.statusText}));throw console.error(" Mark complete API error:",x),x}const h=await d.json();return console.log(" Mark complete API success:",h),h}catch(i){throw console.error(" Mark complete service error:",i),i.response?.data||i}},canMarkComplete:n=>{if(!n||!["scheduled","confirmed"].includes(n.status))return!1;const a=new Date(`${n.date}T${n.endTime||n.end_time}`);return new Date>=a},getTimeUntilComplete:n=>{if(!n)return null;const a=new Date(`${n.date}T${n.endTime||n.end_time}`),i=new Date;return i>=a?0:Math.ceil((a-i)/(1e3*60))},setTutorAvailability:async n=>{try{return await ot.post("/booking/tutors/availability",{availability:n})}catch(a){throw a.response?.data||a}},getAvailableTimeSlots:(n,a)=>n[a]||[],formatTime:n=>new Date(`2000-01-01 ${n}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),calculateDuration:(n,a)=>{const i=new Date(`2000-01-01 ${n}`);return(new Date(`2000-01-01 ${a}`)-i)/(1e3*60*60)},getDaysOfWeek:()=>["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],getPendingBookingRequests:async()=>{try{return(await ot.get("/booking/requests/pending"))?.bookingRequests||[]}catch(n){return console.error("Error fetching pending booking requests:",n),[{id:1,studentId:1,studentName:"Alice Johnson",studentEmail:"alice.johnson@university.edu",subject:"Mathematics",date:"2024-01-15",time:"14:00",duration:60,notes:"Need help with calculus derivatives and chain rule. Preparing for upcoming exam.",status:"pending",createdAt:"2024-01-12T10:30:00Z"},{id:2,studentId:2,studentName:"Bob Smith",studentEmail:"bob.smith@university.edu",subject:"Physics",date:"2024-01-16",time:"16:30",duration:90,notes:"Struggling with quantum mechanics concepts, especially wave functions.",status:"pending",createdAt:"2024-01-12T11:15:00Z"},{id:3,studentId:3,studentName:"Carol Davis",studentEmail:"carol.davis@university.edu",subject:"Chemistry",date:"2024-01-17",time:"10:00",duration:60,notes:"Need help with organic chemistry reactions and mechanisms.",status:"pending",createdAt:"2024-01-12T12:00:00Z"}]}},respondToBookingRequest:async(n,a,i="")=>{try{return await ot.put(`/booking/requests/${n}/respond`,{action:a,responseMessage:i})}catch(o){return console.error(`Error ${a}ing booking request:`,o),await new Promise(u=>setTimeout(u,1e3)),{success:!0,message:`Booking request ${a}ed successfully`,bookingId:a==="accept"?Math.floor(Math.random()*1e3):null}}},rescheduleBooking:async(n,a,i,o,u="")=>{try{return await ot.put(`/booking/bookings/${n}/reschedule`,{newDate:a,newStartTime:i,newEndTime:o,reason:u})}catch(d){return console.error("Error rescheduling booking:",d),await new Promise(h=>setTimeout(h,1e3)),{success:!0,message:"Reschedule request sent to tutor successfully",booking:{id:n,newDate:a,newStartTime:i,newEndTime:o,status:"reschedule_pending"}}}},cancelBooking:async(n,a="")=>{try{return await ot.put(`/booking/bookings/${n}/cancel`,{reason:a})}catch(i){throw console.error("Error canceling booking:",i),i.response?.data||i}},getAvailableRescheduleSlots:async(n,a,i=null)=>{try{const o=new URLSearchParams;return i&&o.append("date",i),a&&o.append("excludeBooking",a),await ot.get(`/booking/tutors/${n}/available-slots?${o}`)}catch(o){console.error("Error fetching available reschedule slots:",o);let u=[];const d=new Date,h=[];for(let x=1;x<=7;x++){const p=new Date(d);p.setDate(d.getDate()+x),h.push(p.toISOString().split("T")[0])}return n==="tutor_001"?u=[{date:h[0],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"11:00",endTime:"12:00"},{startTime:"14:00",endTime:"15:00"}]},{date:h[1],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"16:00",endTime:"17:00"}]},{date:h[2],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"15:00",endTime:"16:00"}]}]:n==="tutor_002"?u=[{date:h[0],slots:[{startTime:"08:00",endTime:"09:00"},{startTime:"12:00",endTime:"13:00"},{startTime:"15:00",endTime:"16:00"}]},{date:h[1],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"14:00",endTime:"15:00"}]},{date:h[3],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"17:00",endTime:"18:00"}]}]:n==="tutor_003"?u=[{date:h[1],slots:[{startTime:"11:00",endTime:"12:00"},{startTime:"14:00",endTime:"15:00"},{startTime:"16:00",endTime:"17:00"}]},{date:h[2],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"13:00",endTime:"14:00"}]},{date:h[4],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"15:00",endTime:"16:00"},{startTime:"18:00",endTime:"19:00"}]}]:u=[{date:h[0],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"14:00",endTime:"15:00"}]},{date:h[2],slots:[{startTime:"11:00",endTime:"12:00"},{startTime:"16:00",endTime:"17:00"}]}],{tutorId:n,availableSlots:u}}}},Bf=[{id:"1",name:"Rahul Varadaraju",email:"rahul.varadaraju@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1494790108755-2616b332e234?w=150",createdAt:"2024-01-15T10:00:00Z",rating:4.9,subjects:["Mathematics","Physics","Calculus"],hourlyRate:45,availability:{Monday:["09:00","10:00","11:00","14:00","15:00"],Tuesday:["09:00","10:00","13:00","14:00","15:00"],Wednesday:["10:00","11:00","14:00","15:00","16:00"],Thursday:["09:00","10:00","11:00","13:00","14:00"],Friday:["09:00","10:00","15:00","16:00"],Saturday:["10:00","11:00","12:00"],Sunday:[]},bio:"PhD in Mathematics with 8 years of teaching experience. Specializes in advanced calculus and physics problem-solving.",experience:8,totalSessions:342,responseTime:"< 2 hours"},{id:"2",name:"Chandrasekar Vasan",email:"chandrasekar.vasan@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",createdAt:"2024-01-10T08:30:00Z",rating:4.8,subjects:["Computer Science","Programming","Data Structures"],hourlyRate:55,availability:{Monday:["13:00","14:00","15:00","16:00","17:00"],Tuesday:["13:00","14:00","15:00","16:00"],Wednesday:["14:00","15:00","16:00","17:00"],Thursday:["13:00","14:00","15:00","16:00","17:00"],Friday:["13:00","14:00","15:00"],Saturday:["09:00","10:00","11:00","12:00"],Sunday:["14:00","15:00","16:00"]},bio:"Senior software engineer turned educator with expertise in algorithms, data structures, and modern programming languages.",experience:6,totalSessions:287,responseTime:"< 1 hour"},{id:"3",name:"Kishore Kumar Sunke",email:"kishore.sunke@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150",createdAt:"2024-01-20T12:15:00Z",rating:4.7,subjects:["Chemistry","Biology","Organic Chemistry"],hourlyRate:42,availability:{Monday:["08:00","09:00","10:00","11:00"],Tuesday:["08:00","09:00","10:00","16:00","17:00"],Wednesday:["08:00","09:00","16:00","17:00"],Thursday:["08:00","09:00","10:00","11:00","16:00"],Friday:["08:00","09:00","10:00"],Saturday:[],Sunday:["15:00","16:00","17:00"]},bio:"Biochemistry PhD with a passion for making complex scientific concepts accessible and engaging for students.",experience:5,totalSessions:198,responseTime:"< 3 hours"},{id:"4",name:"Pranav Varpe",email:"pranav.varpe@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150",createdAt:"2024-02-01T09:45:00Z",rating:4.6,subjects:["History","English Literature","Writing"],hourlyRate:38,availability:{Monday:["10:00","11:00","12:00","15:00","16:00"],Tuesday:["10:00","11:00","12:00","15:00"],Wednesday:["11:00","12:00","15:00","16:00","17:00"],Thursday:["10:00","11:00","12:00","15:00","16:00"],Friday:["10:00","11:00","12:00"],Saturday:["09:00","10:00","11:00"],Sunday:[]},bio:"Masters in English Literature with extensive experience in academic writing and historical research methods.",experience:4,totalSessions:156,responseTime:"< 4 hours"}],Uf=n=>new Promise(a=>setTimeout(a,n)),Rv="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Hl=async(n,a={})=>{try{const i=`${Rv}${n}`,o=localStorage.getItem("token"),u={headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...a.headers},...a},d=await fetch(i,u),h=await d.json();if(!d.ok)throw new Error(h.message||`HTTP error! status: ${d.status}`);return h}catch(i){throw console.error("API call failed:",i),i}},Wu={async getAllTutors(n={}){const a=new URLSearchParams;n.search&&a.append("search",n.search),n.subject&&a.append("subject",n.subject),n.minPrice&&a.append("minPrice",n.minPrice),n.maxPrice&&a.append("maxPrice",n.maxPrice),n.sortBy&&a.append("sortBy",n.sortBy);const i=`/tutors${a.toString()?`?${a.toString()}`:""}`;return(await Hl(i)).data||[]},async getTutorById(n){try{return(await Hl(`/tutors/${n}`)).data}catch(a){return console.error("Failed to fetch tutor:",a),await Uf(300),Bf.find(i=>i.id===n)||null}},async getTutorSubjects(){try{return(await Hl("/tutors/subjects")).data||[]}catch(n){return console.error("Failed to fetch tutor subjects:",n),["Mathematics","Physics","Chemistry","Computer Science","Economics","English","Biology"]}},async searchTutors(n,a){await Uf(600);let i=Bf;return n&&(i=i.filter(o=>o.subjects.some(u=>u.toLowerCase().includes(n.toLowerCase())))),i}},Ys={async getTasks(){return await Hl("/tasks")},async createTask(n){return await Hl("/tasks",{method:"POST",body:JSON.stringify({title:n.title,description:n.description,subject:n.subject,priority:n.priority,estimatedTime:n.estimatedTime,dueDate:n.due})})},async updateTask(n,a){return await Hl(`/tasks/${n}`,{method:"PUT",body:JSON.stringify({title:a.title,description:a.description,subject:a.subject,priority:a.priority,estimatedTime:a.estimatedTime,dueDate:a.due,status:a.status,progress:a.progress})})},async deleteTask(n){return await Hl(`/tasks/${n}`,{method:"DELETE"})}},Mv=({isOpen:n,onClose:a,booking:i,onCancelSuccess:o})=>{const[u,d]=T.useState(""),[h,x]=T.useState(!1),[p,f]=T.useState(""),g=async()=>{if(!u.trim()){f("Please provide a reason for cancellation");return}try{x(!0),f("");const E=await Zt.cancelBooking(i.id,u);E.success?(o(E.booking),a(),y()):f(E.message||"Failed to cancel booking")}catch{f("Failed to cancel booking")}finally{x(!1)}},y=()=>{d(""),f("")},S=()=>{y(),a()},N=E=>new Date(E).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),B=E=>new Date(`2000-01-01 ${E}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return i?t.jsx(Bn,{isOpen:n,onClose:S,className:"cancel-modal",children:t.jsxs("div",{className:"cancel-modal-content",children:[t.jsxs("div",{className:"cancel-header",children:[t.jsx("div",{className:"cancel-icon",children:""}),t.jsx("h2",{className:"cancel-title",children:"Cancel Session"}),t.jsx("button",{onClick:S,className:"close-button",children:""})]}),t.jsxs("div",{className:"cancel-warning",children:[t.jsx("p",{children:"Are you sure you want to cancel this tutoring session?"}),t.jsxs("div",{className:"warning-note",children:[t.jsx("strong",{children:"Note:"})," Your tutor will be notified immediately, and you may be subject to our cancellation policy."]})]}),t.jsxs("div",{className:"session-details",children:[t.jsx("h3",{children:"Session Details"}),t.jsxs("div",{className:"booking-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Tutor:"}),t.jsx("span",{className:"value",children:i.tutorName})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Subject:"}),t.jsx("span",{className:"value",children:i.subject})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Date:"}),t.jsx("span",{className:"value",children:N(i.date)})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Time:"}),t.jsxs("span",{className:"value",children:[B(i.startTime)," - ",B(i.endTime)]})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Duration:"}),t.jsxs("span",{className:"value",children:[i.duration," hour(s)"]})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Amount:"}),t.jsxs("span",{className:"value",children:["$",i.totalAmount]})]})]})]}),t.jsxs("div",{className:"reason-section",children:[t.jsxs("label",{htmlFor:"cancel-reason",children:["Reason for Cancellation ",t.jsx("span",{className:"required",children:"*"})]}),t.jsx("textarea",{id:"cancel-reason",value:u,onChange:E=>d(E.target.value),placeholder:"Please explain why you need to cancel this session...",rows:"4",className:"reason-textarea",required:!0}),t.jsx("div",{className:"reason-options",children:t.jsxs("div",{className:"quick-reasons",children:[t.jsx("p",{children:"Quick reasons:"}),t.jsxs("div",{className:"reason-buttons",children:[t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("Schedule conflict - cannot attend at this time"),children:"Schedule Conflict"}),t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("Personal emergency - need to cancel"),children:"Emergency"}),t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("Illness - unable to attend session"),children:"Illness"}),t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("No longer need tutoring for this subject"),children:"No Longer Needed"})]})]})})]}),p&&t.jsx("div",{className:"error-message",children:p}),t.jsxs("div",{className:"cancellation-policy",children:[t.jsx("h4",{children:"Cancellation Policy"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Cancellations made 24+ hours in advance: Full refund"}),t.jsx("li",{children:"Cancellations made 4-24 hours in advance: 50% refund"}),t.jsx("li",{children:"Cancellations made less than 4 hours: No refund"}),t.jsx("li",{children:"Emergency cancellations will be reviewed case-by-case"})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx(Be,{onClick:S,variant:"outline",disabled:h,children:"Keep Session"}),t.jsx(Be,{onClick:g,disabled:h||!u.trim(),className:"cancel-btn",variant:"danger",children:h?"Cancelling...":"Cancel Session"})]})]})}):null},yd=({booking:n,onCompleted:a,className:i=""})=>{const[o,u]=T.useState(!1),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState(!1),[y,S]=T.useState("");T.useEffect(()=>{const E=()=>{console.log("MarkCompleteButton - checking status for booking:",{id:n.id,status:n.status,date:n.date,endTime:n.endTime||n.end_time});const k=Zt.canMarkComplete(n),M=Zt.getTimeUntilComplete(n);console.log("MarkCompleteButton - status check result:",{canMark:k,timeUntil:M}),h(k),p(M)};E();const U=setInterval(E,6e4);return()=>clearInterval(U)},[n]);const N=async()=>{try{u(!0),console.log("MarkCompleteButton - attempting to mark complete:",{bookingId:n.id,status:n.status,date:n.date,endTime:n.endTime||n.end_time,completionNotes:y});const E=await Zt.markSessionComplete(n.id,y);console.log("MarkCompleteButton - success:",E),g(!1),S(""),a&&a({...n,status:"completed",completedAt:E.booking.completedAt,sessionNotes:E.booking.sessionNotes})}catch(E){console.error("MarkCompleteButton - Error details:",E);const U=E?.message||E?.error||"Failed to mark session as complete";alert(`Error: ${U}

Booking ID: ${n.id}
Status: ${n.status}`)}finally{u(!1)}},B=E=>{if(E<=0)return"";const U=Math.floor(E/60),k=E%60;return U>0?`${U}h ${k}m`:`${k}m`};return n.status==="completed"?t.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}):["scheduled","confirmed"].includes(n.status)?t.jsxs(t.Fragment,{children:[d?t.jsx("button",{onClick:()=>g(!0),disabled:o,className:`px-4 py-2 bg-green-500/20 border border-green-500/30 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed ${i}`,children:o?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-green-300 border-t-transparent rounded-full"}),t.jsx("span",{children:"Completing..."})]}):"Mark Complete"}):t.jsx("div",{className:"px-4 py-2 bg-gray-500/20 border border-gray-500/30 text-gray-400 rounded-lg text-sm font-medium cursor-not-allowed",children:x>0&&t.jsxs("span",{children:["Complete in ",B(x)]})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 p-6 max-w-md w-full",children:[t.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Complete Session"}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:[n.subject||"Session"," with ",n.tutorName||n.studentName]}),t.jsxs("p",{className:"text-slate-400 text-sm",children:[new Date(n.date).toLocaleDateString()," at ",n.startTime," - ",n.endTime]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Session Notes (optional)"}),t.jsx("textarea",{value:y,onChange:E=>S(E.target.value),placeholder:"Add any notes about the session...",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:3})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>{g(!1),S("")},disabled:o,className:"flex-1 px-4 py-2 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50",children:"Cancel"}),t.jsx("button",{onClick:N,disabled:o,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:o?"Completing...":"Mark Complete"})]})]})})]}):null},Wi="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Hf=({isOpen:n,onClose:a,isEdit:i=!1,newTask:o,setNewTask:u,errors:d,loading:h,onSubmit:x})=>{const p=(f,g)=>{u(y=>({...y,[f]:g}))};return t.jsx(Bn,{isOpen:n,onClose:a,children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:i?"Edit Task":"Add New Task"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:o.title||"",onChange:f=>p("title",f.target.value),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.title?"border-red-500":"border-slate-600"}`,placeholder:"Enter task title",disabled:h,autoComplete:"off"}),d.title&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),t.jsx("textarea",{value:o.description||"",onChange:f=>p("description",f.target.value),rows:"3",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none focus:outline-none focus:border-blue-500",placeholder:"Describe what needs to be done",disabled:h,autoComplete:"off"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject *"}),t.jsxs("select",{value:o.subject||"",onChange:f=>p("subject",f.target.value),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.subject?"border-red-500":"border-slate-600"}`,disabled:h,children:[t.jsx("option",{value:"",children:"Select subject"}),t.jsx("option",{value:"Mathematics",children:"Mathematics"}),t.jsx("option",{value:"Physics",children:"Physics"}),t.jsx("option",{value:"Chemistry",children:"Chemistry"}),t.jsx("option",{value:"Computer Science",children:"Computer Science"}),t.jsx("option",{value:"Biology",children:"Biology"}),t.jsx("option",{value:"History",children:"History"}),t.jsx("option",{value:"English",children:"English"})]}),d.subject&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:o.priority||"medium",onChange:f=>p("priority",f.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-blue-500",disabled:h,children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Estimated Time *"}),t.jsx("input",{type:"text",value:o.estimatedTime||"",onChange:f=>p("estimatedTime",f.target.value),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.estimatedTime?"border-red-500":"border-slate-600"}`,placeholder:"e.g., 2 hours",disabled:h,autoComplete:"off"}),d.estimatedTime&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.estimatedTime})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date *"}),t.jsx("input",{type:"date",value:o.due||"",onChange:f=>p("due",f.target.value),min:new Date().toISOString().split("T")[0],className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.due?"border-red-500":"border-slate-600"}`,disabled:h}),d.due&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.due})]})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(Be,{variant:"secondary",onClick:a,className:"flex-1",disabled:h,children:"Cancel"}),t.jsx(Be,{onClick:x,className:"flex-1",disabled:h,children:h?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:i?"Updating...":"Adding..."})]}):i?"Update Task":"Add Task"})]})]})})},qf=()=>{const{user:n,loading:a}=qt(),i=Ts(),[o,u]=T.useState(()=>i.state?.activeTab||"overview"),[d,h]=T.useState(!1),[x,p]=T.useState(!1),[f,g]=T.useState(!1),[y,S]=T.useState(!1),[N,B]=T.useState(!1),[E,U]=T.useState(null),[k,M]=T.useState(null),[H,ne]=T.useState(!1),[be,$]=T.useState(""),[q,fe]=T.useState("success"),[me,G]=T.useState({}),[A,I]=T.useState(!1),[le,re]=T.useState({rating:5,comment:"",wouldRecommend:!0}),[ce,C]=T.useState({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),[K,ye]=T.useState([]),[Ee,D]=T.useState(!0),[j,O]=T.useState([]),[v,Y]=T.useState(!0),[oe,he]=T.useState(null),[Se,De]=T.useState(!0),[Ae,yt]=T.useState(new Date),[vt,ns]=T.useState(new Date().getDate()),[kt,$t]=T.useState(null),[Et,ls]=T.useState({date:"",time:"",reason:""}),dn=(()=>{const _=new Date().getHours();return _>=5&&_<12?{text:"Good Morning",emoji:""}:_>=12&&_<17?{text:"Good Afternoon",emoji:""}:_>=17&&_<21?{text:"Good Evening",emoji:""}:{text:"Good Night",emoji:""}})();if(a||!n)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),t.jsx("p",{className:"text-white",children:"Loading dashboard..."})]})});const ks=async()=>{try{De(!0);const _=localStorage.getItem("token"),ue=await fetch(`${Wi}/booking/student/overview`,{headers:{Authorization:`Bearer ${_}`}});if(!ue.ok)throw new Error("Failed to fetch overview data");const te=await ue.json();console.log(" Loaded student overview data:",te),he(te)}catch(_){console.error(" Error loading overview data:",_)}finally{De(!1)}};T.useEffect(()=>{ft(),es(),ks()},[]),T.useEffect(()=>{i.state?.activeTab&&u(i.state.activeTab),i.state?.message&&(Ot(i.state.message),window.history.replaceState({},document.title))},[i.state]);const ft=async()=>{try{Y(!0);const _=await Zt.getStudentBookings();console.log(" Loaded real bookings:",_.bookings);const ue=_.bookings||[],te=new Date,je=[];for(const ve of ue)if((ve.status==="scheduled"||ve.status==="confirmed")&&ve.date&&ve.endTime){const Le=new Date(`${ve.date.split("T")[0]}T${ve.endTime}`);if(te>Le){console.log(" Auto-completing past session:",ve.id);try{await fetch(`${Wi}/booking/bookings/${ve.id}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({completionNotes:"Auto-completed after session end time"})}),je.push({...ve,status:"completed"})}catch(R){console.error("Failed to auto-complete session:",ve.id,R),je.push(ve)}}else je.push(ve)}else je.push(ve);O(je)}catch(_){console.error("Failed to load real bookings:",_),O([])}finally{Y(!1)}},es=async()=>{try{D(!0);const _=await Ys.getTasks();console.log(" Loaded real tasks:",_.data);const ue=_.data.map(te=>({id:te.id,title:te.title,description:te.description,subject:te.subject,priority:te.priority,status:te.status,progress:te.progress,due:te.due_date,estimatedTime:te.estimated_time,createdAt:te.created_at,updatedAt:te.updated_at}));ye(ue)}catch(_){console.error(" Error loading tasks:",_),ye([])}finally{D(!1)}},mn=()=>{const _={};if(ce.title.trim()||(_.title="Task title is required"),ce.subject||(_.subject="Subject is required"),!ce.due)_.due="Due date is required";else{const ue=new Date(ce.due),te=new Date;te.setHours(0,0,0,0),ue<te&&(_.due="Due date cannot be in the past")}return ce.estimatedTime||(_.estimatedTime="Estimated time is required"),G(_),Object.keys(_).length===0},Ot=_=>{$(_),fe("success"),setTimeout(()=>$(""),4e3)},Ct=_=>{$(_),fe("error"),setTimeout(()=>$(""),4e3)},$n=_=>{$(_),fe("warning"),setTimeout(()=>$(""),4e3)},ee=async()=>{if(mn()){ne(!0);try{const _=await Ys.createTask(ce);console.log(" Task created:",_.data),await es(),C({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),G({}),h(!1),Ot("Task added successfully!")}catch{Ot("Error adding task. Please try again.")}finally{ne(!1)}}},xe=_=>{U(_),C({title:_.title||"",description:_.description||"",subject:_.subject||"",priority:_.priority||"medium",estimatedTime:_.estimatedTime||"",due:_.due||""}),G({}),p(!0)},Ce=async()=>{if(mn()){ne(!0);try{const _=await Ys.updateTask(E.id,ce);console.log(" Task updated:",_.data),await es(),p(!1),U(null),C({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),G({}),Ot("Task updated successfully!")}catch{Ot("Error updating task. Please try again.")}finally{ne(!1)}}},Me=async(_,ue)=>{ne(!0);try{const te=K.find(Le=>Le.id===_);if(!te)return;let je=0;switch(ue){case"started":je=25;break;case"in-progress":je=50;break;case"completed":je=100;break;default:je=0}const ve={...te,status:ue,progress:je};await Ys.updateTask(_,ve),console.log(" Task status changed:",_,ue),await es(),Ot(`Task status updated to ${ue}!`)}catch(te){console.error("Error changing task status:",te),Ot("Failed to update task status. Please try again.")}finally{ne(!1)}},Re=async(_,ue)=>{ne(!0);try{const te=K.find(ve=>ve.id===_);if(!te)return;const je={...te,priority:ue};await Ys.updateTask(_,je),console.log(" Task priority changed:",_,ue),await es(),Ot(`Priority updated to ${ue}!`)}catch(te){console.error("Error changing task priority:",te),Ot("Failed to update task priority. Please try again.")}finally{ne(!1)}},Vt=async _=>{if(window.confirm("Are you sure you want to delete this task?")){ne(!0);try{await Ys.deleteTask(_),console.log(" Task deleted:",_),await es(),Ot("Task deleted successfully!")}catch(ue){console.error("Error deleting task:",ue),Ot("Failed to delete task. Please try again.")}finally{ne(!1)}}},Es=async(_,ue)=>{if(!k||!_||!ue){G(te=>({...te,reschedule:"Please select both date and time"}));return}ne(te=>({...te,rescheduleSession:!0})),G(te=>({...te,reschedule:null}));try{if(k.isRealBooking||kt){const te=k.id||kt?.id,je=ue.split(":"),ve=parseInt(je[0]),Le=je[1]||"00",Z=`${(ve+1).toString().padStart(2,"0")}:${Le}`,W=await fetch(`${Wi}/booking/bookings/${te}/reschedule`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({newDate:_,newStartTime:ue,newEndTime:Z,reason:""})}),de=await W.json();if(!W.ok)throw new Error(de.error||de.message||"Failed to reschedule session");const Ne=new Date(_).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});$(`Session rescheduled to ${Ne} at ${ue}`),setTimeout(()=>$(null),3e3),g(!1),M(null),$t(null),ft()}else await new Promise(te=>setTimeout(te,1e3)),$(`Session rescheduled to ${_} at ${ue}`),setTimeout(()=>$(null),3e3),g(!1),M(null),console.log("Session rescheduled:",k,{newDate:_,newTime:ue})}catch(te){console.error("Error rescheduling session:",te),G(je=>({...je,reschedule:te.message||"Failed to reschedule session. Please try again."}))}finally{ne(te=>({...te,rescheduleSession:!1}))}},At=_=>["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Tutor Together//Student Calendar Export//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",_.filter(je=>je.type==="booking"||je.type==="session"?je.status==="scheduled"||je.status==="confirmed":je.type==="task"?je.status!=="completed":!0).map(je=>{try{const ve=je.date||new Date().toISOString().split("T")[0],Le=je.time||je.startTime||"09:00",R=new Date(`${ve}T${Le}`);if(isNaN(R.getTime()))return console.warn("Invalid date for event:",je),null;const Z=je.duration||60,W=new Date(R.getTime()+Z*60*1e3),de=pe=>pe.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",Ne=je.title||je.subject||"Event",V=je.tutorName||je.tutor||"Tutor",We=je.subject||"General",Ft=je.type==="task"?`Task - Priority: ${je.priority||"medium"}. ${je.description||""}`:`Tutoring session with ${V} for ${We}`;return["BEGIN:VEVENT",`DTSTART:${de(R)}`,`DTEND:${de(W)}`,`SUMMARY:${Ne}`,`DESCRIPTION:${Ft}`,`UID:${je.id||Date.now()}@tutortogether.com`,"STATUS:CONFIRMED","END:VEVENT"].join(`\r
`)}catch(ve){return console.warn("Error processing event for export:",je,ve),null}}).filter(Boolean).join(`\r
`),"END:VCALENDAR"].join(`\r
`),ut=async()=>{I(!0);try{const _=[...j.map(R=>({...R,type:"booking",time:R.startTime||R.time||"09:00"})),...K.map(R=>({...R,type:"task",date:R.due||R.dueDate,time:"23:59"}))],ue=_.filter(R=>R.type==="booking"?R.status==="scheduled"||R.status==="confirmed":R.type==="task"?R.status!=="completed":!0);if(ue.length===0){$("No upcoming sessions or tasks to export"),fe("warning"),setTimeout(()=>$(null),3e3);return}const te=At(_),je=new Blob([te],{type:"text/calendar;charset=utf-8"}),ve=window.URL.createObjectURL(je),Le=document.createElement("a");Le.href=ve,Le.download=`student-calendar-${new Date().toISOString().split("T")[0]}.ics`,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),window.URL.revokeObjectURL(ve),$(`${ue.length} event${ue.length>1?"s":""} exported successfully!`),fe("success"),setTimeout(()=>$(null),3e3)}catch(_){console.error("Export failed:",_),$("Export failed. Please try again."),fe("error"),setTimeout(()=>$(null),3e3)}finally{I(!1)}},_t=_=>{$t(_),M({id:_.id,topic:_.sessionType||_.subject||"Tutoring Session",tutorName:_.tutorName,tutorId:_.tutorId||_.tutor_id,date:_.date||_.sessionDate,time:_.startTime||_.time,duration:_.duration,isRealBooking:!0}),g(!0)},Ie=_=>{$t(_),S(!0)},Cs=_=>{$t(_),re({rating:5,comment:"",wouldRecommend:!0}),B(!0)},Jt=async()=>{if(kt){if(!le.comment.trim()){$n("Please write a review comment before submitting.");return}try{ne(!0),console.log("Submitting review for booking:",kt.id);const _=await fetch(`${Wi}/reviews/bookings/${kt.id}/review`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({rating:le.rating,reviewText:le.comment,wouldRecommend:le.wouldRecommend})}),ue=await _.json();if(!_.ok)throw new Error(ue.error||"Failed to submit review");console.log("Review submitted successfully:",ue),B(!1),$t(null),re({rating:5,comment:"",wouldRecommend:!0}),$("Review submitted successfully! Thank you for your feedback."),setTimeout(()=>$(""),3e3),ft()}catch(_){console.error("Error submitting review:",_),Ct("Failed to submit review. Please try again.")}finally{ne(!1)}}},Ma=_=>{O(ue=>ue.map(te=>te.id===_.id?{...te,..._}:te)),$("Reschedule request sent to tutor successfully!"),setTimeout(()=>$(""),3e3),ft()},fs=_=>{O(ue=>ue.map(te=>te.id===_.id?{...te,status:"cancelled"}:te)),$("Session cancelled successfully. Tutor has been notified."),setTimeout(()=>$(""),3e3),ft()},Yn=()=>{const _=()=>{Es(Et.date,Et.time)},ue=Et.date&&Et.time;return t.jsx(Bn,{isOpen:f,onClose:()=>{g(!1),M(null),$t(null),ls({date:"",time:"",reason:""}),G(te=>({...te,reschedule:null}))},children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Reschedule Session"}),k&&t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 mb-6",children:[t.jsx("div",{className:"text-white font-medium",children:k.topic}),t.jsxs("div",{className:"text-slate-400 text-sm",children:["with ",k.tutorName]}),t.jsxs("div",{className:"text-slate-500 text-xs",children:["Current: ",Ws(k.date)," at ",As(k.time)]})]}),me.reschedule&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-400 px-4 py-2 rounded-lg mb-4 text-sm",children:me.reschedule}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"New Date *"}),t.jsx("input",{type:"date",value:Et.date,onChange:te=>ls(je=>({...je,date:te.target.value})),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white ${!Et.date&&me.reschedule?"border-red-500":"border-slate-600"}`,min:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"New Time *"}),t.jsxs("select",{value:Et.time,onChange:te=>ls(je=>({...je,time:te.target.value})),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white ${!Et.time&&me.reschedule?"border-red-500":"border-slate-600"}`,children:[t.jsx("option",{value:"",children:"Select time"}),t.jsx("option",{value:"09:00",children:"9:00 AM"}),t.jsx("option",{value:"10:00",children:"10:00 AM"}),t.jsx("option",{value:"11:00",children:"11:00 AM"}),t.jsx("option",{value:"14:00",children:"2:00 PM"}),t.jsx("option",{value:"15:00",children:"3:00 PM"}),t.jsx("option",{value:"16:00",children:"4:00 PM"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Reason for Reschedule"}),t.jsx("textarea",{rows:"3",value:Et.reason,onChange:te=>ls(je=>({...je,reason:te.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",placeholder:"Optional: Explain why you need to reschedule"})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(Be,{variant:"secondary",onClick:()=>{g(!1),ls({date:"",time:"",reason:""}),G(te=>({...te,reschedule:null}))},className:"flex-1",disabled:H.rescheduleSession,children:"Cancel"}),t.jsx(Be,{onClick:_,className:"flex-1",disabled:!ue||H.rescheduleSession,children:H.rescheduleSession?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Rescheduling..."})]}):"Reschedule Session"})]})]})})},hn=T.useMemo(()=>N?t.jsx(Bn,{isOpen:N,onClose:()=>{B(!1),re({rating:5,comment:"",wouldRecommend:!0})},children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Leave a Review"}),kt&&t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"text-white font-medium",children:kt?.sessionType||"Tutoring Session"}),t.jsxs("div",{className:"text-slate-400 text-sm",children:["with ",kt?.tutorName]}),t.jsxs("div",{className:"text-slate-500 text-sm mt-1",children:["Completed: ",kt?.date&&new Date(kt.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Rating"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(_=>t.jsx("button",{type:"button",onClick:()=>re(ue=>({...ue,rating:_})),className:"focus:outline-none transition-all transform hover:scale-110",children:t.jsx("svg",{className:`w-10 h-10 ${_<=le.rating?"text-yellow-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},_)),t.jsxs("span",{className:"text-white font-medium ml-3",children:[le.rating," / 5"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Your Review"}),t.jsx("textarea",{rows:"4",value:le.comment,onChange:_=>{const ue=_.target.value;re(te=>({...te,comment:ue}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none focus:outline-none focus:border-blue-500",placeholder:"Share your experience with this tutor...",autoComplete:"off"},"review-textarea")]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Would you recommend this tutor?"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>re(_=>({..._,wouldRecommend:!0})),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all ${le.wouldRecommend?"bg-emerald-500 text-white border-2 border-emerald-400 shadow-lg shadow-emerald-500/30":"bg-slate-700 text-slate-400 border-2 border-slate-600 hover:border-slate-500"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{children:"Yes"})]})}),t.jsx("button",{type:"button",onClick:()=>re(_=>({..._,wouldRecommend:!1})),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all ${le.wouldRecommend?"bg-slate-700 text-slate-400 border-2 border-slate-600 hover:border-slate-500":"bg-red-500 text-white border-2 border-red-400 shadow-lg shadow-red-500/30"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{children:"No"})]})})]})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(Be,{variant:"secondary",onClick:()=>{B(!1),re({rating:5,comment:"",wouldRecommend:!0})},className:"flex-1",disabled:H,children:"Cancel"}),t.jsx(Be,{onClick:Jt,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:H,children:H?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Submitting..."})]}):"Submit Review"})]})]})}):null,[N,kt,le,H,Jt]),Bt=()=>{h(!1),p(!1),C({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),G({})},jt=(()=>{const _=K.filter(Le=>Le.status==="pending").length,ue=K.filter(Le=>Le.status==="completed").length,te=K.filter(Le=>Le.status==="started").length,je=K.filter(Le=>Le.status==="in-progress").length,ve=K.filter(Le=>Le.status==="completed"||Le.status==="in-progress").reduce((Le,R)=>{const Z=parseFloat(R.estimatedTime)||0;return Le+Z},0);return{pending:_,completed:ue,started:te,inProgress:je,studyHours:ve.toFixed(1)}})(),Fn=K.length;Fn>0&&(jt.completed/Fn*100).toFixed(1),j.filter(_=>(_.status==="confirmed"||_.status==="scheduled")&&new Date(_.date)>=new Date).length;const $l=[{id:"overview",label:"Overview"},{id:"sessions",label:"Sessions"},{id:"calendar",label:"Calendar"},{id:"tasks",label:"Tasks"},{id:"progress",label:"Progress"}],gl=[{id:"book-session",label:"Book Session",description:"Browse tutors and lock in a time",to:"/tutors",gradient:"from-blue-500/20 via-cyan-500/10 to-cyan-500/20",border:"border-blue-500/30"},{id:"ai-assistant",label:"AI Assistant",description:"Get instant answers or study help",to:"/chatbot",gradient:"from-emerald-500/20 via-teal-500/10 to-teal-500/20",border:"border-emerald-500/30"},{id:"add-task",label:"Add Task",description:"Capture homework or study goals",onClick:()=>h(!0),gradient:"from-rose-500/20 via-pink-500/10 to-pink-500/20",border:"border-rose-500/30"},{id:"messages",label:"Messages",description:"Continue conversations with tutors",to:"/messages",gradient:"from-amber-500/20 via-orange-500/10 to-orange-500/20",border:"border-amber-500/30"}],Ks=_=>{switch(_){case"high":return"bg-red-500/20 text-red-400 border-red-500/30";case"medium":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"low":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},za=_=>{switch(_){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in-progress":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"started":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"pending":return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"scheduled":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},Ws=_=>new Date(_).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),As=_=>{const[ue,te]=_.split(":"),je=new Date;return je.setHours(parseInt(ue),parseInt(te)),je.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},bl=_=>{if(!_)return null;const ue=new Date(_);if(isNaN(ue.getTime()))return null;const te=ue.getFullYear(),je=String(ue.getMonth()+1).padStart(2,"0"),ve=String(ue.getDate()).padStart(2,"0");return`${te}-${je}-${ve}`},fn=T.useMemo(()=>{const _=(j||[]).filter(te=>te?.date).map(te=>({id:`booking-${te.id}`,type:"session",title:te.sessionType||te.subject||"Tutoring Session",date:bl(te.date),time:te.startTime||te.start_time||"00:00",tutor:te.tutorName||te.tutor_name,status:te.status||"pending",meetingType:te.meetingType||te.meeting_type||"virtual",subject:te.subject||"General",duration:te.duration||60})).filter(te=>!!te.date),ue=(K||[]).map(te=>({id:`task-${te.id}`,type:"task",title:te.title,date:bl(te.due||te.due_date),time:"23:59",priority:te.priority,status:te.status,subject:te.subject||"General"})).filter(te=>!!te.date);return[..._,...ue]},[j,K]),xn=_=>{const ue=_.getFullYear(),te=_.getMonth(),je=new Date(ue,te,1),ve=new Date(ue,te+1,0),Le=[];for(let R=0;R<je.getDay();R++)Le.push(null);for(let R=1;R<=ve.getDate();R++)Le.push(R);return Le},yl=_=>{if(!_)return[];const ue=`${Ae.getFullYear()}-${String(Ae.getMonth()+1).padStart(2,"0")}-${String(_).padStart(2,"0")}`;return fn.filter(te=>te.date===ue)},Gn=_=>{const ue=new Date(Ae);ue.setMonth(Ae.getMonth()+_),yt(ue),ns(new Date(ue).getMonth()===new Date().getMonth()&&new Date(ue).getFullYear()===new Date().getFullYear()?new Date().getDate():1)},_s=()=>{const _=oe?.stats?.upcomingSessions||0,ue=oe?.stats?.completedSessions||0,te=oe?.stats?.totalSpent||0,je=oe?.stats?.monthSessions||0;return oe?.stats?.totalTutors,oe?.stats?.reviewsGiven,t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Upcoming"}),t.jsx("span",{className:"text-blue-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:_}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Scheduled sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Completed"}),t.jsx("span",{className:"text-emerald-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:ue}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Total sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"This Month"}),t.jsx("span",{className:"text-purple-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:je}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Sessions attended"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 rounded-2xl p-6 border border-amber-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Spent"}),t.jsx("span",{className:"text-amber-400 text-2xl",children:""})]}),t.jsxs("div",{className:"text-white text-3xl font-bold",children:["$",te.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"On tutoring"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"Upcoming Sessions"})]}),t.jsx(Fe,{to:"/tutors",className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"Book New "})]}),v?t.jsx("div",{className:"space-y-4",children:[1,2,3].map(ve=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 animate-pulse",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mb-1"}),t.jsx("div",{className:"w-20 h-3 bg-slate-700 rounded"})]}),t.jsx("div",{className:"w-12 h-4 bg-slate-700 rounded"})]},ve))}):j.filter(ve=>ve.status==="confirmed"||ve.status==="scheduled").length>0?t.jsx("div",{className:"space-y-4",children:j.filter(ve=>ve.status==="confirmed"||ve.status==="scheduled").slice(0,3).map(ve=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-all duration-200",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:ve.tutorName?.charAt(0)||"T"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-white font-medium truncate",children:ve.sessionType||"Tutoring Session"}),t.jsxs("div",{className:"text-slate-400 text-sm truncate",children:["with ",ve.tutorName]}),t.jsxs("div",{className:"text-slate-500 text-xs",children:[Ws(ve.date)," at ",As(ve.startTime)]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded-full",children:ve.meetingType==="virtual"?" Virtual":" In-Person"}),t.jsxs("span",{className:"text-blue-400 text-xs font-medium",children:[Math.round(ve.duration*60),"min"]})]})]}),t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx("button",{onClick:()=>_t(ve),className:"px-3 py-1.5 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 hover:text-blue-300 text-xs font-medium rounded-lg transition-all duration-200 border border-blue-500/30",title:"Reschedule session",children:" Reschedule"}),t.jsx("button",{onClick:()=>Ie(ve),className:"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 text-xs font-medium rounded-lg transition-all duration-200 border border-red-500/30",title:"Cancel session",children:" Cancel"})]})]},ve.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"No sessions scheduled"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Book your first tutoring session to get started"}),t.jsxs(Fe,{to:"/tutors",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx("span",{className:"mr-2",children:""}),"Find a Tutor"]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"Today's Tasks"})]}),t.jsx("button",{onClick:()=>u("tasks"),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All "})]}),Ee?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):K.filter(ve=>ve.status!=="completed").length>0?t.jsx("div",{className:"space-y-3",children:K.filter(ve=>ve.status!=="completed").slice(0,4).map(ve=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("div",{className:"text-white font-medium",children:ve.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${Ks(ve.priority)}`,children:ve.priority})]}),t.jsx("div",{className:"text-slate-400 text-sm",children:ve.subject}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsxs("span",{className:"text-slate-500 text-xs",children:[" Due: ",Ws(ve.due)]}),t.jsxs("span",{className:"text-slate-500 text-xs",children:[" ",ve.estimatedTime]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Progress"}),t.jsxs("div",{className:"text-sm font-medium text-blue-400",children:[ve.progress||0,"%"]})]}),t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center relative",children:t.jsxs("svg",{className:"w-12 h-12 transform -rotate-90",children:[t.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-slate-600"}),t.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeDasharray:`${2*Math.PI*20}`,strokeDashoffset:`${2*Math.PI*20*(1-(ve.progress||0)/100)}`,className:"text-blue-500 transition-all duration-500"})]})})]})]},ve.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"No pending tasks"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Create a task to stay organized"}),t.jsxs("button",{onClick:()=>u("tasks"),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx("span",{className:"mr-2",children:""}),"Add Task"]})]})]})]})},Nt=()=>t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-slate-500/20 to-gray-500/20 rounded-2xl p-6 border border-slate-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:jt.pending}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:jt.started}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Started"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:jt.inProgress}),t.jsx("div",{className:"text-slate-400 text-sm",children:"In Progress"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-2xl p-6 border border-green-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:jt.completed}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:jt.studyHours}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Hours"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"All Tasks"})]}),t.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:"+ Add Task"})]}),t.jsx("div",{className:"space-y-4",children:Ee?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):K.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-400",children:"No tasks found. Create your first task!"})}):K.map(_=>t.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"text-white font-medium",children:_.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Ks(_.priority)}`,children:_.priority}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${za(_.status)}`,children:_.status.replace("-"," ")})]}),t.jsx("div",{className:"text-slate-400 text-sm mb-2",children:_.description}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-1",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[_.progress||0,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${_.status==="completed"?"bg-green-500":_.status==="in-progress"?"bg-yellow-500":_.status==="started"?"bg-blue-500":"bg-slate-600"}`,style:{width:`${_.progress||0}%`}})})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-500",children:[t.jsxs("span",{children:[" ",_.subject]}),t.jsxs("span",{children:[" ",_.estimatedTime]}),t.jsxs("span",{children:[" Due: ",Ws(_.due)]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Status:"}),t.jsxs("select",{value:_.status,onChange:ue=>Me(_.id,ue.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Priority:"}),t.jsxs("select",{value:_.priority,onChange:ue=>Re(_.id,ue.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsx("button",{onClick:()=>xe(_),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-slate-700/50 hover:bg-slate-700 transition-colors",children:"Edit"}),t.jsx("button",{onClick:()=>Vt(_.id),className:"text-red-400 hover:text-red-300 text-xs px-2 py-1 rounded bg-slate-700/50 hover:bg-slate-700 transition-colors",children:"Delete"})]})]},_.id))})]})]}),Yt=()=>t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:j.filter(_=>_.status==="confirmed"||_.status==="scheduled").length}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Upcoming Sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-2xl p-6 border border-yellow-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:j.filter(_=>_.status==="pending").length}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Pending Requests"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:j.filter(_=>_.status==="completed").length}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed Sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",(j.reduce((_,ue)=>_+(parseFloat(ue.totalAmount)||0),0)||0).toFixed(0)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Spent"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"All Bookings"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx(Fe,{to:"/tutors",className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:"Book New Session"})})]}),t.jsx("div",{className:"space-y-4",children:v?t.jsx("div",{className:"space-y-4",children:[1,2,3].map(_=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 animate-pulse",children:t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-full"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded"})]}),t.jsx("div",{className:"w-20 h-6 bg-slate-700 rounded"})]})},_))}):j.length>0?j.map(_=>t.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:_.tutorName?.charAt(0)||"T"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-semibold",children:_.sessionType||"Tutoring Session"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["with ",_.tutorName]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${_.status==="confirmed"||_.status==="scheduled"?"text-green-400 bg-green-500/20 border-green-500/30":_.status==="pending"?"text-yellow-400 bg-yellow-500/20 border-yellow-500/30":_.status==="completed"?"text-blue-400 bg-blue-500/20 border-blue-500/30":"text-slate-400 bg-slate-500/20 border-slate-500/30"}`,children:_.status?.charAt(0).toUpperCase()+_.status?.slice(1)}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold",children:["$",_.totalAmount]}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Math.round(_.duration*60),"min"]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-400 flex-1",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Date:"})," ",Ws(_.date)]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Time:"})," ",As(_.startTime)," - ",As(_.endTime)]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Type:"})," ",_.meetingType==="virtual"?" Virtual":" In-Person"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Subject:"})," ",_.subject||"General Tutoring"]})]}),t.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[(_.status==="confirmed"||_.status==="scheduled")&&t.jsx(yd,{booking:_,onCompleted:ue=>{O(te=>te.map(je=>je.id===ue.id?ue:je)),Ot("Session marked as completed! You can now leave a review.")}}),_.status==="pending"&&t.jsx("button",{onClick:()=>Ie(_),className:"px-3 py-1 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-sm transition-all",title:"Cancel booking request",children:"Cancel Request"}),(_.status==="confirmed"||_.status==="scheduled")&&t.jsxs(t.Fragment,{children:[_.meetingType==="virtual"&&t.jsx("button",{onClick:()=>window.open(_.meetingLink||"#","_blank"),className:"px-3 py-1 text-green-400 hover:text-green-300 border border-green-500/30 hover:border-green-500/50 bg-green-500/10 hover:bg-green-500/20 rounded-lg text-sm transition-all",title:"Join virtual meeting",children:"Join Meeting"}),t.jsx("button",{onClick:()=>Ie(_),className:"px-3 py-1 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-sm transition-all",title:"Cancel session",children:"Cancel"})]}),_.status==="completed"&&(_.reviewSubmitted&&_.review?t.jsxs("div",{className:"mt-3 p-4 bg-slate-700/50 rounded-lg border border-slate-600/50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Your Review"}),t.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((ue,te)=>t.jsx("svg",{className:`w-4 h-4 ${te<_.review.rating?"text-amber-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},te))})]}),_.review.reviewText&&t.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:['"',_.review.reviewText,'"']}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:`${_.review.wouldRecommend?"text-emerald-400":"text-slate-400"}`,children:_.review.wouldRecommend?" Would recommend":"Would not recommend"}),t.jsx("span",{className:"text-slate-500",children:new Date(_.review.reviewDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}):t.jsx("button",{onClick:()=>Cs(_),className:"px-3 py-1 text-amber-400 hover:text-amber-300 border border-amber-500/30 hover:border-amber-500/50 bg-amber-500/10 hover:bg-amber-500/20 rounded-lg text-sm transition-all",title:"Leave a review",children:"Leave Review"}))]})]}),_.notes&&t.jsx("div",{className:"mt-3 p-3 bg-slate-700/50 rounded-lg",children:t.jsxs("div",{className:"text-slate-300 text-sm",children:[t.jsx("span",{className:"text-slate-500",children:"Notes:"})," ",_.notes]})})]},_.id)):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-slate-400",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"No bookings yet"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Your booking requests and confirmed sessions will appear here"}),t.jsxs(Fe,{to:"/tutors",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx("span",{className:"mr-2",children:""}),"Find a Tutor"]})]})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"Weekly Activity"})]}),t.jsx("div",{className:"grid grid-cols-7 gap-4",children:(n.progress?.weeklyActivity||[]).map(_=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-slate-400 text-xs mb-2",children:_.day}),t.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 space-y-2",children:[t.jsxs("div",{className:"text-white font-medium text-sm",children:[_.hours,"h"]}),t.jsxs("div",{className:"text-slate-400 text-xs",children:[_.tasks," tasks"]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1",children:t.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-emerald-500 to-teal-500",style:{width:`${_.hours/5*100}%`}})})]})]},_.day))})]})]}),en=()=>{const _=xn(Ae),ue=yl(vt),te=Ae.toLocaleDateString("en-US",{month:"long",year:"numeric"}),je=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ve=vt?new Date(Ae.getFullYear(),Ae.getMonth(),vt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Select a day",Le=()=>{const R=new Date;yt(R),ns(R.getDate())};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Student study schedule"}),t.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center space-x-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Calendar"})]})]}),t.jsx("button",{onClick:ut,className:"px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-2xl font-semibold transition-all duration-200 flex items-center space-x-2 disabled:opacity-70",disabled:A,children:A?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export Calendar"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-3 bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Monthly overview"}),t.jsx("h3",{className:"text-2xl font-bold text-white",children:te})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Gn(-1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800","aria-label":"Previous month",children:""}),t.jsx("button",{onClick:Le,className:"px-4 py-2 rounded-xl border border-slate-700 text-slate-200 hover:border-blue-500/60 hover:text-white transition-colors",children:"Today"}),t.jsx("button",{onClick:()=>Gn(1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800","aria-label":"Next month",children:""})]})]}),t.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-slate-400 text-xs font-semibold uppercase tracking-wider mb-2",children:je.map(R=>t.jsx("div",{children:R},R))}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:_.map((R,Z)=>{if(!R)return t.jsx("div",{className:"min-h-[110px] rounded-xl border border-dashed border-slate-800/70"},`empty-${Z}`);const W=yl(R),de=R===new Date().getDate()&&Ae.getMonth()===new Date().getMonth()&&Ae.getFullYear()===new Date().getFullYear(),Ne=R===vt;return t.jsxs("button",{onClick:()=>ns(R),className:`min-h-[110px] rounded-2xl border text-left p-3 transition-all duration-200 ${Ne?"border-blue-500 bg-blue-500/10 shadow-lg shadow-blue-500/20":"border-slate-800/70 bg-slate-900/30 hover:border-blue-500/60"}`,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold",children:[t.jsx("span",{className:"text-white",children:R}),de&&t.jsx("span",{className:"text-emerald-400 text-xs",children:"Today"})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[W.slice(0,2).map(V=>t.jsx("div",{className:`text-xs px-2 py-1 rounded-full border ${V.type==="session"?"bg-blue-500/10 border-blue-500/40 text-blue-200":V.priority==="high"?"bg-red-500/10 border-red-500/40 text-red-200":V.priority==="low"?"bg-emerald-500/10 border-emerald-500/40 text-emerald-200":"bg-amber-500/10 border-amber-500/40 text-amber-200"} whitespace-nowrap overflow-hidden text-ellipsis`,title:V.title,children:V.title||(V.type==="session"?"Session":V.subject||"Task")},V.id)),W.length>2&&t.jsxs("div",{className:"text-[10px] text-slate-400",children:["+",W.length-2," more"]})]})]},`day-${R}`)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-6",children:t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:vt?ve:"Select a day"})]})}),vt?ue.length===0?t.jsx("div",{className:"text-center text-slate-400 py-8",children:"No sessions or tasks scheduled for this day."}):t.jsx("div",{className:"space-y-4",children:ue.map(R=>t.jsxs("div",{className:"p-4 rounded-2xl border border-slate-800/70 bg-slate-900/40",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-semibold text-lg line-clamp-1",children:R.title}),t.jsx("p",{className:"text-slate-400 text-sm",children:R.type==="session"?`${R.subject} with ${R.tutor||"your tutor"}`:R.subject||"Personal study task"})]}),t.jsx("span",{className:`text-xs px-3 py-1 rounded-full border ${R.type==="session"?"border-blue-500/40 text-blue-300":R.priority==="high"?"border-red-500/40 text-red-300":R.priority==="low"?"border-emerald-500/40 text-emerald-300":"border-amber-500/40 text-amber-300"}`,children:R.type==="session"?"Session":"Task"})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-400",children:[t.jsxs("span",{children:[" ",As(R.time)]}),R.type==="session"?t.jsxs("span",{children:[" ",R.meetingType==="virtual"?"Virtual session":"In-person"]}):t.jsxs("span",{children:[" Status: ",R.status]})]})]},R.id))}):t.jsx("div",{className:"text-center text-slate-400 py-8",children:"Choose a day on the calendar to see details."})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Event Types"}),t.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-blue-500"}),t.jsx("span",{children:" Tutoring Sessions"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500"}),t.jsx("span",{children:" High Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-amber-500"}),t.jsx("span",{children:" Medium Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-emerald-500"}),t.jsx("span",{children:" Low Priority Tasks"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Quick Actions"}),t.jsx(Fe,{to:"/tutors",className:"w-full flex items-center justify-center px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold hover:opacity-90 transition",children:"Schedule Session"})]})]})]})]})},tn=()=>{const _=j.length,ue=j.filter(W=>W.status==="completed").length,te=j.filter(W=>W.status==="scheduled"||W.status==="confirmed").length;j.filter(W=>W.status==="cancelled").length;const je=j.filter(W=>W.reviewSubmitted).length,ve=K.length,Le=jt.completed,R=ve>0?Math.round(Le/ve*100):0,Z=K.reduce((W,de)=>{const Ne=de.subject||"General";return W[Ne]||(W[Ne]={total:0,completed:0}),W[Ne].total++,de.status==="completed"&&W[Ne].completed++,W},{});return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[R,"%"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completion Rate"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[jt.studyHours,"h"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Hours"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:ue}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Sessions Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Fn}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Tasks"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"Session Analytics"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Total Sessions"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"All time bookings"})]}),t.jsx("div",{className:"text-2xl font-bold text-white",children:_})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-emerald-300 font-medium",children:"Completed"}),t.jsx("div",{className:"text-emerald-400/70 text-sm",children:"Finished sessions"})]}),t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:ue})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-blue-300 font-medium",children:"Scheduled"}),t.jsx("div",{className:"text-blue-400/70 text-sm",children:"Upcoming sessions"})]}),t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:te})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Reviews Given"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Sessions reviewed"})]}),t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:je})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-purple-400",children:""}),t.jsx("span",{children:"Task Analytics"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Total Tasks"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"All tasks created"})]}),t.jsx("div",{className:"text-2xl font-bold text-white",children:ve})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-emerald-300 font-medium",children:"Completed"}),t.jsx("div",{className:"text-emerald-400/70 text-sm",children:"Tasks finished"})]}),t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:Le})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-amber-300 font-medium",children:"In Progress"}),t.jsx("div",{className:"text-amber-400/70 text-sm",children:"Active tasks"})]}),t.jsx("div",{className:"text-2xl font-bold text-amber-400",children:jt.inProgress+jt.started})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Pending"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Not started yet"})]}),t.jsx("div",{className:"text-2xl font-bold text-slate-400",children:jt.pending})]})]})]})]}),Object.keys(Z).length>0&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-cyan-400",children:""}),t.jsx("span",{children:"Progress by Subject"})]}),t.jsx("div",{className:"space-y-4",children:Object.entries(Z).map(([W,de])=>{const Ne=Math.round(de.completed/de.total*100);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-white font-medium",children:W}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[de.completed," / ",de.total," tasks (",Ne,"%)"]})]}),t.jsx("div",{className:"w-full bg-slate-800 rounded-full h-3",children:t.jsx("div",{className:"h-3 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-300",style:{width:`${Ne}%`}})})]},W)})})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-blue-500/20",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:" Summary"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-1",children:_+ve}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Activities"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl font-bold text-emerald-400 mb-1",children:ue+Le}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl font-bold text-purple-400 mb-1",children:[jt.studyHours,"h"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Time"})]})]})]})]})},Yl=()=>{switch(o){case"tasks":return Nt();case"sessions":return Yt();case"calendar":return en();case"progress":return tn();default:return _s()}},pn=()=>{if(!be)return null;const ue=(()=>{switch(q){case"success":return{bg:"bg-emerald-500/10",border:"border-emerald-500/40",text:"text-emerald-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})};case"error":return{bg:"bg-red-500/10",border:"border-red-500/40",text:"text-red-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};case"warning":return{bg:"bg-amber-500/10",border:"border-amber-500/40",text:"text-amber-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})};case"info":return{bg:"bg-blue-500/10",border:"border-blue-500/40",text:"text-blue-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};default:return{bg:"bg-slate-500/10",border:"border-slate-500/40",text:"text-slate-400",icon:null}}})();return t.jsx("div",{className:`fixed top-20 right-4 z-50 ${ue.bg} ${ue.border} border backdrop-blur-sm rounded-xl shadow-2xl transform transition-all duration-300 ease-in-out animate-slide-in-right max-w-md`,children:t.jsxs("div",{className:"flex items-start space-x-3 p-4",children:[t.jsx("div",{className:`flex-shrink-0 ${ue.text}`,children:ue.icon}),t.jsx("div",{className:"flex-1 pt-0.5",children:t.jsx("p",{className:`text-sm font-medium ${ue.text} leading-relaxed`,children:be})}),t.jsx("button",{onClick:()=>$(""),className:`flex-shrink-0 ${ue.text} hover:opacity-70 transition-opacity`,children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})};return t.jsxs("div",{className:"min-h-screen bg-slate-950",children:[t.jsxs("div",{className:"flex h-[calc(100vh-64px)]",children:[t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:[dn.text,", ",n?.profile?.fullName||n?.full_name||n?.name||n?.username||"Student","! ",dn.emoji]}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Ready to make today productive? Here's your learning overview."})]}),Yl()]})}),t.jsx("div",{className:"w-80 bg-slate-900/30 backdrop-blur-sm border-l border-slate-800/50 overflow-auto",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Dashboard"}),t.jsx("div",{className:"space-y-1",children:$l.map(_=>t.jsx("button",{onClick:()=>u(_.id),className:`w-full px-3 py-2 rounded-lg flex items-center transition-all duration-200 ${o===_.id?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:t.jsx("span",{className:"text-sm font-medium",children:_.label})},_.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Key Actions"}),t.jsx("div",{className:"space-y-2",children:gl.map(_=>{const ue=`w-full p-3 rounded-xl border bg-gradient-to-r ${_.gradient} ${_.border} transition-all duration-200 hover:border-white/40`,te=t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-white text-sm font-semibold",children:_.label}),t.jsx("div",{className:"text-slate-200 text-xs",children:_.description})]});return _.to?t.jsx(Fe,{to:_.to,className:`${ue} block`,children:te},_.id):t.jsx("button",{onClick:_.onClick,className:`${ue} text-left`,children:te},_.id)})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 rounded-2xl p-4 border border-red-500/20",children:[t.jsxs("h3",{className:"text-sm font-semibold text-red-300 mb-3 uppercase tracking-wide flex items-center space-x-2",children:[t.jsx("span",{className:"text-red-400",children:""}),t.jsx("span",{children:"Urgent Tasks"})]}),t.jsx("div",{className:"space-y-3",children:(n.urgentTasks||[]).slice(0,2).map((_,ue)=>t.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/50 border border-slate-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("div",{className:"text-white text-xs font-medium line-clamp-2",children:_.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.priority==="high"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:_.priority})]}),t.jsx("div",{className:"text-slate-400 text-xs mb-1",children:_.subject}),t.jsxs("div",{className:"text-slate-500 text-xs",children:["Due: ",_.due]})]},_.title))}),t.jsx(Fe,{to:"/tasks",className:"block text-center mt-3 text-xs text-blue-400 hover:text-blue-300 font-medium",children:"View All Tasks "})]})]})})]}),t.jsx(Hf,{isEdit:!1,isOpen:d,onClose:Bt,newTask:ce,setNewTask:C,errors:me,loading:H,onSubmit:ee}),t.jsx(Hf,{isEdit:!0,isOpen:x,onClose:Bt,newTask:ce,setNewTask:C,errors:me,loading:H,onSubmit:Ce}),t.jsx(Yn,{isOpen:f,onClose:()=>g(!1),booking:kt,onRescheduleSuccess:Ma}),t.jsx(Mv,{isOpen:y,onClose:()=>S(!1),booking:kt,onCancelSuccess:fs}),hn,t.jsx(pn,{})]})},zv="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Lv=()=>{const{user:n}=qt(),[a,i]=T.useState(!1),[o,u]=T.useState(!0),[d,h]=T.useState(!0);return T.useEffect(()=>{n?(async()=>{try{if(!n||!n.id){u(!1);return}const p=localStorage.getItem("token");if(!p){console.log("No auth token found"),i(!0),h(!1);return}const f=await fetch(`${zv}/profiles/tutor/status`,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}});if(f.ok){const g=await f.json();if(console.log(" Profile status response:",g),g.success&&g.data){const y=g.data.isComplete;console.log("Profile isComplete:",y),i(!y)}else console.log("API returned success=false or no data"),i(!1)}else{console.log("API request failed with status:",f.status);try{const g=await f.json();console.log("Error details:",g)}catch{console.log("Could not parse error response")}i(!1)}}catch(p){console.error("Error checking profile status:",p),i(!1)}finally{h(!1)}})():(h(!1),u(!1))},[n]),d||!o||!a?null:t.jsx("div",{className:"bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/30 rounded-2xl p-6 mb-8 backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Complete Your Profile"}),t.jsx("p",{className:"text-amber-100/80",children:"Complete your profile to be visible to students and receive booking requests."})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Fe,{to:"/profile",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-medium rounded-lg transition-all duration-200",children:"Complete Profile"}),t.jsx("button",{onClick:()=>u(!1),className:"w-8 h-8 flex items-center justify-center text-amber-100/60 hover:text-amber-100 hover:bg-amber-500/20 rounded-lg transition-all duration-200",children:t.jsx("span",{className:"text-lg font-bold",children:""})})]})]})})},xo={async getSubjects(){try{return await ot.get("/subjects")}catch(n){throw console.error("Error fetching subjects:",n),n}},async getSubjectsByCategory(){try{return await ot.get("/subjects/by-category")}catch(n){throw console.error("Error fetching subjects by category:",n),n}},async createSubject(n){try{return await ot.post("/subjects",n)}catch(a){throw console.error("Error creating subject:",a),a}},async updateSubject(n,a){try{return await ot.put(`/subjects/${n}`,a)}catch(i){throw console.error("Error updating subject:",i),i}},async deleteSubject(n){try{return await ot.delete(`/subjects/${n}`)}catch(a){throw console.error("Error deleting subject:",a),a}}},Ol="https://sunke-vasan-varpe-varadaraju.onrender.com/api",$f=({isOpen:n,onClose:a,isEdit:i=!1,newTask:o,setNewTask:u,errors:d,loading:h,subjects:x,handleEditTask:p,handleAddTask:f})=>{const g=T.useCallback((y,S)=>{u(N=>({...N,[y]:S}))},[u]);return t.jsx(Bn,{isOpen:n,onClose:a,children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:i?"Edit Task":"Add New Task"}),d.general&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 mb-4",children:t.jsx("p",{className:"text-red-400 text-sm",children:d.general})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:o.title||"",onChange:y=>g("title",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.title?"border-red-500":"border-slate-700"}`,placeholder:"Enter task title",disabled:h}),d.title&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),t.jsx("textarea",{value:o.description||"",onChange:y=>g("description",y.target.value),rows:"3",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"Enter task description",disabled:h})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject *"}),t.jsxs("select",{value:o.subject||"",onChange:y=>g("subject",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.subject?"border-red-500":"border-slate-700"}`,disabled:h,children:[t.jsx("option",{value:"",children:"Select Subject"}),x.map(y=>t.jsx("option",{value:y.name,children:y.name},y.id))]}),d.subject&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:o.priority||"medium",onChange:y=>g("priority",y.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",disabled:h,children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Estimated Time *"}),t.jsx("input",{type:"text",value:o.estimatedTime||"",onChange:y=>g("estimatedTime",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.estimatedTime?"border-red-500":"border-slate-700"}`,placeholder:"e.g., 2 hours",disabled:h}),d.estimatedTime&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.estimatedTime})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date *"}),t.jsx("input",{type:"date",value:o.due||"",onChange:y=>g("due",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.due?"border-red-500":"border-slate-700"}`,disabled:h}),d.due&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.due})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsx(Be,{variant:"secondary",onClick:a,disabled:h,children:"Cancel"}),t.jsx(Be,{onClick:i?p:f,disabled:h,children:h?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:i?"Updating...":"Adding..."})]}):i?"Update Task":"Add Task"})]})]})})},Ov=()=>{const{user:n,loading:a}=qt(),[i,o]=T.useState("overview"),[u,d]=T.useState(!1),[h,x]=T.useState(!1),[p,f]=T.useState(!1),[g,y]=T.useState(null),[S,N]=T.useState(""),[B,E]=T.useState(!1),[U,k]=T.useState(""),[M,H]=T.useState("success"),[ne,be]=T.useState(!1),[$,q]=T.useState(0),[fe,me]=T.useState("all"),[G,A]=T.useState(!1),[I,le]=T.useState(null),[re,ce]=T.useState([]),[C,K]=T.useState(!0),[ye,Ee]=T.useState(null),[D,j]=T.useState([]),[O,v]=T.useState(!0),[Y,oe]=T.useState(null),[he,Se]=T.useState(!0),[De,Ae]=T.useState(null),[yt,vt]=T.useState(!0),[ns,kt]=T.useState(null),[$t,Et]=T.useState(!0),[ls,Zs]=T.useState(!1),[dn,ks]=T.useState(!1),[ft,es]=T.useState([]),[mn,Ot]=T.useState(!0),[Ct,$n]=T.useState([]),[ee,xe]=T.useState({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),[Ce,Me]=T.useState({}),[Re,Vt]=T.useState({stats:{upcomingSessions:0,activeStudents:0,monthlyEarnings:0,averageRating:0},recentStudents:[],students:[],earnings:{total:0,thisMonth:0,thisWeek:0,todayEarnings:0,dailyEarnings:[]},todaySessions:[]}),At=(()=>{const R=new Date().getHours();return R>=5&&R<12?{text:"Good Morning",emoji:""}:R>=12&&R<17?{text:"Good Afternoon",emoji:""}:R>=17&&R<21?{text:"Good Evening",emoji:""}:{text:"Good Night",emoji:""}})();if(a||!n)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),t.jsx("p",{className:"text-white",children:"Loading dashboard..."})]})});const ut=async()=>{try{console.log(" Loading pending booking requests..."),v(!0);const R=await fetch(`${Ol}/booking/tutor/requests`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log(" Response status:",R.status),console.log(" Response ok:",R.ok),!R.ok){const Ne=await R.text();throw console.error(" Response error:",Ne),new Error(`HTTP error! status: ${R.status} - ${Ne}`)}const Z=await R.json();console.log(" Raw pending requests data:",Z),console.log(" Data type:",typeof Z),console.log(" Data keys:",Z?Object.keys(Z):"null");let W=[];Z&&Z.requests&&Array.isArray(Z.requests)?W=Z.requests:Z&&Array.isArray(Z)&&(W=Z),console.log(" Extracted requests:",W);const de=W.filter(Ne=>(console.log(" Checking request status:",Ne.status,"for request:",Ne.id),Ne.status==="pending"));console.log(" Final filtered pending requests:",de),j(de)}catch(R){console.error(" Failed to load pending requests:",R),console.error(" Error details:",R.message),j([])}finally{v(!1)}},_t=async()=>{try{console.log("Starting to load real sessions..."),K(!0),Ee(null);const R=await Zt.getTutorSessions();console.log("Raw session data received:",R),console.log("Session data type:",typeof R),console.log("Session data keys:",R?Object.keys(R):"null");let Z=[];if(R&&R.sessions&&Array.isArray(R.sessions))console.log("Using sessionData.sessions:",R.sessions),Z=R.sessions;else if(R&&Array.isArray(R))console.log("Using sessionData directly:",R),Z=R;else{console.warn("Invalid session data format:",R),ce([]);return}const W=new Date,de=[];for(const V of Z){if(console.log(" Processing session - Full data:",JSON.stringify(V,null,2)),(V.status==="scheduled"||V.status==="confirmed")&&V.date){const pe=V.date.includes("T")?V.date.split("T")[0]:V.date;let at;const Qe=V.end_time||V.endTime||V.session_end_time,gn=V.start_time||V.startTime||V.time||V.session_time;if(Qe)at=new Date(`${pe}T${Qe}`),console.log(" Using end_time field:",Qe);else if(gn){const Ut=V.duration_minutes||V.duration||60;at=new Date(`${pe}T${gn}`),at.setMinutes(at.getMinutes()+Ut),console.log(" Calculated end time from start_time:",gn,"+ duration:",Ut,"minutes")}if(console.log(" Session ID:",V.id,"Status:",V.status),console.log(" Session date:",pe,"End time:",at),console.log(" Current time:",W,"Has passed:",at&&W>at),at&&W>at){console.log(" Auto-completing past session ID:",V.id);try{const Ut=await Zt.markSessionComplete(V.id);console.log(" Successfully auto-completed session:",V.id,"Result:",Ut),V.status="completed"}catch(Ut){console.error(" Failed to auto-complete session:",V.id),console.error(" Error details:",Ut)}}}const Ft={id:V.id||V.session_id||V.booking_id||`session-${Date.now()}`,studentId:V.studentId||V.student_id,studentName:V.studentName||V.student_name||"Unknown Student",subject:V.subject||"General Tutoring",topic:V.topic||V.notes||V.message||"Session topic",date:V.date||V.session_date||V.booking_date,time:V.time||V.session_time||V.start_time,duration:V.duration||V.duration_minutes||60,status:V.status==="completed"?"completed":V.status==="confirmed"?"scheduled":V.status||"scheduled",notes:V.notes||V.message||"",meetingType:V.meetingType||V.meeting_type||"virtual",meetingLink:V.meetingLink||V.meeting_link||null,location:V.location||null};console.log(" Mapped session result:",Ft),de.push(Ft)}const Ne=de.filter(V=>V.status!=="pending");console.log("Mapped sessions for UI (excluding pending):",Ne),ce(Ne)}catch(R){console.error("Failed to load real sessions:",R),console.error("Error details:",R.message,R.stack),Ee(R?.message||"Unknown error"),ce([])}finally{K(!1)}},Ie=async()=>{try{Se(!0);const R=localStorage.getItem("token"),Z=await fetch(`${Ol}/booking/tutor/earnings`,{headers:{Authorization:`Bearer ${R}`}});if(!Z.ok)throw new Error("Failed to fetch earnings data");const W=await Z.json();console.log(" Loaded earnings data:",W),oe(W)}catch(R){console.error(" Error loading earnings data:",R),Js("Failed to load earnings data")}finally{Se(!1)}},Cs=async()=>{try{vt(!0);const R=localStorage.getItem("token"),Z=await fetch(`${Ol}/booking/tutor/overview`,{headers:{Authorization:`Bearer ${R}`}});if(!Z.ok)throw new Error("Failed to fetch overview data");const W=await Z.json();console.log(" Loaded overview data:",W),Ae(W)}catch(R){console.error(" Error loading overview data:",R)}finally{vt(!1)}},Jt=async()=>{try{Et(!0);const R=localStorage.getItem("token"),Z=localStorage.getItem("user"),W=Z?JSON.parse(Z):null;if(!W?.id){console.error(" No user ID available for loading reviews"),Et(!1);return}const de=await fetch(`${Ol}/reviews/tutors/${W.id}/reviews`,{headers:{Authorization:`Bearer ${R}`}});if(!de.ok)throw new Error("Failed to fetch reviews data");const Ne=await de.json();console.log(" Loaded reviews data:",Ne),kt(Ne)}catch(R){console.error(" Error loading reviews data:",R)}finally{Et(!1)}};T.useEffect(()=>{_t(),ut(),Ie(),Cs(),Jt(),fs(),Yn()},[]),T.useEffect(()=>{(Y||De||re)&&Ma()},[Y,De,re]);const Ma=async()=>{try{const R=[];if(Y?.recentSessions){const Z=new Map;Y.recentSessions.forEach(W=>{W.studentName&&!Z.has(W.studentName)&&Z.set(W.studentName,{id:W.studentId||W.id,name:W.studentName,subject:W.subject,lastSession:W.date})}),R.push(...Z.values())}Vt({stats:{upcomingSessions:re.filter(Z=>Z.status==="scheduled").length,activeStudents:De?.stats?.totalStudents||0,monthlyEarnings:De?.stats?.monthEarnings||0,averageRating:De?.profile?.rating||0},recentStudents:R,students:R,earnings:{total:Y?.summary?.totalEarnings||0,thisMonth:Y?.summary?.thisMonthEarnings||0,thisWeek:Y?.summary?.thisWeekEarnings||0,todayEarnings:Y?.summary?.todayEarnings||0,dailyEarnings:Y?.earningsByDate||[]},todaySessions:re.filter(Z=>(Z.date?.includes("T")?Z.date.split("T")[0]:Z.date)===new Date().toISOString().split("T")[0])})}catch(R){console.error("Failed to load tutor data:",R)}},fs=async()=>{try{Ot(!0);const R=await Ys.getTasks();console.log(" Loaded tutor tasks:",R.data);const Z=R.data.map(W=>({id:W.id,title:W.title,description:W.description,subject:W.subject,priority:W.priority,status:W.status,progress:W.progress,due:W.due_date,estimatedTime:W.estimated_time,createdAt:W.created_at,updatedAt:W.updated_at}));es(Z)}catch(R){console.error(" Error loading tasks:",R),es([])}finally{Ot(!1)}},Yn=async()=>{try{const R=await xo.getSubjects();$n(R.data||[])}catch(R){console.error(" Error loading subjects:",R),$n([])}},hn=()=>{const R={};if(ee.title.trim()||(R.title="Task title is required"),ee.subject||(R.subject="Subject is required"),!ee.due)R.due="Due date is required";else{const Z=new Date(ee.due),W=new Date;W.setHours(0,0,0,0),Z<W&&(R.due="Due date cannot be in the past")}return ee.estimatedTime||(R.estimatedTime="Estimated time is required"),Me(R),Object.keys(R).length===0},Bt=R=>{k(R),H("success"),setTimeout(()=>k(""),4e3)},Js=R=>{k(R),H("error"),setTimeout(()=>k(""),4e3)},jt=async()=>{if(hn()){E(!0);try{const R=await Ys.createTask(ee);console.log(" Task created:",R.data),await fs(),xe({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),Me({}),Zs(!1),Bt("Task added successfully!")}catch(R){console.error(" Error creating task:",R),Me({general:"Failed to create task. Please try again."})}finally{E(!1)}}},Fn=async()=>{if(hn()){E(!0);try{await Ys.updateTask(ee.id,ee),await fs(),xe({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),Me({}),ks(!1),Bt("Task updated successfully!")}catch(R){console.error(" Error updating task:",R),Me({general:"Failed to update task. Please try again."})}finally{E(!1)}}},$l=async(R,Z)=>{try{const W=ft.find(V=>V.id===R);if(!W)return;let de=W.progress||0;switch(Z){case"started":de=25;break;case"in-progress":de=50;break;case"completed":de=100;break;default:de=0}const Ne={...W,status:Z,progress:de};await Ys.updateTask(R,Ne),console.log(" Task status changed:",R,Z),await fs(),Bt(`Task status updated to ${Z}!`)}catch(W){console.error(" Error changing task status:",W),Js("Failed to update task status. Please try again.")}},gl=async(R,Z)=>{try{const W=ft.find(Ne=>Ne.id===R);if(!W)return;const de={...W,priority:Z};await Ys.updateTask(R,de),console.log(" Task priority changed:",R,Z),await fs(),Bt(`Priority updated to ${Z}!`)}catch(W){console.error(" Error changing task priority:",W),Js("Failed to update task priority. Please try again.")}},Ks=async R=>{if(window.confirm("Are you sure you want to delete this task?"))try{await Ys.deleteTask(R),await fs(),Bt("Task deleted successfully!")}catch(Z){console.error(" Error deleting task:",Z),Js("Failed to delete task. Please try again.")}},za=()=>t.jsx(Bn,{isOpen:u,onClose:()=>d(!1),children:t.jsxs("div",{className:"p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-white mb-6",children:["My Students (",Re.recentStudents.length,")"]}),t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:Re.recentStudents.map(R=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500/20 to-teal-500/20 flex items-center justify-center border border-emerald-500/30",children:t.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:R.name?R.name.split(" ").map(Z=>Z[0]).join(""):"U"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium",children:R.name}),t.jsx("p",{className:"text-slate-400 text-sm",children:R.subject}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[t.jsxs("p",{className:"text-slate-500 text-xs",children:["Progress: ",R.progress,"%"]}),t.jsx("div",{className:"w-12 bg-slate-700 rounded-full h-1",children:t.jsx("div",{className:"bg-emerald-500 h-1 rounded-full",style:{width:`${R.progress}%`}})})]})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Be,{size:"sm",onClick:()=>{Bt(`Message sent to ${R.name}!`),d(!1)},disabled:B,children:" Message"}),t.jsx(Be,{variant:"secondary",size:"sm",onClick:()=>{Bt(`Viewing ${R.name}'s profile...`),d(!1)},disabled:B,children:" Profile"})]})]})},R.id))}),t.jsxs("div",{className:"mt-6 flex space-x-3",children:[t.jsx(Be,{variant:"secondary",onClick:()=>Bt("Searching for new students..."),className:"flex-1",disabled:B,children:"Find New Students"}),t.jsx(Be,{onClick:()=>d(!1),className:"flex-1",children:"Close"})]})]})}),Ws=()=>t.jsx(Bn,{isOpen:h,onClose:()=>x(!1),children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Teaching Analytics"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:Re.stats.upcomingSessions}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Week's Sessions"})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:Re.stats.averageRating}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Average Rating"})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",Re.stats.monthlyEarnings]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Month"})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:Re.stats.activeStudents}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Active Students"})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-medium mb-2",children:"Popular Subjects"}),t.jsx("div",{className:"space-y-2",children:["Mathematics","Physics","Chemistry"].map((R,Z)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:R}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-20 bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${100-Z*30}%`}})}),t.jsxs("span",{className:"text-white text-sm",children:[100-Z*30,"%"]})]})]},R))})]})}),t.jsx("div",{className:"mt-6",children:t.jsx(Be,{onClick:()=>x(!1),className:"w-full",children:"Close"})})]})}),As=R=>{y(R),f(!0)},bl=async()=>{if(g)try{console.log(" Cancelling session:",g.id),E(!0);const R=g.id.toString().startsWith("session-")?g.id.replace("session-",""):g.id,Z=await fetch(`${Ol}/booking/tutor/bookings/${R}/cancel`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({reason:S||"Session cancelled by tutor"})});if(!Z.ok){const de=await Z.json();throw new Error(de.error||"Failed to cancel session")}const W=await Z.json();console.log(" Session cancelled:",W),f(!1),y(null),N(""),k("Session cancelled successfully. Student has been notified."),setTimeout(()=>k(""),5e3),_t()}catch(R){console.error(" Error cancelling session:",R),alert("Failed to cancel session: "+R.message)}finally{E(!1)}},fn=async R=>{try{console.log(" Accepting booking request:",R);const Z=await fetch(`${Ol}/booking/requests/${R}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:"accept",responseMessage:"Your booking request has been accepted!"})});if(!Z.ok){const de=await Z.json();throw new Error(`Failed to accept request: ${de.error||Z.status}`)}const W=await Z.json();console.log(" Booking request accepted:",W),j(de=>de.filter(Ne=>Ne.id!==R)),ut(),_t(),Ie()}catch(Z){console.error(" Error accepting booking request:",Z),alert("Failed to accept booking request: "+Z.message)}},xn=async R=>{try{console.log(" Rejecting booking request:",R);const Z=await fetch(`${Ol}/booking/requests/${R}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:"decline",responseMessage:"Sorry, I cannot accommodate this booking request at this time."})});if(!Z.ok){const de=await Z.json();throw new Error(`Failed to reject request: ${de.error||Z.status}`)}const W=await Z.json();console.log(" Booking request declined:",W),j(de=>de.filter(Ne=>Ne.id!==R)),ut()}catch(Z){console.error(" Error rejecting booking request:",Z),alert("Failed to reject booking request: "+Z.message)}},yl=R=>["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Tutor Together//Tutor Sessions Export//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",R.filter(W=>W.status==="upcoming").map(W=>{const de=new Date(`${W.date}T${W.time}`),Ne=new Date(de.getTime()+W.duration*60*1e3),V=We=>We.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";return["BEGIN:VEVENT",`DTSTART:${V(de)}`,`DTEND:${V(Ne)}`,`SUMMARY:${W.subject} - Tutoring Session with ${W.student}`,`DESCRIPTION:Tutoring session for ${W.subject} with student ${W.student}. Notes: ${W.notes||"No additional notes"}`,`LOCATION:${W.meetingLink||"TBD"}`,`UID:${W.id}@tutortogether.com`,"STATUS:CONFIRMED","END:VEVENT"].join(`\r
`)}).join(`\r
`),"END:VCALENDAR"].join(`\r
`),Gn=async(R="ical")=>{be(!0);try{await new Promise(de=>setTimeout(de,1500));const Z=re.filter(de=>de.status==="scheduled");if(Z.length===0){k("No upcoming sessions to export"),setTimeout(()=>k(null),3e3);return}const W=yl(re);if(R==="ical"){const de=new Blob([W],{type:"text/calendar;charset=utf-8"}),Ne=window.URL.createObjectURL(de),V=document.createElement("a");V.href=Ne,V.download=`tutor-sessions-${new Date().toISOString().split("T")[0]}.ics`,document.body.appendChild(V),V.click(),document.body.removeChild(V),window.URL.revokeObjectURL(Ne)}k(`${Z.length} sessions exported successfully!`),setTimeout(()=>k(null),3e3)}catch(Z){console.error("Export failed:",Z),k("Export failed. Please try again."),setTimeout(()=>k(null),3e3)}finally{be(!1)}},_s=()=>U&&t.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-500/20 border border-green-500/30 text-green-400 px-4 py-2 rounded-lg",children:U}),Nt=()=>{const R={pending:ft.filter(de=>de.status==="pending").length,started:ft.filter(de=>de.status==="started").length,inProgress:ft.filter(de=>de.status==="in-progress").length,completed:ft.filter(de=>de.status==="completed").length,studyHours:ft.reduce((de,Ne)=>{if(Ne.status==="completed"&&Ne.estimatedTime){const V=parseFloat(Ne.estimatedTime.match(/\d+/)?.[0]||0);return de+V}return de},0)},Z=de=>{switch(de){case"high":return"bg-red-500/20 text-red-400 border-red-500/30";case"medium":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"low":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},W=de=>{switch(de){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in-progress":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"started":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"pending":return"bg-slate-500/20 text-slate-400 border-slate-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}};return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-slate-500/20 to-gray-500/20 rounded-2xl p-6 border border-slate-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:R.pending}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:R.started}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Started"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:R.inProgress}),t.jsx("div",{className:"text-slate-400 text-sm",children:"In Progress"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:R.completed}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:R.studyHours}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Hours"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"All Tasks"})]}),t.jsx("button",{onClick:()=>Zs(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:"+ Add Task"})]}),t.jsx("div",{className:"space-y-4",children:mn?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):ft.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-400",children:"No tasks found. Create your first task!"})}):ft.map(de=>t.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"text-white font-medium",children:de.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Z(de.priority)}`,children:de.priority}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${W(de.status)}`,children:de.status.replace("-"," ")})]}),de.description&&t.jsx("div",{className:"text-slate-400 text-sm mb-2",children:de.description}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-1",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[de.progress||0,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${de.status==="completed"?"bg-green-500":de.status==="in-progress"?"bg-yellow-500":de.status==="started"?"bg-blue-500":"bg-slate-600"}`,style:{width:`${de.progress||0}%`}})})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-500",children:[t.jsxs("span",{children:[" ",de.subject]}),t.jsxs("span",{children:[" ",de.estimatedTime]}),t.jsxs("span",{children:[" Due: ",new Date(de.due).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Status:"}),t.jsxs("select",{value:de.status,onChange:Ne=>$l(de.id,Ne.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Priority:"}),t.jsxs("select",{value:de.priority,onChange:Ne=>gl(de.id,Ne.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsx("button",{onClick:()=>{xe(de),ks(!0)},className:"px-3 py-1 text-blue-400 hover:text-blue-300 border border-blue-500/30 hover:border-blue-500/50 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-xs transition-all",children:"Edit"}),t.jsx("button",{onClick:()=>Ks(de.id),className:"px-3 py-1 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-xs transition-all",children:"Delete"})]})]},de.id))})]})]})};Re.stats.upcomingSessions,Re.stats.activeStudents,`${Re.stats.monthlyEarnings}`,Re.stats.averageRating;const Yt=[{id:"overview",label:"Overview",icon:"home"},{id:"sessions",label:"Sessions",icon:"book"},{id:"tasks",label:"Tasks",icon:"clipboard"},{id:"earnings",label:"Earnings",icon:"dollar"},{id:"reviews",label:"Reviews",icon:"star"}],en=[{id:"calendar",label:"Calendar",description:"Glance at your week",to:"/calendar",gradient:"from-blue-500/20 via-indigo-500/10 to-indigo-500/20",border:"border-blue-500/30"},{id:"profile",label:"Profile",description:"Manage your tutor profile",to:"/tutor-profile",gradient:"from-purple-500/20 via-violet-500/10 to-violet-500/20",border:"border-purple-500/30"},{id:"add-task",label:"Add Task",description:"Capture prep or follow-ups",onClick:()=>Zs(!0),gradient:"from-rose-500/20 via-pink-500/10 to-pink-500/20",border:"border-rose-500/30"},{id:"messages",label:"Messages",description:"Jump into student chats",to:"/messages",gradient:"from-amber-500/20 via-orange-500/10 to-orange-500/20",border:"border-amber-500/30"}],tn=R=>{switch(R){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"scheduled":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"in-progress":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},Yl=R=>new Date(R).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),pn=R=>{const[Z,W]=R.split(":"),de=new Date;return de.setHours(parseInt(Z),parseInt(W)),de.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},_=()=>{console.log("realSessions:",re),console.log("pendingRequests:",D);const R=re||[],Z=(D||[]).map(V=>({id:V.id,studentId:V.studentId,studentName:V.studentName||"Unknown Student",subject:V.subject||"General",topic:V.notes||"Session requested",date:V.date,time:V.startTime,duration:V.duration*60||60,status:"pending",notes:V.notes||"",meetingType:V.meetingType||"virtual",meetingLink:null,location:V.location||null,createdAt:V.createdAt})),W=[...R,...Z];console.log("Using combined sessions:",W),console.log("Confirmed sessions:",R.length),console.log("Pending requests:",Z.length);const Ne=(()=>{if(fe==="all")return W;if(fe==="upcoming")return W.filter(V=>V.status==="scheduled"||V.status==="pending");if(fe==="completed")return W.filter(V=>V.status==="completed");if(fe==="today"){const V=new Date().toISOString().split("T")[0];return W.filter(We=>(We.date&&We.date.includes("T")?We.date.split("T")[0]:We.date)===V)}return W})();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Sessions Management"}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx("button",{onClick:()=>Gn("ical"),disabled:ne,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 text-sm",children:ne?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export Calendar"})]})})})]}),t.jsx("div",{className:"flex space-x-1 mb-6 bg-slate-800/30 rounded-lg p-1",children:[{id:"all",label:"All Sessions",count:W.length},{id:"today",label:"Today",count:W.filter(V=>(V.date&&V.date.includes("T")?V.date.split("T")[0]:V.date)===new Date().toISOString().split("T")[0]).length},{id:"upcoming",label:"Upcoming",count:W.filter(V=>V.status==="scheduled"||V.status==="pending").length},{id:"completed",label:"Completed",count:W.filter(V=>V.status==="completed").length}].map(V=>t.jsxs("button",{onClick:()=>me(V.id),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${fe===V.id?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[V.label,t.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-slate-700/50 text-xs",children:V.count})]},V.id))}),t.jsx("div",{className:"space-y-4",children:C?t.jsxs("div",{className:"text-center py-12",children:[t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto"})]}),t.jsx("p",{className:"text-slate-400 mt-4",children:"Loading sessions..."})]}):ye?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-red-400 text-lg mb-2",children:""}),t.jsx("h4",{className:"text-red-300 font-medium mb-1",children:"Error loading sessions"}),t.jsx("p",{className:"text-red-500 text-sm mb-4",children:ye}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Retry"})]}):Ne.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-slate-400 text-lg mb-2",children:""}),t.jsx("h4",{className:"text-slate-300 font-medium mb-1",children:"No sessions found"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"No sessions match the current filter criteria."})]}):Ne.map(V=>t.jsx("div",{className:"bg-slate-800/30 rounded-xl p-4 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500/20 to-cyan-500/20 flex items-center justify-center border border-blue-500/30",children:t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:V.studentName?V.studentName.split(" ").map(We=>We[0]).join(""):"U"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[t.jsx("h4",{className:"text-white font-medium",children:V.subject}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${tn(V.status)}`,children:V.status})]}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["with ",V.studentName]}),t.jsx("p",{className:"text-slate-500 text-xs mt-1",children:V.topic})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-white font-medium",children:Yl(V.date)}),t.jsx("div",{className:"text-slate-400 text-sm",children:pn(V.time)}),t.jsxs("div",{className:"text-slate-500 text-xs",children:[V.duration," minutes"]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[t.jsx("button",{onClick:()=>{le(V),A(!0)},className:"px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-lg text-xs hover:bg-blue-500/30 transition-colors",children:"View Details"}),V.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>fn(V.id),className:"px-3 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded-lg text-xs hover:bg-green-500/30 transition-colors",children:"Accept"}),t.jsx("button",{onClick:()=>xn(V.id),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-xs hover:bg-red-500/30 transition-colors",children:"Decline"})]}),(V.status==="scheduled"||V.status==="confirmed")&&t.jsx(yd,{booking:{...V,endTime:V.endTime||V.time,studentName:V.studentName},onCompleted:We=>{ce(Ft=>Ft.map(pe=>pe.id===We.id?{...pe,status:"completed"}:pe))},className:"text-xs px-2 py-1"}),V.status==="scheduled"&&t.jsx("button",{onClick:()=>As(V),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-xs hover:bg-red-500/30 transition-colors",children:"Cancel"}),V.meetingLink&&V.status==="scheduled"&&t.jsx("a",{href:V.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 rounded-lg text-xs hover:bg-emerald-500/30 transition-colors",children:"Join Meeting"})]})]})]})},V.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"This Week"}),t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:W.filter(V=>{const We=V.date.includes("T")?V.date.split("T")[0]:V.date,Ft=new Date(We),pe=new Date;pe.setDate(pe.getDate()-pe.getDay());const at=new Date(pe);return at.setDate(pe.getDate()+6),Ft>=pe&&Ft<=at}).length}),t.jsx("div",{className:"text-slate-500 text-xs",children:"Sessions scheduled"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"Completion Rate"}),t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[W.length>0?Math.round(W.filter(V=>V.status==="completed").length/W.length*100):0,"%"]}),t.jsx("div",{className:"text-slate-500 text-xs",children:"Sessions completed"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"Total Hours"}),t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Math.round(W.reduce((V,We)=>V+We.duration,0)/60)}),t.jsx("div",{className:"text-slate-500 text-xs",children:"Hours taught"})]})]})]})},ue=()=>t.jsx(Bn,{isOpen:G,onClose:()=>A(!1),children:t.jsx("div",{className:"p-6",children:I&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Session Details"}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Subject"}),t.jsx("p",{className:"text-white",children:I.subject})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Status"}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${tn(I.status)}`,children:I.status})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Student"}),t.jsx("p",{className:"text-white",children:I.studentName})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Topic"}),t.jsx("p",{className:"text-white",children:I.topic})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Date & Time"}),t.jsxs("p",{className:"text-white",children:[Yl(I.date)," at ",pn(I.time)]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Duration"}),t.jsxs("p",{className:"text-white",children:[I.duration," minutes"]})]})]})}),I.notes&&t.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:I.status==="pending"?"Student Notes / Message":"Session Notes"}),t.jsxs("p",{className:"text-slate-300 text-sm italic",children:['"',I.notes,'"']})]}),I.meetingLink&&t.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"Meeting Link"}),t.jsx("a",{href:I.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm break-all",children:I.meetingLink})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(Be,{variant:"secondary",onClick:()=>A(!1),className:"flex-1",children:"Close"}),I.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(Be,{onClick:()=>{A(!1),fn(I.id)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:"Accept Request"}),t.jsx(Be,{onClick:()=>{A(!1),xn(I.id)},className:"flex-1 bg-red-600 hover:bg-red-700",children:"Decline Request"})]}),I.status==="scheduled"&&t.jsxs(t.Fragment,{children:[t.jsx(Be,{onClick:()=>{A(!1),As(I)},className:"flex-1 bg-red-600 hover:bg-red-700",children:"Cancel Session"}),I.meetingLink&&t.jsx(Be,{onClick:()=>{window.open(I.meetingLink,"_blank")},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:"Join Meeting"})]})]})]})})});if(C)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-8",children:[t.jsxs("div",{className:"animate-pulse text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto"})]}),t.jsx("p",{className:"text-slate-400 mt-4 text-center",children:"Loading dashboard..."})]})});const te=()=>{const R=De?.stats?.pendingRequests||0,Z=De?.stats?.scheduledSessions||0,W=De?.stats?.completedSessions||0,de=De?.stats?.totalStudents||0,Ne=De?.stats?.todayEarnings||0,V=De?.stats?.monthEarnings||0,We=De?.profile?.rating||0,Ft=De?.profile?.totalReviews||0;return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-orange-500/10 to-red-500/10 rounded-2xl p-6 border border-orange-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Pending Requests"}),t.jsx("span",{className:"text-orange-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:R}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Awaiting response"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Scheduled Sessions"}),t.jsx("span",{className:"text-blue-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:Z}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Confirmed bookings"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Completed"}),t.jsx("span",{className:"text-emerald-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:W}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Total sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Students"}),t.jsx("span",{className:"text-purple-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:de}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Unique students"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-yellow-500/10 rounded-2xl p-6 border border-amber-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Today's Earnings"}),t.jsx("span",{className:"text-amber-400 text-2xl",children:""})]}),t.jsxs("div",{className:"text-white text-3xl font-bold",children:["$",Ne.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"From completed sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-teal-500/10 to-cyan-500/10 rounded-2xl p-6 border border-teal-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"This Month"}),t.jsx("span",{className:"text-teal-400 text-2xl",children:""})]}),t.jsxs("div",{className:"text-white text-3xl font-bold",children:["$",V.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Total earnings"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/10 to-blue-500/10 rounded-2xl p-6 border border-indigo-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Rating"}),t.jsx("span",{className:"text-indigo-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:We.toFixed(1)}),t.jsxs("div",{className:"text-slate-400 text-xs mt-1",children:[Ft," reviews"]})]})]}),D.length>0&&t.jsxs("div",{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 rounded-2xl p-6 border border-orange-500/30 backdrop-blur-sm",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-orange-400",children:""}),t.jsx("span",{children:"New Booking Requests"}),t.jsx("span",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full",children:D.length})]})}),t.jsx("div",{className:"space-y-4",children:O?t.jsxs("div",{className:"text-center py-4",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading requests..."})]}):D.map(pe=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-orange-500/20 hover:bg-slate-800/70 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500/20 to-red-500/20 flex items-center justify-center border border-orange-500/30",children:t.jsx("span",{className:"text-orange-400 text-sm font-medium",children:pe.studentName?pe.studentName.split(" ").map(at=>at[0]).join(""):"S"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-white font-medium",children:pe.subject||"Session Request"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["from ",pe.studentName||"Student","  ",new Date(pe.booking_date||pe.date).toLocaleDateString()," at ",pe.start_time||pe.startTime]}),pe.notes&&t.jsxs("p",{className:"text-slate-300 text-sm mt-1 italic",children:['"',pe.notes,'"']})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>{le({id:pe.id,subject:pe.subject||"Session Request",studentName:pe.studentName||"Student",studentEmail:pe.studentEmail,date:pe.date,time:pe.startTime,duration:(pe.duration||1)*60,topic:"Booking Request",notes:pe.notes,status:"pending",meetingType:pe.meetingType,location:pe.location}),A(!0)},className:"px-3 py-1 bg-slate-700/50 text-slate-300 border border-slate-600/50 rounded-lg text-sm hover:bg-slate-700 transition-colors",children:"Details"}),t.jsx("button",{onClick:()=>fn(pe.id),className:"px-3 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Accept"}),t.jsx("button",{onClick:()=>xn(pe.id),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Reject"})]})]})},pe.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-amber-400",children:""}),t.jsx("span",{children:"Pending Tasks"})]}),t.jsx("button",{onClick:()=>o("tasks"),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All "})]}),mn?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):ft.filter(pe=>pe.status!=="completed").length>0?t.jsx("div",{className:"space-y-3",children:ft.filter(pe=>pe.status!=="completed").slice(0,5).map(pe=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("div",{className:"text-white font-medium",children:pe.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${pe.priority==="high"?"bg-red-500/20 text-red-400":pe.priority==="medium"?"bg-amber-500/20 text-amber-400":"bg-green-500/20 text-green-400"}`,children:pe.priority})]}),t.jsx("div",{className:"text-slate-400 text-sm",children:pe.description}),t.jsxs("div",{className:"flex items-center space-x-3 mt-2 text-xs text-slate-500",children:[t.jsxs("span",{children:[" ",pe.subject]}),t.jsxs("span",{children:[" ",pe.estimatedTime]}),t.jsxs("span",{children:[" Due: ",new Date(pe.due).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Progress"}),t.jsxs("div",{className:"text-sm font-medium text-blue-400",children:[pe.progress||0,"%"]})]})})]},pe.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"All caught up!"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"No pending tasks at the moment"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:t.jsx("span",{children:"Today's Sessions"})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:()=>Gn("ical"),disabled:ne,className:"px-3 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 text-sm",children:ne?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export"})]})}),t.jsx("span",{className:"text-slate-400 text-sm",children:"All today's sessions shown below"})]})]}),t.jsx("div",{className:"space-y-4",children:re.length>0?re.filter(pe=>(pe.date.includes("T")?pe.date.split("T")[0]:pe.date)===new Date().toISOString().split("T")[0]).length>0?re.filter(pe=>(pe.date.includes("T")?pe.date.split("T")[0]:pe.date)===new Date().toISOString().split("T")[0]).map(pe=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500/20 to-cyan-500/20 flex items-center justify-center border border-blue-500/30",children:t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:pe.student?pe.student.split(" ").map(at=>at[0]).join(""):pe.studentName?pe.studentName.split(" ").map(at=>at[0]).join(""):"U"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium",children:pe.subject||"Session"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["with ",pe.student||pe.studentName||"Student"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-white font-medium",children:pn(pe.time)}),t.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium border ${tn(pe.status)}`,children:pe.status})]}),pe.status==="scheduled"&&t.jsx("button",{onClick:()=>As(pe),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-xs hover:bg-red-500/30 transition-colors",children:"Cancel"})]})]})},pe.id)):t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 text-center",children:t.jsx("p",{className:"text-slate-400",children:"No sessions scheduled for today"})}):t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 text-center",children:t.jsx("p",{className:"text-slate-400",children:"No sessions found"})})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:t.jsx("span",{children:"Recent Students"})}),t.jsxs("span",{className:"text-slate-500 text-sm",children:[Re.recentStudents.length," student",Re.recentStudents.length!==1?"s":""]})]}),Re.recentStudents.length>0?t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Re.recentStudents.slice(0,4).map((pe,at)=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500/20 to-teal-500/20 flex items-center justify-center border border-emerald-500/30",children:t.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:pe.name?pe.name.split(" ").map(Qe=>Qe[0]).join(""):"U"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-white font-medium text-sm",children:pe.name}),t.jsx("p",{className:"text-slate-400 text-xs",children:pe.subject}),pe.lastSession&&t.jsxs("p",{className:"text-slate-500 text-xs",children:["Last session: ",new Date(pe.lastSession).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]})},pe.id||at))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-slate-500 text-4xl mb-3",children:""}),t.jsx("p",{className:"text-slate-400",children:"No students yet"}),t.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Complete sessions to see your students here"})]})]})]})},je=()=>{if(he)return t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:"Loading earnings data..."})]})});const R=Y?.summary?.totalEarnings||0,Z=Y?.summary?.thisMonthEarnings||0,W=Y?.summary?.thisWeekEarnings||0,de=Y?.summary?.todayEarnings||0,Ne=Y?.summary?.completedSessionsCount||0,V=Y?.summary?.averagePerSession||0,We=Y?.profile?.hourlyRate||0,Ft=Y?.earningsByDate||[],pe=Y?.earningsBySubject||[],at=Y?.recentSessions||[];return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",R.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Earnings"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",Z.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Month"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",W.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Week"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",de.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Today"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"Recent Earnings"})]}),Ft.length>0?t.jsx("div",{className:"space-y-3",children:Ft.slice(0,10).map(Qe=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg hover:bg-slate-800/70 transition-colors",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:new Date(Qe.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Qe.sessionCount," session",Qe.sessionCount!==1?"s":""]})]}),t.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:["$",Qe.totalAmount.toFixed(2)]})]},Qe.date))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-slate-500 text-6xl mb-4",children:""}),t.jsx("p",{className:"text-slate-400",children:"No completed sessions yet"}),t.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Complete sessions to start earning"})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-emerald-500/10 via-teal-500/10 to-cyan-500/10 rounded-2xl p-6 border border-emerald-500/20",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:" Summary"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-emerald-400 mb-1",children:Ne}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Sessions Completed"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-cyan-400 mb-1",children:["$",V.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Avg per Session"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-blue-400 mb-1",children:["$",We.toFixed(2),"/hr"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Hourly Rate"})]})]})]}),pe.length>0&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"Earnings by Subject"})]}),t.jsx("div",{className:"space-y-3",children:pe.map(Qe=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-medium",children:Qe.subject}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Qe.sessionCount," session",Qe.sessionCount!==1?"s":"","  Avg: $",Qe.averageAmount.toFixed(2)]})]}),t.jsxs("div",{className:"text-xl font-bold text-blue-400",children:["$",Qe.totalAmount.toFixed(2)]})]},Qe.subject))})]}),at.length>0&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-purple-400",children:""}),t.jsx("span",{children:"Recent Completed Sessions"})]}),t.jsx("div",{className:"space-y-3",children:at.slice(0,10).map(Qe=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg hover:bg-slate-800/70 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-medium",children:Qe.subject}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Qe.studentName,"  ",new Date(Qe.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),"  ",Qe.duration," min"]}),Qe.reviewRating&&t.jsx("div",{className:"flex items-center space-x-1 mt-1",children:[...Array(5)].map((gn,Ut)=>t.jsx("svg",{className:`w-3 h-3 ${Ut<Qe.reviewRating?"text-amber-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ut))})]}),t.jsxs("div",{className:"text-lg font-bold text-emerald-400",children:["$",Qe.amount.toFixed(2)]})]},Qe.id))})]})]})},ve=()=>{if($t)return t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx("div",{className:"w-8 h-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"})});const R=ns?.reviews||[],Z=ns?.statistics||{},W=parseFloat(Z.average_rating)||0,de=parseInt(Z.total_reviews)||0;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10 rounded-2xl p-6 border border-amber-500/20",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-amber-400",children:""}),t.jsx("span",{children:"Your Reviews"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-bold text-amber-400 mb-2",children:W.toFixed(1)}),t.jsx("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[...Array(5)].map((Ne,V)=>t.jsx("svg",{className:`w-5 h-5 ${V<Math.round(W)?"text-amber-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},V))}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Average Rating"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:de}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Reviews"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-bold text-emerald-400 mb-2",children:Z.recommendations||0}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Would Recommend"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:Z.five_star_count||0}),t.jsx("div",{className:"text-slate-400 text-sm",children:"5-Star Reviews"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Rating Breakdown"}),t.jsx("div",{className:"space-y-3",children:[5,4,3,2,1].map(Ne=>{const V=Z[`${["one","two","three","four","five"][Ne-1]}_star_count`]||0,We=de>0?V/de*100:0;return t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-1 w-16",children:[t.jsx("span",{className:"text-white",children:Ne}),t.jsx("svg",{className:"w-4 h-4 text-amber-400",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})]}),t.jsx("div",{className:"flex-1 h-3 bg-slate-700 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-amber-500 to-yellow-400 rounded-full transition-all duration-500",style:{width:`${We}%`}})}),t.jsx("div",{className:"w-12 text-right text-slate-400 text-sm",children:V})]},Ne)})})]}),(Z.avg_session_quality||Z.avg_communication||Z.avg_punctuality||Z.avg_helpfulness)&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Detailed Ratings"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Z.avg_session_quality&&t.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:parseFloat(Z.avg_session_quality).toFixed(1)}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Session Quality"})]}),Z.avg_communication&&t.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:parseFloat(Z.avg_communication).toFixed(1)}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Communication"})]}),Z.avg_punctuality&&t.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:parseFloat(Z.avg_punctuality).toFixed(1)}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Punctuality"})]}),Z.avg_helpfulness&&t.jsxs("div",{className:"text-center p-4 bg-slate-800/50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:parseFloat(Z.avg_helpfulness).toFixed(1)}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Helpfulness"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"All Reviews"}),R.length>0?t.jsx("div",{className:"space-y-4",children:R.map(Ne=>t.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl hover:bg-slate-800/70 transition-colors",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:Ne.student_name}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Ne.subject,"  ",new Date(Ne.booking_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]})]}),t.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((V,We)=>t.jsx("svg",{className:`w-5 h-5 ${We<Ne.rating?"text-amber-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},We))})]}),Ne.review_text&&t.jsxs("p",{className:"text-slate-300 text-sm mb-3",children:['"',Ne.review_text,'"']}),Ne.would_recommend&&t.jsxs("div",{className:"flex items-center space-x-2 text-emerald-400 text-sm",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),t.jsx("span",{children:"Would recommend"})]})]},Ne.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-slate-500 text-6xl mb-4",children:""}),t.jsx("p",{className:"text-slate-400",children:"No reviews yet"}),t.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Complete sessions to receive reviews from students"})]})]})]})},Le=()=>{switch(i){case"sessions":return _();case"earnings":return je();case"tasks":return Nt();case"reviews":return ve();default:return te()}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 pt-16",children:[U&&(()=>{const Z=(()=>{switch(M){case"success":return{bg:"bg-emerald-500/10",border:"border-emerald-500/40",text:"text-emerald-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})};case"error":return{bg:"bg-red-500/10",border:"border-red-500/40",text:"text-red-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};case"warning":return{bg:"bg-amber-500/10",border:"border-amber-500/40",text:"text-amber-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})};case"info":return{bg:"bg-blue-500/10",border:"border-blue-500/40",text:"text-blue-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};default:return{bg:"bg-slate-500/10",border:"border-slate-500/40",text:"text-slate-400",icon:null}}})();return t.jsx("div",{className:`fixed top-20 right-4 z-50 ${Z.bg} ${Z.border} border backdrop-blur-sm rounded-xl shadow-2xl transform transition-all duration-300 ease-in-out animate-slide-in-right max-w-md`,children:t.jsxs("div",{className:"flex items-start space-x-3 p-4",children:[t.jsx("div",{className:`flex-shrink-0 ${Z.text}`,children:Z.icon}),t.jsx("div",{className:"flex-1 pt-0.5",children:t.jsx("p",{className:`text-sm font-medium ${Z.text} leading-relaxed`,children:U})}),t.jsx("button",{onClick:()=>k(""),className:`flex-shrink-0 ${Z.text} hover:opacity-70 transition-opacity`,children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})(),t.jsxs("div",{className:"flex min-h-screen",children:[t.jsx("div",{className:"flex-1 flex flex-col",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:[At.text,", ",n?.profile?.fullName||n?.full_name||n?.name||n?.username||"Tutor","! ",At.emoji]}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Ready to inspire students today? Here's your teaching overview."})]}),t.jsx(Lv,{}),Le()]})}),t.jsx("div",{className:"w-80 bg-slate-900/30 backdrop-blur-sm border-l border-slate-800/50 overflow-auto",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Tutor Dashboard"}),t.jsx("div",{className:"space-y-1",children:Yt.map(R=>t.jsx("button",{onClick:()=>o(R.id),className:`w-full px-3 py-2 rounded-lg flex items-center transition-all duration-200 ${i===R.id?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:t.jsx("span",{className:"text-sm font-medium",children:R.label})},R.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Actions"}),t.jsx("div",{className:"space-y-2",children:en.map(R=>{const Z=`w-full p-3 rounded-xl border bg-gradient-to-r ${R.gradient} ${R.border} transition-all duration-200 hover:border-white/40`,W=t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-white text-sm font-semibold",children:R.label}),t.jsx("div",{className:"text-slate-200 text-xs",children:R.description})]});return R.to?t.jsx(Fe,{to:R.to,className:`${Z} block`,children:W},R.id):t.jsx("button",{onClick:R.onClick,className:`${Z} text-left`,children:W},R.id)})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl p-4 border border-blue-500/20",children:[t.jsx("h3",{className:"text-sm font-semibold text-blue-300 mb-3 uppercase tracking-wide",children:t.jsx("span",{children:"Today's Sessions"})}),t.jsx("div",{className:"space-y-3",children:Re.todaySessions.slice(0,2).map(R=>t.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/50 border border-slate-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("div",{className:"text-white text-xs font-medium line-clamp-2",children:R.subject}),t.jsx("div",{className:"text-blue-400 text-xs font-medium",children:pn(R.time)})]}),t.jsxs("div",{className:"text-slate-400 text-xs mb-1",children:["with ",R.student]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${tn(R.status)}`,children:R.status})})]},R.id))})]})]})})]}),t.jsx(za,{}),t.jsx(Ws,{}),t.jsx(Bn,{isOpen:p,onClose:()=>f(!1),children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Cancel Session"}),g&&t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"text-white font-medium",children:g.subject}),t.jsxs("div",{className:"text-slate-400 text-sm",children:["with ",g.student]}),t.jsxs("div",{className:"text-slate-500 text-sm mt-1",children:["Scheduled: ",pn(g.time)]})]}),t.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("svg",{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-red-400 font-medium",children:"Are you sure you want to cancel this session?"}),t.jsx("p",{className:"text-red-300 text-sm mt-1",children:"This action cannot be undone. The student will be notified of the cancellation."})]})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Reason for Cancellation"}),t.jsx("textarea",{rows:"3",value:S,onChange:R=>N(R.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none focus:outline-none focus:border-blue-500",placeholder:"Optional: Explain why you need to cancel",disabled:B})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(Be,{variant:"secondary",onClick:()=>{f(!1),N("")},className:"flex-1",disabled:B,children:"Keep Session"}),t.jsx(Be,{onClick:bl,className:"flex-1 bg-red-600 hover:bg-red-700 border-red-600",disabled:B,children:B?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin inline-block mr-2"}),"Cancelling..."]}):"Cancel Session"})]})]})}),t.jsx(ue,{}),t.jsx($f,{isOpen:ls,onClose:()=>{Zs(!1),xe({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),Me({})},isEdit:!1,newTask:ee,setNewTask:xe,errors:Ce,loading:B,subjects:Ct,handleEditTask:Fn,handleAddTask:jt}),t.jsx($f,{isOpen:dn,onClose:()=>{ks(!1),xe({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),Me({})},isEdit:!0,newTask:ee,setNewTask:xe,errors:Ce,loading:B,subjects:Ct,handleEditTask:Fn,handleAddTask:jt}),t.jsx(_s,{})]})},Ln="https://sunke-vasan-varpe-varadaraju.onrender.com/api";class Bv{getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}async getDashboardStats(){try{return await(await fetch(`${Ln}/admin/dashboard/stats`,{headers:this.getHeaders()})).json()}catch(a){return console.error("Error fetching dashboard stats:",a),{success:!1,message:a.message}}}async getTutorApplications(a=null){try{const i=a?`${Ln}/admin/tutors/applications?status=${a}`:`${Ln}/admin/tutors/applications`;return await(await fetch(i,{headers:this.getHeaders()})).json()}catch(i){return console.error("Error fetching tutor applications:",i),{success:!1,message:i.message}}}async getTutorApplication(a){try{return await(await fetch(`${Ln}/admin/tutors/applications/${a}`,{headers:this.getHeaders()})).json()}catch(i){return console.error("Error fetching tutor application:",i),{success:!1,message:i.message}}}async updateTutorStatus(a,i,o=""){try{return await(await fetch(`${Ln}/admin/tutors/applications/${a}/status`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify({status:i,notes:o})})).json()}catch(u){return console.error("Error updating tutor status:",u),{success:!1,message:u.message}}}async getAllSessions(a=50,i=0){try{return await(await fetch(`${Ln}/admin/sessions?limit=${a}&offset=${i}`,{headers:this.getHeaders()})).json()}catch(o){return console.error("Error fetching sessions:",o),{success:!1,message:o.message}}}async getEarningsSummary(){try{return await(await fetch(`${Ln}/admin/earnings`,{headers:this.getHeaders()})).json()}catch(a){return console.error("Error fetching earnings summary:",a),{success:!1,message:a.message}}}async getAllUsers(a={}){try{const i=new URLSearchParams;a.role&&i.append("role",a.role),a.status&&i.append("status",a.status),a.limit&&i.append("limit",a.limit),a.offset&&i.append("offset",a.offset);const o=`${Ln}/admin/users${i.toString()?"?"+i.toString():""}`;return await(await fetch(o,{headers:this.getHeaders()})).json()}catch(i){return console.error("Error fetching users:",i),{success:!1,message:i.message}}}async updateUserStatus(a,i,o=""){try{return await(await fetch(`${Ln}/admin/users/${a}/status`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify({is_active:i,reason:o})})).json()}catch(u){return console.error("Error updating user status:",u),{success:!1,message:u.message}}}}const On=new Bv,Uv=()=>{const{user:n}=qt(),[a,i]=T.useState("dashboard"),[o,u]=T.useState(!0),[d,h]=T.useState(null),[x,p]=T.useState([]),[f,g]=T.useState([]),[y,S]=T.useState(null),[N,B]=T.useState("all"),[E,U]=T.useState([]),[k,M]=T.useState("all"),[H,ne]=T.useState("all"),$=(()=>{const C=new Date().getHours();return C>=5&&C<12?{text:"Good Morning",emoji:""}:C>=12&&C<17?{text:"Good Afternoon",emoji:""}:C>=17&&C<21?{text:"Good Evening",emoji:""}:{text:"Good Night",emoji:""}})();T.useEffect(()=>{q()},[]);const q=async()=>{u(!0);const C=await On.getDashboardStats();C.success&&h(C.data),u(!1)},fe=async(C=null)=>{const K=await On.getTutorApplications(C);K.success&&p(K.data)},me=async()=>{const C=await On.getAllSessions();C.success&&g(C.data.sessions)},G=async()=>{const C=await On.getEarningsSummary();C.success&&S(C.data)},A=async()=>{const C={};k!=="all"&&(C.role=k),H!=="all"&&(C.status=H);const K=await On.getAllUsers(C);K.success&&U(K.data)};T.useEffect(()=>{a==="applications"?fe(N==="all"?null:N):a==="sessions"?me():a==="earnings"?G():a==="users"&&A()},[a,N,k,H]);const I=async C=>{const K=prompt("Enter approval notes (optional):"),ye=await On.updateTutorStatus(C,"approved",K);ye.success?(alert("Tutor approved successfully!"),fe(N==="all"?null:N),q()):alert("Failed to approve tutor: "+ye.message)},le=async C=>{const K=prompt("Enter rejection reason:");if(!K)return;const ye=await On.updateTutorStatus(C,"rejected",K);ye.success?(alert("Tutor application rejected"),fe(N==="all"?null:N),q()):alert("Failed to reject tutor: "+ye.message)},re=async(C,K)=>{const ye=prompt(`Enter reason for suspending ${K}:`);if(!ye)return;const Ee=await On.updateUserStatus(C,!1,ye);Ee.success?(alert("User suspended successfully"),A(),q()):alert("Failed to suspend user: "+Ee.message)},ce=async(C,K)=>{if(!confirm(`Activate user ${K}?`))return;const ye=await On.updateUserStatus(C,!0,"Account reactivated by admin");ye.success?(alert("User activated successfully"),A(),q()):alert("Failed to activate user: "+ye.message)};return o?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"text-white",children:"Loading admin dashboard..."})}):t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Admin Dashboard ",$.emoji]}),t.jsxs("p",{className:"text-slate-400",children:[$.text,", ",n?.full_name||"Admin","!"]})]}),t.jsx("div",{className:"flex space-x-4 mb-8 border-b border-slate-800",children:["dashboard","applications","sessions","earnings","users"].map(C=>t.jsx("button",{onClick:()=>i(C),className:`px-4 py-2 font-medium capitalize transition-colors ${a===C?"text-purple-400 border-b-2 border-purple-400":"text-slate-400 hover:text-white"}`,children:C},C))}),a==="dashboard"&&d&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(rn,{title:"Total Students",value:d.stats.total_students,icon:""}),t.jsx(rn,{title:"Total Tutors",value:d.stats.total_tutors,icon:""}),t.jsx(rn,{title:"Pending Applications",value:d.stats.pending_applications,icon:"",color:"yellow"}),t.jsx(rn,{title:"Total Sessions",value:d.stats.total_sessions,icon:""}),t.jsx(rn,{title:"Completed Sessions",value:d.stats.completed_sessions,icon:"",color:"green"}),t.jsx(rn,{title:"Total Earnings",value:`$${parseFloat(d.stats.total_earnings).toFixed(2)}`,icon:"",color:"green"})]}),a==="applications"&&t.jsxs("div",{children:[t.jsx("div",{className:"mb-4 flex space-x-2",children:["all","pending","approved","rejected"].map(C=>t.jsx("button",{onClick:()=>B(C),className:`px-4 py-2 rounded-lg capitalize ${N===C?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:C},C))}),t.jsxs("div",{className:"space-y-4",children:[x.map(C=>t.jsx("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-800",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:C.full_name}),t.jsx("p",{className:"text-slate-400 mb-2",children:C.email}),t.jsx("p",{className:"text-slate-300 mb-4",children:C.bio}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Hourly Rate:"}),t.jsxs("span",{className:"text-white ml-2",children:["$",C.hourly_rate]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Location:"}),t.jsxs("span",{className:"text-white ml-2",children:[C.location_city,", ",C.location_state]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Subjects:"}),t.jsx("span",{className:"text-white ml-2",children:C.subjects_taught?.join(", ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Status:"}),t.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs ${C.approval_status==="approved"?"bg-green-900 text-green-200":C.approval_status==="rejected"?"bg-red-900 text-red-200":"bg-yellow-900 text-yellow-200"}`,children:C.approval_status})]})]}),C.admin_notes&&t.jsxs("div",{className:"mt-4 p-3 bg-slate-800 rounded",children:[t.jsx("p",{className:"text-sm text-slate-400",children:"Admin Notes:"}),t.jsx("p",{className:"text-white",children:C.admin_notes})]})]}),C.approval_status==="pending"&&t.jsxs("div",{className:"flex space-x-2 ml-4",children:[t.jsx("button",{onClick:()=>I(C.account_id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Approve"}),t.jsx("button",{onClick:()=>le(C.account_id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Reject"})]})]})},C.id)),x.length===0&&t.jsx("div",{className:"text-center py-12 text-slate-400",children:"No applications found"})]})]}),a==="sessions"&&t.jsxs("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Student"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Tutor"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Subject"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Duration"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Cost"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-800",children:f.map(C=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:C.student_name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:C.tutor_name}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:C.subject}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:new Date(C.session_date).toLocaleDateString()}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-300",children:[C.duration_hours,"h"]}),t.jsxs("td",{className:"px-6 py-4 text-sm text-green-400",children:["$",C.session_cost]}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs ${C.status==="completed"?"bg-green-900 text-green-200":C.status==="confirmed"?"bg-blue-900 text-blue-200":C.status==="cancelled"?"bg-red-900 text-red-200":"bg-yellow-900 text-yellow-200"}`,children:C.status})})]},C.id))})]})}),f.length===0&&t.jsx("div",{className:"text-center py-12 text-slate-400",children:"No sessions found"})]}),a==="earnings"&&y&&t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx(rn,{title:"Total Earnings",value:`$${parseFloat(y.summary.total_earnings||0).toFixed(2)}`,icon:"",color:"green"}),t.jsx(rn,{title:"Pending Earnings",value:`$${parseFloat(y.summary.pending_earnings||0).toFixed(2)}`,icon:"",color:"yellow"}),t.jsx(rn,{title:"Completed Sessions",value:y.summary.completed_sessions,icon:""}),t.jsx(rn,{title:"Avg Session Value",value:`$${parseFloat(y.summary.avg_session_value||0).toFixed(2)}`,icon:""})]}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Top Earning Tutors"}),t.jsx("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Tutor"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sessions"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Hourly Rate"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Total Earned"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-800",children:y.topTutors.map((C,K)=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm text-white",children:C.full_name}),t.jsx("div",{className:"text-xs text-slate-400",children:C.email})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:C.session_count}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-300",children:["$",C.hourly_rate,"/hr"]}),t.jsxs("td",{className:"px-6 py-4 text-sm text-green-400 font-semibold",children:["$",parseFloat(C.total_earned).toFixed(2)]})]},K))})]})})]}),a==="users"&&t.jsxs("div",{children:[t.jsxs("div",{className:"mb-4 flex space-x-2",children:[t.jsxs("select",{value:k,onChange:C=>M(C.target.value),className:"px-4 py-2 bg-slate-800 text-slate-300 border border-slate-700 rounded-lg focus:outline-none focus:border-purple-500",children:[t.jsx("option",{value:"all",children:"All Roles"}),t.jsx("option",{value:"student",children:"Students"}),t.jsx("option",{value:"tutor",children:"Tutors"})]}),t.jsxs("select",{value:H,onChange:C=>ne(C.target.value),className:"px-4 py-2 bg-slate-800 text-slate-300 border border-slate-700 rounded-lg focus:outline-none focus:border-purple-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]}),t.jsxs("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Joined"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-800",children:E.map(C=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm text-white font-medium",children:C.full_name})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:C.email}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C.role==="admin"?"bg-purple-900 text-purple-200":C.role==="tutor"?"bg-blue-900 text-blue-200":"bg-green-900 text-green-200"}`,children:C.role})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:new Date(C.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C.is_active?"bg-green-900 text-green-200":"bg-red-900 text-red-200"}`,children:C.is_active?"Active":"Suspended"})}),t.jsx("td",{className:"px-6 py-4 text-sm",children:C.role!=="admin"&&t.jsx("div",{className:"flex space-x-2",children:C.is_active?t.jsx("button",{onClick:()=>re(C.id,C.full_name),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xs transition-colors",children:"Suspend"}):t.jsx("button",{onClick:()=>ce(C.id,C.full_name),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-lg text-xs transition-colors",children:"Activate"})})})]},C.id))})]})}),E.length===0&&t.jsx("div",{className:"text-center py-12 text-slate-400",children:"No users found"})]})]})]})})},rn=({title:n,value:a,icon:i,color:o="purple"})=>{const u={purple:"from-purple-600 to-blue-600",green:"from-green-600 to-emerald-600",yellow:"from-yellow-600 to-orange-600",red:"from-red-600 to-pink-600"};return t.jsx("div",{className:`bg-gradient-to-r ${u[o]} rounded-lg p-6 text-white`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm opacity-90 mb-1",children:n}),t.jsx("p",{className:"text-3xl font-bold",children:a})]}),t.jsx("div",{className:"text-4xl opacity-80",children:i})]})})},Hv=()=>{const{user:n}=qt(),a=Xs(),[i,o]=T.useState(""),[u,d]=T.useState("all"),[h,x]=T.useState("all"),[p,f]=T.useState("all"),[g,y]=T.useState("rating"),[S,N]=T.useState([]),[B,E]=T.useState(["all"]),[U,k]=T.useState(!1),[M,H]=T.useState(null),[ne,be]=T.useState("grid"),$=async()=>{k(!0),H(null);try{const A={search:i,subject:u!=="all"?u:"",sortBy:g};if(h!=="all"){const[le,re]=h.split("-");le&&le!=="70+"&&(A.minPrice=le),re&&(A.maxPrice=re),h==="70+"&&(A.minPrice=70)}const I=await Wu.getAllTutors(A);console.log(" Loaded tutors from database:",I),N(I)}catch(A){console.error("Failed to load tutors:",A),H("Failed to load tutors. Please try again.")}finally{k(!1)}},q=async()=>{try{const A=await Wu.getTutorSubjects();E(["all",...A])}catch(A){console.error("Failed to load subjects:",A),E(["all","Mathematics","Physics","Chemistry","Computer Science","Economics","English","Biology"])}},fe=[{value:"all",label:"All Prices"},{value:"0-30",label:"$0 - $30"},{value:"30-50",label:"$30 - $50"},{value:"50-70",label:"$50 - $70"},{value:"70+",label:"$70+"}],me=A=>{a("/messages",{state:{selectedUser:{id:A.id,full_name:A.name,email:A.email,user_role:"tutor",username:A.username}}})};T.useEffect(()=>{$(),q()},[]),T.useEffect(()=>{const A=setTimeout(()=>{$()},300);return()=>clearTimeout(A)},[i,u,h,g]);const G=S;return t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:t.jsx("span",{children:"Find Your Perfect Tutor"})}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Connect with expert tutors across all subjects"})]}),t.jsx("div",{className:"mb-8 bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Search"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",placeholder:"Search tutors or subjects...",value:i,onChange:A=>o(A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject"}),t.jsx("select",{value:u,onChange:A=>d(A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:B.map(A=>t.jsx("option",{value:A,children:A==="all"?"All Subjects":A},A))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Price Range"}),t.jsx("select",{value:h,onChange:A=>x(A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:fe.map(A=>t.jsx("option",{value:A.value,children:A.label},A.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sort By"}),t.jsxs("select",{value:g,onChange:A=>y(A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:[t.jsx("option",{value:"rating",children:"Highest Rated"}),t.jsx("option",{value:"price-low",children:"Price: Low to High"}),t.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]})]})}),t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"text-slate-300",children:[U?t.jsx("span",{className:"text-slate-400",children:"Loading tutors..."}):M?t.jsx("span",{className:"text-red-400",children:M}):t.jsx("span",{className:"font-medium text-white",children:G.length}),!U&&!M&&" tutors found"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>be("list"),className:`px-4 py-2 rounded-lg transition-colors ${ne==="list"?"bg-slate-700/50 border border-slate-600/50 text-white":"bg-slate-800/50 border border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:"List"}),t.jsx("button",{onClick:()=>be("grid"),className:`px-4 py-2 rounded-lg transition-colors ${ne==="grid"?"bg-slate-700/50 border border-slate-600/50 text-white":"bg-slate-800/50 border border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:"Grid"})]})]}),U?t.jsx("div",{className:ne==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:[1,2,3].map(A=>t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-6 animate-pulse",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700"}),t.jsxs("div",{children:[t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"w-full h-3 bg-slate-700 rounded"}),t.jsx("div",{className:"w-3/4 h-3 bg-slate-700 rounded"}),t.jsx("div",{className:"w-1/2 h-3 bg-slate-700 rounded"})]})]},A))}):ne==="grid"?t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:G.map(A=>t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm overflow-hidden hover:border-slate-700/50 transition-colors",children:[t.jsxs("div",{className:"p-6 pb-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:A.avatar}),A.online&&t.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-slate-900"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:A.name}),t.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"text-white font-medium",children:A.rating}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",A.reviews," reviews)"]})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold text-lg",children:["$",A.hourlyRate]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"per hour"})]})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.subjects.slice(0,3).map((I,le)=>t.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 text-sm",children:I},le)),A.subjects.length>3&&t.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 border border-slate-600/50 rounded-full text-slate-300 text-sm",children:["+",A.subjects.length-3," more"]})]})}),t.jsx("p",{className:"text-slate-300 text-sm mb-4 line-clamp-2",children:A.bio}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-slate-400 text-xs",children:"Total Bookings"}),t.jsx("div",{className:"text-white text-sm font-medium",children:A.totalBookings||0})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-slate-400 text-xs",children:"Response Time"}),t.jsx("div",{className:"text-white text-sm font-medium",children:A.responseTime})]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${A.online?"bg-emerald-400":"bg-slate-500"}`}),t.jsx("span",{className:"text-slate-300 text-sm",children:A.availability})]}),t.jsx("div",{className:"flex items-center space-x-1",children:A.languages.slice(0,2).map((I,le)=>t.jsx("span",{className:"px-2 py-1 bg-slate-800/50 rounded text-slate-300 text-xs",children:I},le))})]}),A.availableSessions&&A.availableSessions.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-slate-300 text-xs font-medium mb-2",children:"Next Available Sessions"}),t.jsxs("div",{className:"space-y-1",children:[A.availableSessions.slice(0,2).map((I,le)=>t.jsxs("div",{className:"flex items-center justify-between bg-slate-800/30 rounded-lg p-2",children:[t.jsx("div",{className:"text-slate-300 text-xs",children:new Date(I.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),t.jsxs("div",{className:"text-white text-xs font-medium",children:[I.startTime," - ",I.endTime]})]},le)),A.availableSessions.length>2&&t.jsxs("div",{className:"text-center text-slate-400 text-xs",children:["+",A.availableSessions.length-2," more slots"]})]})]})]}),t.jsx("div",{className:"px-6 pb-6",children:t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(Fe,{to:`/booking/${A.id}`,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-colors text-center",children:"Book Session"}),t.jsx("button",{onClick:()=>me(A),className:"px-4 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors",children:"Message"})]})})]},A.id))}):t.jsx("div",{className:"space-y-4",children:G.map(A=>t.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm hover:border-slate-700/50 transition-colors",children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:A.avatar}),A.online&&t.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-emerald-500 rounded-full border-2 border-slate-900"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-start justify-between mb-2",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:A.name}),t.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"text-white font-medium",children:A.rating}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",A.reviews," reviews)"]})]})]})}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[A.subjects.slice(0,4).map((I,le)=>t.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 text-sm",children:I},le)),A.subjects.length>4&&t.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 border border-slate-600/50 rounded-full text-slate-300 text-sm",children:["+",A.subjects.length-4," more"]})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:A.bio}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:"text-slate-400",children:["Total Bookings: ",t.jsx("span",{className:"text-white",children:A.totalBookings||0})]}),t.jsxs("span",{className:"text-slate-400",children:["Response: ",t.jsx("span",{className:"text-white",children:A.responseTime})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${A.online?"bg-emerald-400":"bg-slate-500"}`}),t.jsx("span",{className:"text-slate-300 text-sm",children:A.availability})]})]})]})]}),t.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold text-2xl",children:["$",A.hourlyRate]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"per hour"})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(Fe,{to:`/booking/${A.id}`,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-colors text-center",children:"Book Session"}),t.jsx("button",{onClick:()=>me(A),className:"px-4 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors",children:"Message"})]})]})]})})},A.id))}),!U&&G.length>0&&t.jsx("div",{className:"text-center mt-8",children:t.jsx("button",{className:"px-6 py-3 bg-slate-800/50 border border-slate-700/50 text-white rounded-lg hover:bg-slate-700/50 transition-colors",children:"Load More Tutors"})}),!U&&!M&&G.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-slate-400",children:""})}),t.jsx("h3",{className:"text-white font-medium mb-2",children:"No tutors found"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Try adjusting your search criteria"})]}),M&&!U&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-red-400",children:""})}),t.jsx("h3",{className:"text-white font-medium mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:M}),t.jsx("button",{onClick:$,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Try Again"})]})]})})},qv={createBookingRequest:async n=>{try{return await ot.post("/booking/requests",n)}catch(a){throw a.response?.data||a}},getStudentBookingRequests:async(n=null,a=10,i=0)=>{try{const o=new URLSearchParams;return n&&o.append("status",n),o.append("limit",a),o.append("offset",i),await ot.get(`/booking/student/requests?${o}`)}catch(o){throw o.response?.data||o}},getTutorBookingRequests:async(n="pending",a=10,i=0)=>{try{const o=new URLSearchParams;return n&&o.append("status",n),o.append("limit",a),o.append("offset",i),await ot.get(`/booking/tutor/requests?${o}`)}catch(o){throw o.response?.data||o}},respondToBookingRequest:async(n,a,i="")=>{try{return await ot.put(`/booking/requests/${n}/respond`,{action:a,responseMessage:i})}catch(o){throw o.response?.data||o}},getBookingRequestDetails:async n=>{try{return await ot.get(`/booking/requests/${n}`)}catch(a){throw a.response?.data||a}}},Bl=()=>{const n=[];for(let a=9;a<17;a++)n.push({startTime:`${a.toString().padStart(2,"0")}:00`,endTime:`${(a+1).toString().padStart(2,"0")}:00`});return n},Yf=()=>({Monday:Bl(),Tuesday:Bl(),Wednesday:Bl(),Thursday:Bl(),Friday:Bl(),Saturday:Bl(),Sunday:Bl()}),$v=()=>{const{tutorId:n}=Ty(),a=Xs(),{user:i}=qt(),[o,u]=T.useState(null),[d,h]=T.useState({}),[x,p]=T.useState(""),[f,g]=T.useState(null),[y,S]=T.useState("general"),[N,B]=T.useState(""),[E,U]=T.useState("virtual"),[k,M]=T.useState(""),[H,ne]=T.useState(""),[be,$]=T.useState(""),[q,fe]=T.useState(!0),[me,G]=T.useState(!1),[A,I]=T.useState(null),[le,re]=T.useState(0);T.useEffect(()=>{n&&(async()=>{try{fe(!0),I(null);try{const O=await Wu.getTutorById(n);u(O)}catch{u({id:n,name:"Abhinay Kotla",avatar:"AK",rating:4.8,reviews:95,hourlyRate:50,subjects:["Mathematics","Computer Science"],experience:"5+ years",responseTime:"< 45 min"})}try{const O=await Zt.getTutorAvailability(n);console.log(" Availability data received:",O);const v=O.availability||{};Object.keys(v).length>0?h(v):(console.log(" Tutor has no availability set, using default weekday schedule"),h(Yf()))}catch(O){console.error(" Error loading tutor availability:",O),console.log(" Using demo availability data"),h(Yf())}}catch(O){console.error("Error loading booking data:",O),I("Failed to load booking information")}finally{fe(!1)}})()},[n]);const ce=()=>{const j=[],O=new Date,v=new Date(O);v.setDate(O.getDate()+le*7);for(let Y=0;Y<7;Y++){const oe=new Date(v);if(oe.setDate(v.getDate()+Y),le===0&&oe<=O)continue;const he=oe.toLocaleDateString("en-US",{weekday:"long"}),Se=oe.toISOString().split("T")[0];d[he]&&d[he].length>0&&j.push({date:Se,dayName:he,displayDate:oe.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})}return j},C=()=>{if(!x)return[];const[j,O,v]=x.split("-").map(Number),oe=new Date(j,O-1,v).toLocaleDateString("en-US",{weekday:"long"});return console.log(" Selected date:",x,"-> Day name:",oe),console.log(" Available slots for",oe,":",d[oe]),d[oe]||[]},K=async()=>{if(!f||!x){I("Please select a date and time slot");return}if(!N){I("Please select a subject for the session");return}if(E==="in_person"&&!k.trim()){I("Please provide a meeting location for in-person sessions");return}try{G(!0),I(null);const j={tutorId:n,bookingDate:x,startTime:f.startTime,endTime:f.endTime,sessionType:y,subject:N||"General",notes:be,meetingType:E,meetingLink:E==="virtual"?H:null,location:E==="in_person"?k:null};try{const O=await qv.createBookingRequest(j);console.log(" Booking request created:",O),a("/student-dashboard",{state:{message:`Booking request sent to ${o.name}! They will be notified and can accept or decline your request.`,type:"success",activeTab:"sessions"},replace:!0});return}catch(O){if(console.error("Error creating booking request:",O),O.error){I(O.error);return}console.log("API not available, using mock flow")}setTimeout(()=>{a("/student-dashboard",{state:{message:`Booking request sent to ${o.name}! They will be notified and can accept or decline your request. Check your Sessions tab for updates.`,type:"success",activeTab:"sessions"},replace:!0})},1500)}catch(j){console.error("Error creating booking request:",j),I(j.error||"Failed to send booking request")}finally{G(!1)}},ye=[{value:"general",label:"General Tutoring"},{value:"homework",label:"Homework Help"},{value:"exam_prep",label:"Exam Preparation"},{value:"project",label:"Project Assistance"},{value:"consultation",label:"Academic Consultation"}];if(q)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-8",children:t.jsxs("div",{className:"animate-pulse text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto"})]})})});if(A&&!o)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-red-400",children:""})}),t.jsx("h2",{className:"text-white font-medium mb-2",children:"Failed to Load"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:A}),t.jsx("button",{onClick:()=>a("/tutors"),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Back to Tutors"})]})});const Ee=ce(),D=C();return t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("button",{onClick:()=>a("/tutors"),className:"text-slate-400 hover:text-white mb-4 flex items-center space-x-2 transition-colors",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Back to Tutors"})]}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Book a Session"}),t.jsxs("p",{className:"text-slate-400",children:["Schedule a tutoring session with ",o?.name]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-6 sticky top-8",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl",children:o?.avatar}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:o?.name}),t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-3",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"text-white font-medium",children:o?.rating}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",o?.reviews," reviews)"]})]}),t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",o?.hourlyRate]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"per hour"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-white font-medium mb-3",children:"Subjects"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o?.subjects?.slice(0,4).map((j,O)=>t.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 text-sm",children:j},O))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"Experience"}),t.jsx("span",{className:"text-white",children:o?.experience})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"Response Time"}),t.jsx("span",{className:"text-white",children:o?.responseTime})]})]})]})}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"text-white font-medium",children:"Select Date"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:()=>re(Math.max(0,le-1)),disabled:le===0,className:`p-2 rounded-lg border transition-colors ${le===0?"bg-slate-800/50 border-slate-700/50 text-slate-500 cursor-not-allowed":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:""}),t.jsx("span",{className:"text-slate-300 text-sm min-w-20 text-center",children:le===0?"This Week":le===1?"Next Week":`${le} weeks`}),t.jsx("button",{onClick:()=>re(Math.min(8,le+1)),disabled:le>=8,className:`p-2 rounded-lg border transition-colors ${le>=8?"bg-slate-800/50 border-slate-700/50 text-slate-500 cursor-not-allowed":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:""})]})]}),Ee.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Ee.map(j=>t.jsxs("button",{onClick:()=>{p(j.date),g(null)},className:`p-3 rounded-lg border transition-colors text-center ${x===j.date?"bg-blue-500/20 border-blue-500/50 text-blue-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:[t.jsx("div",{className:"font-medium",children:j.displayDate}),t.jsx("div",{className:"text-xs text-slate-400",children:j.dayName})]},j.date))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-slate-400 mb-2",children:"No availability found"}),t.jsx("div",{className:"text-slate-500 text-sm",children:le===0?"This tutor has no available slots this week":`This tutor has no available slots in ${le===1?"next week":`${le} weeks`}`}),t.jsx("div",{className:"text-slate-500 text-xs mt-1",children:"Try navigating to different weeks using the arrows above"})]})]}),x&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-white font-medium mb-4",children:"Select Time"}),D.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:D.map((j,O)=>t.jsxs("button",{onClick:()=>g(j),className:`p-3 rounded-lg border transition-colors text-center ${f===j?"bg-blue-500/20 border-blue-500/50 text-blue-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:[t.jsxs("div",{className:"font-medium",children:[Zt.formatTime(j.startTime)," - ",Zt.formatTime(j.endTime)]}),t.jsxs("div",{className:"text-xs text-slate-400",children:[Zt.calculateDuration(j.startTime,j.endTime),"h session"]})]},O))}):t.jsx("div",{className:"text-center py-4",children:t.jsx("div",{className:"text-slate-400",children:"No time slots available"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Session Type"}),t.jsx("select",{value:y,onChange:j=>S(j.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:ye.map(j=>t.jsx("option",{value:j.value,children:j.label},j.value))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Subject"}),t.jsxs("select",{value:N,onChange:j=>B(j.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:[t.jsx("option",{value:"",children:"Select a subject..."}),o?.subjects?.map((j,O)=>t.jsx("option",{value:j,children:j},O))]}),o?.subjects?.length===0&&t.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"No subjects available for this tutor"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Meeting Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("button",{type:"button",onClick:()=>U("virtual"),className:`p-4 rounded-lg border transition-all ${E==="virtual"?"bg-blue-500/20 border-blue-500/50 text-blue-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Virtual"}),t.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Online meeting via video call"})]})}),t.jsx("button",{type:"button",onClick:()=>U("in_person"),className:`p-4 rounded-lg border transition-all ${E==="in_person"?"bg-green-500/20 border-green-500/50 text-green-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"In-Person"}),t.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Meet at a physical location"})]})})]})]}),E==="in_person"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Meeting Location"}),t.jsx("input",{type:"text",value:k,onChange:j=>M(j.target.value),placeholder:"Enter the meeting location (e.g., University Library, Cafe, etc.)",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-green-500/50",required:!0})]}),E==="virtual"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Meeting Link (Optional)"}),t.jsx("input",{type:"url",value:H,onChange:j=>ne(j.target.value),placeholder:"Enter meeting link (Zoom, Google Meet, etc.) or leave blank for tutor to provide",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50"}),t.jsx("div",{className:"mt-2 text-xs text-slate-400",children:" If left blank, the tutor will provide the meeting link when they accept your booking"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Session Notes (Optional)"}),t.jsx("textarea",{value:be,onChange:j=>$(j.target.value),placeholder:"Any specific topics you'd like to focus on, questions you have, or additional information for the tutor...",rows:4,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none"})]}),A&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:t.jsx("div",{className:"text-red-300 text-sm",children:A})}),f&&x&&t.jsxs("div",{className:"mb-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[t.jsx("h5",{className:"text-blue-300 font-medium mb-2",children:"Booking Summary"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Date:"}),t.jsx("span",{className:"text-white",children:new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Time:"}),t.jsxs("span",{className:"text-white",children:[Zt.formatTime(f.startTime)," - ",Zt.formatTime(f.endTime)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Duration:"}),t.jsxs("span",{className:"text-white",children:[Zt.calculateDuration(f.startTime,f.endTime)," hour(s)"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Meeting Type:"}),t.jsxs("span",{className:"text-white flex items-center space-x-1",children:[t.jsx("span",{children:E==="virtual"?"":""}),t.jsx("span",{children:E==="virtual"?"Virtual":"In-Person"})]})]}),E==="in_person"&&k&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Location:"}),t.jsx("span",{className:"text-white",children:k})]}),E==="virtual"&&H&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Meeting Link:"}),t.jsx("span",{className:"text-white text-xs truncate max-w-48",title:H,children:H})]}),t.jsxs("div",{className:"flex justify-between font-medium",children:[t.jsx("span",{className:"text-slate-300",children:"Total Cost:"}),t.jsxs("span",{className:"text-white",children:["$",(Zt.calculateDuration(f.startTime,f.endTime)*o?.hourlyRate).toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{onClick:()=>a("/tutors"),className:"flex-1 px-6 py-3 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:K,disabled:!f||!x||me,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-colors ${f&&x&&!me?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white":"bg-slate-700/50 text-slate-400 cursor-not-allowed"}`,children:me?"Booking...":"Book Session"})]})]})})]})]})})},eo="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Yv=()=>{const{user:n}=qt(),[a,i]=T.useState(!1),[o,u]=T.useState(!0),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState([]),[y,S]=T.useState([]),[N,B]=T.useState([]),[E,U]=T.useState({full_name:"",email:"",phone_number:"",bio:"",location_city:"",location_state:"",profile_image:"",hourly_rate:"",subjects_taught:[],available_days:[],response_time_avg:"",is_online:!1,rating:null,total_reviews:null,total_sessions:null,current_school:"",graduation_year:null,grade_level:"",subjects_of_interest:[],learning_goals:""});T.useEffect(()=>{(async()=>{if(!n){u(!1);return}try{u(!0),p(null);const fe=n.role==="student"?`${eo}/profiles/student`:`${eo}/profiles/tutor`;console.log("Fetching profile from:",fe),console.log("User object:",n),console.log("User role:",n.role),console.log("Token exists:",!!localStorage.getItem("token")),console.log("Token:",localStorage.getItem("token")?.substring(0,50)+"...");const me=await fetch(fe,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(console.log("Response status:",me.status),me.ok){const G=await me.json();if(console.log("Profile data received:",G),G.success){U({full_name:G.data.full_name||"",email:G.data.email||"",phone_number:G.data.phone_number||"",bio:G.data.bio||"",location_city:G.data.location_city||"",location_state:G.data.location_state||"",profile_image:G.data.profile_image||"",hourly_rate:G.data.hourly_rate||"",subjects_taught:Array.isArray(G.data.subjects_taught)?G.data.subjects_taught:G.data.subjects_taught?G.data.subjects_taught.split(",").map(le=>le.trim()):[],available_days:Array.isArray(G.data.available_days)?G.data.available_days:G.data.available_days?G.data.available_days.split(",").map(le=>le.trim()):[],response_time_avg:G.data.response_time_avg||"",is_online:G.data.is_online||!1,rating:G.data.rating,total_reviews:G.data.total_reviews,total_sessions:G.data.total_sessions,current_school:G.data.current_school||"",graduation_year:G.data.graduation_year||null,grade_level:G.data.grade_level||"",subjects_of_interest:Array.isArray(G.data.subjects_of_interest)?G.data.subjects_of_interest:G.data.subjects_of_interest?G.data.subjects_of_interest.split(",").map(le=>le.trim()):[],learning_goals:G.data.learning_goals||""});const A=Array.isArray(G.data.subjects_taught)?G.data.subjects_taught:G.data.subjects_taught?G.data.subjects_taught.split(",").map(le=>le.trim()):[];S(A);const I=Array.isArray(G.data.available_days)?G.data.available_days:G.data.available_days?G.data.available_days.split(",").map(le=>le.trim()):[];if(B(I),n?.role==="student"){const le=Array.isArray(G.data.subjects_of_interest)?G.data.subjects_of_interest:G.data.subjects_of_interest?G.data.subjects_of_interest.split(",").map(re=>re.trim()):[];S(le)}p(null)}else p(G.message||"Failed to load profile data")}else{const G=await me.json().catch(()=>({}));console.error("Failed to fetch profile:",me.statusText,G),p(G.message||`Failed to load profile data (${me.status})`)}}catch(fe){console.error("Error fetching profile:",fe),p("Error loading profile data"),U(me=>({...me,name:n?.name||"",email:n?.email||""}))}finally{u(!1)}})(),k()},[n]);const k=async()=>{try{const q=await xo.getSubjects();q.success&&g(q.data)}catch(q){console.error("Error fetching subjects:",q),g([{id:"1",name:"Mathematics",category:"academic"},{id:"2",name:"Physics",category:"academic"},{id:"3",name:"Chemistry",category:"academic"},{id:"4",name:"Computer Science",category:"academic"},{id:"5",name:"Biology",category:"academic"},{id:"6",name:"English",category:"academic"},{id:"7",name:"History",category:"academic"},{id:"8",name:"Economics",category:"academic"}])}},M=(q,fe)=>{U(me=>({...me,[q]:fe}))},H=q=>{S(fe=>fe.includes(q)?fe.filter(me=>me!==q):[...fe,q])},ne=q=>{B(fe=>fe.includes(q)?fe.filter(me=>me!==q):[...fe,q])},be=async()=>{if(n)try{h(!0),p(null);const q=n.role==="student"?`${eo}/profiles/student`:`${eo}/profiles/tutor`,fe={full_name:E.full_name,phone_number:E.phone_number,bio:E.bio,location_city:E.location_city,location_state:E.location_state,profile_image:E.profile_image,...n.role==="tutor"&&{hourly_rate:E.hourly_rate?parseFloat(E.hourly_rate):null,subjects_taught:y,available_days:N,response_time_avg:E.response_time_avg?parseFloat(E.response_time_avg):null,is_online:E.is_online},...n.role==="student"&&{current_school:E.current_school,graduation_year:E.graduation_year?parseInt(E.graduation_year):null,grade_level:E.grade_level,subjects_of_interest:y,learning_goals:E.learning_goals}},me=await fetch(q,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(fe)}),G=await me.json();me.ok&&G.success?(i(!1),p(null),console.log("Profile saved successfully:",G.data)):(p(G.message||`Failed to save profile (${me.status})`),console.error("Save error:",G))}catch(q){p("Error saving profile"),console.error("Error saving profile:",q)}finally{h(!1)}},$=()=>{i(!1),n?.id&&window.location.reload()};return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:"Loading profile..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900",children:t.jsx(ss,{className:"py-8",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Profile"}),t.jsxs("p",{className:"text-slate-400",children:["Manage your ",n?.role||"account"," information"]})]}),x&&t.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-lg",children:t.jsx("p",{className:"text-red-400 text-sm",children:x})}),t.jsxs(qn,{className:"p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:E.full_name?E.full_name.split(" ").map(q=>q[0]).join("").toUpperCase():E.email?E.email[0].toUpperCase():"?"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:E.full_name||E.email||"No Name"}),t.jsx("p",{className:"text-slate-400",children:E.email}),t.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-400 rounded text-sm capitalize mt-1",children:n?.role})]})]}),t.jsx(Be,{variant:a?"secondary":"primary",onClick:()=>i(!a),children:a?"Cancel":"Edit"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),a?t.jsx(Tt,{value:E.full_name,onChange:q=>M("full_name",q.target.value),placeholder:"Enter your full name"}):t.jsx("p",{className:"text-white",children:E.full_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),a?t.jsx(Tt,{type:"email",value:E.email,onChange:q=>M("email",q.target.value),placeholder:"Enter your email"}):t.jsx("p",{className:"text-white",children:E.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),a?t.jsx(Tt,{value:E.phone_number,onChange:q=>M("phone_number",q.target.value),placeholder:"Enter your phone number"}):t.jsx("p",{className:"text-white",children:E.phone_number})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"City"}),a?t.jsx(Tt,{value:E.location_city,onChange:q=>M("location_city",q.target.value),placeholder:"Enter your city"}):t.jsx("p",{className:"text-white",children:E.location_city})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"State"}),a?t.jsx(Tt,{value:E.location_state,onChange:q=>M("location_state",q.target.value),placeholder:"Enter your state"}):t.jsx("p",{className:"text-white",children:E.location_state})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"About"}),a?t.jsx("textarea",{value:E.bio,onChange:q=>M("bio",q.target.value),className:"w-full h-24 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none",placeholder:"Tell us about yourself..."}):t.jsx("p",{className:"text-white leading-relaxed",children:E.bio})]}),n?.role==="student"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t border-slate-700/50 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Student Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Current School"}),a?t.jsx(Tt,{value:E.current_school,onChange:q=>M("current_school",q.target.value),placeholder:"Enter your school name"}):t.jsx("p",{className:"text-white",children:E.current_school||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Grade Level"}),a?t.jsx(Tt,{value:E.grade_level,onChange:q=>M("grade_level",q.target.value),placeholder:"e.g., 10th Grade, Sophomore"}):t.jsx("p",{className:"text-white",children:E.grade_level||"Not specified"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Graduation Year"}),a?t.jsx(Tt,{type:"number",min:"2020",max:"2040",value:E.graduation_year||"",onChange:q=>M("graduation_year",q.target.value),placeholder:"2025"}):t.jsx("p",{className:"text-white",children:E.graduation_year||"Not specified"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subjects of Interest"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-slate-800/50 p-3 rounded-md border border-slate-600",children:f.map(q=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:y.includes(q.name),onChange:()=>H(q.name),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:q.name})]},q.id))}),y.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:y.map(q=>t.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs",children:q},q))})]}):t.jsx("div",{className:"text-white",children:Array.isArray(E.subjects_of_interest)&&E.subjects_of_interest.length>0?t.jsx("div",{className:"flex flex-wrap gap-1",children:E.subjects_of_interest.map(q=>t.jsx("span",{className:"bg-slate-600 text-white px-2 py-1 rounded text-sm",children:q},q))}):t.jsx("p",{children:"Not specified"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Learning Goals"}),a?t.jsx("textarea",{value:E.learning_goals,onChange:q=>M("learning_goals",q.target.value),className:"w-full h-24 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none",placeholder:"What would you like to achieve with tutoring?"}):t.jsx("p",{className:"text-white leading-relaxed",children:E.learning_goals||"Not specified"})]})]})}),n?.role==="tutor"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t border-slate-700/50 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tutor Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Hourly Rate ($)"}),a?t.jsx(Tt,{type:"number",step:"0.01",value:E.hourly_rate||"",onChange:q=>M("hourly_rate",q.target.value),placeholder:"35.00"}):t.jsxs("p",{className:"text-white",children:["$",E.hourly_rate||"Not set","/hour"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subjects Taught"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-slate-800/50 p-3 rounded-md border border-slate-600",children:f.map(q=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:y.includes(q.name),onChange:()=>H(q.name),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:q.name})]},q.id))}),y.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:y.map(q=>t.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs",children:q},q))})]}):t.jsx("div",{className:"text-white",children:Array.isArray(E.subjects_taught)&&E.subjects_taught.length>0?t.jsx("div",{className:"flex flex-wrap gap-1",children:E.subjects_taught.map(q=>t.jsx("span",{className:"bg-slate-600 text-white px-2 py-1 rounded text-sm",children:q},q))}):t.jsx("p",{children:"Not specified"})})]})]}),t.jsxs("div",{className:"bg-slate-800/20 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-300 mb-3 flex items-center",children:"Analytics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.rating?` ${Number(E.rating).toFixed(1)}`:" N/A"}),t.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"Rating"})]}),t.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.total_reviews||0}),t.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"Total Reviews"})]}),t.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.total_sessions||0}),t.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"Sessions Completed"})]})]})]}),"                                        ",t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Avg Response Time (minutes)"}),a?t.jsx(Tt,{type:"number",min:"0",value:E.response_time_avg||"",onChange:q=>M("response_time_avg",q.target.value),placeholder:"15"}):t.jsx("p",{className:"text-white",children:E.response_time_avg?`${E.response_time_avg} minutes`:"Not tracked"})]}),t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:E.is_online,onChange:q=>M("is_online",q.target.checked),disabled:!a,className:"rounded bg-slate-800 border-slate-700 text-blue-500 focus:ring-blue-500 disabled:opacity-50"}),t.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Currently Online"})]})})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Available Days"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 bg-slate-800/50 p-3 rounded-md border border-slate-600",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(q=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:N.includes(q),onChange:()=>ne(q),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:q})]},q))}),N.length>0&&t.jsx("div",{className:"text-xs text-slate-400",children:"Default hours: 9:00 AM - 5:00 PM on selected days"}),N.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:N.map(q=>t.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs",children:q},q))})]}):t.jsx("div",{className:"text-white",children:Array.isArray(E.available_days)&&E.available_days.length>0?t.jsxs("div",{children:[t.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:E.available_days.map(q=>t.jsx("span",{className:"bg-slate-600 text-white px-2 py-1 rounded text-sm",children:q},q))}),t.jsx("p",{className:"text-xs text-slate-400",children:"Available 9:00 AM - 5:00 PM on selected days"})]}):t.jsx("p",{className:"text-slate-400",children:"No availability set"})})]})]})})]}),a&&t.jsxs("div",{className:"flex justify-center space-x-4 mt-8",children:[t.jsx(Be,{onClick:be,disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"}),t.jsx(Be,{variant:"secondary",onClick:$,disabled:d,children:"Cancel"})]})]})]})})})},Ff="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Fv=()=>{const{user:n}=qt(),[a,i]=T.useState(!1),[o,u]=T.useState(!0),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState(null),[y,S]=T.useState([]),[N,B]=T.useState([]),[E,U]=T.useState([]),[k,M]=T.useState({full_name:"",email:"",phone_number:"",bio:"",location_city:"",location_state:"",hourly_rate:"",subjects_taught:[],available_days:[],response_time_avg:"",is_online:!1,rating:null,total_reviews:0,total_sessions:0}),H=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];T.useEffect(()=>{ne(),be()},[]);const ne=async()=>{try{u(!0),p(null);const A=localStorage.getItem("token");console.log(" Fetching tutor profile with token:",A?"Token exists":"No token");const I=await fetch(`${Ff}/profiles/tutor`,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});console.log(" Response status:",I.status);const le=await I.json();if(console.log(" Response data:",le),I.ok&&le.success){const re=le.data;M({full_name:re.full_name||"",email:re.email||"",phone_number:re.phone_number||"",bio:re.bio||re.account_bio||"",location_city:re.location_city||"",location_state:re.location_state||"",hourly_rate:re.hourly_rate||"",subjects_taught:Array.isArray(re.subjects_taught)?re.subjects_taught:[],available_days:Array.isArray(re.available_days)?re.available_days:[],response_time_avg:re.response_time_avg||"",is_online:re.is_online||!1,rating:re.rating,total_reviews:re.total_reviews||0,total_sessions:re.total_sessions||0}),B(Array.isArray(re.subjects_taught)?re.subjects_taught:[]),U(Array.isArray(re.available_days)?re.available_days:[])}else p(le.message||"Failed to load profile")}catch(A){console.error("Error fetching profile:",A),p("Failed to load profile")}finally{u(!1)}},be=async()=>{try{const A=await xo.getSubjects();A.success&&S(A.data)}catch(A){console.error("Error fetching subjects:",A)}},$=(A,I)=>{M(le=>({...le,[A]:I}))},q=A=>{B(I=>I.includes(A)?I.filter(le=>le!==A):[...I,A])},fe=A=>{U(I=>I.includes(A)?I.filter(le=>le!==A):[...I,A])},me=async()=>{try{h(!0),p(null),g(null);const A={full_name:k.full_name,phone_number:k.phone_number,bio:k.bio,location_city:k.location_city,location_state:k.location_state,hourly_rate:k.hourly_rate?parseFloat(k.hourly_rate):null,subjects_taught:N,available_days:E,response_time_avg:k.response_time_avg?parseInt(k.response_time_avg):null,is_online:k.is_online},I=await fetch(`${Ff}/profiles/tutor`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(A)}),le=await I.json();I.ok&&le.success?(g("Profile updated successfully!"),i(!1),ne(),setTimeout(()=>g(null),3e3)):p(le.message||"Failed to save profile")}catch(A){console.error("Error saving profile:",A),p("Failed to save profile")}finally{h(!1)}},G=()=>{i(!1),ne()};return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:"Loading profile..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tutor Profile"}),t.jsx("p",{className:"text-slate-400",children:"Manage your tutoring information"})]}),x&&t.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-lg",children:t.jsx("p",{className:"text-red-400 text-sm",children:x})}),f&&t.jsx("div",{className:"mb-6 p-4 bg-green-900/20 border border-green-500/50 rounded-lg",children:t.jsx("p",{className:"text-green-400 text-sm",children:f})}),t.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:k.full_name?k.full_name.split(" ").map(A=>A[0]).join("").toUpperCase():"?"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:k.full_name||"No Name"}),t.jsx("p",{className:"text-slate-400",children:k.email}),t.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-400 rounded text-sm mt-1",children:"Tutor"})]})]}),t.jsx("button",{onClick:()=>a?G():i(!0),className:`px-6 py-2 rounded-lg font-semibold transition-colors ${a?"bg-slate-700 text-white hover:bg-slate-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?"Cancel":"Edit"})]}),t.jsxs("div",{className:"space-y-6 mb-8",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),a?t.jsx("input",{type:"text",value:k.full_name,onChange:A=>$("full_name",A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your full name"}):t.jsx("p",{className:"text-white",children:k.full_name||"Not set"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),t.jsx("p",{className:"text-white",children:k.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),a?t.jsx("input",{type:"text",value:k.phone_number,onChange:A=>$("phone_number",A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your phone number"}):t.jsx("p",{className:"text-white",children:k.phone_number||"Not set"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"City"}),a?t.jsx("input",{type:"text",value:k.location_city,onChange:A=>$("location_city",A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your city"}):t.jsx("p",{className:"text-white",children:k.location_city||"Not set"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"State"}),a?t.jsx("input",{type:"text",value:k.location_state,onChange:A=>$("location_state",A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your state"}):t.jsx("p",{className:"text-white",children:k.location_state||"Not set"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"About"}),a?t.jsx("textarea",{value:k.bio,onChange:A=>$("bio",A.target.value),className:"w-full h-24 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none",placeholder:"Tell students about yourself..."}):t.jsx("p",{className:"text-white leading-relaxed",children:k.bio||"Not set"})]})]}),t.jsxs("div",{className:"border-t border-slate-700/50 pt-8 space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tutoring Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Hourly Rate ($)"}),a?t.jsx("input",{type:"number",step:"0.01",value:k.hourly_rate,onChange:A=>$("hourly_rate",A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"35.00"}):t.jsxs("p",{className:"text-white",children:["$",k.hourly_rate||"Not set","/hour"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Avg Response Time (minutes)"}),a?t.jsx("input",{type:"number",min:"0",value:k.response_time_avg,onChange:A=>$("response_time_avg",A.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"15"}):t.jsx("p",{className:"text-white",children:k.response_time_avg?`${k.response_time_avg} minutes`:"Not tracked"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subjects Taught"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:y.map(A=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-slate-700/30 p-2 rounded",children:[t.jsx("input",{type:"checkbox",checked:N.includes(A.name),onChange:()=>q(A.name),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:A.name})]},A.id))}),N.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(A=>t.jsx("span",{className:"bg-blue-600/20 text-blue-400 px-3 py-1 rounded-full text-sm border border-blue-500/30",children:A},A))})]}):t.jsx("div",{children:k.subjects_taught.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:k.subjects_taught.map(A=>t.jsx("span",{className:"bg-slate-700/50 text-slate-300 px-3 py-1 rounded-full text-sm",children:A},A))}):t.jsx("p",{className:"text-slate-400",children:"No subjects selected"})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Available Days ",t.jsx("span",{className:"text-slate-500 text-xs",children:"(Classes available 9 AM - 5 PM)"})]}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:H.map(A=>t.jsxs("label",{className:`flex items-center justify-center space-x-2 cursor-pointer p-3 rounded-lg border transition-all ${E.includes(A)?"bg-green-600/20 border-green-500/50 text-green-400":"bg-slate-800/50 border-slate-700/50 text-slate-400 hover:border-slate-600"}`,children:[t.jsx("input",{type:"checkbox",checked:E.includes(A),onChange:()=>fe(A),className:"sr-only"}),t.jsx("span",{className:"text-sm font-medium",children:A})]},A))}),E.length>0&&t.jsxs("p",{className:"text-xs text-slate-400",children:["Students can book sessions on ",E.join(", ")," between 9:00 AM - 5:00 PM"]})]}):t.jsx("div",{children:k.available_days.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex flex-wrap gap-2",children:k.available_days.map(A=>t.jsx("span",{className:"bg-green-600/20 text-green-400 px-3 py-1 rounded-full text-sm border border-green-500/30",children:A},A))}),t.jsx("p",{className:"text-xs text-slate-400",children:"Available 9:00 AM - 5:00 PM on selected days"})]}):t.jsx("p",{className:"text-slate-400",children:"No availability set"})})]}),t.jsx("div",{className:"flex items-center space-x-6",children:t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.is_online,onChange:A=>$("is_online",A.target.checked),disabled:!a,className:"rounded bg-slate-800 border-slate-700 text-blue-500 focus:ring-blue-500 disabled:opacity-50"}),t.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Currently Online"})]})})]}),t.jsxs("div",{className:"border-t border-slate-700/50 pt-8 mt-8",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Analytics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.rating?` ${Number(k.rating).toFixed(1)}`:"N/A"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Rating"})]}),t.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.total_reviews}),t.jsx("div",{className:"text-sm text-slate-400",children:"Total Reviews"})]}),t.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.total_sessions}),t.jsx("div",{className:"text-sm text-slate-400",children:"Sessions Completed"})]})]})]}),a&&t.jsxs("div",{className:"flex justify-center space-x-4 mt-8 pt-6 border-t border-slate-700/50",children:[t.jsx("button",{onClick:me,disabled:d,className:"px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?t.jsxs("span",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"}),t.jsx("button",{onClick:G,disabled:d,className:"px-8 py-3 bg-slate-700 text-white rounded-lg font-semibold hover:bg-slate-600 disabled:opacity-50 transition-colors",children:"Cancel"})]})]})]})})},Gv=()=>t.jsx(ss,{className:"py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-8xl mb-8",children:""}),t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"404 - Page Not Found"}),t.jsx("p",{className:"text-gray-400 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),t.jsx(Fe,{to:"/",children:t.jsx(Be,{children:"Return Home"})})]})}),Vv=()=>t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900",children:t.jsx(ss,{className:"py-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:t.jsx("span",{className:"text-white font-bold text-3xl",children:"T"})}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"About Tutor Together"}),t.jsx("p",{className:"text-xl text-slate-300 max-w-2xl mx-auto leading-relaxed",children:"Connecting learners with expert tutors to unlock academic potential and achieve educational goals together."})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-8 border border-slate-700/50",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mb-4",children:t.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z",clipRule:"evenodd"})})}),t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Our Mission"}),t.jsx("p",{className:"text-slate-300 leading-relaxed",children:"To make quality education accessible to everyone by connecting students with passionate, qualified tutors who can provide personalized learning experiences tailored to individual needs."})]})}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-8 border border-slate-700/50",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center mb-4",children:t.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"What We Offer"}),t.jsx("p",{className:"text-slate-300 leading-relaxed",children:"A comprehensive platform featuring expert tutors across all subjects, flexible scheduling, secure messaging, and an AI assistant to support your learning journey 24/7."})]})})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[t.jsxs("div",{className:"text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})})}),t.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Expert Tutors"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Qualified professionals with proven track records in their subjects"})]}),t.jsxs("div",{className:"text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),t.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Flexible Scheduling"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Book sessions that fit your schedule with easy calendar integration"})]}),t.jsxs("div",{className:"text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z",clipRule:"evenodd"})})}),t.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"AI Assistant"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"24/7 AI support for instant help with questions and study guidance"})]})]}),t.jsxs("div",{className:"text-center bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-3xl p-8 border border-blue-500/20",children:[t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Ready to Start Learning?"}),t.jsx("p",{className:"text-slate-300 mb-6 max-w-2xl mx-auto",children:"Join thousands of students who have already improved their academic performance with our platform."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("a",{href:"/register",className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200",children:"Get Started"}),t.jsx("a",{href:"/tutors",className:"px-8 py-3 bg-slate-800 text-white font-semibold rounded-xl border border-slate-600 hover:bg-slate-700 transition-all duration-200",children:"Find Tutors"})]})]})]})})}),Pv=()=>t.jsx(ss,{className:"py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-400 mb-8",children:"You don't have permission to access this page."}),t.jsx("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Home"})]})}),Ul={async getTasks(){try{return await ot.get("/tasks")}catch(n){throw console.error("Error fetching tasks:",n),n}},async createTask(n){try{const a={title:n.title,description:n.description,subject:n.subject,priority:n.priority,estimatedTime:n.estimatedTime,dueDate:n.due};return await ot.post("/tasks",a)}catch(a){throw console.error("Error creating task:",a),a}},async updateTask(n,a){try{const i={title:a.title,description:a.description,subject:a.subject,priority:a.priority,estimatedTime:a.estimatedTime,dueDate:a.due,status:a.status,progress:a.progress};return await ot.put(`/tasks/${n}`,i)}catch(i){throw console.error("Error updating task:",i),i}},async deleteTask(n){try{return await ot.delete(`/tasks/${n}`)}catch(a){throw console.error("Error deleting task:",a),a}}},Iv=()=>{const{user:n}=qt(),[a,i]=T.useState(new Date),[o,u]=T.useState(new Date().getDate()),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState([]),[y,S]=T.useState(!0),[N,B]=T.useState([]),[E,U]=T.useState(!0);T.useEffect(()=>{const j=async()=>{try{S(!0);let v;n?.role==="student"?v=await Zt.getStudentBookings():n?.role==="tutor"?v=await Zt.getTutorBookings():v=[],console.log(" Raw API response for bookings:",v),console.log(" Response type:",typeof v),console.log(" Response keys:",v?Object.keys(v):"none"),v&&v.bookings&&(console.log(" bookings.bookings found:",v.bookings),console.log(" bookings.bookings length:",v.bookings.length),console.log(" First booking:",v.bookings[0]));const Y=v?.bookings||v?.data||v||[];console.log(" Extracted bookings array:",Y),console.log(" Bookings array length:",Y.length);const oe=Array.isArray(Y)?Y:[];console.log(" Setting realBookings to:",oe),g(oe)}catch(v){console.error("Failed to load bookings for calendar:",v),console.log(" Setting realBookings to empty array due to error"),g([])}finally{S(!1)}},O=async()=>{try{U(!0);const v=await Ul.getTasks();console.log("Loaded tasks for calendar:",v.data);const Y=v.data.map(oe=>{let he=oe.due_date;if(oe.due_date){const Se=new Date(oe.due_date);if(!isNaN(Se.getTime())){const De=Se.getFullYear(),Ae=String(Se.getMonth()+1).padStart(2,"0"),yt=String(Se.getDate()).padStart(2,"0");he=`${De}-${Ae}-${yt}`}}return console.log("Task date transformation:",oe.due_date,"->",he),{id:`task-${oe.id}`,title:oe.title,date:he,time:"23:59",type:"task",priority:oe.priority,status:oe.status,subject:oe.subject,description:oe.description,progress:oe.progress,color:oe.priority==="high"?"bg-red-500":oe.priority==="medium"?"bg-amber-500":"bg-green-500"}});console.log("Transformed tasks for calendar:",Y),B(Y)}catch(v){console.error("Failed to load tasks for calendar:",v),B([])}finally{U(!1)}};n?.role==="student"||n?.role==="tutor"?(j(),O()):(S(!1),U(!1))},[n?.role]);const M=(()=>{console.log("realBookings in getEventsForRole:",f),console.log("user role:",n?.role);const j=(Array.isArray(f)?f:[]).map(v=>(console.log("Processing booking for calendar:",v),!v.id||!v.date?(console.warn("Booking missing required fields:",v),null):n?.role==="tutor"?{id:v.id,title:`${v.subject||"Session"} - ${v.studentName||"Student"}`,date:v.date,time:v.startTime||"00:00",type:"session",status:v.status||"pending",student:v.studentName||"Student",subject:v.subject||"General",duration:v.duration||60,meetingType:v.meetingType||"virtual",location:v.location||null,totalAmount:v.totalAmount||0,color:v.status==="completed"?"bg-green-500":v.status==="confirmed"||v.status==="scheduled"?"bg-blue-500":v.status==="pending"?"bg-yellow-500":v.status==="cancelled"?"bg-red-500":v.status==="rejected"?"bg-red-400":"bg-gray-500"}:{id:v.id,title:`${v.subject||"Session"} - ${v.tutorName||"Tutor"}`,date:v.date,time:v.startTime||"00:00",type:"session",tutor:v.tutorName||"Tutor",subject:v.subject||"General",status:v.status||"pending",meetingType:v.meetingType||"virtual",location:v.location||null,duration:v.duration||60,totalAmount:v.totalAmount||0,color:v.status==="confirmed"||v.status==="scheduled"?"bg-green-500":v.status==="pending"?"bg-yellow-500":v.status==="completed"?"bg-blue-500":v.status==="cancelled"?"bg-red-500":v.status==="rejected"?"bg-red-400":"bg-gray-500"})).filter(Boolean),O=[...j,...N];return console.log(" Calendar Events Summary:"),console.log("- Booking events:",j.length,j),console.log("- Task events:",N.length,N),console.log("- All combined events:",O.length,O),O})(),H=j=>["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Tutor Together//Calendar Export//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",j.filter(Y=>Y.type==="session"?Y.status==="scheduled"||Y.status==="confirmed":Y.type==="task"?Y.status!=="completed":!0).map(Y=>{try{const oe=Y.date||new Date().toISOString().split("T")[0],he=Y.time||"09:00",Se=new Date(`${oe}T${he}`);if(isNaN(Se.getTime()))return console.warn("Invalid date for event:",Y),null;const De=Y.duration||60,Ae=new Date(Se.getTime()+De*60*1e3),yt=ns=>ns.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",vt=Y.type==="session"?n?.role==="tutor"?`Tutoring session with ${Y.student||"Student"} - ${Y.subject||"General"}: ${Y.topic||"General tutoring"}`:`Tutoring session with ${Y.tutor||"Tutor"} - ${Y.subject||"General"}${Y.meetingType?` (${Y.meetingType==="virtual"?"Virtual":"In-Person"})`:""}${Y.location?` - Location: ${Y.location}`:""}`:Y.type==="task"?`Task - Priority: ${Y.priority||"medium"}. ${Y.description||""}`:`Location: ${Y.location||"TBD"}`;return["BEGIN:VEVENT",`DTSTART:${yt(Se)}`,`DTEND:${yt(Ae)}`,`SUMMARY:${Y.title||"Event"}`,`DESCRIPTION:${vt}`,`UID:${Y.id||Date.now()}@tutortogether.com`,"STATUS:CONFIRMED","END:VEVENT"].join(`\r
`)}catch(oe){return console.warn("Error processing event for export:",Y,oe),null}}).filter(Boolean).join(`\r
`),"END:VCALENDAR"].join(`\r
`),ne=async()=>{h(!0);try{const j=M.filter(he=>he.type==="session"?he.status==="scheduled"||he.status==="confirmed":he.type==="task"?he.status!=="completed":!0);if(j.length===0){p("No upcoming sessions or tasks to export"),setTimeout(()=>p(null),3e3);return}const O=H(M),v=new Blob([O],{type:"text/calendar;charset=utf-8"}),Y=window.URL.createObjectURL(v),oe=document.createElement("a");oe.href=Y,oe.download=`tutor-together-calendar-${new Date().toISOString().split("T")[0]}.ics`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),window.URL.revokeObjectURL(Y),p(`${j.length} event${j.length>1?"s":""} exported successfully!`),setTimeout(()=>p(null),3e3)}catch(j){console.error("Export failed:",j),p("Export failed. Please try again."),setTimeout(()=>p(null),3e3)}finally{h(!1)}},be=j=>{const O=j.getFullYear(),v=j.getMonth(),Y=new Date(O,v,1),he=new Date(O,v+1,0).getDate(),Se=Y.getDay(),De=[];for(let Ae=0;Ae<Se;Ae++)De.push(null);for(let Ae=1;Ae<=he;Ae++)De.push(Ae);return De},$=j=>j.toLocaleDateString("en-US",{year:"numeric",month:"long"}),q=j=>{if(!j)return[];const O=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(j).padStart(2,"0")}`,v=M.filter(Y=>Y.date===O);return console.log(`Events for ${O} (day ${j}):`,v),v},fe=()=>{if(!o)return[];const j=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(o).padStart(2,"0")}`;return M.filter(O=>O.date===j)},me=j=>{const O=new Date(a);O.setMonth(a.getMonth()+j),i(O),O.getMonth()===new Date().getMonth()&&O.getFullYear()===new Date().getFullYear()?u(new Date().getDate()):u(1)},G=()=>{const j=new Date;i(j),u(j.getDate())},A=(j="00:00")=>{const[O="0",v="0"]=j.split(":"),Y=new Date;return Y.setHours(parseInt(O,10),parseInt(v,10)),Y.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},I=(j="00:00")=>{const[O="0",v="00"]=j.split(":"),Y=(parseInt(O,10)+1)%24;return`${String(Y).padStart(2,"0")}:${v||"00"}`},le=n?.role==="tutor"?"/tutor-dashboard":"/student-dashboard",re=[{id:"overview",label:"Overview",to:le,state:{activeTab:"overview"}},{id:"sessions",label:"Sessions",to:le,state:{activeTab:"sessions"}},{id:"calendar",label:"Calendar",to:null},{id:"tasks",label:"Tasks",to:le,state:{activeTab:"tasks"}},{id:"progress",label:"Progress",to:le,state:{activeTab:"progress"}}],ce=[{id:"book-session",label:"Book Session",description:"Browse tutors and lock in a time",to:"/tutors",gradient:"from-blue-500/20 via-cyan-500/10 to-cyan-500/20",border:"border-blue-500/30"},{id:"ai-assistant",label:"AI Assistant",description:"Get instant answers or study help",to:"/chatbot",gradient:"from-emerald-500/20 via-teal-500/10 to-teal-500/20",border:"border-emerald-500/30"},{id:"add-task",label:"Add Task",description:"Capture homework or study goals",to:"/tasks",gradient:"from-rose-500/20 via-pink-500/10 to-pink-500/20",border:"border-rose-500/30"},{id:"messages",label:"Messages",description:"Continue conversations with tutors",to:"/messages",gradient:"from-amber-500/20 via-orange-500/10 to-orange-500/20",border:"border-amber-500/30"}],C=(n?.urgentTasks||[]).slice(0,2),K=j=>j.type==="session"?"bg-blue-500/10 border-blue-500/40 text-blue-200":j.priority==="high"?"bg-red-500/10 border-red-500/40 text-red-200":j.priority==="low"?"bg-emerald-500/10 border-emerald-500/40 text-emerald-200":"bg-amber-500/10 border-amber-500/40 text-amber-200",ye=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ee=o?new Date(a.getFullYear(),a.getMonth(),o).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Select a day",D=o?fe():[];return y||E?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-8",children:t.jsxs("div",{className:"animate-pulse text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto mb-12 text-slate-400",children:"Loading calendar data..."})]})})}):t.jsxs("div",{className:"min-h-screen bg-slate-950",children:[t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:t.jsxs("div",{className:"flex flex-col xl:flex-row gap-8",children:[t.jsxs("div",{className:"flex-1 space-y-8",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:n?.role==="tutor"?"Tutor availability & sessions":"Student study schedule"}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white flex items-center space-x-2",children:t.jsx("span",{children:" Calendar"})})]}),t.jsx("button",{onClick:ne,className:"px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-2xl font-semibold transition-all duration-200 flex items-center space-x-2 disabled:opacity-70",disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export Calendar"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-3 bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Monthly overview"}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:$(a)})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>me(-1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800",children:""}),t.jsx("button",{onClick:G,className:"px-4 py-2 rounded-xl border border-slate-700 text-slate-200 hover:border-blue-500/60 hover:text-white transition-colors",children:"Today"}),t.jsx("button",{onClick:()=>me(1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800",children:""})]})]}),t.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-slate-400 text-xs font-semibold uppercase tracking-wider mb-2",children:ye.map(j=>t.jsx("div",{children:j},j))}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:be(a).map((j,O)=>{if(!j)return t.jsx("div",{className:"min-h-[110px] rounded-xl border border-dashed border-slate-800/70"},`empty-${O}`);const v=q(j),Y=j===new Date().getDate()&&a.getMonth()===new Date().getMonth()&&a.getFullYear()===new Date().getFullYear(),oe=o===j;return t.jsxs("button",{onClick:()=>u(j),className:`min-h-[110px] rounded-2xl border text-left p-3 transition-all duration-200 ${oe?"border-blue-500 bg-blue-500/10 shadow-lg shadow-blue-500/20":"border-slate-800/70 bg-slate-900/30 hover:border-blue-500/60"}`,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold",children:[t.jsx("span",{className:"text-white",children:j}),Y&&t.jsx("span",{className:"text-emerald-400 text-xs",children:"Today"})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[v.slice(0,2).map(he=>t.jsx("div",{className:`text-xs px-2 py-1 rounded-full border ${K(he)} whitespace-nowrap overflow-hidden text-ellipsis`,title:he.title,children:he.title||(he.subject??"Event")},he.id)),v.length>2&&t.jsxs("div",{className:"text-[10px] text-slate-400",children:["+",v.length-2," more"]})]})]},`day-${j}`)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-6",children:t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:Ee})]})}),D.length===0?t.jsx("div",{className:"text-center text-slate-400 py-8",children:"No sessions or tasks scheduled for this day."}):t.jsx("div",{className:"space-y-4",children:D.map(j=>t.jsxs("div",{className:"p-4 rounded-2xl border border-slate-800/70 bg-slate-900/40",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-semibold text-lg line-clamp-1",children:j.title}),t.jsx("p",{className:"text-slate-400 text-sm",children:j.type==="session"?`${j.subject} with ${n?.role==="tutor"?j.student:j.tutor||"your tutor"}`:j.subject||"Personal study task"})]}),t.jsx("span",{className:`text-xs px-3 py-1 rounded-full border ${K(j)}`,children:j.type==="session"?j.status||"Session":"Task"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-slate-400",children:[t.jsxs("span",{children:[" ",A(j.time)]}),j.type==="session"?t.jsxs("span",{children:[" ",j.meetingType==="virtual"?"Virtual session":"In-person"]}):t.jsxs("span",{children:[" Status: ",j.status]})]}),j.type==="session"&&t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[j.status&&t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j.status==="completed"?"bg-emerald-500/20 text-emerald-300":"bg-blue-500/10 text-blue-200 border border-blue-500/30"}`,children:j.status}),(j.status==="scheduled"||j.status==="confirmed")&&t.jsx(yd,{booking:{...j,endTime:j.endTime||I(j.time),tutorName:n?.role==="student"?j.tutor:null,studentName:n?.role==="tutor"?j.student:null},onCompleted:O=>{g(v=>v.map(Y=>Y.id===O.id?{...Y,status:"completed"}:Y))},className:"text-xs px-3 py-1"})]}),j.type==="task"&&t.jsxs("div",{className:"mt-3 text-xs text-slate-400",children:["Progress: ",j.progress||0,"%"]})]},j.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Event Types"}),t.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-blue-500"}),t.jsx("span",{children:" Tutoring Sessions"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500"}),t.jsx("span",{children:" High Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-amber-500"}),t.jsx("span",{children:" Medium Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-emerald-500"}),t.jsx("span",{children:" Low Priority Tasks"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Quick Actions"}),t.jsx(Fe,{to:"/tutors",className:"w-full flex items-center justify-center px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold hover:opacity-90 transition",children:"Schedule Session"})]})]})]})]}),t.jsxs("div",{className:"w-full xl:w-80 space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Dashboard"}),t.jsx("div",{className:"space-y-1",children:re.map(j=>{const v=`w-full px-3 py-2 rounded-lg flex items-center transition-all duration-200 ${j.id==="calendar"?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`;return j.to?t.jsx(Fe,{to:j.to,state:j.state,className:v,children:t.jsx("span",{className:"text-sm font-medium",children:j.label})},j.id):t.jsx("button",{className:v,disabled:!0,children:t.jsx("span",{className:"text-sm font-medium",children:j.label})},j.id)})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Key Actions"}),t.jsx("div",{className:"space-y-2",children:ce.map(j=>t.jsxs(Fe,{to:j.to,className:`block w-full p-3 rounded-xl border bg-gradient-to-r ${j.gradient} ${j.border} transition-all duration-200 hover:border-white/40`,children:[t.jsx("div",{className:"text-white text-sm font-semibold",children:j.label}),t.jsx("div",{className:"text-slate-200 text-xs",children:j.description})]},j.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 rounded-2xl p-4 border border-red-500/20",children:[t.jsxs("h3",{className:"text-sm font-semibold text-red-300 mb-3 uppercase tracking-wide flex items-center space-x-2",children:[t.jsx("span",{className:"text-red-400",children:""}),t.jsx("span",{children:"Urgent Tasks"})]}),t.jsx("div",{className:"space-y-3",children:C.length>0?C.map((j,O)=>t.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/50 border border-slate-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("div",{className:"text-white text-xs font-medium line-clamp-2",children:j.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.priority==="high"?"bg-red-500/20 text-red-400":j.priority==="medium"?"bg-amber-500/20 text-amber-400":"bg-green-500/20 text-green-400"}`,children:j.priority})]}),t.jsx("div",{className:"text-slate-400 text-xs mb-1",children:j.subject}),t.jsxs("div",{className:"text-slate-500 text-xs",children:["Due: ",j.due]})]},j.id||`${j.title}-${O}`)):t.jsx("div",{className:"text-slate-400 text-xs",children:"No urgent tasks right now."})}),t.jsx(Fe,{to:"/tasks",className:"block text-center mt-3 text-xs text-blue-400 hover:text-blue-300 font-medium",children:"View All Tasks "})]})]})]})}),x&&t.jsx("div",{className:"fixed top-4 right-4 z-50 bg-emerald-500/20 border border-emerald-500/30 text-emerald-400 px-6 py-3 rounded-lg backdrop-blur-sm shadow-lg",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:x})]})})]})},zu="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Qv=()=>{const{user:n}=qt(),a=Ts(),[i,o]=T.useState([]),[u,d]=T.useState([]),[h,x]=T.useState(null),[p,f]=T.useState([]),[g,y]=T.useState(""),[S,N]=T.useState(""),[B,E]=T.useState(!0),[U,k]=T.useState(!1),M=T.useRef(null);T.useEffect(()=>{ne()},[]),T.useEffect(()=>{if(a.state?.selectedUser){const G=a.state.selectedUser;x(G),o(A=>A.some(le=>le.id===G.id)?A:[...A,G])}},[a.state]),T.useEffect(()=>{if(S.trim()==="")d(i);else{const G=i.filter(A=>A.full_name?.toLowerCase().includes(S.toLowerCase())||A.email?.toLowerCase().includes(S.toLowerCase())||A.user_role?.toLowerCase().includes(S.toLowerCase()));d(G)}},[S,i]),T.useEffect(()=>{h&&be(h.id)},[h]),T.useEffect(()=>{H()},[p]);const H=()=>{M.current?.scrollIntoView({behavior:"smooth"})},ne=async()=>{try{const G=localStorage.getItem("token"),A=await fetch(`${zu}/messages/users`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(A.ok){const I=await A.json();o(I.data||[])}else console.error("Failed to fetch users")}catch(G){console.error("Error fetching users:",G)}finally{E(!1)}},be=async G=>{try{const A=localStorage.getItem("token"),I=await fetch(`${zu}/messages/${G}`,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"}});if(I.ok){const le=await I.json();f(le.data||[])}else console.error("Failed to fetch messages")}catch(A){console.error("Error fetching messages:",A)}},$=async()=>{if(g.trim()&&h&&!U){k(!0);const G=g.trim();y("");try{const A=localStorage.getItem("token");(await fetch(`${zu}/messages/send`,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({recipientId:h.id,content:G})})).ok?be(h.id):(console.error("Failed to send message"),y(G))}catch(A){console.error("Error sending message:",A),y(G)}finally{k(!1)}}},q=G=>G?G.split(" ").map(A=>A[0]).join("").toUpperCase():"U",fe=G=>{const A=new Date(G),le=Math.floor((new Date-A)/(1e3*60));return le<1?"Just now":le<60?`${le}m ago`:le<1440?A.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):A.toLocaleDateString()},me=G=>{const A=G.user_role||G.role||"user";return A.charAt(0).toUpperCase()+A.slice(1)};return B?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-lg",children:"Loading..."})}):t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:" Messages"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Connect with tutors and students."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-200px)]",children:[t.jsxs("div",{className:"lg:col-span-4 bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b border-slate-800/50",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"People"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:S,onChange:G=>N(G.target.value),placeholder:"Search people...",className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50"}),t.jsx("span",{className:"absolute right-3 top-2.5 text-slate-400",children:""})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:u.length===0?t.jsx("div",{className:"p-6 text-center text-slate-400",children:S?"No people found":"No users available"}):u.map(G=>t.jsx("div",{onClick:()=>x(G),className:`p-4 border-b border-slate-800/30 cursor-pointer hover:bg-slate-800/30 transition-colors ${h?.id===G.id?"bg-slate-800/50 border-l-4 border-l-blue-500":""}`,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:q(G.full_name)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-white font-medium truncate",children:G.full_name||G.email}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${G.user_role==="tutor"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:me(G)})}),G.subjects_taught&&t.jsxs("p",{className:"text-slate-400 text-xs mt-1 truncate",children:["Subjects: ",G.subjects_taught]}),G.current_school&&t.jsxs("p",{className:"text-slate-400 text-xs mt-1 truncate",children:["School: ",G.current_school]}),G.location_city&&t.jsxs("p",{className:"text-slate-400 text-xs mt-1 truncate",children:[" ",G.location_city]})]})]})},G.id))})]}),t.jsx("div",{className:"lg:col-span-8 bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm flex flex-col overflow-hidden",children:h?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-slate-800/50 flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:q(h.full_name)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:h.full_name||h.email}),t.jsxs("p",{className:"text-slate-400 text-sm",children:[me(h),h.subjects_taught&&`  ${h.subjects_taught}`]})]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:p.length===0?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["Start a conversation with ",h.full_name||h.email]})]})}):t.jsxs("div",{className:"relative",children:[p.map((G,A)=>{const I=G.sender_id===n?.id,le=new Date(G.created_at),re=A===0||new Date(p[A-1].created_at).toDateString()!==le.toDateString();return t.jsxs("div",{className:"relative",children:[re&&t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"px-3 py-1 bg-slate-800/50 rounded-full border border-slate-700/50",children:t.jsx("span",{className:"text-xs text-slate-400",children:le.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})})}),t.jsxs("div",{className:`flex items-end gap-3 mb-6 ${I?"justify-end":"justify-start"}`,children:[!I&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-emerald-400 to-blue-500 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 mb-1",children:q(h.full_name)}),t.jsxs("div",{className:`relative max-w-xs lg:max-w-md ${I?"order-1":"order-2"}`,children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-lg ${I?"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-br-md":"bg-slate-800/70 border border-slate-700/50 text-white rounded-bl-md backdrop-blur-sm"}`,children:t.jsx("p",{className:"text-sm leading-relaxed",children:G.content})}),t.jsxs("div",{className:`flex items-center gap-1 mt-1 ${I?"justify-end":"justify-start"}`,children:[t.jsx("span",{className:"text-xs text-slate-500",children:fe(G.created_at)}),I&&t.jsx("span",{className:"text-xs text-slate-500",children:""})]}),t.jsx("div",{className:`absolute top-3 w-0 h-0 ${I?"right-0 translate-x-1 border-l-8 border-l-blue-500 border-t-8 border-t-transparent border-b-8 border-b-transparent":"left-0 -translate-x-1 border-r-8 border-r-slate-800 border-t-8 border-t-transparent border-b-8 border-b-transparent"}`})]}),I&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 mb-1",children:q(n?.name)})]})]},G.id)}),t.jsx("div",{ref:M})]})}),t.jsxs("div",{className:"p-6 border-t border-slate-800/50 bg-slate-900/30 backdrop-blur-sm",children:[t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",value:g,onChange:G=>y(G.target.value),onKeyPress:G=>G.key==="Enter"&&$(),placeholder:`Message ${h.full_name||h.email}...`,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 pr-12 transition-all"}),t.jsx("button",{onClick:$,className:`absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-lg transition-all ${g.trim()&&!U?"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10":"text-slate-600 cursor-not-allowed"}`,disabled:!g.trim()||U,children:U?t.jsx("div",{className:"w-5 h-5 border-2 border-slate-600 border-t-blue-400 rounded-full animate-spin"}):t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M2.94 6.412A2 2 0 004.414 5h11.172a2 2 0 001.474 1.412L12 10l5.06 3.588A2 2 0 0015.586 15H4.414a2 2 0 00-1.474-1.412L8 10 2.94 6.412z"})})})]})}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Press Enter to send"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${h?"bg-green-400":"bg-slate-600"}`}),t.jsx("span",{className:"text-xs text-slate-500",children:h?"Online":"Offline"})]})]})]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h3",{className:"text-white font-medium mb-2",children:"Select a person to chat"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Choose someone from the list to start messaging"})]})})})]})]})})};function Xv(n,a){const i={};return(n[n.length-1]===""?[...n,""]:n).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const Zv=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Jv=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kv={};function Gf(n,a){return(Kv.jsx?Jv:Zv).test(n)}const Wv=/[ \t\n\f\r]/g;function ej(n){return typeof n=="object"?n.type==="text"?Vf(n.value):!1:Vf(n)}function Vf(n){return n.replace(Wv,"")===""}class Br{constructor(a,i,o){this.normal=i,this.property=a,o&&(this.space=o)}}Br.prototype.normal={};Br.prototype.property={};Br.prototype.space=void 0;function Xx(n,a){const i={},o={};for(const u of n)Object.assign(i,u.property),Object.assign(o,u.normal);return new Br(i,o,a)}function ed(n){return n.toLowerCase()}class hs{constructor(a,i){this.attribute=i,this.property=a}}hs.prototype.attribute="";hs.prototype.booleanish=!1;hs.prototype.boolean=!1;hs.prototype.commaOrSpaceSeparated=!1;hs.prototype.commaSeparated=!1;hs.prototype.defined=!1;hs.prototype.mustUseProperty=!1;hs.prototype.number=!1;hs.prototype.overloadedBoolean=!1;hs.prototype.property="";hs.prototype.spaceSeparated=!1;hs.prototype.space=void 0;let tj=0;const qe=ql(),Lt=ql(),td=ql(),ge=ql(),it=ql(),ka=ql(),Ns=ql();function ql(){return 2**++tj}const sd=Object.freeze(Object.defineProperty({__proto__:null,boolean:qe,booleanish:Lt,commaOrSpaceSeparated:Ns,commaSeparated:ka,number:ge,overloadedBoolean:td,spaceSeparated:it},Symbol.toStringTag,{value:"Module"})),Lu=Object.keys(sd);class vd extends hs{constructor(a,i,o,u){let d=-1;if(super(a,i),Pf(this,"space",u),typeof o=="number")for(;++d<Lu.length;){const h=Lu[d];Pf(this,Lu[d],(o&sd[h])===sd[h])}}}vd.prototype.defined=!0;function Pf(n,a,i){i&&(n[a]=i)}function Da(n){const a={},i={};for(const[o,u]of Object.entries(n.properties)){const d=new vd(o,n.transform(n.attributes||{},o),u,n.space);n.mustUseProperty&&n.mustUseProperty.includes(o)&&(d.mustUseProperty=!0),a[o]=d,i[ed(o)]=o,i[ed(d.attribute)]=o}return new Br(a,i,n.space)}const Zx=Da({properties:{ariaActiveDescendant:null,ariaAtomic:Lt,ariaAutoComplete:null,ariaBusy:Lt,ariaChecked:Lt,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:it,ariaCurrent:null,ariaDescribedBy:it,ariaDetails:null,ariaDisabled:Lt,ariaDropEffect:it,ariaErrorMessage:null,ariaExpanded:Lt,ariaFlowTo:it,ariaGrabbed:Lt,ariaHasPopup:null,ariaHidden:Lt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:it,ariaLevel:ge,ariaLive:null,ariaModal:Lt,ariaMultiLine:Lt,ariaMultiSelectable:Lt,ariaOrientation:null,ariaOwns:it,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:Lt,ariaReadOnly:Lt,ariaRelevant:null,ariaRequired:Lt,ariaRoleDescription:it,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:Lt,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(n,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()}});function Jx(n,a){return a in n?n[a]:a}function Kx(n,a){return Jx(n,a.toLowerCase())}const sj=Da({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ka,acceptCharset:it,accessKey:it,action:null,allow:null,allowFullScreen:qe,allowPaymentRequest:qe,allowUserMedia:qe,alt:null,as:null,async:qe,autoCapitalize:null,autoComplete:it,autoFocus:qe,autoPlay:qe,blocking:it,capture:null,charSet:null,checked:qe,cite:null,className:it,cols:ge,colSpan:null,content:null,contentEditable:Lt,controls:qe,controlsList:it,coords:ge|ka,crossOrigin:null,data:null,dateTime:null,decoding:null,default:qe,defer:qe,dir:null,dirName:null,disabled:qe,download:td,draggable:Lt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:qe,formTarget:null,headers:it,height:ge,hidden:td,high:ge,href:null,hrefLang:null,htmlFor:it,httpEquiv:it,id:null,imageSizes:null,imageSrcSet:null,inert:qe,inputMode:null,integrity:null,is:null,isMap:qe,itemId:null,itemProp:it,itemRef:it,itemScope:qe,itemType:it,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:qe,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:qe,muted:qe,name:null,nonce:null,noModule:qe,noValidate:qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:qe,optimum:ge,pattern:null,ping:it,placeholder:null,playsInline:qe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:qe,referrerPolicy:null,rel:it,required:qe,reversed:qe,rows:ge,rowSpan:ge,sandbox:it,scope:null,scoped:qe,seamless:qe,selected:qe,shadowRootClonable:qe,shadowRootDelegatesFocus:qe,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:Lt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:qe,useMap:null,value:Lt,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:it,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:qe,declare:qe,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:qe,noHref:qe,noShade:qe,noWrap:qe,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:Lt,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:qe,disableRemotePlayback:qe,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:Kx}),nj=Da({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ns,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:it,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ka,g2:ka,glyphName:ka,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:Ns,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:it,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ns,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ns,rev:Ns,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ns,requiredFeatures:Ns,requiredFonts:Ns,requiredFormats:Ns,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:Ns,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ns,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ns,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Jx}),Wx=Da({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,a){return"xlink:"+a.slice(5).toLowerCase()}}),ep=Da({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Kx}),tp=Da({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,a){return"xml:"+a.slice(3).toLowerCase()}}),lj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},aj=/[A-Z]/g,If=/-[a-z]/g,rj=/^data[-\w.:]+$/i;function ij(n,a){const i=ed(a);let o=a,u=hs;if(i in n.normal)return n.property[n.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&rj.test(a)){if(a.charAt(4)==="-"){const d=a.slice(5).replace(If,cj);o="data"+d.charAt(0).toUpperCase()+d.slice(1)}else{const d=a.slice(4);if(!If.test(d)){let h=d.replace(aj,oj);h.charAt(0)!=="-"&&(h="-"+h),a="data"+h}}u=vd}return new u(o,a)}function oj(n){return"-"+n.toLowerCase()}function cj(n){return n.charAt(1).toUpperCase()}const uj=Xx([Zx,sj,Wx,ep,tp],"html"),jd=Xx([Zx,nj,Wx,ep,tp],"svg");function dj(n){return n.join(" ").trim()}var wa={},Ou,Qf;function mj(){if(Qf)return Ou;Qf=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,i=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,u=/^:\s*/,d=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,h=/^[;\s]*/,x=/^\s+|\s+$/g,p=`
`,f="/",g="*",y="",S="comment",N="declaration";function B(U,k){if(typeof U!="string")throw new TypeError("First argument must be a string");if(!U)return[];k=k||{};var M=1,H=1;function ne(re){var ce=re.match(a);ce&&(M+=ce.length);var C=re.lastIndexOf(p);H=~C?re.length-C:H+re.length}function be(){var re={line:M,column:H};return function(ce){return ce.position=new $(re),me(),ce}}function $(re){this.start=re,this.end={line:M,column:H},this.source=k.source}$.prototype.content=U;function q(re){var ce=new Error(k.source+":"+M+":"+H+": "+re);if(ce.reason=re,ce.filename=k.source,ce.line=M,ce.column=H,ce.source=U,!k.silent)throw ce}function fe(re){var ce=re.exec(U);if(ce){var C=ce[0];return ne(C),U=U.slice(C.length),ce}}function me(){fe(i)}function G(re){var ce;for(re=re||[];ce=A();)ce!==!1&&re.push(ce);return re}function A(){var re=be();if(!(f!=U.charAt(0)||g!=U.charAt(1))){for(var ce=2;y!=U.charAt(ce)&&(g!=U.charAt(ce)||f!=U.charAt(ce+1));)++ce;if(ce+=2,y===U.charAt(ce-1))return q("End of comment missing");var C=U.slice(2,ce-2);return H+=2,ne(C),U=U.slice(ce),H+=2,re({type:S,comment:C})}}function I(){var re=be(),ce=fe(o);if(ce){if(A(),!fe(u))return q("property missing ':'");var C=fe(d),K=re({type:N,property:E(ce[0].replace(n,y)),value:C?E(C[0].replace(n,y)):y});return fe(h),K}}function le(){var re=[];G(re);for(var ce;ce=I();)ce!==!1&&(re.push(ce),G(re));return re}return me(),le()}function E(U){return U?U.replace(x,y):y}return Ou=B,Ou}var Xf;function hj(){if(Xf)return wa;Xf=1;var n=wa&&wa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wa,"__esModule",{value:!0}),wa.default=i;const a=n(mj());function i(o,u){let d=null;if(!o||typeof o!="string")return d;const h=(0,a.default)(o),x=typeof u=="function";return h.forEach(p=>{if(p.type!=="declaration")return;const{property:f,value:g}=p;x?u(f,g,p):g&&(d=d||{},d[f]=g)}),d}return wa}var kr={},Zf;function fj(){if(Zf)return kr;Zf=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,a=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,u=/^-(ms)-/,d=function(f){return!f||i.test(f)||n.test(f)},h=function(f,g){return g.toUpperCase()},x=function(f,g){return"".concat(g,"-")},p=function(f,g){return g===void 0&&(g={}),d(f)?f:(f=f.toLowerCase(),g.reactCompat?f=f.replace(u,x):f=f.replace(o,x),f.replace(a,h))};return kr.camelCase=p,kr}var Er,Jf;function xj(){if(Jf)return Er;Jf=1;var n=Er&&Er.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},a=n(hj()),i=fj();function o(u,d){var h={};return!u||typeof u!="string"||(0,a.default)(u,function(x,p){x&&p&&(h[(0,i.camelCase)(x,d)]=p)}),h}return o.default=o,Er=o,Er}var pj=xj();const gj=mo(pj),sp=np("end"),Nd=np("start");function np(n){return a;function a(i){const o=i&&i.position&&i.position[n]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function bj(n){const a=Nd(n),i=sp(n);if(a&&i)return{start:a,end:i}}function _r(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Kf(n.position):"start"in n||"end"in n?Kf(n):"line"in n||"column"in n?nd(n):""}function nd(n){return Wf(n&&n.line)+":"+Wf(n&&n.column)}function Kf(n){return nd(n&&n.start)+"-"+nd(n&&n.end)}function Wf(n){return n&&typeof n=="number"?n:1}class Wt extends Error{constructor(a,i,o){super(),typeof i=="string"&&(o=i,i=void 0);let u="",d={},h=!1;if(i&&("line"in i&&"column"in i?d={place:i}:"start"in i&&"end"in i?d={place:i}:"type"in i?d={ancestors:[i],place:i.position}:d={...i}),typeof a=="string"?u=a:!d.cause&&a&&(h=!0,u=a.message,d.cause=a),!d.ruleId&&!d.source&&typeof o=="string"){const p=o.indexOf(":");p===-1?d.ruleId=o:(d.source=o.slice(0,p),d.ruleId=o.slice(p+1))}if(!d.place&&d.ancestors&&d.ancestors){const p=d.ancestors[d.ancestors.length-1];p&&(d.place=p.position)}const x=d.place&&"start"in d.place?d.place.start:d.place;this.ancestors=d.ancestors||void 0,this.cause=d.cause||void 0,this.column=x?x.column:void 0,this.fatal=void 0,this.file="",this.message=u,this.line=x?x.line:void 0,this.name=_r(d.place)||"1:1",this.place=d.place||void 0,this.reason=this.message,this.ruleId=d.ruleId||void 0,this.source=d.source||void 0,this.stack=h&&d.cause&&typeof d.cause.stack=="string"?d.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Wt.prototype.file="";Wt.prototype.name="";Wt.prototype.reason="";Wt.prototype.message="";Wt.prototype.stack="";Wt.prototype.column=void 0;Wt.prototype.line=void 0;Wt.prototype.ancestors=void 0;Wt.prototype.cause=void 0;Wt.prototype.fatal=void 0;Wt.prototype.place=void 0;Wt.prototype.ruleId=void 0;Wt.prototype.source=void 0;const wd={}.hasOwnProperty,yj=new Map,vj=/[A-Z]/g,jj=new Set(["table","tbody","thead","tfoot","tr"]),Nj=new Set(["td","th"]),lp="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wj(n,a){if(!a||a.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=a.filePath||void 0;let o;if(a.development){if(typeof a.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=Dj(i,a.jsxDEV)}else{if(typeof a.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof a.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=_j(i,a.jsx,a.jsxs)}const u={Fragment:a.Fragment,ancestors:[],components:a.components||{},create:o,elementAttributeNameCase:a.elementAttributeNameCase||"react",evaluater:a.createEvaluater?a.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:a.ignoreInvalidStyle||!1,passKeys:a.passKeys!==!1,passNode:a.passNode||!1,schema:a.space==="svg"?jd:uj,stylePropertyNameCase:a.stylePropertyNameCase||"dom",tableCellAlignToStyle:a.tableCellAlignToStyle!==!1},d=ap(u,n,void 0);return d&&typeof d!="string"?d:u.create(n,u.Fragment,{children:d||void 0},void 0)}function ap(n,a,i){if(a.type==="element")return Sj(n,a,i);if(a.type==="mdxFlowExpression"||a.type==="mdxTextExpression")return Tj(n,a);if(a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement")return Ej(n,a,i);if(a.type==="mdxjsEsm")return kj(n,a);if(a.type==="root")return Cj(n,a,i);if(a.type==="text")return Aj(n,a)}function Sj(n,a,i){const o=n.schema;let u=o;a.tagName.toLowerCase()==="svg"&&o.space==="html"&&(u=jd,n.schema=u),n.ancestors.push(a);const d=ip(n,a.tagName,!1),h=Rj(n,a);let x=Td(n,a);return jj.has(a.tagName)&&(x=x.filter(function(p){return typeof p=="string"?!ej(p):!0})),rp(n,h,d,a),Sd(h,x),n.ancestors.pop(),n.schema=o,n.create(a,d,h,i)}function Tj(n,a){if(a.data&&a.data.estree&&n.evaluater){const o=a.data.estree.body[0];return o.type,n.evaluater.evaluateExpression(o.expression)}zr(n,a.position)}function kj(n,a){if(a.data&&a.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(a.data.estree);zr(n,a.position)}function Ej(n,a,i){const o=n.schema;let u=o;a.name==="svg"&&o.space==="html"&&(u=jd,n.schema=u),n.ancestors.push(a);const d=a.name===null?n.Fragment:ip(n,a.name,!0),h=Mj(n,a),x=Td(n,a);return rp(n,h,d,a),Sd(h,x),n.ancestors.pop(),n.schema=o,n.create(a,d,h,i)}function Cj(n,a,i){const o={};return Sd(o,Td(n,a)),n.create(a,n.Fragment,o,i)}function Aj(n,a){return a.value}function rp(n,a,i,o){typeof i!="string"&&i!==n.Fragment&&n.passNode&&(a.node=o)}function Sd(n,a){if(a.length>0){const i=a.length>1?a:a[0];i&&(n.children=i)}}function _j(n,a,i){return o;function o(u,d,h,x){const f=Array.isArray(h.children)?i:a;return x?f(d,h,x):f(d,h)}}function Dj(n,a){return i;function i(o,u,d,h){const x=Array.isArray(d.children),p=Nd(o);return a(u,d,h,x,{columnNumber:p?p.column-1:void 0,fileName:n,lineNumber:p?p.line:void 0},void 0)}}function Rj(n,a){const i={};let o,u;for(u in a.properties)if(u!=="children"&&wd.call(a.properties,u)){const d=zj(n,u,a.properties[u]);if(d){const[h,x]=d;n.tableCellAlignToStyle&&h==="align"&&typeof x=="string"&&Nj.has(a.tagName)?o=x:i[h]=x}}if(o){const d=i.style||(i.style={});d[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return i}function Mj(n,a){const i={};for(const o of a.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&n.evaluater){const d=o.data.estree.body[0];d.type;const h=d.expression;h.type;const x=h.properties[0];x.type,Object.assign(i,n.evaluater.evaluateExpression(x.argument))}else zr(n,a.position);else{const u=o.name;let d;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&n.evaluater){const x=o.value.data.estree.body[0];x.type,d=n.evaluater.evaluateExpression(x.expression)}else zr(n,a.position);else d=o.value===null?!0:o.value;i[u]=d}return i}function Td(n,a){const i=[];let o=-1;const u=n.passKeys?new Map:yj;for(;++o<a.children.length;){const d=a.children[o];let h;if(n.passKeys){const p=d.type==="element"?d.tagName:d.type==="mdxJsxFlowElement"||d.type==="mdxJsxTextElement"?d.name:void 0;if(p){const f=u.get(p)||0;h=p+"-"+f,u.set(p,f+1)}}const x=ap(n,d,h);x!==void 0&&i.push(x)}return i}function zj(n,a,i){const o=ij(n.schema,a);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=o.commaSeparated?Xv(i):dj(i)),o.property==="style"){let u=typeof i=="object"?i:Lj(n,String(i));return n.stylePropertyNameCase==="css"&&(u=Oj(u)),["style",u]}return[n.elementAttributeNameCase==="react"&&o.space?lj[o.property]||o.property:o.attribute,i]}}function Lj(n,a){try{return gj(a,{reactCompat:!0})}catch(i){if(n.ignoreInvalidStyle)return{};const o=i,u=new Wt("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw u.file=n.filePath||void 0,u.url=lp+"#cannot-parse-style-attribute",u}}function ip(n,a,i){let o;if(!i)o={type:"Literal",value:a};else if(a.includes(".")){const u=a.split(".");let d=-1,h;for(;++d<u.length;){const x=Gf(u[d])?{type:"Identifier",name:u[d]}:{type:"Literal",value:u[d]};h=h?{type:"MemberExpression",object:h,property:x,computed:!!(d&&x.type==="Literal"),optional:!1}:x}o=h}else o=Gf(a)&&!/^[a-z]/.test(a)?{type:"Identifier",name:a}:{type:"Literal",value:a};if(o.type==="Literal"){const u=o.value;return wd.call(n.components,u)?n.components[u]:u}if(n.evaluater)return n.evaluater.evaluateExpression(o);zr(n)}function zr(n,a){const i=new Wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:a,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=n.filePath||void 0,i.url=lp+"#cannot-handle-mdx-estrees-without-createevaluater",i}function Oj(n){const a={};let i;for(i in n)wd.call(n,i)&&(a[Bj(i)]=n[i]);return a}function Bj(n){let a=n.replace(vj,Uj);return a.slice(0,3)==="ms-"&&(a="-"+a),a}function Uj(n){return"-"+n.toLowerCase()}const Bu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Hj={};function qj(n,a){const i=Hj,o=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,u=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return op(n,o,u)}function op(n,a,i){if($j(n)){if("value"in n)return n.type==="html"&&!i?"":n.value;if(a&&"alt"in n&&n.alt)return n.alt;if("children"in n)return ex(n.children,a,i)}return Array.isArray(n)?ex(n,a,i):""}function ex(n,a,i){const o=[];let u=-1;for(;++u<n.length;)o[u]=op(n[u],a,i);return o.join("")}function $j(n){return!!(n&&typeof n=="object")}const tx=document.createElement("i");function kd(n){const a="&"+n+";";tx.innerHTML=a;const i=tx.textContent;return i.charCodeAt(i.length-1)===59&&n!=="semi"||i===a?!1:i}function un(n,a,i,o){const u=n.length;let d=0,h;if(a<0?a=-a>u?0:u+a:a=a>u?u:a,i=i>0?i:0,o.length<1e4)h=Array.from(o),h.unshift(a,i),n.splice(...h);else for(i&&n.splice(a,i);d<o.length;)h=o.slice(d,d+1e4),h.unshift(a,0),n.splice(...h),d+=1e4,a+=1e4}function Fs(n,a){return n.length>0?(un(n,n.length,0,a),n):a}const sx={}.hasOwnProperty;function Yj(n){const a={};let i=-1;for(;++i<n.length;)Fj(a,n[i]);return a}function Fj(n,a){let i;for(i in a){const u=(sx.call(n,i)?n[i]:void 0)||(n[i]={}),d=a[i];let h;if(d)for(h in d){sx.call(u,h)||(u[h]=[]);const x=d[h];Gj(u[h],Array.isArray(x)?x:x?[x]:[])}}}function Gj(n,a){let i=-1;const o=[];for(;++i<a.length;)(a[i].add==="after"?n:o).push(a[i]);un(n,0,0,o)}function cp(n,a){const i=Number.parseInt(n,a);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function Ea(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const cn=xl(/[A-Za-z]/),ws=xl(/[\dA-Za-z]/),Vj=xl(/[#-'*+\--9=?A-Z^-~]/);function ld(n){return n!==null&&(n<32||n===127)}const ad=xl(/\d/),Pj=xl(/[\dA-Fa-f]/),Ij=xl(/[!-/:-@[-`{-~]/);function ze(n){return n!==null&&n<-2}function ms(n){return n!==null&&(n<0||n===32)}function Ke(n){return n===-2||n===-1||n===32}const Qj=xl(new RegExp("\\p{P}|\\p{S}","u")),Xj=xl(/\s/);function xl(n){return a;function a(i){return i!==null&&i>-1&&n.test(String.fromCharCode(i))}}function Ra(n){const a=[];let i=-1,o=0,u=0;for(;++i<n.length;){const d=n.charCodeAt(i);let h="";if(d===37&&ws(n.charCodeAt(i+1))&&ws(n.charCodeAt(i+2)))u=2;else if(d<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(d))||(h=String.fromCharCode(d));else if(d>55295&&d<57344){const x=n.charCodeAt(i+1);d<56320&&x>56319&&x<57344?(h=String.fromCharCode(d,x),u=1):h=""}else h=String.fromCharCode(d);h&&(a.push(n.slice(o,i),encodeURIComponent(h)),o=i+u+1,h=""),u&&(i+=u,u=0)}return a.join("")+n.slice(o)}function ct(n,a,i,o){const u=o?o-1:Number.POSITIVE_INFINITY;let d=0;return h;function h(p){return Ke(p)?(n.enter(i),x(p)):a(p)}function x(p){return Ke(p)&&d++<u?(n.consume(p),x):(n.exit(i),a(p))}}const Zj={tokenize:Jj};function Jj(n){const a=n.attempt(this.parser.constructs.contentInitial,o,u);let i;return a;function o(x){if(x===null){n.consume(x);return}return n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),ct(n,a,"linePrefix")}function u(x){return n.enter("paragraph"),d(x)}function d(x){const p=n.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,h(x)}function h(x){if(x===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(x);return}return ze(x)?(n.consume(x),n.exit("chunkText"),d):(n.consume(x),h)}}const Kj={tokenize:Wj},nx={tokenize:e1};function Wj(n){const a=this,i=[];let o=0,u,d,h;return x;function x(H){if(o<i.length){const ne=i[o];return a.containerState=ne[1],n.attempt(ne[0].continuation,p,f)(H)}return f(H)}function p(H){if(o++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,u&&M();const ne=a.events.length;let be=ne,$;for(;be--;)if(a.events[be][0]==="exit"&&a.events[be][1].type==="chunkFlow"){$=a.events[be][1].end;break}k(o);let q=ne;for(;q<a.events.length;)a.events[q][1].end={...$},q++;return un(a.events,be+1,0,a.events.slice(ne)),a.events.length=q,f(H)}return x(H)}function f(H){if(o===i.length){if(!u)return S(H);if(u.currentConstruct&&u.currentConstruct.concrete)return B(H);a.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return a.containerState={},n.check(nx,g,y)(H)}function g(H){return u&&M(),k(o),S(H)}function y(H){return a.parser.lazy[a.now().line]=o!==i.length,h=a.now().offset,B(H)}function S(H){return a.containerState={},n.attempt(nx,N,B)(H)}function N(H){return o++,i.push([a.currentConstruct,a.containerState]),S(H)}function B(H){if(H===null){u&&M(),k(0),n.consume(H);return}return u=u||a.parser.flow(a.now()),n.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:d}),E(H)}function E(H){if(H===null){U(n.exit("chunkFlow"),!0),k(0),n.consume(H);return}return ze(H)?(n.consume(H),U(n.exit("chunkFlow")),o=0,a.interrupt=void 0,x):(n.consume(H),E)}function U(H,ne){const be=a.sliceStream(H);if(ne&&be.push(null),H.previous=d,d&&(d.next=H),d=H,u.defineSkip(H.start),u.write(be),a.parser.lazy[H.start.line]){let $=u.events.length;for(;$--;)if(u.events[$][1].start.offset<h&&(!u.events[$][1].end||u.events[$][1].end.offset>h))return;const q=a.events.length;let fe=q,me,G;for(;fe--;)if(a.events[fe][0]==="exit"&&a.events[fe][1].type==="chunkFlow"){if(me){G=a.events[fe][1].end;break}me=!0}for(k(o),$=q;$<a.events.length;)a.events[$][1].end={...G},$++;un(a.events,fe+1,0,a.events.slice(q)),a.events.length=$}}function k(H){let ne=i.length;for(;ne-- >H;){const be=i[ne];a.containerState=be[1],be[0].exit.call(a,n)}i.length=H}function M(){u.write([null]),d=void 0,u=void 0,a.containerState._closeFlow=void 0}}function e1(n,a,i){return ct(n,n.attempt(this.parser.constructs.document,a,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lx(n){if(n===null||ms(n)||Xj(n))return 1;if(Qj(n))return 2}function Ed(n,a,i){const o=[];let u=-1;for(;++u<n.length;){const d=n[u].resolveAll;d&&!o.includes(d)&&(a=d(a,i),o.push(d))}return a}const rd={name:"attention",resolveAll:t1,tokenize:s1};function t1(n,a){let i=-1,o,u,d,h,x,p,f,g;for(;++i<n.length;)if(n[i][0]==="enter"&&n[i][1].type==="attentionSequence"&&n[i][1]._close){for(o=i;o--;)if(n[o][0]==="exit"&&n[o][1].type==="attentionSequence"&&n[o][1]._open&&a.sliceSerialize(n[o][1]).charCodeAt(0)===a.sliceSerialize(n[i][1]).charCodeAt(0)){if((n[o][1]._close||n[i][1]._open)&&(n[i][1].end.offset-n[i][1].start.offset)%3&&!((n[o][1].end.offset-n[o][1].start.offset+n[i][1].end.offset-n[i][1].start.offset)%3))continue;p=n[o][1].end.offset-n[o][1].start.offset>1&&n[i][1].end.offset-n[i][1].start.offset>1?2:1;const y={...n[o][1].end},S={...n[i][1].start};ax(y,-p),ax(S,p),h={type:p>1?"strongSequence":"emphasisSequence",start:y,end:{...n[o][1].end}},x={type:p>1?"strongSequence":"emphasisSequence",start:{...n[i][1].start},end:S},d={type:p>1?"strongText":"emphasisText",start:{...n[o][1].end},end:{...n[i][1].start}},u={type:p>1?"strong":"emphasis",start:{...h.start},end:{...x.end}},n[o][1].end={...h.start},n[i][1].start={...x.end},f=[],n[o][1].end.offset-n[o][1].start.offset&&(f=Fs(f,[["enter",n[o][1],a],["exit",n[o][1],a]])),f=Fs(f,[["enter",u,a],["enter",h,a],["exit",h,a],["enter",d,a]]),f=Fs(f,Ed(a.parser.constructs.insideSpan.null,n.slice(o+1,i),a)),f=Fs(f,[["exit",d,a],["enter",x,a],["exit",x,a],["exit",u,a]]),n[i][1].end.offset-n[i][1].start.offset?(g=2,f=Fs(f,[["enter",n[i][1],a],["exit",n[i][1],a]])):g=0,un(n,o-1,i-o+3,f),i=o+f.length-g-2;break}}for(i=-1;++i<n.length;)n[i][1].type==="attentionSequence"&&(n[i][1].type="data");return n}function s1(n,a){const i=this.parser.constructs.attentionMarkers.null,o=this.previous,u=lx(o);let d;return h;function h(p){return d=p,n.enter("attentionSequence"),x(p)}function x(p){if(p===d)return n.consume(p),x;const f=n.exit("attentionSequence"),g=lx(p),y=!g||g===2&&u||i.includes(p),S=!u||u===2&&g||i.includes(o);return f._open=!!(d===42?y:y&&(u||!S)),f._close=!!(d===42?S:S&&(g||!y)),a(p)}}function ax(n,a){n.column+=a,n.offset+=a,n._bufferIndex+=a}const n1={name:"autolink",tokenize:l1};function l1(n,a,i){let o=0;return u;function u(N){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(N),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),d}function d(N){return cn(N)?(n.consume(N),h):N===64?i(N):f(N)}function h(N){return N===43||N===45||N===46||ws(N)?(o=1,x(N)):f(N)}function x(N){return N===58?(n.consume(N),o=0,p):(N===43||N===45||N===46||ws(N))&&o++<32?(n.consume(N),x):(o=0,f(N))}function p(N){return N===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(N),n.exit("autolinkMarker"),n.exit("autolink"),a):N===null||N===32||N===60||ld(N)?i(N):(n.consume(N),p)}function f(N){return N===64?(n.consume(N),g):Vj(N)?(n.consume(N),f):i(N)}function g(N){return ws(N)?y(N):i(N)}function y(N){return N===46?(n.consume(N),o=0,g):N===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(N),n.exit("autolinkMarker"),n.exit("autolink"),a):S(N)}function S(N){if((N===45||ws(N))&&o++<63){const B=N===45?S:y;return n.consume(N),B}return i(N)}}const po={partial:!0,tokenize:a1};function a1(n,a,i){return o;function o(d){return Ke(d)?ct(n,u,"linePrefix")(d):u(d)}function u(d){return d===null||ze(d)?a(d):i(d)}}const up={continuation:{tokenize:i1},exit:o1,name:"blockQuote",tokenize:r1};function r1(n,a,i){const o=this;return u;function u(h){if(h===62){const x=o.containerState;return x.open||(n.enter("blockQuote",{_container:!0}),x.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(h),n.exit("blockQuoteMarker"),d}return i(h)}function d(h){return Ke(h)?(n.enter("blockQuotePrefixWhitespace"),n.consume(h),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),a):(n.exit("blockQuotePrefix"),a(h))}}function i1(n,a,i){const o=this;return u;function u(h){return Ke(h)?ct(n,d,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):d(h)}function d(h){return n.attempt(up,a,i)(h)}}function o1(n){n.exit("blockQuote")}const dp={name:"characterEscape",tokenize:c1};function c1(n,a,i){return o;function o(d){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(d),n.exit("escapeMarker"),u}function u(d){return Ij(d)?(n.enter("characterEscapeValue"),n.consume(d),n.exit("characterEscapeValue"),n.exit("characterEscape"),a):i(d)}}const mp={name:"characterReference",tokenize:u1};function u1(n,a,i){const o=this;let u=0,d,h;return x;function x(y){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(y),n.exit("characterReferenceMarker"),p}function p(y){return y===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(y),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),d=31,h=ws,g(y))}function f(y){return y===88||y===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(y),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),d=6,h=Pj,g):(n.enter("characterReferenceValue"),d=7,h=ad,g(y))}function g(y){if(y===59&&u){const S=n.exit("characterReferenceValue");return h===ws&&!kd(o.sliceSerialize(S))?i(y):(n.enter("characterReferenceMarker"),n.consume(y),n.exit("characterReferenceMarker"),n.exit("characterReference"),a)}return h(y)&&u++<d?(n.consume(y),g):i(y)}}const rx={partial:!0,tokenize:m1},ix={concrete:!0,name:"codeFenced",tokenize:d1};function d1(n,a,i){const o=this,u={partial:!0,tokenize:be};let d=0,h=0,x;return p;function p($){return f($)}function f($){const q=o.events[o.events.length-1];return d=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,x=$,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),g($)}function g($){return $===x?(h++,n.consume($),g):h<3?i($):(n.exit("codeFencedFenceSequence"),Ke($)?ct(n,y,"whitespace")($):y($))}function y($){return $===null||ze($)?(n.exit("codeFencedFence"),o.interrupt?a($):n.check(rx,E,ne)($)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),S($))}function S($){return $===null||ze($)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),y($)):Ke($)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),ct(n,N,"whitespace")($)):$===96&&$===x?i($):(n.consume($),S)}function N($){return $===null||ze($)?y($):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),B($))}function B($){return $===null||ze($)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),y($)):$===96&&$===x?i($):(n.consume($),B)}function E($){return n.attempt(u,ne,U)($)}function U($){return n.enter("lineEnding"),n.consume($),n.exit("lineEnding"),k}function k($){return d>0&&Ke($)?ct(n,M,"linePrefix",d+1)($):M($)}function M($){return $===null||ze($)?n.check(rx,E,ne)($):(n.enter("codeFlowValue"),H($))}function H($){return $===null||ze($)?(n.exit("codeFlowValue"),M($)):(n.consume($),H)}function ne($){return n.exit("codeFenced"),a($)}function be($,q,fe){let me=0;return G;function G(ce){return $.enter("lineEnding"),$.consume(ce),$.exit("lineEnding"),A}function A(ce){return $.enter("codeFencedFence"),Ke(ce)?ct($,I,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):I(ce)}function I(ce){return ce===x?($.enter("codeFencedFenceSequence"),le(ce)):fe(ce)}function le(ce){return ce===x?(me++,$.consume(ce),le):me>=h?($.exit("codeFencedFenceSequence"),Ke(ce)?ct($,re,"whitespace")(ce):re(ce)):fe(ce)}function re(ce){return ce===null||ze(ce)?($.exit("codeFencedFence"),q(ce)):fe(ce)}}}function m1(n,a,i){const o=this;return u;function u(h){return h===null?i(h):(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),d)}function d(h){return o.parser.lazy[o.now().line]?i(h):a(h)}}const Uu={name:"codeIndented",tokenize:f1},h1={partial:!0,tokenize:x1};function f1(n,a,i){const o=this;return u;function u(f){return n.enter("codeIndented"),ct(n,d,"linePrefix",5)(f)}function d(f){const g=o.events[o.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?h(f):i(f)}function h(f){return f===null?p(f):ze(f)?n.attempt(h1,h,p)(f):(n.enter("codeFlowValue"),x(f))}function x(f){return f===null||ze(f)?(n.exit("codeFlowValue"),h(f)):(n.consume(f),x)}function p(f){return n.exit("codeIndented"),a(f)}}function x1(n,a,i){const o=this;return u;function u(h){return o.parser.lazy[o.now().line]?i(h):ze(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),u):ct(n,d,"linePrefix",5)(h)}function d(h){const x=o.events[o.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?a(h):ze(h)?u(h):i(h)}}const p1={name:"codeText",previous:b1,resolve:g1,tokenize:y1};function g1(n){let a=n.length-4,i=3,o,u;if((n[i][1].type==="lineEnding"||n[i][1].type==="space")&&(n[a][1].type==="lineEnding"||n[a][1].type==="space")){for(o=i;++o<a;)if(n[o][1].type==="codeTextData"){n[i][1].type="codeTextPadding",n[a][1].type="codeTextPadding",i+=2,a-=2;break}}for(o=i-1,a++;++o<=a;)u===void 0?o!==a&&n[o][1].type!=="lineEnding"&&(u=o):(o===a||n[o][1].type==="lineEnding")&&(n[u][1].type="codeTextData",o!==u+2&&(n[u][1].end=n[o-1][1].end,n.splice(u+2,o-u-2),a-=o-u-2,o=u+2),u=void 0);return n}function b1(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function y1(n,a,i){let o=0,u,d;return h;function h(y){return n.enter("codeText"),n.enter("codeTextSequence"),x(y)}function x(y){return y===96?(n.consume(y),o++,x):(n.exit("codeTextSequence"),p(y))}function p(y){return y===null?i(y):y===32?(n.enter("space"),n.consume(y),n.exit("space"),p):y===96?(d=n.enter("codeTextSequence"),u=0,g(y)):ze(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),p):(n.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||ze(y)?(n.exit("codeTextData"),p(y)):(n.consume(y),f)}function g(y){return y===96?(n.consume(y),u++,g):u===o?(n.exit("codeTextSequence"),n.exit("codeText"),a(y)):(d.type="codeTextData",f(y))}}class v1{constructor(a){this.left=a?[...a]:[],this.right=[]}get(a){if(a<0||a>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+a+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return a<this.left.length?this.left[a]:this.right[this.right.length-a+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(a,i){const o=i??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(a,o):a>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-a+this.left.length).reverse():this.left.slice(a).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(a,i,o){const u=i||0;this.setCursor(Math.trunc(a));const d=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return o&&Cr(this.left,o),d.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(a){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(a)}pushMany(a){this.setCursor(Number.POSITIVE_INFINITY),Cr(this.left,a)}unshift(a){this.setCursor(0),this.right.push(a)}unshiftMany(a){this.setCursor(0),Cr(this.right,a.reverse())}setCursor(a){if(!(a===this.left.length||a>this.left.length&&this.right.length===0||a<0&&this.left.length===0))if(a<this.left.length){const i=this.left.splice(a,Number.POSITIVE_INFINITY);Cr(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-a,Number.POSITIVE_INFINITY);Cr(this.left,i.reverse())}}}function Cr(n,a){let i=0;if(a.length<1e4)n.push(...a);else for(;i<a.length;)n.push(...a.slice(i,i+1e4)),i+=1e4}function hp(n){const a={};let i=-1,o,u,d,h,x,p,f;const g=new v1(n);for(;++i<g.length;){for(;i in a;)i=a[i];if(o=g.get(i),i&&o[1].type==="chunkFlow"&&g.get(i-1)[1].type==="listItemPrefix"&&(p=o[1]._tokenizer.events,d=0,d<p.length&&p[d][1].type==="lineEndingBlank"&&(d+=2),d<p.length&&p[d][1].type==="content"))for(;++d<p.length&&p[d][1].type!=="content";)p[d][1].type==="chunkText"&&(p[d][1]._isInFirstContentOfListItem=!0,d++);if(o[0]==="enter")o[1].contentType&&(Object.assign(a,j1(g,i)),i=a[i],f=!0);else if(o[1]._container){for(d=i,u=void 0;d--;)if(h=g.get(d),h[1].type==="lineEnding"||h[1].type==="lineEndingBlank")h[0]==="enter"&&(u&&(g.get(u)[1].type="lineEndingBlank"),h[1].type="lineEnding",u=d);else if(!(h[1].type==="linePrefix"||h[1].type==="listItemIndent"))break;u&&(o[1].end={...g.get(u)[1].start},x=g.slice(u,i),x.unshift(o),g.splice(u,i-u+1,x))}}return un(n,0,Number.POSITIVE_INFINITY,g.slice(0)),!f}function j1(n,a){const i=n.get(a)[1],o=n.get(a)[2];let u=a-1;const d=[];let h=i._tokenizer;h||(h=o.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(h._contentTypeTextTrailing=!0));const x=h.events,p=[],f={};let g,y,S=-1,N=i,B=0,E=0;const U=[E];for(;N;){for(;n.get(++u)[1]!==N;);d.push(u),N._tokenizer||(g=o.sliceStream(N),N.next||g.push(null),y&&h.defineSkip(N.start),N._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(g),N._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),y=N,N=N.next}for(N=i;++S<x.length;)x[S][0]==="exit"&&x[S-1][0]==="enter"&&x[S][1].type===x[S-1][1].type&&x[S][1].start.line!==x[S][1].end.line&&(E=S+1,U.push(E),N._tokenizer=void 0,N.previous=void 0,N=N.next);for(h.events=[],N?(N._tokenizer=void 0,N.previous=void 0):U.pop(),S=U.length;S--;){const k=x.slice(U[S],U[S+1]),M=d.pop();p.push([M,M+k.length-1]),n.splice(M,2,k)}for(p.reverse(),S=-1;++S<p.length;)f[B+p[S][0]]=B+p[S][1],B+=p[S][1]-p[S][0]-1;return f}const N1={resolve:S1,tokenize:T1},w1={partial:!0,tokenize:k1};function S1(n){return hp(n),n}function T1(n,a){let i;return o;function o(x){return n.enter("content"),i=n.enter("chunkContent",{contentType:"content"}),u(x)}function u(x){return x===null?d(x):ze(x)?n.check(w1,h,d)(x):(n.consume(x),u)}function d(x){return n.exit("chunkContent"),n.exit("content"),a(x)}function h(x){return n.consume(x),n.exit("chunkContent"),i.next=n.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,u}}function k1(n,a,i){const o=this;return u;function u(h){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),ct(n,d,"linePrefix")}function d(h){if(h===null||ze(h))return i(h);const x=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?a(h):n.interrupt(o.parser.constructs.flow,i,a)(h)}}function fp(n,a,i,o,u,d,h,x,p){const f=p||Number.POSITIVE_INFINITY;let g=0;return y;function y(k){return k===60?(n.enter(o),n.enter(u),n.enter(d),n.consume(k),n.exit(d),S):k===null||k===32||k===41||ld(k)?i(k):(n.enter(o),n.enter(h),n.enter(x),n.enter("chunkString",{contentType:"string"}),E(k))}function S(k){return k===62?(n.enter(d),n.consume(k),n.exit(d),n.exit(u),n.exit(o),a):(n.enter(x),n.enter("chunkString",{contentType:"string"}),N(k))}function N(k){return k===62?(n.exit("chunkString"),n.exit(x),S(k)):k===null||k===60||ze(k)?i(k):(n.consume(k),k===92?B:N)}function B(k){return k===60||k===62||k===92?(n.consume(k),N):N(k)}function E(k){return!g&&(k===null||k===41||ms(k))?(n.exit("chunkString"),n.exit(x),n.exit(h),n.exit(o),a(k)):g<f&&k===40?(n.consume(k),g++,E):k===41?(n.consume(k),g--,E):k===null||k===32||k===40||ld(k)?i(k):(n.consume(k),k===92?U:E)}function U(k){return k===40||k===41||k===92?(n.consume(k),E):E(k)}}function xp(n,a,i,o,u,d){const h=this;let x=0,p;return f;function f(N){return n.enter(o),n.enter(u),n.consume(N),n.exit(u),n.enter(d),g}function g(N){return x>999||N===null||N===91||N===93&&!p||N===94&&!x&&"_hiddenFootnoteSupport"in h.parser.constructs?i(N):N===93?(n.exit(d),n.enter(u),n.consume(N),n.exit(u),n.exit(o),a):ze(N)?(n.enter("lineEnding"),n.consume(N),n.exit("lineEnding"),g):(n.enter("chunkString",{contentType:"string"}),y(N))}function y(N){return N===null||N===91||N===93||ze(N)||x++>999?(n.exit("chunkString"),g(N)):(n.consume(N),p||(p=!Ke(N)),N===92?S:y)}function S(N){return N===91||N===92||N===93?(n.consume(N),x++,y):y(N)}}function pp(n,a,i,o,u,d){let h;return x;function x(S){return S===34||S===39||S===40?(n.enter(o),n.enter(u),n.consume(S),n.exit(u),h=S===40?41:S,p):i(S)}function p(S){return S===h?(n.enter(u),n.consume(S),n.exit(u),n.exit(o),a):(n.enter(d),f(S))}function f(S){return S===h?(n.exit(d),p(h)):S===null?i(S):ze(S)?(n.enter("lineEnding"),n.consume(S),n.exit("lineEnding"),ct(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===h||S===null||ze(S)?(n.exit("chunkString"),f(S)):(n.consume(S),S===92?y:g)}function y(S){return S===h||S===92?(n.consume(S),g):g(S)}}function Dr(n,a){let i;return o;function o(u){return ze(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),i=!0,o):Ke(u)?ct(n,o,i?"linePrefix":"lineSuffix")(u):a(u)}}const E1={name:"definition",tokenize:A1},C1={partial:!0,tokenize:_1};function A1(n,a,i){const o=this;let u;return d;function d(N){return n.enter("definition"),h(N)}function h(N){return xp.call(o,n,x,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(N)}function x(N){return u=Ea(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),N===58?(n.enter("definitionMarker"),n.consume(N),n.exit("definitionMarker"),p):i(N)}function p(N){return ms(N)?Dr(n,f)(N):f(N)}function f(N){return fp(n,g,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(N)}function g(N){return n.attempt(C1,y,y)(N)}function y(N){return Ke(N)?ct(n,S,"whitespace")(N):S(N)}function S(N){return N===null||ze(N)?(n.exit("definition"),o.parser.defined.push(u),a(N)):i(N)}}function _1(n,a,i){return o;function o(x){return ms(x)?Dr(n,u)(x):i(x)}function u(x){return pp(n,d,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(x)}function d(x){return Ke(x)?ct(n,h,"whitespace")(x):h(x)}function h(x){return x===null||ze(x)?a(x):i(x)}}const D1={name:"hardBreakEscape",tokenize:R1};function R1(n,a,i){return o;function o(d){return n.enter("hardBreakEscape"),n.consume(d),u}function u(d){return ze(d)?(n.exit("hardBreakEscape"),a(d)):i(d)}}const M1={name:"headingAtx",resolve:z1,tokenize:L1};function z1(n,a){let i=n.length-2,o=3,u,d;return n[o][1].type==="whitespace"&&(o+=2),i-2>o&&n[i][1].type==="whitespace"&&(i-=2),n[i][1].type==="atxHeadingSequence"&&(o===i-1||i-4>o&&n[i-2][1].type==="whitespace")&&(i-=o+1===i?2:4),i>o&&(u={type:"atxHeadingText",start:n[o][1].start,end:n[i][1].end},d={type:"chunkText",start:n[o][1].start,end:n[i][1].end,contentType:"text"},un(n,o,i-o+1,[["enter",u,a],["enter",d,a],["exit",d,a],["exit",u,a]])),n}function L1(n,a,i){let o=0;return u;function u(g){return n.enter("atxHeading"),d(g)}function d(g){return n.enter("atxHeadingSequence"),h(g)}function h(g){return g===35&&o++<6?(n.consume(g),h):g===null||ms(g)?(n.exit("atxHeadingSequence"),x(g)):i(g)}function x(g){return g===35?(n.enter("atxHeadingSequence"),p(g)):g===null||ze(g)?(n.exit("atxHeading"),a(g)):Ke(g)?ct(n,x,"whitespace")(g):(n.enter("atxHeadingText"),f(g))}function p(g){return g===35?(n.consume(g),p):(n.exit("atxHeadingSequence"),x(g))}function f(g){return g===null||g===35||ms(g)?(n.exit("atxHeadingText"),x(g)):(n.consume(g),f)}}const O1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ox=["pre","script","style","textarea"],B1={concrete:!0,name:"htmlFlow",resolveTo:q1,tokenize:$1},U1={partial:!0,tokenize:F1},H1={partial:!0,tokenize:Y1};function q1(n){let a=n.length;for(;a--&&!(n[a][0]==="enter"&&n[a][1].type==="htmlFlow"););return a>1&&n[a-2][1].type==="linePrefix"&&(n[a][1].start=n[a-2][1].start,n[a+1][1].start=n[a-2][1].start,n.splice(a-2,2)),n}function $1(n,a,i){const o=this;let u,d,h,x,p;return f;function f(v){return g(v)}function g(v){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(v),y}function y(v){return v===33?(n.consume(v),S):v===47?(n.consume(v),d=!0,E):v===63?(n.consume(v),u=3,o.interrupt?a:D):cn(v)?(n.consume(v),h=String.fromCharCode(v),U):i(v)}function S(v){return v===45?(n.consume(v),u=2,N):v===91?(n.consume(v),u=5,x=0,B):cn(v)?(n.consume(v),u=4,o.interrupt?a:D):i(v)}function N(v){return v===45?(n.consume(v),o.interrupt?a:D):i(v)}function B(v){const Y="CDATA[";return v===Y.charCodeAt(x++)?(n.consume(v),x===Y.length?o.interrupt?a:I:B):i(v)}function E(v){return cn(v)?(n.consume(v),h=String.fromCharCode(v),U):i(v)}function U(v){if(v===null||v===47||v===62||ms(v)){const Y=v===47,oe=h.toLowerCase();return!Y&&!d&&ox.includes(oe)?(u=1,o.interrupt?a(v):I(v)):O1.includes(h.toLowerCase())?(u=6,Y?(n.consume(v),k):o.interrupt?a(v):I(v)):(u=7,o.interrupt&&!o.parser.lazy[o.now().line]?i(v):d?M(v):H(v))}return v===45||ws(v)?(n.consume(v),h+=String.fromCharCode(v),U):i(v)}function k(v){return v===62?(n.consume(v),o.interrupt?a:I):i(v)}function M(v){return Ke(v)?(n.consume(v),M):G(v)}function H(v){return v===47?(n.consume(v),G):v===58||v===95||cn(v)?(n.consume(v),ne):Ke(v)?(n.consume(v),H):G(v)}function ne(v){return v===45||v===46||v===58||v===95||ws(v)?(n.consume(v),ne):be(v)}function be(v){return v===61?(n.consume(v),$):Ke(v)?(n.consume(v),be):H(v)}function $(v){return v===null||v===60||v===61||v===62||v===96?i(v):v===34||v===39?(n.consume(v),p=v,q):Ke(v)?(n.consume(v),$):fe(v)}function q(v){return v===p?(n.consume(v),p=null,me):v===null||ze(v)?i(v):(n.consume(v),q)}function fe(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||ms(v)?be(v):(n.consume(v),fe)}function me(v){return v===47||v===62||Ke(v)?H(v):i(v)}function G(v){return v===62?(n.consume(v),A):i(v)}function A(v){return v===null||ze(v)?I(v):Ke(v)?(n.consume(v),A):i(v)}function I(v){return v===45&&u===2?(n.consume(v),C):v===60&&u===1?(n.consume(v),K):v===62&&u===4?(n.consume(v),j):v===63&&u===3?(n.consume(v),D):v===93&&u===5?(n.consume(v),Ee):ze(v)&&(u===6||u===7)?(n.exit("htmlFlowData"),n.check(U1,O,le)(v)):v===null||ze(v)?(n.exit("htmlFlowData"),le(v)):(n.consume(v),I)}function le(v){return n.check(H1,re,O)(v)}function re(v){return n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),ce}function ce(v){return v===null||ze(v)?le(v):(n.enter("htmlFlowData"),I(v))}function C(v){return v===45?(n.consume(v),D):I(v)}function K(v){return v===47?(n.consume(v),h="",ye):I(v)}function ye(v){if(v===62){const Y=h.toLowerCase();return ox.includes(Y)?(n.consume(v),j):I(v)}return cn(v)&&h.length<8?(n.consume(v),h+=String.fromCharCode(v),ye):I(v)}function Ee(v){return v===93?(n.consume(v),D):I(v)}function D(v){return v===62?(n.consume(v),j):v===45&&u===2?(n.consume(v),D):I(v)}function j(v){return v===null||ze(v)?(n.exit("htmlFlowData"),O(v)):(n.consume(v),j)}function O(v){return n.exit("htmlFlow"),a(v)}}function Y1(n,a,i){const o=this;return u;function u(h){return ze(h)?(n.enter("lineEnding"),n.consume(h),n.exit("lineEnding"),d):i(h)}function d(h){return o.parser.lazy[o.now().line]?i(h):a(h)}}function F1(n,a,i){return o;function o(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),n.attempt(po,a,i)}}const G1={name:"htmlText",tokenize:V1};function V1(n,a,i){const o=this;let u,d,h;return x;function x(D){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(D),p}function p(D){return D===33?(n.consume(D),f):D===47?(n.consume(D),be):D===63?(n.consume(D),H):cn(D)?(n.consume(D),fe):i(D)}function f(D){return D===45?(n.consume(D),g):D===91?(n.consume(D),d=0,B):cn(D)?(n.consume(D),M):i(D)}function g(D){return D===45?(n.consume(D),N):i(D)}function y(D){return D===null?i(D):D===45?(n.consume(D),S):ze(D)?(h=y,K(D)):(n.consume(D),y)}function S(D){return D===45?(n.consume(D),N):y(D)}function N(D){return D===62?C(D):D===45?S(D):y(D)}function B(D){const j="CDATA[";return D===j.charCodeAt(d++)?(n.consume(D),d===j.length?E:B):i(D)}function E(D){return D===null?i(D):D===93?(n.consume(D),U):ze(D)?(h=E,K(D)):(n.consume(D),E)}function U(D){return D===93?(n.consume(D),k):E(D)}function k(D){return D===62?C(D):D===93?(n.consume(D),k):E(D)}function M(D){return D===null||D===62?C(D):ze(D)?(h=M,K(D)):(n.consume(D),M)}function H(D){return D===null?i(D):D===63?(n.consume(D),ne):ze(D)?(h=H,K(D)):(n.consume(D),H)}function ne(D){return D===62?C(D):H(D)}function be(D){return cn(D)?(n.consume(D),$):i(D)}function $(D){return D===45||ws(D)?(n.consume(D),$):q(D)}function q(D){return ze(D)?(h=q,K(D)):Ke(D)?(n.consume(D),q):C(D)}function fe(D){return D===45||ws(D)?(n.consume(D),fe):D===47||D===62||ms(D)?me(D):i(D)}function me(D){return D===47?(n.consume(D),C):D===58||D===95||cn(D)?(n.consume(D),G):ze(D)?(h=me,K(D)):Ke(D)?(n.consume(D),me):C(D)}function G(D){return D===45||D===46||D===58||D===95||ws(D)?(n.consume(D),G):A(D)}function A(D){return D===61?(n.consume(D),I):ze(D)?(h=A,K(D)):Ke(D)?(n.consume(D),A):me(D)}function I(D){return D===null||D===60||D===61||D===62||D===96?i(D):D===34||D===39?(n.consume(D),u=D,le):ze(D)?(h=I,K(D)):Ke(D)?(n.consume(D),I):(n.consume(D),re)}function le(D){return D===u?(n.consume(D),u=void 0,ce):D===null?i(D):ze(D)?(h=le,K(D)):(n.consume(D),le)}function re(D){return D===null||D===34||D===39||D===60||D===61||D===96?i(D):D===47||D===62||ms(D)?me(D):(n.consume(D),re)}function ce(D){return D===47||D===62||ms(D)?me(D):i(D)}function C(D){return D===62?(n.consume(D),n.exit("htmlTextData"),n.exit("htmlText"),a):i(D)}function K(D){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(D),n.exit("lineEnding"),ye}function ye(D){return Ke(D)?ct(n,Ee,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):Ee(D)}function Ee(D){return n.enter("htmlTextData"),h(D)}}const Cd={name:"labelEnd",resolveAll:X1,resolveTo:Z1,tokenize:J1},P1={tokenize:K1},I1={tokenize:W1},Q1={tokenize:eN};function X1(n){let a=-1;const i=[];for(;++a<n.length;){const o=n[a][1];if(i.push(n[a]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const u=o.type==="labelImage"?4:2;o.type="data",a+=u}}return n.length!==i.length&&un(n,0,n.length,i),n}function Z1(n,a){let i=n.length,o=0,u,d,h,x;for(;i--;)if(u=n[i][1],d){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;n[i][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(h){if(n[i][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(d=i,u.type!=="labelLink")){o=2;break}}else u.type==="labelEnd"&&(h=i);const p={type:n[d][1].type==="labelLink"?"link":"image",start:{...n[d][1].start},end:{...n[n.length-1][1].end}},f={type:"label",start:{...n[d][1].start},end:{...n[h][1].end}},g={type:"labelText",start:{...n[d+o+2][1].end},end:{...n[h-2][1].start}};return x=[["enter",p,a],["enter",f,a]],x=Fs(x,n.slice(d+1,d+o+3)),x=Fs(x,[["enter",g,a]]),x=Fs(x,Ed(a.parser.constructs.insideSpan.null,n.slice(d+o+4,h-3),a)),x=Fs(x,[["exit",g,a],n[h-2],n[h-1],["exit",f,a]]),x=Fs(x,n.slice(h+1)),x=Fs(x,[["exit",p,a]]),un(n,d,n.length,x),n}function J1(n,a,i){const o=this;let u=o.events.length,d,h;for(;u--;)if((o.events[u][1].type==="labelImage"||o.events[u][1].type==="labelLink")&&!o.events[u][1]._balanced){d=o.events[u][1];break}return x;function x(S){return d?d._inactive?y(S):(h=o.parser.defined.includes(Ea(o.sliceSerialize({start:d.end,end:o.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(S),n.exit("labelMarker"),n.exit("labelEnd"),p):i(S)}function p(S){return S===40?n.attempt(P1,g,h?g:y)(S):S===91?n.attempt(I1,g,h?f:y)(S):h?g(S):y(S)}function f(S){return n.attempt(Q1,g,y)(S)}function g(S){return a(S)}function y(S){return d._balanced=!0,i(S)}}function K1(n,a,i){return o;function o(y){return n.enter("resource"),n.enter("resourceMarker"),n.consume(y),n.exit("resourceMarker"),u}function u(y){return ms(y)?Dr(n,d)(y):d(y)}function d(y){return y===41?g(y):fp(n,h,x,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function h(y){return ms(y)?Dr(n,p)(y):g(y)}function x(y){return i(y)}function p(y){return y===34||y===39||y===40?pp(n,f,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function f(y){return ms(y)?Dr(n,g)(y):g(y)}function g(y){return y===41?(n.enter("resourceMarker"),n.consume(y),n.exit("resourceMarker"),n.exit("resource"),a):i(y)}}function W1(n,a,i){const o=this;return u;function u(x){return xp.call(o,n,d,h,"reference","referenceMarker","referenceString")(x)}function d(x){return o.parser.defined.includes(Ea(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?a(x):i(x)}function h(x){return i(x)}}function eN(n,a,i){return o;function o(d){return n.enter("reference"),n.enter("referenceMarker"),n.consume(d),n.exit("referenceMarker"),u}function u(d){return d===93?(n.enter("referenceMarker"),n.consume(d),n.exit("referenceMarker"),n.exit("reference"),a):i(d)}}const tN={name:"labelStartImage",resolveAll:Cd.resolveAll,tokenize:sN};function sN(n,a,i){const o=this;return u;function u(x){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(x),n.exit("labelImageMarker"),d}function d(x){return x===91?(n.enter("labelMarker"),n.consume(x),n.exit("labelMarker"),n.exit("labelImage"),h):i(x)}function h(x){return x===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(x):a(x)}}const nN={name:"labelStartLink",resolveAll:Cd.resolveAll,tokenize:lN};function lN(n,a,i){const o=this;return u;function u(h){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(h),n.exit("labelMarker"),n.exit("labelLink"),d}function d(h){return h===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(h):a(h)}}const Hu={name:"lineEnding",tokenize:aN};function aN(n,a){return i;function i(o){return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),ct(n,a,"linePrefix")}}const ro={name:"thematicBreak",tokenize:rN};function rN(n,a,i){let o=0,u;return d;function d(f){return n.enter("thematicBreak"),h(f)}function h(f){return u=f,x(f)}function x(f){return f===u?(n.enter("thematicBreakSequence"),p(f)):o>=3&&(f===null||ze(f))?(n.exit("thematicBreak"),a(f)):i(f)}function p(f){return f===u?(n.consume(f),o++,p):(n.exit("thematicBreakSequence"),Ke(f)?ct(n,x,"whitespace")(f):x(f))}}const ds={continuation:{tokenize:uN},exit:mN,name:"list",tokenize:cN},iN={partial:!0,tokenize:hN},oN={partial:!0,tokenize:dN};function cN(n,a,i){const o=this,u=o.events[o.events.length-1];let d=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,h=0;return x;function x(N){const B=o.containerState.type||(N===42||N===43||N===45?"listUnordered":"listOrdered");if(B==="listUnordered"?!o.containerState.marker||N===o.containerState.marker:ad(N)){if(o.containerState.type||(o.containerState.type=B,n.enter(B,{_container:!0})),B==="listUnordered")return n.enter("listItemPrefix"),N===42||N===45?n.check(ro,i,f)(N):f(N);if(!o.interrupt||N===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(N)}return i(N)}function p(N){return ad(N)&&++h<10?(n.consume(N),p):(!o.interrupt||h<2)&&(o.containerState.marker?N===o.containerState.marker:N===41||N===46)?(n.exit("listItemValue"),f(N)):i(N)}function f(N){return n.enter("listItemMarker"),n.consume(N),n.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||N,n.check(po,o.interrupt?i:g,n.attempt(iN,S,y))}function g(N){return o.containerState.initialBlankLine=!0,d++,S(N)}function y(N){return Ke(N)?(n.enter("listItemPrefixWhitespace"),n.consume(N),n.exit("listItemPrefixWhitespace"),S):i(N)}function S(N){return o.containerState.size=d+o.sliceSerialize(n.exit("listItemPrefix"),!0).length,a(N)}}function uN(n,a,i){const o=this;return o.containerState._closeFlow=void 0,n.check(po,u,d);function u(x){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,ct(n,a,"listItemIndent",o.containerState.size+1)(x)}function d(x){return o.containerState.furtherBlankLines||!Ke(x)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,h(x)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,n.attempt(oN,a,h)(x))}function h(x){return o.containerState._closeFlow=!0,o.interrupt=void 0,ct(n,n.attempt(ds,a,i),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x)}}function dN(n,a,i){const o=this;return ct(n,u,"listItemIndent",o.containerState.size+1);function u(d){const h=o.events[o.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===o.containerState.size?a(d):i(d)}}function mN(n){n.exit(this.containerState.type)}function hN(n,a,i){const o=this;return ct(n,u,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(d){const h=o.events[o.events.length-1];return!Ke(d)&&h&&h[1].type==="listItemPrefixWhitespace"?a(d):i(d)}}const cx={name:"setextUnderline",resolveTo:fN,tokenize:xN};function fN(n,a){let i=n.length,o,u,d;for(;i--;)if(n[i][0]==="enter"){if(n[i][1].type==="content"){o=i;break}n[i][1].type==="paragraph"&&(u=i)}else n[i][1].type==="content"&&n.splice(i,1),!d&&n[i][1].type==="definition"&&(d=i);const h={type:"setextHeading",start:{...n[o][1].start},end:{...n[n.length-1][1].end}};return n[u][1].type="setextHeadingText",d?(n.splice(u,0,["enter",h,a]),n.splice(d+1,0,["exit",n[o][1],a]),n[o][1].end={...n[d][1].end}):n[o][1]=h,n.push(["exit",h,a]),n}function xN(n,a,i){const o=this;let u;return d;function d(f){let g=o.events.length,y;for(;g--;)if(o.events[g][1].type!=="lineEnding"&&o.events[g][1].type!=="linePrefix"&&o.events[g][1].type!=="content"){y=o.events[g][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||y)?(n.enter("setextHeadingLine"),u=f,h(f)):i(f)}function h(f){return n.enter("setextHeadingLineSequence"),x(f)}function x(f){return f===u?(n.consume(f),x):(n.exit("setextHeadingLineSequence"),Ke(f)?ct(n,p,"lineSuffix")(f):p(f))}function p(f){return f===null||ze(f)?(n.exit("setextHeadingLine"),a(f)):i(f)}}const pN={tokenize:gN};function gN(n){const a=this,i=n.attempt(po,o,n.attempt(this.parser.constructs.flowInitial,u,ct(n,n.attempt(this.parser.constructs.flow,u,n.attempt(N1,u)),"linePrefix")));return i;function o(d){if(d===null){n.consume(d);return}return n.enter("lineEndingBlank"),n.consume(d),n.exit("lineEndingBlank"),a.currentConstruct=void 0,i}function u(d){if(d===null){n.consume(d);return}return n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),a.currentConstruct=void 0,i}}const bN={resolveAll:bp()},yN=gp("string"),vN=gp("text");function gp(n){return{resolveAll:bp(n==="text"?jN:void 0),tokenize:a};function a(i){const o=this,u=this.parser.constructs[n],d=i.attempt(u,h,x);return h;function h(g){return f(g)?d(g):x(g)}function x(g){if(g===null){i.consume(g);return}return i.enter("data"),i.consume(g),p}function p(g){return f(g)?(i.exit("data"),d(g)):(i.consume(g),p)}function f(g){if(g===null)return!0;const y=u[g];let S=-1;if(y)for(;++S<y.length;){const N=y[S];if(!N.previous||N.previous.call(o,o.previous))return!0}return!1}}}function bp(n){return a;function a(i,o){let u=-1,d;for(;++u<=i.length;)d===void 0?i[u]&&i[u][1].type==="data"&&(d=u,u++):(!i[u]||i[u][1].type!=="data")&&(u!==d+2&&(i[d][1].end=i[u-1][1].end,i.splice(d+2,u-d-2),u=d+2),d=void 0);return n?n(i,o):i}}function jN(n,a){let i=0;for(;++i<=n.length;)if((i===n.length||n[i][1].type==="lineEnding")&&n[i-1][1].type==="data"){const o=n[i-1][1],u=a.sliceStream(o);let d=u.length,h=-1,x=0,p;for(;d--;){const f=u[d];if(typeof f=="string"){for(h=f.length;f.charCodeAt(h-1)===32;)x++,h--;if(h)break;h=-1}else if(f===-2)p=!0,x++;else if(f!==-1){d++;break}}if(a._contentTypeTextTrailing&&i===n.length&&(x=0),x){const f={type:i===n.length||p||x<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:d?h:o.start._bufferIndex+h,_index:o.start._index+d,line:o.end.line,column:o.end.column-x,offset:o.end.offset-x},end:{...o.end}};o.end={...f.start},o.start.offset===o.end.offset?Object.assign(o,f):(n.splice(i,0,["enter",f,a],["exit",f,a]),i+=2)}i++}return n}const NN={42:ds,43:ds,45:ds,48:ds,49:ds,50:ds,51:ds,52:ds,53:ds,54:ds,55:ds,56:ds,57:ds,62:up},wN={91:E1},SN={[-2]:Uu,[-1]:Uu,32:Uu},TN={35:M1,42:ro,45:[cx,ro],60:B1,61:cx,95:ro,96:ix,126:ix},kN={38:mp,92:dp},EN={[-5]:Hu,[-4]:Hu,[-3]:Hu,33:tN,38:mp,42:rd,60:[n1,G1],91:nN,92:[D1,dp],93:Cd,95:rd,96:p1},CN={null:[rd,bN]},AN={null:[42,95]},_N={null:[]},DN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:AN,contentInitial:wN,disable:_N,document:NN,flow:TN,flowInitial:SN,insideSpan:CN,string:kN,text:EN},Symbol.toStringTag,{value:"Module"}));function RN(n,a,i){let o={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const u={},d=[];let h=[],x=[];const p={attempt:q(be),check:q($),consume:M,enter:H,exit:ne,interrupt:q($,{interrupt:!0})},f={code:null,containerState:{},defineSkip:E,events:[],now:B,parser:n,previous:null,sliceSerialize:S,sliceStream:N,write:y};let g=a.tokenize.call(f,p);return a.resolveAll&&d.push(a),f;function y(A){return h=Fs(h,A),U(),h[h.length-1]!==null?[]:(fe(a,0),f.events=Ed(d,f.events,f),f.events)}function S(A,I){return zN(N(A),I)}function N(A){return MN(h,A)}function B(){const{_bufferIndex:A,_index:I,line:le,column:re,offset:ce}=o;return{_bufferIndex:A,_index:I,line:le,column:re,offset:ce}}function E(A){u[A.line]=A.column,G()}function U(){let A;for(;o._index<h.length;){const I=h[o._index];if(typeof I=="string")for(A=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===A&&o._bufferIndex<I.length;)k(I.charCodeAt(o._bufferIndex));else k(I)}}function k(A){g=g(A)}function M(A){ze(A)?(o.line++,o.column=1,o.offset+=A===-3?2:1,G()):A!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===h[o._index].length&&(o._bufferIndex=-1,o._index++)),f.previous=A}function H(A,I){const le=I||{};return le.type=A,le.start=B(),f.events.push(["enter",le,f]),x.push(le),le}function ne(A){const I=x.pop();return I.end=B(),f.events.push(["exit",I,f]),I}function be(A,I){fe(A,I.from)}function $(A,I){I.restore()}function q(A,I){return le;function le(re,ce,C){let K,ye,Ee,D;return Array.isArray(re)?O(re):"tokenize"in re?O([re]):j(re);function j(he){return Se;function Se(De){const Ae=De!==null&&he[De],yt=De!==null&&he.null,vt=[...Array.isArray(Ae)?Ae:Ae?[Ae]:[],...Array.isArray(yt)?yt:yt?[yt]:[]];return O(vt)(De)}}function O(he){return K=he,ye=0,he.length===0?C:v(he[ye])}function v(he){return Se;function Se(De){return D=me(),Ee=he,he.partial||(f.currentConstruct=he),he.name&&f.parser.constructs.disable.null.includes(he.name)?oe():he.tokenize.call(I?Object.assign(Object.create(f),I):f,p,Y,oe)(De)}}function Y(he){return A(Ee,D),ce}function oe(he){return D.restore(),++ye<K.length?v(K[ye]):C}}}function fe(A,I){A.resolveAll&&!d.includes(A)&&d.push(A),A.resolve&&un(f.events,I,f.events.length-I,A.resolve(f.events.slice(I),f)),A.resolveTo&&(f.events=A.resolveTo(f.events,f))}function me(){const A=B(),I=f.previous,le=f.currentConstruct,re=f.events.length,ce=Array.from(x);return{from:re,restore:C};function C(){o=A,f.previous=I,f.currentConstruct=le,f.events.length=re,x=ce,G()}}function G(){o.line in u&&o.column<2&&(o.column=u[o.line],o.offset+=u[o.line]-1)}}function MN(n,a){const i=a.start._index,o=a.start._bufferIndex,u=a.end._index,d=a.end._bufferIndex;let h;if(i===u)h=[n[i].slice(o,d)];else{if(h=n.slice(i,u),o>-1){const x=h[0];typeof x=="string"?h[0]=x.slice(o):h.shift()}d>0&&h.push(n[u].slice(0,d))}return h}function zN(n,a){let i=-1;const o=[];let u;for(;++i<n.length;){const d=n[i];let h;if(typeof d=="string")h=d;else switch(d){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=a?" ":"	";break}case-1:{if(!a&&u)continue;h=" ";break}default:h=String.fromCharCode(d)}u=d===-2,o.push(h)}return o.join("")}function LN(n){const o={constructs:Yj([DN,...(n||{}).extensions||[]]),content:u(Zj),defined:[],document:u(Kj),flow:u(pN),lazy:{},string:u(yN),text:u(vN)};return o;function u(d){return h;function h(x){return RN(o,d,x)}}}function ON(n){for(;!hp(n););return n}const ux=/[\0\t\n\r]/g;function BN(){let n=1,a="",i=!0,o;return u;function u(d,h,x){const p=[];let f,g,y,S,N;for(d=a+(typeof d=="string"?d.toString():new TextDecoder(h||void 0).decode(d)),y=0,a="",i&&(d.charCodeAt(0)===65279&&y++,i=void 0);y<d.length;){if(ux.lastIndex=y,f=ux.exec(d),S=f&&f.index!==void 0?f.index:d.length,N=d.charCodeAt(S),!f){a=d.slice(y);break}if(N===10&&y===S&&o)p.push(-3),o=void 0;else switch(o&&(p.push(-5),o=void 0),y<S&&(p.push(d.slice(y,S)),n+=S-y),N){case 0:{p.push(65533),n++;break}case 9:{for(g=Math.ceil(n/4)*4,p.push(-2);n++<g;)p.push(-1);break}case 10:{p.push(-4),n=1;break}default:o=!0,n=1}y=S+1}return x&&(o&&p.push(-5),a&&p.push(a),p.push(null)),p}}const UN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function HN(n){return n.replace(UN,qN)}function qN(n,a,i){if(a)return a;if(i.charCodeAt(0)===35){const u=i.charCodeAt(1),d=u===120||u===88;return cp(i.slice(d?2:1),d?16:10)}return kd(i)||n}const yp={}.hasOwnProperty;function $N(n,a,i){return typeof a!="string"&&(i=a,a=void 0),YN(i)(ON(LN(i).document().write(BN()(n,a,!0))))}function YN(n){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(ks),autolinkProtocol:me,autolinkEmail:me,atxHeading:d(Et),blockQuote:d(yt),characterEscape:me,characterReference:me,codeFenced:d(vt),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:d(vt,h),codeText:d(ns,h),codeTextData:me,data:me,codeFlowValue:me,definition:d(kt),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:d($t),hardBreakEscape:d(ls),hardBreakTrailing:d(ls),htmlFlow:d(Zs,h),htmlFlowData:me,htmlText:d(Zs,h),htmlTextData:me,image:d(dn),label:h,link:d(ks),listItem:d(es),listItemValue:S,listOrdered:d(ft,y),listUnordered:d(ft),paragraph:d(mn),reference:v,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:d(Et),strong:d(Ot),thematicBreak:d($n)},exit:{atxHeading:p(),atxHeadingSequence:be,autolink:p(),autolinkEmail:Ae,autolinkProtocol:De,blockQuote:p(),characterEscapeValue:G,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:he,characterReference:Se,codeFenced:p(U),codeFencedFence:E,codeFencedFenceInfo:N,codeFencedFenceMeta:B,codeFlowValue:G,codeIndented:p(k),codeText:p(ce),codeTextData:G,data:G,definition:p(),definitionDestinationString:ne,definitionLabelString:M,definitionTitleString:H,emphasis:p(),hardBreakEscape:p(I),hardBreakTrailing:p(I),htmlFlow:p(le),htmlFlowData:G,htmlText:p(re),htmlTextData:G,image:p(K),label:Ee,labelText:ye,lineEnding:A,link:p(C),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:Y,resourceDestinationString:D,resourceTitleString:j,resource:O,setextHeading:p(fe),setextHeadingLineSequence:q,setextHeadingText:$,strong:p(),thematicBreak:p()}};vp(a,(n||{}).mdastExtensions||[]);const i={};return o;function o(ee){let xe={type:"root",children:[]};const Ce={stack:[xe],tokenStack:[],config:a,enter:x,exit:f,buffer:h,resume:g,data:i},Me=[];let Re=-1;for(;++Re<ee.length;)if(ee[Re][1].type==="listOrdered"||ee[Re][1].type==="listUnordered")if(ee[Re][0]==="enter")Me.push(Re);else{const Vt=Me.pop();Re=u(ee,Vt,Re)}for(Re=-1;++Re<ee.length;){const Vt=a[ee[Re][0]];yp.call(Vt,ee[Re][1].type)&&Vt[ee[Re][1].type].call(Object.assign({sliceSerialize:ee[Re][2].sliceSerialize},Ce),ee[Re][1])}if(Ce.tokenStack.length>0){const Vt=Ce.tokenStack[Ce.tokenStack.length-1];(Vt[1]||dx).call(Ce,void 0,Vt[0])}for(xe.position={start:fl(ee.length>0?ee[0][1].start:{line:1,column:1,offset:0}),end:fl(ee.length>0?ee[ee.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<a.transforms.length;)xe=a.transforms[Re](xe)||xe;return xe}function u(ee,xe,Ce){let Me=xe-1,Re=-1,Vt=!1,Es,At,ut,_t;for(;++Me<=Ce;){const Ie=ee[Me];switch(Ie[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ie[0]==="enter"?Re++:Re--,_t=void 0;break}case"lineEndingBlank":{Ie[0]==="enter"&&(Es&&!_t&&!Re&&!ut&&(ut=Me),_t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:_t=void 0}if(!Re&&Ie[0]==="enter"&&Ie[1].type==="listItemPrefix"||Re===-1&&Ie[0]==="exit"&&(Ie[1].type==="listUnordered"||Ie[1].type==="listOrdered")){if(Es){let Cs=Me;for(At=void 0;Cs--;){const Jt=ee[Cs];if(Jt[1].type==="lineEnding"||Jt[1].type==="lineEndingBlank"){if(Jt[0]==="exit")continue;At&&(ee[At][1].type="lineEndingBlank",Vt=!0),Jt[1].type="lineEnding",At=Cs}else if(!(Jt[1].type==="linePrefix"||Jt[1].type==="blockQuotePrefix"||Jt[1].type==="blockQuotePrefixWhitespace"||Jt[1].type==="blockQuoteMarker"||Jt[1].type==="listItemIndent"))break}ut&&(!At||ut<At)&&(Es._spread=!0),Es.end=Object.assign({},At?ee[At][1].start:Ie[1].end),ee.splice(At||Me,0,["exit",Es,Ie[2]]),Me++,Ce++}if(Ie[1].type==="listItemPrefix"){const Cs={type:"listItem",_spread:!1,start:Object.assign({},Ie[1].start),end:void 0};Es=Cs,ee.splice(Me,0,["enter",Cs,Ie[2]]),Me++,Ce++,ut=void 0,_t=!0}}}return ee[xe][1]._spread=Vt,Ce}function d(ee,xe){return Ce;function Ce(Me){x.call(this,ee(Me),Me),xe&&xe.call(this,Me)}}function h(){this.stack.push({type:"fragment",children:[]})}function x(ee,xe,Ce){this.stack[this.stack.length-1].children.push(ee),this.stack.push(ee),this.tokenStack.push([xe,Ce||void 0]),ee.position={start:fl(xe.start),end:void 0}}function p(ee){return xe;function xe(Ce){ee&&ee.call(this,Ce),f.call(this,Ce)}}function f(ee,xe){const Ce=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==ee.type&&(xe?xe.call(this,ee,Me[0]):(Me[1]||dx).call(this,ee,Me[0]));else throw new Error("Cannot close `"+ee.type+"` ("+_r({start:ee.start,end:ee.end})+"): its not open");Ce.position.end=fl(ee.end)}function g(){return qj(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function S(ee){if(this.data.expectingFirstListItemValue){const xe=this.stack[this.stack.length-2];xe.start=Number.parseInt(this.sliceSerialize(ee),10),this.data.expectingFirstListItemValue=void 0}}function N(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.lang=ee}function B(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.meta=ee}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function U(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ee.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ee.replace(/(\r?\n|\r)$/g,"")}function M(ee){const xe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=xe,Ce.identifier=Ea(this.sliceSerialize(ee)).toLowerCase()}function H(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ee}function ne(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ee}function be(ee){const xe=this.stack[this.stack.length-1];if(!xe.depth){const Ce=this.sliceSerialize(ee).length;xe.depth=Ce}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function q(ee){const xe=this.stack[this.stack.length-1];xe.depth=this.sliceSerialize(ee).codePointAt(0)===61?1:2}function fe(){this.data.setextHeadingSlurpLineEnding=void 0}function me(ee){const Ce=this.stack[this.stack.length-1].children;let Me=Ce[Ce.length-1];(!Me||Me.type!=="text")&&(Me=Ct(),Me.position={start:fl(ee.start),end:void 0},Ce.push(Me)),this.stack.push(Me)}function G(ee){const xe=this.stack.pop();xe.value+=this.sliceSerialize(ee),xe.position.end=fl(ee.end)}function A(ee){const xe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=xe.children[xe.children.length-1];Ce.position.end=fl(ee.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&a.canContainEols.includes(xe.type)&&(me.call(this,ee),G.call(this,ee))}function I(){this.data.atHardBreak=!0}function le(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ee}function re(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ee}function ce(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ee}function C(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=xe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function K(){const ee=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ee.type+="Reference",ee.referenceType=xe,delete ee.url,delete ee.title}else delete ee.identifier,delete ee.label;this.data.referenceType=void 0}function ye(ee){const xe=this.sliceSerialize(ee),Ce=this.stack[this.stack.length-2];Ce.label=HN(xe),Ce.identifier=Ea(xe).toLowerCase()}function Ee(){const ee=this.stack[this.stack.length-1],xe=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Me=ee.children;Ce.children=Me}else Ce.alt=xe}function D(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ee}function j(){const ee=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ee}function O(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function Y(ee){const xe=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=xe,Ce.identifier=Ea(this.sliceSerialize(ee)).toLowerCase(),this.data.referenceType="full"}function oe(ee){this.data.characterReferenceType=ee.type}function he(ee){const xe=this.sliceSerialize(ee),Ce=this.data.characterReferenceType;let Me;Ce?(Me=cp(xe,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=kd(xe);const Re=this.stack[this.stack.length-1];Re.value+=Me}function Se(ee){const xe=this.stack.pop();xe.position.end=fl(ee.end)}function De(ee){G.call(this,ee);const xe=this.stack[this.stack.length-1];xe.url=this.sliceSerialize(ee)}function Ae(ee){G.call(this,ee);const xe=this.stack[this.stack.length-1];xe.url="mailto:"+this.sliceSerialize(ee)}function yt(){return{type:"blockquote",children:[]}}function vt(){return{type:"code",lang:null,meta:null,value:""}}function ns(){return{type:"inlineCode",value:""}}function kt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $t(){return{type:"emphasis",children:[]}}function Et(){return{type:"heading",depth:0,children:[]}}function ls(){return{type:"break"}}function Zs(){return{type:"html",value:""}}function dn(){return{type:"image",title:null,url:"",alt:null}}function ks(){return{type:"link",title:null,url:"",children:[]}}function ft(ee){return{type:"list",ordered:ee.type==="listOrdered",start:null,spread:ee._spread,children:[]}}function es(ee){return{type:"listItem",spread:ee._spread,checked:null,children:[]}}function mn(){return{type:"paragraph",children:[]}}function Ot(){return{type:"strong",children:[]}}function Ct(){return{type:"text",value:""}}function $n(){return{type:"thematicBreak"}}}function fl(n){return{line:n.line,column:n.column,offset:n.offset}}function vp(n,a){let i=-1;for(;++i<a.length;){const o=a[i];Array.isArray(o)?vp(n,o):FN(n,o)}}function FN(n,a){let i;for(i in a)if(yp.call(a,i))switch(i){case"canContainEols":{const o=a[i];o&&n[i].push(...o);break}case"transforms":{const o=a[i];o&&n[i].push(...o);break}case"enter":case"exit":{const o=a[i];o&&Object.assign(n[i],o);break}}}function dx(n,a){throw n?new Error("Cannot close `"+n.type+"` ("+_r({start:n.start,end:n.end})+"): a different token (`"+a.type+"`, "+_r({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+_r({start:a.start,end:a.end})+") is still open")}function GN(n){const a=this;a.parser=i;function i(o){return $N(o,{...a.data("settings"),...n,extensions:a.data("micromarkExtensions")||[],mdastExtensions:a.data("fromMarkdownExtensions")||[]})}}function VN(n,a){const i={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(a),!0)};return n.patch(a,i),n.applyData(a,i)}function PN(n,a){const i={type:"element",tagName:"br",properties:{},children:[]};return n.patch(a,i),[n.applyData(a,i),{type:"text",value:`
`}]}function IN(n,a){const i=a.value?a.value+`
`:"",o={},u=a.lang?a.lang.split(/\s+/):[];u.length>0&&(o.className=["language-"+u[0]]);let d={type:"element",tagName:"code",properties:o,children:[{type:"text",value:i}]};return a.meta&&(d.data={meta:a.meta}),n.patch(a,d),d=n.applyData(a,d),d={type:"element",tagName:"pre",properties:{},children:[d]},n.patch(a,d),d}function QN(n,a){const i={type:"element",tagName:"del",properties:{},children:n.all(a)};return n.patch(a,i),n.applyData(a,i)}function XN(n,a){const i={type:"element",tagName:"em",properties:{},children:n.all(a)};return n.patch(a,i),n.applyData(a,i)}function ZN(n,a){const i=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",o=String(a.identifier).toUpperCase(),u=Ra(o.toLowerCase()),d=n.footnoteOrder.indexOf(o);let h,x=n.footnoteCounts.get(o);x===void 0?(x=0,n.footnoteOrder.push(o),h=n.footnoteOrder.length):h=d+1,x+=1,n.footnoteCounts.set(o,x);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+u,id:i+"fnref-"+u+(x>1?"-"+x:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(h)}]};n.patch(a,p);const f={type:"element",tagName:"sup",properties:{},children:[p]};return n.patch(a,f),n.applyData(a,f)}function JN(n,a){const i={type:"element",tagName:"h"+a.depth,properties:{},children:n.all(a)};return n.patch(a,i),n.applyData(a,i)}function KN(n,a){if(n.options.allowDangerousHtml){const i={type:"raw",value:a.value};return n.patch(a,i),n.applyData(a,i)}}function jp(n,a){const i=a.referenceType;let o="]";if(i==="collapsed"?o+="[]":i==="full"&&(o+="["+(a.label||a.identifier)+"]"),a.type==="imageReference")return[{type:"text",value:"!["+a.alt+o}];const u=n.all(a),d=u[0];d&&d.type==="text"?d.value="["+d.value:u.unshift({type:"text",value:"["});const h=u[u.length-1];return h&&h.type==="text"?h.value+=o:u.push({type:"text",value:o}),u}function WN(n,a){const i=String(a.identifier).toUpperCase(),o=n.definitionById.get(i);if(!o)return jp(n,a);const u={src:Ra(o.url||""),alt:a.alt};o.title!==null&&o.title!==void 0&&(u.title=o.title);const d={type:"element",tagName:"img",properties:u,children:[]};return n.patch(a,d),n.applyData(a,d)}function e2(n,a){const i={src:Ra(a.url)};a.alt!==null&&a.alt!==void 0&&(i.alt=a.alt),a.title!==null&&a.title!==void 0&&(i.title=a.title);const o={type:"element",tagName:"img",properties:i,children:[]};return n.patch(a,o),n.applyData(a,o)}function t2(n,a){const i={type:"text",value:a.value.replace(/\r?\n|\r/g," ")};n.patch(a,i);const o={type:"element",tagName:"code",properties:{},children:[i]};return n.patch(a,o),n.applyData(a,o)}function s2(n,a){const i=String(a.identifier).toUpperCase(),o=n.definitionById.get(i);if(!o)return jp(n,a);const u={href:Ra(o.url||"")};o.title!==null&&o.title!==void 0&&(u.title=o.title);const d={type:"element",tagName:"a",properties:u,children:n.all(a)};return n.patch(a,d),n.applyData(a,d)}function n2(n,a){const i={href:Ra(a.url)};a.title!==null&&a.title!==void 0&&(i.title=a.title);const o={type:"element",tagName:"a",properties:i,children:n.all(a)};return n.patch(a,o),n.applyData(a,o)}function l2(n,a,i){const o=n.all(a),u=i?a2(i):Np(a),d={},h=[];if(typeof a.checked=="boolean"){const g=o[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},o.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:a.checked,disabled:!0},children:[]}),d.className=["task-list-item"]}let x=-1;for(;++x<o.length;){const g=o[x];(u||x!==0||g.type!=="element"||g.tagName!=="p")&&h.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!u?h.push(...g.children):h.push(g)}const p=o[o.length-1];p&&(u||p.type!=="element"||p.tagName!=="p")&&h.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:d,children:h};return n.patch(a,f),n.applyData(a,f)}function a2(n){let a=!1;if(n.type==="list"){a=n.spread||!1;const i=n.children;let o=-1;for(;!a&&++o<i.length;)a=Np(i[o])}return a}function Np(n){const a=n.spread;return a??n.children.length>1}function r2(n,a){const i={},o=n.all(a);let u=-1;for(typeof a.start=="number"&&a.start!==1&&(i.start=a.start);++u<o.length;){const h=o[u];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const d={type:"element",tagName:a.ordered?"ol":"ul",properties:i,children:n.wrap(o,!0)};return n.patch(a,d),n.applyData(a,d)}function i2(n,a){const i={type:"element",tagName:"p",properties:{},children:n.all(a)};return n.patch(a,i),n.applyData(a,i)}function o2(n,a){const i={type:"root",children:n.wrap(n.all(a))};return n.patch(a,i),n.applyData(a,i)}function c2(n,a){const i={type:"element",tagName:"strong",properties:{},children:n.all(a)};return n.patch(a,i),n.applyData(a,i)}function u2(n,a){const i=n.all(a),o=i.shift(),u=[];if(o){const h={type:"element",tagName:"thead",properties:{},children:n.wrap([o],!0)};n.patch(a.children[0],h),u.push(h)}if(i.length>0){const h={type:"element",tagName:"tbody",properties:{},children:n.wrap(i,!0)},x=Nd(a.children[1]),p=sp(a.children[a.children.length-1]);x&&p&&(h.position={start:x,end:p}),u.push(h)}const d={type:"element",tagName:"table",properties:{},children:n.wrap(u,!0)};return n.patch(a,d),n.applyData(a,d)}function d2(n,a,i){const o=i?i.children:void 0,d=(o?o.indexOf(a):1)===0?"th":"td",h=i&&i.type==="table"?i.align:void 0,x=h?h.length:a.children.length;let p=-1;const f=[];for(;++p<x;){const y=a.children[p],S={},N=h?h[p]:void 0;N&&(S.align=N);let B={type:"element",tagName:d,properties:S,children:[]};y&&(B.children=n.all(y),n.patch(y,B),B=n.applyData(y,B)),f.push(B)}const g={type:"element",tagName:"tr",properties:{},children:n.wrap(f,!0)};return n.patch(a,g),n.applyData(a,g)}function m2(n,a){const i={type:"element",tagName:"td",properties:{},children:n.all(a)};return n.patch(a,i),n.applyData(a,i)}const mx=9,hx=32;function h2(n){const a=String(n),i=/\r?\n|\r/g;let o=i.exec(a),u=0;const d=[];for(;o;)d.push(fx(a.slice(u,o.index),u>0,!0),o[0]),u=o.index+o[0].length,o=i.exec(a);return d.push(fx(a.slice(u),u>0,!1)),d.join("")}function fx(n,a,i){let o=0,u=n.length;if(a){let d=n.codePointAt(o);for(;d===mx||d===hx;)o++,d=n.codePointAt(o)}if(i){let d=n.codePointAt(u-1);for(;d===mx||d===hx;)u--,d=n.codePointAt(u-1)}return u>o?n.slice(o,u):""}function f2(n,a){const i={type:"text",value:h2(String(a.value))};return n.patch(a,i),n.applyData(a,i)}function x2(n,a){const i={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(a,i),n.applyData(a,i)}const p2={blockquote:VN,break:PN,code:IN,delete:QN,emphasis:XN,footnoteReference:ZN,heading:JN,html:KN,imageReference:WN,image:e2,inlineCode:t2,linkReference:s2,link:n2,listItem:l2,list:r2,paragraph:i2,root:o2,strong:c2,table:u2,tableCell:m2,tableRow:d2,text:f2,thematicBreak:x2,toml:to,yaml:to,definition:to,footnoteDefinition:to};function to(){}const wp=-1,go=0,Rr=1,co=2,Ad=3,_d=4,Dd=5,Rd=6,Sp=7,Tp=8,xx=typeof self=="object"?self:globalThis,g2=(n,a)=>{const i=(u,d)=>(n.set(d,u),u),o=u=>{if(n.has(u))return n.get(u);const[d,h]=a[u];switch(d){case go:case wp:return i(h,u);case Rr:{const x=i([],u);for(const p of h)x.push(o(p));return x}case co:{const x=i({},u);for(const[p,f]of h)x[o(p)]=o(f);return x}case Ad:return i(new Date(h),u);case _d:{const{source:x,flags:p}=h;return i(new RegExp(x,p),u)}case Dd:{const x=i(new Map,u);for(const[p,f]of h)x.set(o(p),o(f));return x}case Rd:{const x=i(new Set,u);for(const p of h)x.add(o(p));return x}case Sp:{const{name:x,message:p}=h;return i(new xx[x](p),u)}case Tp:return i(BigInt(h),u);case"BigInt":return i(Object(BigInt(h)),u);case"ArrayBuffer":return i(new Uint8Array(h).buffer,h);case"DataView":{const{buffer:x}=new Uint8Array(h);return i(new DataView(x),h)}}return i(new xx[d](h),u)};return o},px=n=>g2(new Map,n)(0),Sa="",{toString:b2}={},{keys:y2}=Object,Ar=n=>{const a=typeof n;if(a!=="object"||!n)return[go,a];const i=b2.call(n).slice(8,-1);switch(i){case"Array":return[Rr,Sa];case"Object":return[co,Sa];case"Date":return[Ad,Sa];case"RegExp":return[_d,Sa];case"Map":return[Dd,Sa];case"Set":return[Rd,Sa];case"DataView":return[Rr,i]}return i.includes("Array")?[Rr,i]:i.includes("Error")?[Sp,i]:[co,i]},so=([n,a])=>n===go&&(a==="function"||a==="symbol"),v2=(n,a,i,o)=>{const u=(h,x)=>{const p=o.push(h)-1;return i.set(x,p),p},d=h=>{if(i.has(h))return i.get(h);let[x,p]=Ar(h);switch(x){case go:{let g=h;switch(p){case"bigint":x=Tp,g=h.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return u([wp],h)}return u([x,g],h)}case Rr:{if(p){let S=h;return p==="DataView"?S=new Uint8Array(h.buffer):p==="ArrayBuffer"&&(S=new Uint8Array(h)),u([p,[...S]],h)}const g=[],y=u([x,g],h);for(const S of h)g.push(d(S));return y}case co:{if(p)switch(p){case"BigInt":return u([p,h.toString()],h);case"Boolean":case"Number":case"String":return u([p,h.valueOf()],h)}if(a&&"toJSON"in h)return d(h.toJSON());const g=[],y=u([x,g],h);for(const S of y2(h))(n||!so(Ar(h[S])))&&g.push([d(S),d(h[S])]);return y}case Ad:return u([x,h.toISOString()],h);case _d:{const{source:g,flags:y}=h;return u([x,{source:g,flags:y}],h)}case Dd:{const g=[],y=u([x,g],h);for(const[S,N]of h)(n||!(so(Ar(S))||so(Ar(N))))&&g.push([d(S),d(N)]);return y}case Rd:{const g=[],y=u([x,g],h);for(const S of h)(n||!so(Ar(S)))&&g.push(d(S));return y}}const{message:f}=h;return u([x,{name:p,message:f}],h)};return d},gx=(n,{json:a,lossy:i}={})=>{const o=[];return v2(!(a||i),!!a,new Map,o)(n),o},uo=typeof structuredClone=="function"?(n,a)=>a&&("json"in a||"lossy"in a)?px(gx(n,a)):structuredClone(n):(n,a)=>px(gx(n,a));function j2(n,a){const i=[{type:"text",value:""}];return a>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(a)}]}),i}function N2(n,a){return"Back to reference "+(n+1)+(a>1?"-"+a:"")}function w2(n){const a=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=n.options.footnoteBackContent||j2,o=n.options.footnoteBackLabel||N2,u=n.options.footnoteLabel||"Footnotes",d=n.options.footnoteLabelTagName||"h2",h=n.options.footnoteLabelProperties||{className:["sr-only"]},x=[];let p=-1;for(;++p<n.footnoteOrder.length;){const f=n.footnoteById.get(n.footnoteOrder[p]);if(!f)continue;const g=n.all(f),y=String(f.identifier).toUpperCase(),S=Ra(y.toLowerCase());let N=0;const B=[],E=n.footnoteCounts.get(y);for(;E!==void 0&&++N<=E;){B.length>0&&B.push({type:"text",value:" "});let M=typeof i=="string"?i:i(p,N);typeof M=="string"&&(M={type:"text",value:M}),B.push({type:"element",tagName:"a",properties:{href:"#"+a+"fnref-"+S+(N>1?"-"+N:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(p,N),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const U=g[g.length-1];if(U&&U.type==="element"&&U.tagName==="p"){const M=U.children[U.children.length-1];M&&M.type==="text"?M.value+=" ":U.children.push({type:"text",value:" "}),U.children.push(...B)}else g.push(...B);const k={type:"element",tagName:"li",properties:{id:a+"fn-"+S},children:n.wrap(g,!0)};n.patch(f,k),x.push(k)}if(x.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:d,properties:{...uo(h),id:"footnote-label"},children:[{type:"text",value:u}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(x,!0)},{type:"text",value:`
`}]}}const kp=(function(n){if(n==null)return E2;if(typeof n=="function")return bo(n);if(typeof n=="object")return Array.isArray(n)?S2(n):T2(n);if(typeof n=="string")return k2(n);throw new Error("Expected function, string, or object as test")});function S2(n){const a=[];let i=-1;for(;++i<n.length;)a[i]=kp(n[i]);return bo(o);function o(...u){let d=-1;for(;++d<a.length;)if(a[d].apply(this,u))return!0;return!1}}function T2(n){const a=n;return bo(i);function i(o){const u=o;let d;for(d in n)if(u[d]!==a[d])return!1;return!0}}function k2(n){return bo(a);function a(i){return i&&i.type===n}}function bo(n){return a;function a(i,o,u){return!!(C2(i)&&n.call(this,i,typeof o=="number"?o:void 0,u||void 0))}}function E2(){return!0}function C2(n){return n!==null&&typeof n=="object"&&"type"in n}const Ep=[],A2=!0,bx=!1,_2="skip";function D2(n,a,i,o){let u;typeof a=="function"&&typeof i!="function"?(o=i,i=a):u=a;const d=kp(u),h=o?-1:1;x(n,void 0,[])();function x(p,f,g){const y=p&&typeof p=="object"?p:{};if(typeof y.type=="string"){const N=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(S,"name",{value:"node ("+(p.type+(N?"<"+N+">":""))+")"})}return S;function S(){let N=Ep,B,E,U;if((!a||d(p,f,g[g.length-1]||void 0))&&(N=R2(i(p,g)),N[0]===bx))return N;if("children"in p&&p.children){const k=p;if(k.children&&N[0]!==_2)for(E=(o?k.children.length:-1)+h,U=g.concat(k);E>-1&&E<k.children.length;){const M=k.children[E];if(B=x(M,E,U)(),B[0]===bx)return B;E=typeof B[1]=="number"?B[1]:E+h}}return N}}}function R2(n){return Array.isArray(n)?n:typeof n=="number"?[A2,n]:n==null?Ep:[n]}function Cp(n,a,i,o){let u,d,h;typeof a=="function"&&typeof i!="function"?(d=void 0,h=a,u=i):(d=a,h=i,u=o),D2(n,d,x,u);function x(p,f){const g=f[f.length-1],y=g?g.children.indexOf(p):void 0;return h(p,y,g)}}const id={}.hasOwnProperty,M2={};function z2(n,a){const i=a||M2,o=new Map,u=new Map,d=new Map,h={...p2,...i.handlers},x={all:f,applyData:O2,definitionById:o,footnoteById:u,footnoteCounts:d,footnoteOrder:[],handlers:h,one:p,options:i,patch:L2,wrap:U2};return Cp(n,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?o:u,S=String(g.identifier).toUpperCase();y.has(S)||y.set(S,g)}}),x;function p(g,y){const S=g.type,N=x.handlers[S];if(id.call(x.handlers,S)&&N)return N(x,g,y);if(x.options.passThrough&&x.options.passThrough.includes(S)){if("children"in g){const{children:E,...U}=g,k=uo(U);return k.children=x.all(g),k}return uo(g)}return(x.options.unknownHandler||B2)(x,g,y)}function f(g){const y=[];if("children"in g){const S=g.children;let N=-1;for(;++N<S.length;){const B=x.one(S[N],g);if(B){if(N&&S[N-1].type==="break"&&(!Array.isArray(B)&&B.type==="text"&&(B.value=yx(B.value)),!Array.isArray(B)&&B.type==="element")){const E=B.children[0];E&&E.type==="text"&&(E.value=yx(E.value))}Array.isArray(B)?y.push(...B):y.push(B)}}}return y}}function L2(n,a){n.position&&(a.position=bj(n))}function O2(n,a){let i=a;if(n&&n.data){const o=n.data.hName,u=n.data.hChildren,d=n.data.hProperties;if(typeof o=="string")if(i.type==="element")i.tagName=o;else{const h="children"in i?i.children:[i];i={type:"element",tagName:o,properties:{},children:h}}i.type==="element"&&d&&Object.assign(i.properties,uo(d)),"children"in i&&i.children&&u!==null&&u!==void 0&&(i.children=u)}return i}function B2(n,a){const i=a.data||{},o="value"in a&&!(id.call(i,"hProperties")||id.call(i,"hChildren"))?{type:"text",value:a.value}:{type:"element",tagName:"div",properties:{},children:n.all(a)};return n.patch(a,o),n.applyData(a,o)}function U2(n,a){const i=[];let o=-1;for(a&&i.push({type:"text",value:`
`});++o<n.length;)o&&i.push({type:"text",value:`
`}),i.push(n[o]);return a&&n.length>0&&i.push({type:"text",value:`
`}),i}function yx(n){let a=0,i=n.charCodeAt(a);for(;i===9||i===32;)a++,i=n.charCodeAt(a);return n.slice(a)}function vx(n,a){const i=z2(n,a),o=i.one(n,void 0),u=w2(i),d=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return u&&d.children.push({type:"text",value:`
`},u),d}function H2(n,a){return n&&"run"in n?async function(i,o){const u=vx(i,{file:o,...a});await n.run(u,o)}:function(i,o){return vx(i,{file:o,...n||a})}}function jx(n){if(n)throw n}var qu,Nx;function q2(){if(Nx)return qu;Nx=1;var n=Object.prototype.hasOwnProperty,a=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u=function(f){return typeof Array.isArray=="function"?Array.isArray(f):a.call(f)==="[object Array]"},d=function(f){if(!f||a.call(f)!=="[object Object]")return!1;var g=n.call(f,"constructor"),y=f.constructor&&f.constructor.prototype&&n.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!y)return!1;var S;for(S in f);return typeof S>"u"||n.call(f,S)},h=function(f,g){i&&g.name==="__proto__"?i(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},x=function(f,g){if(g==="__proto__")if(n.call(f,g)){if(o)return o(f,g).value}else return;return f[g]};return qu=function p(){var f,g,y,S,N,B,E=arguments[0],U=1,k=arguments.length,M=!1;for(typeof E=="boolean"&&(M=E,E=arguments[1]||{},U=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});U<k;++U)if(f=arguments[U],f!=null)for(g in f)y=x(E,g),S=x(f,g),E!==S&&(M&&S&&(d(S)||(N=u(S)))?(N?(N=!1,B=y&&u(y)?y:[]):B=y&&d(y)?y:{},h(E,{name:g,newValue:p(M,B,S)})):typeof S<"u"&&h(E,{name:g,newValue:S}));return E},qu}var $2=q2();const $u=mo($2);function od(n){if(typeof n!="object"||n===null)return!1;const a=Object.getPrototypeOf(n);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Y2(){const n=[],a={run:i,use:o};return a;function i(...u){let d=-1;const h=u.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);x(null,...u);function x(p,...f){const g=n[++d];let y=-1;if(p){h(p);return}for(;++y<u.length;)(f[y]===null||f[y]===void 0)&&(f[y]=u[y]);u=f,g?F2(g,x)(...f):h(null,...f)}}function o(u){if(typeof u!="function")throw new TypeError("Expected `middelware` to be a function, not "+u);return n.push(u),a}}function F2(n,a){let i;return o;function o(...h){const x=n.length>h.length;let p;x&&h.push(u);try{p=n.apply(this,h)}catch(f){const g=f;if(x&&i)throw g;return u(g)}x||(p&&p.then&&typeof p.then=="function"?p.then(d,u):p instanceof Error?u(p):d(p))}function u(h,...x){i||(i=!0,a(h,...x))}function d(h){u(null,h)}}const on={basename:G2,dirname:V2,extname:P2,join:I2,sep:"/"};function G2(n,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');Ur(n);let i=0,o=-1,u=n.length,d;if(a===void 0||a.length===0||a.length>n.length){for(;u--;)if(n.codePointAt(u)===47){if(d){i=u+1;break}}else o<0&&(d=!0,o=u+1);return o<0?"":n.slice(i,o)}if(a===n)return"";let h=-1,x=a.length-1;for(;u--;)if(n.codePointAt(u)===47){if(d){i=u+1;break}}else h<0&&(d=!0,h=u+1),x>-1&&(n.codePointAt(u)===a.codePointAt(x--)?x<0&&(o=u):(x=-1,o=h));return i===o?o=h:o<0&&(o=n.length),n.slice(i,o)}function V2(n){if(Ur(n),n.length===0)return".";let a=-1,i=n.length,o;for(;--i;)if(n.codePointAt(i)===47){if(o){a=i;break}}else o||(o=!0);return a<0?n.codePointAt(0)===47?"/":".":a===1&&n.codePointAt(0)===47?"//":n.slice(0,a)}function P2(n){Ur(n);let a=n.length,i=-1,o=0,u=-1,d=0,h;for(;a--;){const x=n.codePointAt(a);if(x===47){if(h){o=a+1;break}continue}i<0&&(h=!0,i=a+1),x===46?u<0?u=a:d!==1&&(d=1):u>-1&&(d=-1)}return u<0||i<0||d===0||d===1&&u===i-1&&u===o+1?"":n.slice(u,i)}function I2(...n){let a=-1,i;for(;++a<n.length;)Ur(n[a]),n[a]&&(i=i===void 0?n[a]:i+"/"+n[a]);return i===void 0?".":Q2(i)}function Q2(n){Ur(n);const a=n.codePointAt(0)===47;let i=X2(n,!a);return i.length===0&&!a&&(i="."),i.length>0&&n.codePointAt(n.length-1)===47&&(i+="/"),a?"/"+i:i}function X2(n,a){let i="",o=0,u=-1,d=0,h=-1,x,p;for(;++h<=n.length;){if(h<n.length)x=n.codePointAt(h);else{if(x===47)break;x=47}if(x===47){if(!(u===h-1||d===1))if(u!==h-1&&d===2){if(i.length<2||o!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",o=0):(i=i.slice(0,p),o=i.length-1-i.lastIndexOf("/")),u=h,d=0;continue}}else if(i.length>0){i="",o=0,u=h,d=0;continue}}a&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+n.slice(u+1,h):i=n.slice(u+1,h),o=h-u-1;u=h,d=0}else x===46&&d>-1?d++:d=-1}return i}function Ur(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Z2={cwd:J2};function J2(){return"/"}function cd(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function K2(n){if(typeof n=="string")n=new URL(n);else if(!cd(n)){const a=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw a.code="ERR_INVALID_ARG_TYPE",a}if(n.protocol!=="file:"){const a=new TypeError("The URL must be of scheme file");throw a.code="ERR_INVALID_URL_SCHEME",a}return W2(n)}function W2(n){if(n.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const a=n.pathname;let i=-1;for(;++i<a.length;)if(a.codePointAt(i)===37&&a.codePointAt(i+1)===50){const o=a.codePointAt(i+2);if(o===70||o===102){const u=new TypeError("File URL path must not include encoded / characters");throw u.code="ERR_INVALID_FILE_URL_PATH",u}}return decodeURIComponent(a)}const Yu=["history","path","basename","stem","extname","dirname"];class Ap{constructor(a){let i;a?cd(a)?i={path:a}:typeof a=="string"||ew(a)?i={value:a}:i=a:i={},this.cwd="cwd"in i?"":Z2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<Yu.length;){const d=Yu[o];d in i&&i[d]!==void 0&&i[d]!==null&&(this[d]=d==="history"?[...i[d]]:i[d])}let u;for(u in i)Yu.includes(u)||(this[u]=i[u])}get basename(){return typeof this.path=="string"?on.basename(this.path):void 0}set basename(a){Gu(a,"basename"),Fu(a,"basename"),this.path=on.join(this.dirname||"",a)}get dirname(){return typeof this.path=="string"?on.dirname(this.path):void 0}set dirname(a){wx(this.basename,"dirname"),this.path=on.join(a||"",this.basename)}get extname(){return typeof this.path=="string"?on.extname(this.path):void 0}set extname(a){if(Fu(a,"extname"),wx(this.dirname,"extname"),a){if(a.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(a.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=on.join(this.dirname,this.stem+(a||""))}get path(){return this.history[this.history.length-1]}set path(a){cd(a)&&(a=K2(a)),Gu(a,"path"),this.path!==a&&this.history.push(a)}get stem(){return typeof this.path=="string"?on.basename(this.path,this.extname):void 0}set stem(a){Gu(a,"stem"),Fu(a,"stem"),this.path=on.join(this.dirname||"",a+(this.extname||""))}fail(a,i,o){const u=this.message(a,i,o);throw u.fatal=!0,u}info(a,i,o){const u=this.message(a,i,o);return u.fatal=void 0,u}message(a,i,o){const u=new Wt(a,i,o);return this.path&&(u.name=this.path+":"+u.name,u.file=this.path),u.fatal=!1,this.messages.push(u),u}toString(a){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(a||void 0).decode(this.value)}}function Fu(n,a){if(n&&n.includes(on.sep))throw new Error("`"+a+"` cannot be a path: did not expect `"+on.sep+"`")}function Gu(n,a){if(!n)throw new Error("`"+a+"` cannot be empty")}function wx(n,a){if(!n)throw new Error("Setting `"+a+"` requires `path` to be set too")}function ew(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const tw=(function(n){const o=this.constructor.prototype,u=o[n],d=function(){return u.apply(d,arguments)};return Object.setPrototypeOf(d,o),d}),sw={}.hasOwnProperty;class Md extends tw{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Y2()}copy(){const a=new Md;let i=-1;for(;++i<this.attachers.length;){const o=this.attachers[i];a.use(...o)}return a.data($u(!0,{},this.namespace)),a}data(a,i){return typeof a=="string"?arguments.length===2?(Iu("data",this.frozen),this.namespace[a]=i,this):sw.call(this.namespace,a)&&this.namespace[a]||void 0:a?(Iu("data",this.frozen),this.namespace=a,this):this.namespace}freeze(){if(this.frozen)return this;const a=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const u=i.call(a,...o);typeof u=="function"&&this.transformers.use(u)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(a){this.freeze();const i=no(a),o=this.parser||this.Parser;return Vu("parse",o),o(String(i),i)}process(a,i){const o=this;return this.freeze(),Vu("process",this.parser||this.Parser),Pu("process",this.compiler||this.Compiler),i?u(void 0,i):new Promise(u);function u(d,h){const x=no(a),p=o.parse(x);o.run(p,x,function(g,y,S){if(g||!y||!S)return f(g);const N=y,B=o.stringify(N,S);aw(B)?S.value=B:S.result=B,f(g,S)});function f(g,y){g||!y?h(g):d?d(y):i(void 0,y)}}}processSync(a){let i=!1,o;return this.freeze(),Vu("processSync",this.parser||this.Parser),Pu("processSync",this.compiler||this.Compiler),this.process(a,u),Tx("processSync","process",i),o;function u(d,h){i=!0,jx(d),o=h}}run(a,i,o){Sx(a),this.freeze();const u=this.transformers;return!o&&typeof i=="function"&&(o=i,i=void 0),o?d(void 0,o):new Promise(d);function d(h,x){const p=no(i);u.run(a,p,f);function f(g,y,S){const N=y||a;g?x(g):h?h(N):o(void 0,N,S)}}}runSync(a,i){let o=!1,u;return this.run(a,i,d),Tx("runSync","run",o),u;function d(h,x){jx(h),u=x,o=!0}}stringify(a,i){this.freeze();const o=no(i),u=this.compiler||this.Compiler;return Pu("stringify",u),Sx(a),u(a,o)}use(a,...i){const o=this.attachers,u=this.namespace;if(Iu("use",this.frozen),a!=null)if(typeof a=="function")p(a,i);else if(typeof a=="object")Array.isArray(a)?x(a):h(a);else throw new TypeError("Expected usable value, not `"+a+"`");return this;function d(f){if(typeof f=="function")p(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[g,...y]=f;p(g,y)}else h(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function h(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");x(f.plugins),f.settings&&(u.settings=$u(!0,u.settings,f.settings))}function x(f){let g=-1;if(f!=null)if(Array.isArray(f))for(;++g<f.length;){const y=f[g];d(y)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function p(f,g){let y=-1,S=-1;for(;++y<o.length;)if(o[y][0]===f){S=y;break}if(S===-1)o.push([f,...g]);else if(g.length>0){let[N,...B]=g;const E=o[S][1];od(E)&&od(N)&&(N=$u(!0,E,N)),o[S]=[f,N,...B]}}}}const nw=new Md().freeze();function Vu(n,a){if(typeof a!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Pu(n,a){if(typeof a!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Iu(n,a){if(a)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Sx(n){if(!od(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Tx(n,a,i){if(!i)throw new Error("`"+n+"` finished async. Use `"+a+"` instead")}function no(n){return lw(n)?n:new Ap(n)}function lw(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function aw(n){return typeof n=="string"||rw(n)}function rw(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const iw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",kx=[],Ex={allowDangerousHtml:!0},ow=/^(https?|ircs?|mailto|xmpp)$/i,cw=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function uw(n){const a=dw(n),i=mw(n);return hw(a.runSync(a.parse(i),i),n)}function dw(n){const a=n.rehypePlugins||kx,i=n.remarkPlugins||kx,o=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Ex}:Ex;return nw().use(GN).use(i).use(H2,o).use(a)}function mw(n){const a=n.children||"",i=new Ap;return typeof a=="string"&&(i.value=a),i}function hw(n,a){const i=a.allowedElements,o=a.allowElement,u=a.components,d=a.disallowedElements,h=a.skipHtml,x=a.unwrapDisallowed,p=a.urlTransform||fw;for(const g of cw)Object.hasOwn(a,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+iw+g.id,void 0);return Cp(n,f),wj(n,{Fragment:t.Fragment,components:u,ignoreInvalidStyle:!0,jsx:t.jsx,jsxs:t.jsxs,passKeys:!0,passNode:!0});function f(g,y,S){if(g.type==="raw"&&S&&typeof y=="number")return h?S.children.splice(y,1):S.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let N;for(N in Bu)if(Object.hasOwn(Bu,N)&&Object.hasOwn(g.properties,N)){const B=g.properties[N],E=Bu[N];(E===null||E.includes(g.tagName))&&(g.properties[N]=p(String(B||""),N,g))}}if(g.type==="element"){let N=i?!i.includes(g.tagName):d?d.includes(g.tagName):!1;if(!N&&o&&typeof y=="number"&&(N=!o(g,y,S)),N&&S&&typeof y=="number")return x&&g.children?S.children.splice(y,1,...g.children):S.children.splice(y,1),y}}}function fw(n){const a=n.indexOf(":"),i=n.indexOf("?"),o=n.indexOf("#"),u=n.indexOf("/");return a===-1||u!==-1&&a>u||i!==-1&&a>i||o!==-1&&a>o||ow.test(n.slice(0,a))?n:""}const Qu="https://sunke-vasan-varpe-varadaraju.onrender.com/api";class xw{getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}async getChatHistory(a=50){try{const i=await fetch(`${Qu}/ai-chat/history?limit=${a}`,{headers:this.getHeaders()}),o=await i.json();return i.ok&&o.success?{success:!0,data:o.data}:{success:!1,message:o.message||"Failed to load chat history"}}catch(i){return console.error("Error fetching chat history:",i),{success:!1,message:"Failed to connect to AI service"}}}async sendMessage(a){try{const i=await fetch(`${Qu}/ai-chat/message`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({message:a})}),o=await i.json();return i.ok&&o.success?{success:!0,data:o.data}:{success:!1,message:o.message||"Failed to get AI response"}}catch(i){return console.error("Error sending message:",i),{success:!1,message:"Failed to send message. Please try again."}}}async clearChatHistory(){try{const a=await fetch(`${Qu}/ai-chat/history`,{method:"DELETE",headers:this.getHeaders()}),i=await a.json();return a.ok&&i.success?{success:!0,data:i.data}:{success:!1,message:i.message||"Failed to clear chat history"}}catch(a){return console.error("Error clearing chat history:",a),{success:!1,message:"Failed to clear chat history"}}}}const Xu=new xw,pw=()=>{const{user:n}=qt(),[a,i]=T.useState([]),[o,u]=T.useState(""),[d,h]=T.useState(!1),[x,p]=T.useState(!0),[f,g]=T.useState(null),y=T.useRef(null),S=()=>{y.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{S()},[a]),T.useEffect(()=>{N()},[]);const N=async()=>{try{p(!0);const M=await Xu.getChatHistory(50);if(M.success){const H=M.data.map((ne,be)=>({id:be+1,type:ne.role==="user"?"user":"bot",text:ne.message,timestamp:new Date(ne.created_at).toLocaleTimeString()}));i(H),H.length===0&&i([{id:1,type:"bot",text:`Hello ${n?.full_name||n?.name||"there"}!  I'm your AI assistant powered by Grok. I can help you with tutoring questions, learning strategies, scheduling help, and much more. How can I assist you today?`,timestamp:new Date().toLocaleTimeString()}])}else g(M.message||"Failed to load chat history")}catch(M){console.error("Error fetching chat history:",M),g("Failed to connect to AI service"),i([{id:1,type:"bot",text:`Hello ${n?.full_name||n?.name||"there"}!  I'm your AI assistant. How can I help you today?`,timestamp:new Date().toLocaleTimeString()}])}finally{p(!1)}},B=async()=>{if(!o.trim()||d)return;const M=o.trim(),H={id:a.length+1,type:"user",text:M,timestamp:new Date().toLocaleTimeString()};i(ne=>[...ne,H]),u(""),h(!0),g(null);try{const ne=await Xu.sendMessage(M);if(ne.success){const be={id:a.length+2,type:"bot",text:ne.data.aiResponse.message,timestamp:new Date(ne.data.aiResponse.created_at).toLocaleTimeString()};i($=>[...$,be])}else g(ne.message||"Failed to get AI response"),i(be=>be.filter($=>$.id!==H.id))}catch(ne){console.error("Error sending message:",ne),g("Failed to send message. Please try again."),i(be=>be.filter($=>$.id!==H.id))}finally{h(!1)}},E=n?.account_type==="tutor"?["How can I improve my teaching methods?","Tips for managing my tutoring schedule","How to prepare lesson materials?","Strategies for engaging students","Help with responding to reviews","Growing my tutoring business"]:["Help me understand a concept","Study tips for my exams","How to find the right tutor?","Prepare for a tutoring session","Explain a difficult topic","Time management strategies"],U=M=>{u(M)},k=async()=>{if(confirm("Are you sure you want to clear all chat history? This cannot be undone."))try{const M=await Xu.clearChatHistory();M.success?i([{id:1,type:"bot",text:`Hello ${n?.full_name||n?.name||"there"}!  I'm your AI assistant. How can I help you today?`,timestamp:new Date().toLocaleTimeString()}]):g(M.message||"Failed to clear chat history")}catch(M){console.error("Error clearing chat history:",M),g("Failed to clear chat history")}};return x?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center mx-auto mb-4 animate-pulse",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("p",{className:"text-slate-400",children:"Loading your AI assistant..."})]})}):t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center justify-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsx("span",{children:"AI Assistant"})]}),t.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[t.jsx("p",{className:"text-slate-400 text-lg",children:"Powered by Grok AI"}),a.length>1&&t.jsx("button",{onClick:k,className:"text-sm text-slate-500 hover:text-red-400 transition-colors",children:"Clear History"})]})]}),f&&t.jsx("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/50 rounded-lg text-red-400 text-sm",children:f}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm overflow-hidden",style:{height:"calc(100vh - 280px)"},children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",style:{height:"calc(100% - 140px)"},children:[a.map(M=>t.jsx("div",{className:`flex ${M.type==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-3xl flex items-start space-x-3 ${M.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${M.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-purple-500 to-pink-600"}`,children:t.jsx("span",{className:"text-white text-sm",children:M.type==="user"?"":""})}),t.jsxs("div",{className:`px-4 py-3 rounded-2xl ${M.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-slate-800/50 border border-slate-700/50 text-white"}`,children:[t.jsx("div",{className:"text-sm leading-relaxed prose prose-invert prose-sm max-w-none prose-p:my-2 prose-ul:my-2 prose-ol:my-2 prose-li:my-1 prose-strong:text-white prose-code:text-purple-300 prose-code:bg-slate-900/50 prose-code:px-1 prose-code:py-0.5 prose-code:rounded",children:t.jsx(uw,{children:M.text})}),t.jsx("p",{className:`text-xs mt-2 ${M.type==="user"?"text-blue-100":"text-slate-400"}`,children:M.timestamp})]})]})},M.id)),t.jsx("div",{ref:y}),d&&t.jsx("div",{className:"flex justify-start",children:t.jsxs("div",{className:"max-w-3xl flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-600 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white text-sm",children:""})}),t.jsx("div",{className:"px-4 py-3 rounded-2xl bg-slate-800/50 border border-slate-700/50",children:t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})]}),a.length<=1&&t.jsxs("div",{className:"px-6 py-4 border-t border-slate-800/50",children:[t.jsx("h3",{className:"text-slate-300 text-sm font-medium mb-3",children:"Quick questions to get started:"}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:E.map((M,H)=>t.jsx("button",{onClick:()=>U(M),className:"px-3 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-slate-300 text-sm hover:bg-slate-700/50 transition-colors text-left",children:M},H))})]}),t.jsxs("div",{className:"p-6 border-t border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800/50 transition-colors",children:t.jsx("span",{className:"text-xl",children:""})}),t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",value:o,onChange:M=>u(M.target.value),onKeyPress:M=>M.key==="Enter"&&B(),placeholder:"Ask me anything...",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-purple-500/50 pr-12",disabled:d}),t.jsx("button",{onClick:B,disabled:!o.trim()||d,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-purple-400 hover:text-purple-300 transition-colors disabled:text-slate-500 disabled:cursor-not-allowed",children:t.jsx("span",{className:"text-xl",children:""})})]}),t.jsx("button",{className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800/50 transition-colors",children:t.jsx("span",{className:"text-xl",children:""})})]}),t.jsx("div",{className:"mt-2 text-center",children:t.jsx("p",{className:"text-slate-500 text-xs",children:"AI can make mistakes. Please verify important information and use your judgment."})})]})]})]})})};const gw=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bw=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,o)=>o?o.toUpperCase():i.toLowerCase()),Cx=n=>{const a=bw(n);return a.charAt(0).toUpperCase()+a.slice(1)},_p=(...n)=>n.filter((a,i,o)=>!!a&&a.trim()!==""&&o.indexOf(a)===i).join(" ").trim(),yw=n=>{for(const a in n)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var vw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jw=T.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:h,...x},p)=>T.createElement("svg",{ref:p,...vw,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:_p("lucide",u),...!d&&!yw(x)&&{"aria-hidden":"true"},...x},[...h.map(([f,g])=>T.createElement(f,g)),...Array.isArray(d)?d:[d]]));const pl=(n,a)=>{const i=T.forwardRef(({className:o,...u},d)=>T.createElement(jw,{ref:d,iconNode:a,className:_p(`lucide-${gw(Cx(n))}`,`lucide-${n}`,o),...u}));return i.displayName=Cx(n),i};const Nw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ww=pl("calendar",Nw);const Sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tw=pl("circle-check",Sw);const kw=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ax=pl("circle-play",kw);const Ew=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ud=pl("clock",Ew);const Cw=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Aw=pl("ellipsis",Cw);const _w=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Dw=pl("pen-line",_w);const Rw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mw=pl("plus",Rw);const zw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lw=pl("trash-2",zw),Ow=()=>{const{user:n}=qt(),[a,i]=T.useState([]),[o,u]=T.useState([]),[d,h]=T.useState([]),[x,p]=T.useState(!0),[f,g]=T.useState(!1),[y,S]=T.useState(null),[N,B]=T.useState("all"),[E,U]=T.useState("due_date"),[k,M]=T.useState(""),[H,ne]=T.useState({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",dueDate:"",status:"pending",progress:0}),[be,$]=T.useState({});T.useEffect(()=>{q(),fe()},[]),T.useEffect(()=>{me()},[a,N,E,k]);const q=async()=>{try{p(!0);const v=await Ul.getTasks();v.success&&i(v.data)}catch(v){console.error("Error fetching tasks:",v)}finally{p(!1)}},fe=async()=>{try{const v=await xo.getSubjects();v.success&&h(v.data)}catch(v){console.error("Error fetching subjects:",v),h([{name:"Mathematics"},{name:"Physics"},{name:"Chemistry"},{name:"Biology"},{name:"Computer Science"},{name:"English"},{name:"History"},{name:"Other"}])}},me=()=>{let v=[...a];k&&(v=v.filter(Y=>Y.title.toLowerCase().includes(k.toLowerCase())||Y.subject.toLowerCase().includes(k.toLowerCase())||Y.description?.toLowerCase().includes(k.toLowerCase()))),N!=="all"&&(v=v.filter(Y=>Y.status===N)),v.sort((Y,oe)=>{switch(E){case"due_date":return new Date(Y.due_date)-new Date(oe.due_date);case"priority":const he={high:3,medium:2,low:1};return he[oe.priority]-he[Y.priority];case"created_at":return new Date(oe.created_at)-new Date(Y.created_at);case"progress":return oe.progress-Y.progress;default:return 0}}),u(v)},G=async()=>{try{$({});const v={};if(H.title.trim()||(v.title="Title is required"),H.subject.trim()||(v.subject="Subject is required"),H.dueDate||(v.dueDate="Due date is required"),Object.keys(v).length>0){$(v);return}(await Ul.createTask({...H,due:H.dueDate})).success&&(await q(),g(!1),C())}catch(v){console.error("Error creating task:",v),$({general:"Failed to create task. Please try again."})}},A=async()=>{try{$({}),(await Ul.updateTask(y.id,{...H,due:H.dueDate})).success&&(await q(),g(!1),S(null),C())}catch(v){console.error("Error updating task:",v),$({general:"Failed to update task. Please try again."})}},I=async v=>{if(window.confirm("Are you sure you want to delete this task?"))try{(await Ul.deleteTask(v)).success&&await q()}catch(Y){console.error("Error deleting task:",Y)}},le=async(v,Y,oe=null)=>{try{const he={status:Y};oe!==null&&(he.progress=oe),(await Ul.updateTask(v,he)).success&&await q()}catch(he){console.error("Error updating task status:",he)}},re=async(v,Y)=>{try{const oe=Y===100?"completed":Y>0?"in-progress":"pending";(await Ul.updateTask(v,{progress:Y,status:oe})).success&&await q()}catch(oe){console.error("Error updating task progress:",oe)}},ce=(v=null)=>{v?(S(v),ne({title:v.title,description:v.description||"",subject:v.subject,priority:v.priority,estimatedTime:v.estimated_time||"",dueDate:v.due_date,status:v.status,progress:v.progress})):(S(null),C()),g(!0),$({})},C=()=>{ne({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",dueDate:"",status:"pending",progress:0})},K=v=>{switch(v){case"high":return"text-red-400 bg-red-500/20";case"medium":return"text-yellow-400 bg-yellow-500/20";case"low":return"text-green-400 bg-green-500/20";default:return"text-gray-400 bg-gray-500/20"}},ye=v=>{switch(v){case"completed":return"text-green-400 bg-green-500/20";case"in-progress":return"text-blue-400 bg-blue-500/20";case"started":return"text-yellow-400 bg-yellow-500/20";case"pending":return"text-gray-400 bg-gray-500/20";default:return"text-gray-400 bg-gray-500/20"}},Ee=v=>{switch(v){case"completed":return t.jsx(Tw,{className:"w-4 h-4"});case"in-progress":return t.jsx(Ax,{className:"w-4 h-4"});case"started":return t.jsx(Ax,{className:"w-4 h-4"});case"pending":return t.jsx(ud,{className:"w-4 h-4"});default:return t.jsx(ud,{className:"w-4 h-4"})}},D=v=>new Date(v)<new Date&&new Date(v).toDateString()!==new Date().toDateString(),O=(()=>{const v=a.length,Y=a.filter(Se=>Se.status==="completed").length,oe=a.filter(Se=>Se.status==="in-progress"||Se.status==="started").length,he=a.filter(Se=>D(Se.due_date)&&Se.status!=="completed").length;return{total:v,completed:Y,inProgress:oe,overdue:he}})();return x?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-lg",children:"Loading tasks..."})}):t.jsxs("div",{className:"min-h-screen bg-slate-950",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:" Tasks"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Manage your academic tasks and track progress"})]}),t.jsxs("button",{onClick:()=>ce(),className:"mt-4 md:mt-0 flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[t.jsx(Mw,{className:"w-5 h-5"}),t.jsx("span",{children:"Add Task"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:O.total}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Tasks"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 mb-1",children:O.completed}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:O.inProgress}),t.jsx("div",{className:"text-slate-400 text-sm",children:"In Progress"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-red-400 mb-1",children:O.overdue}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Overdue"})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",placeholder:"Search tasks...",value:k,onChange:v=>M(v.target.value),className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-800/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500"})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{value:N,onChange:v=>B(v.target.value),className:"px-4 py-3 bg-slate-900/50 border border-slate-800/50 rounded-xl text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsxs("select",{value:E,onChange:v=>U(v.target.value),className:"px-4 py-3 bg-slate-900/50 border border-slate-800/50 rounded-xl text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"due_date",children:"Due Date"}),t.jsx("option",{value:"priority",children:"Priority"}),t.jsx("option",{value:"created_at",children:"Created Date"}),t.jsx("option",{value:"progress",children:"Progress"})]})]})]}),t.jsx("div",{className:"space-y-4",children:o.length===0?t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-12 text-center border border-slate-800/50",children:[t.jsx("div",{className:"text-slate-400 text-lg mb-4",children:"No tasks found"}),t.jsx("button",{onClick:()=>ce(),className:"text-blue-400 hover:text-blue-300 font-medium",children:"Create your first task"})]}):o.map(v=>t.jsx(Bw,{task:v,onEdit:()=>ce(v),onDelete:()=>I(v.id),onStatusUpdate:le,onProgressUpdate:re,getPriorityColor:K,getStatusColor:ye,getStatusIcon:Ee,isOverdue:D},v.id))})]}),f&&t.jsx(Uw,{isOpen:f,onClose:()=>{g(!1),S(null),C()},taskForm:H,setTaskForm:ne,errors:be,isEditing:!!y,onSubmit:y?A:G,subjects:d.map(v=>v.name)})]})},Bw=({task:n,onEdit:a,onDelete:i,onStatusUpdate:o,onProgressUpdate:u,getPriorityColor:d,getStatusColor:h,getStatusIcon:x,isOverdue:p})=>{const[f,g]=T.useState(!1),[y,S]=T.useState(n.progress),N=U=>{const k=parseInt(U.target.value);S(k),u(n.id,k)},B=new Date(n.due_date).toLocaleDateString(),E=p(n.due_date);return t.jsxs("div",{className:`bg-slate-900/50 rounded-xl p-6 border transition-all duration-200 hover:bg-slate-900/70 ${E?"border-red-500/50":"border-slate-800/50"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-white font-semibold text-lg",children:n.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(n.priority)}`,children:n.priority}),t.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${h(n.status)}`,children:[x(n.status),n.status]})]}),n.description&&t.jsx("p",{className:"text-slate-400 mb-3",children:n.description}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ww,{className:"w-4 h-4"}),t.jsxs("span",{className:E?"text-red-400":"",children:[B,E&&" (Overdue)"]})]}),t.jsxs("span",{children:[" ",n.subject]}),n.estimated_time&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ud,{className:"w-4 h-4"}),n.estimated_time]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>g(!f),className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Toggle progress",children:t.jsx(Aw,{className:"w-4 h-4"})}),t.jsx("button",{onClick:a,className:"p-2 text-slate-400 hover:text-blue-400 transition-colors",title:"Edit task",children:t.jsx(Dw,{className:"w-4 h-4"})}),t.jsx("button",{onClick:i,className:"p-2 text-slate-400 hover:text-red-400 transition-colors",title:"Delete task",children:t.jsx(Lw,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-400 text-sm",children:"Progress"}),t.jsxs("span",{className:"text-white font-medium",children:[n.progress,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${n.progress}%`}})}),f&&t.jsxs("div",{className:"pt-2",children:[t.jsx("input",{type:"range",min:"0",max:"100",value:y,onChange:N,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[t.jsx("span",{children:"0%"}),t.jsx("span",{children:"50%"}),t.jsx("span",{children:"100%"})]})]})]}),t.jsxs("div",{className:"flex gap-2 mt-4",children:[n.status==="pending"&&t.jsx("button",{onClick:()=>o(n.id,"started",Math.max(1,n.progress)),className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Start Task"}),(n.status==="started"||n.status==="in-progress")&&n.progress<100&&t.jsx("button",{onClick:()=>o(n.id,"completed",100),className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Mark Complete"}),n.status==="completed"&&t.jsx("button",{onClick:()=>o(n.id,"in-progress",Math.min(99,n.progress)),className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-lg text-sm hover:bg-yellow-500/30 transition-colors",children:"Reopen Task"})]})]})},Uw=({isOpen:n,onClose:a,taskForm:i,setTaskForm:o,errors:u,isEditing:d,onSubmit:h,subjects:x=[]})=>{if(!n)return null;const p=(f,g)=>{o(y=>({...y,[f]:g}))};return t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:d?"Edit Task":"Create New Task"}),t.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white transition-colors",children:""})]}),u.general&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 mb-4",children:t.jsx("p",{className:"text-red-400 text-sm",children:u.general})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:i.title,onChange:f=>p("title",f.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${u.title?"border-red-500":"border-slate-700"}`,placeholder:"Enter task title"}),u.title&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),t.jsx("textarea",{value:i.description,onChange:f=>p("description",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"Enter task description",rows:"3"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject *"}),t.jsxs("select",{value:i.subject,onChange:f=>p("subject",f.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${u.subject?"border-red-500":"border-slate-700"}`,children:[t.jsx("option",{value:"",children:"Select Subject"}),x.map(f=>t.jsx("option",{value:f,children:f},f))]}),u.subject&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:i.priority,onChange:f=>p("priority",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Estimated Time"}),t.jsx("input",{type:"text",value:i.estimatedTime,onChange:f=>p("estimatedTime",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"e.g. 2 hours, 30 minutes"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date *"}),t.jsx("input",{type:"date",value:i.dueDate,onChange:f=>p("dueDate",f.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${u.dueDate?"border-red-500":"border-slate-700"}`}),u.dueDate&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.dueDate})]})]}),d&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),t.jsxs("select",{value:i.status,onChange:f=>p("status",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Progress (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:i.progress,onChange:f=>p("progress",parseInt(f.target.value)||0),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500"})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[t.jsx("button",{onClick:a,className:"px-6 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),t.jsx("button",{onClick:h,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg font-medium transition-all duration-200",children:d?"Update Task":"Create Task"})]})]})})},Hw=()=>t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:" Tutor Availability & Booking Flow"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Complete workflow from tutor setup to student booking"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:" Tutor Side (Dr. Johnson)"}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm",children:"1"}),t.jsx("h3",{className:"text-white font-semibold",children:"Access Dashboard"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Tutor logs in and sees dashboard with navigation tabs"}),t.jsx("div",{className:"bg-slate-800/30 rounded-lg p-3",children:t.jsx("div",{className:"text-slate-300 text-xs font-mono",children:"Dashboard  Session Management Tab"})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-sm",children:"2"}),t.jsx("h3",{className:"text-white font-semibold",children:"Set Available Time Slots"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Use TutorAvailabilityManager to create time slots"}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:"Monday"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"9:00-10:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"14:00-15:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"16:00-17:00"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:"Tuesday"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"10:00-11:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"15:00-16:00"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:"Wednesday"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"9:00-10:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"17:00-18:00"})]})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white font-bold text-sm",children:"3"}),t.jsx("h3",{className:"text-white font-semibold",children:"Receive Booking Requests"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:`Notifications appear under "Today's Sessions"`}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-lg p-3 border border-blue-500/30",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/30 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xs",children:"3"})}),t.jsx("h4",{className:"text-white font-medium text-sm",children:"New Booking Requests"})]}),t.jsx("div",{className:"space-y-2",children:t.jsx("div",{className:"bg-white/10 rounded-lg p-2",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium text-sm",children:"Alice Johnson"}),t.jsx("p",{className:"text-blue-200 text-xs",children:"Mathematics  Mon, Jan 15, 2024"})]}),t.jsx("div",{className:"text-white text-xs",children:"2:00 PM"})]})})})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold text-sm",children:"4"}),t.jsx("h3",{className:"text-white font-semibold",children:"Accept/Decline Requests"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Click on request to view details and respond"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-3 py-1 bg-red-600/20 text-red-400 border border-red-500/30 rounded text-xs",children:"Decline"}),t.jsx("button",{className:"px-3 py-1 bg-emerald-600/20 text-emerald-400 border border-emerald-500/30 rounded text-xs",children:"Accept & Schedule"})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:" Student Side (Alice)"}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm",children:"1"}),t.jsx("h3",{className:"text-white font-semibold",children:"Browse Tutors"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Student searches for tutors and sees available sessions"}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-slate-300 text-xs font-mono",children:"Find Tutors  Dr. Johnson  Available Sessions Preview"}),t.jsxs("div",{className:"mt-2 space-y-1",children:[t.jsxs("div",{className:"flex justify-between bg-slate-700/30 rounded p-2",children:[t.jsx("span",{className:"text-slate-300 text-xs",children:"Mon, Jan 15"}),t.jsx("span",{className:"text-white text-xs",children:"14:00 - 15:00"})]}),t.jsxs("div",{className:"flex justify-between bg-slate-700/30 rounded p-2",children:[t.jsx("span",{className:"text-slate-300 text-xs",children:"Mon, Jan 15"}),t.jsx("span",{className:"text-white text-xs",children:"16:00 - 17:00"})]})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-sm",children:"2"}),t.jsx("h3",{className:"text-white font-semibold",children:"Book Session"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:'Click "Book Session" to see full availability calendar'}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-white text-sm font-medium mb-2",children:"Select Date & Time"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[t.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-blue-300 text-xs font-medium",children:"Mon 15"})}),t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-slate-300 text-xs",children:"Tue 16"})}),t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-slate-300 text-xs",children:"Wed 17"})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-blue-300 text-xs",children:"14:00 - 15:00"})}),t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-slate-300 text-xs",children:"16:00 - 17:00"})})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white font-bold text-sm",children:"3"}),t.jsx("h3",{className:"text-white font-semibold",children:"Send Booking Request"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Add notes and submit request to tutor"}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3",children:[t.jsx("textarea",{className:"w-full bg-slate-700/50 border border-slate-600/50 rounded p-2 text-white text-xs",rows:"3",placeholder:"Need help with calculus derivatives...",disabled:!0}),t.jsxs("div",{className:"mt-2 flex space-x-2",children:[t.jsx("button",{className:"px-3 py-1 bg-slate-700/50 text-slate-300 rounded text-xs",children:"Cancel"}),t.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded text-xs",children:"Send Request"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold text-sm",children:"4"}),t.jsx("h3",{className:"text-white font-semibold",children:"Receive Confirmation"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Get notification when tutor accepts the request"}),t.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-green-400 font-medium text-sm",children:" Session Confirmed!"}),t.jsx("div",{className:"text-green-200 text-xs mt-1",children:"Dr. Johnson accepted your booking request for Monday, Jan 15 at 2:00 PM"})]})]})]})]}),t.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl p-6 border border-blue-500/20",children:[t.jsx("h3",{className:"text-white font-semibold mb-4 text-center",children:" Navigation Guide"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"For Tutors:"}),t.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[t.jsxs("li",{children:[" Login  Dashboard  ",t.jsx("span",{className:"text-white font-medium",children:'"Session Management"'})," tab"]}),t.jsx("li",{children:" Use TutorAvailabilityManager to set time slots"}),t.jsx("li",{children:` Check notifications under "Today's Sessions"`}),t.jsx("li",{children:" Accept/decline requests via notification modal"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-purple-300 font-medium mb-2",children:"For Students:"}),t.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[t.jsxs("li",{children:[" Navigation: ",t.jsx("span",{className:"text-white font-medium",children:'"Find Tutors"'}),'  Select Tutor  "Book Session"']}),t.jsx("li",{children:" See available slots in tutor preview cards"}),t.jsx("li",{children:" Full calendar view in booking page"}),t.jsx("li",{children:" Submit request with notes"})]})]})]})]})]})}),qw=({children:n})=>(console.log(" Layout rendering with children:",!!n),t.jsxs("div",{className:"min-h-screen bg-black",children:[t.jsx(jv,{}),n,t.jsx(Nv,{})]}));function $w(){console.log(" App component rendering");const n="/Sunke_Vasan_Varpe_Varadaraju/";return console.log(" Router basename:",n),t.jsx(Qx,{children:t.jsx(Gx,{basename:n,children:t.jsx(qw,{children:t.jsxs(qx,{children:[t.jsx(ht,{path:"/test",element:t.jsx("div",{style:{color:"white",padding:"20px"},children:" Test Route Working!"})}),t.jsx(ht,{path:"/",element:t.jsx(Tv,{})}),t.jsx(ht,{path:"/about",element:t.jsx(Vv,{})}),t.jsx(ht,{path:"/login",element:t.jsx(Zi,{children:t.jsx(kv,{})})}),t.jsx(ht,{path:"/register",element:t.jsx(Zi,{children:t.jsx(Ev,{})})}),t.jsx(ht,{path:"/forgot-password",element:t.jsx(Zi,{children:t.jsx(Av,{})})}),t.jsx(ht,{path:"/reset-password",element:t.jsx(Zi,{children:t.jsx(Dv,{})})}),t.jsx(ht,{path:"/student-dashboard",element:t.jsx($s,{requiredRole:"student",children:t.jsx(qf,{})})}),t.jsx(ht,{path:"/tutor-dashboard",element:t.jsx($s,{requiredRole:"tutor",children:t.jsx(Ov,{})})}),t.jsx(ht,{path:"/admin-dashboard",element:t.jsx($s,{requiredRole:"admin",children:t.jsx(Uv,{})})}),t.jsx(ht,{path:"/tutors",element:t.jsx($s,{children:t.jsx(Hv,{})})}),t.jsx(ht,{path:"/booking/:tutorId",element:t.jsx($s,{children:t.jsx($v,{})})}),t.jsx(ht,{path:"/profile",element:t.jsx($s,{children:t.jsx(Yv,{})})}),t.jsx(ht,{path:"/tutor-profile",element:t.jsx($s,{requiredRole:"tutor",children:t.jsx(Fv,{})})}),t.jsx(ht,{path:"/calendar",element:t.jsx($s,{children:t.jsx(Iv,{})})}),t.jsx(ht,{path:"/messages",element:t.jsx($s,{children:t.jsx(Qv,{})})}),t.jsx(ht,{path:"/chatbot",element:t.jsx($s,{children:t.jsx(pw,{})})}),t.jsx(ht,{path:"/tasks",element:t.jsx($s,{children:t.jsx(Ow,{})})}),t.jsx(ht,{path:"/demo/availability-flow",element:t.jsx(Hw,{})}),t.jsx(ht,{path:"/dashboard",element:t.jsx($s,{children:t.jsx(qf,{})})}),t.jsx(ht,{path:"/unauthorized",element:t.jsx(Pv,{})}),t.jsx(ht,{path:"*",element:t.jsx(Gv,{})})]})})})})}const Yw=()=>(console.log(" SimpleApp rendering"),t.jsxs("div",{style:{minHeight:"100vh",background:"black",color:"white",padding:"20px"},children:[t.jsx("h1",{children:" Simple App Test"}),t.jsx("p",{children:"If you see this, the basic React structure is working."}),t.jsxs(Qx,{children:[t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h2",{children:" Auth Provider Test"}),t.jsx(wv,{})]}),t.jsx(Gx,{children:t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h2",{children:" Router Test"}),t.jsxs(qx,{children:[t.jsx(ht,{path:"/",element:t.jsx("div",{children:" Route is working!"})}),t.jsx(ht,{path:"*",element:t.jsx("div",{children:" Unknown route"})})]})]})})]}),t.jsx(Sv,{})]})),Fw=()=>{const n=()=>{console.log("Button clicked - JavaScript is working"),alert("JavaScript is working in this browser!")};return t.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif",backgroundColor:"#f0f0f0",minHeight:"100vh"},children:[t.jsx("h1",{children:"Tutor Together - Basic Mode"}),t.jsx("p",{children:"This is a minimal fallback version to test browser compatibility."}),t.jsx("button",{onClick:n,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Test JavaScript"}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h2",{children:"Debug Information"}),t.jsxs("p",{children:["Current URL: ",window.location.href]}),t.jsxs("p",{children:["User Agent: ",navigator.userAgent]}),t.jsxs("p",{children:["Current Time: ",new Date().toLocaleString()]}),t.jsxs("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"#e6f3ff"},children:[t.jsx("h3",{children:"Chrome Troubleshooting Steps:"}),t.jsxs("ol",{children:[t.jsx("li",{children:"Open Chrome DevTools (F12)"}),t.jsx("li",{children:"Check Console tab for errors (red text)"}),t.jsx("li",{children:"Check Network tab for failed requests"}),t.jsx("li",{children:"Try opening in Incognito mode"}),t.jsx("li",{children:"Clear browser cache and cookies"}),t.jsx("li",{children:"Disable browser extensions"})]})]})]})]})},Gw="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Vw=()=>{const[n,a]=T.useState([]),i=(d,h="info")=>{a(x=>[...x,{message:d,status:h,timestamp:new Date().toLocaleTimeString()}])};T.useEffect(()=>{console.log(" Starting comprehensive diagnostic..."),i(" Diagnostic component mounted","success");try{i(" React hooks working","success")}catch(d){i(` React hooks error: ${d.message}`,"error")}i(` User Agent: ${navigator.userAgent.substring(0,50)}...`,"info"),i(` Location: ${window.location.href}`,"info");try{console.log("Testing console access"),i(" Console access working","success")}catch(d){i(` Console error: ${d.message}`,"error")}try{localStorage.setItem("diagnostic_test","working"),localStorage.removeItem("diagnostic_test"),i(" LocalStorage working","success")}catch(d){i(` LocalStorage error: ${d.message}`,"error")}fetch(`${Gw}/health`).then(d=>{d.ok?i(" Backend connection successful","success"):i(` Backend responded with ${d.status}`,"warning")}).catch(d=>{i(` Backend connection failed: ${d.message}`,"error")});try{i(` Current path: ${window.location.pathname}`,"info"),i(" Router path accessible","success")}catch(d){i(` Router error: ${d.message}`,"error")}},[]);const o={position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.9)",color:"white",padding:"20px",borderRadius:"8px",fontSize:"12px",zIndex:1e5,maxWidth:"80vw",maxHeight:"80vh",overflow:"auto",border:"2px solid #00ff00",fontFamily:"monospace"},u=d=>{switch(d){case"success":return"#00ff00";case"error":return"#ff0000";case"warning":return"#ffaa00";default:return"#ffffff"}};return t.jsxs("div",{style:o,children:[t.jsxs("div",{style:{marginBottom:"15px",textAlign:"center"},children:[t.jsx("strong",{children:" STARTUP DIAGNOSTIC"}),t.jsxs("div",{children:["Total checks: ",n.length]})]}),t.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:n.map((d,h)=>t.jsxs("div",{style:{color:u(d.status),marginBottom:"5px",padding:"2px 0"},children:["[",d.timestamp,"] ",d.message]},h))}),t.jsx("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"10px"},children:"Close this by refreshing without ?diagnostic in URL"})]})};console.log(" main.jsx loading");const zd=new URLSearchParams(window.location.search),Pw=zd.has("simple"),Iw=zd.has("diagnostic"),Qw=zd.has("basic");let io=$w;Qw?io=Fw:Pw?io=Yw:Iw&&(io=()=>t.jsx(Vw,{}));Qb.createRoot(document.getElementById("root")).render(t.jsx(_x.StrictMode,{children:t.jsx(io,{})}));
