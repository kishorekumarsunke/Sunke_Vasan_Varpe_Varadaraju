(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function so(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var bu={exports:{}},fr={};var hf;function _b(){if(hf)return fr;hf=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(o,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var x in u)x!=="key"&&(d[x]=u[x])}else d=u;return u=d.ref,{$$typeof:s,type:o,key:h,ref:u!==void 0?u:null,props:d}}return fr.Fragment=a,fr.jsx=i,fr.jsxs=i,fr}var ff;function Db(){return ff||(ff=1,bu.exports=_b()),bu.exports}var t=Db(),yu={exports:{}},Re={};var xf;function Rb(){if(xf)return Re;xf=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,H={};function k(N,O,v){this.props=N,this.context=O,this.refs=H,this.updater=v||B}k.prototype.isReactComponent={},k.prototype.setState=function(N,O){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,O,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function M(){}M.prototype=k.prototype;function U(N,O,v){this.props=N,this.context=O,this.refs=H,this.updater=v||B}var ae=U.prototype=new M;ae.constructor=U,C(ae,k.prototype),ae.isPureReactComponent=!0;var pe=Array.isArray;function Y(){}var q={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function de(N,O,v){var Z=v.ref;return{$$typeof:s,type:N,key:O,ref:Z!==void 0?Z:null,props:v}}function F(N,O){return de(N.type,O,N.props)}function E(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function X(N){var O={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(v){return O[v]})}var se=/\/+/g;function L(N,O){return typeof N=="object"&&N!==null&&N.key!=null?X(""+N.key):O.toString(36)}function le(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Y,Y):(N.status="pending",N.then(function(O){N.status==="pending"&&(N.status="fulfilled",N.value=O)},function(O){N.status==="pending"&&(N.status="rejected",N.reason=O)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function $(N,O,v,Z,ue){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var Ne=!1;if(N===null)Ne=!0;else switch(ge){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(N.$$typeof){case s:case a:Ne=!0;break;case g:return Ne=N._init,$(Ne(N._payload),O,v,Z,ue)}}if(Ne)return ue=ue(N),Ne=Z===""?"."+L(N,0):Z,pe(ue)?(v="",Ne!=null&&(v=Ne.replace(se,"$&/")+"/"),$(ue,O,v,"",function(zt){return zt})):ue!=null&&(E(ue)&&(ue=F(ue,v+(ue.key==null||N&&N.key===ue.key?"":(""+ue.key).replace(se,"$&/")+"/")+Ne)),O.push(ue)),1;Ne=0;var _e=Z===""?".":Z+":";if(pe(N))for(var Ee=0;Ee<N.length;Ee++)Z=N[Ee],ge=_e+L(Z,Ee),Ne+=$(Z,O,v,ge,ue);else if(Ee=j(N),typeof Ee=="function")for(N=Ee.call(N),Ee=0;!(Z=N.next()).done;)Z=Z.value,ge=_e+L(Z,Ee++),Ne+=$(Z,O,v,ge,ue);else if(ge==="object"){if(typeof N.then=="function")return $(le(N),O,v,Z,ue);throw O=String(N),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ne(N,O,v){if(N==null)return N;var Z=[],ue=0;return $(N,Z,"","",function(ge){return O.call(v,ge,ue++)}),Z}function ye(N){if(N._status===-1){var O=N._result;O=O(),O.then(function(v){(N._status===0||N._status===-1)&&(N._status=1,N._result=v)},function(v){(N._status===0||N._status===-1)&&(N._status=2,N._result=v)}),N._status===-1&&(N._status=0,N._result=O)}if(N._status===1)return N._result.default;throw N._result}var ke=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},A={map:ne,forEach:function(N,O,v){ne(N,function(){O.apply(this,arguments)},v)},count:function(N){var O=0;return ne(N,function(){O++}),O},toArray:function(N){return ne(N,function(O){return O})||[]},only:function(N){if(!E(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Re.Activity=y,Re.Children=A,Re.Component=k,Re.Fragment=i,Re.Profiler=u,Re.PureComponent=U,Re.StrictMode=o,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return q.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(N,O,v){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Z=C({},N.props),ue=N.key;if(O!=null)for(ge in O.key!==void 0&&(ue=""+O.key),O)!me.call(O,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&O.ref===void 0||(Z[ge]=O[ge]);var ge=arguments.length-2;if(ge===1)Z.children=v;else if(1<ge){for(var Ne=Array(ge),_e=0;_e<ge;_e++)Ne[_e]=arguments[_e+2];Z.children=Ne}return de(N.type,ue,Z)},Re.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},Re.createElement=function(N,O,v){var Z,ue={},ge=null;if(O!=null)for(Z in O.key!==void 0&&(ge=""+O.key),O)me.call(O,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ue[Z]=O[Z]);var Ne=arguments.length-2;if(Ne===1)ue.children=v;else if(1<Ne){for(var _e=Array(Ne),Ee=0;Ee<Ne;Ee++)_e[Ee]=arguments[Ee+2];ue.children=_e}if(N&&N.defaultProps)for(Z in Ne=N.defaultProps,Ne)ue[Z]===void 0&&(ue[Z]=Ne[Z]);return de(N,ge,ue)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:x,render:N}},Re.isValidElement=E,Re.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:ye}},Re.memo=function(N,O){return{$$typeof:f,type:N,compare:O===void 0?null:O}},Re.startTransition=function(N){var O=q.T,v={};q.T=v;try{var Z=N(),ue=q.S;ue!==null&&ue(v,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Y,ke)}catch(ge){ke(ge)}finally{O!==null&&v.types!==null&&(O.types=v.types),q.T=O}},Re.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Re.use=function(N){return q.H.use(N)},Re.useActionState=function(N,O,v){return q.H.useActionState(N,O,v)},Re.useCallback=function(N,O){return q.H.useCallback(N,O)},Re.useContext=function(N){return q.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,O){return q.H.useDeferredValue(N,O)},Re.useEffect=function(N,O){return q.H.useEffect(N,O)},Re.useEffectEvent=function(N){return q.H.useEffectEvent(N)},Re.useId=function(){return q.H.useId()},Re.useImperativeHandle=function(N,O,v){return q.H.useImperativeHandle(N,O,v)},Re.useInsertionEffect=function(N,O){return q.H.useInsertionEffect(N,O)},Re.useLayoutEffect=function(N,O){return q.H.useLayoutEffect(N,O)},Re.useMemo=function(N,O){return q.H.useMemo(N,O)},Re.useOptimistic=function(N,O){return q.H.useOptimistic(N,O)},Re.useReducer=function(N,O,v){return q.H.useReducer(N,O,v)},Re.useRef=function(N){return q.H.useRef(N)},Re.useState=function(N){return q.H.useState(N)},Re.useSyncExternalStore=function(N,O,v){return q.H.useSyncExternalStore(N,O,v)},Re.useTransition=function(){return q.H.useTransition()},Re.version="19.2.0",Re}var pf;function td(){return pf||(pf=1,yu.exports=Rb()),yu.exports}var T=td();const vx=so(T);var vu={exports:{}},xr={},ju={exports:{}},Nu={};var gf;function Mb(){return gf||(gf=1,(function(s){function a($,ne){var ye=$.length;$.push(ne);e:for(;0<ye;){var ke=ye-1>>>1,A=$[ke];if(0<u(A,ne))$[ke]=ne,$[ye]=A,ye=ke;else break e}}function i($){return $.length===0?null:$[0]}function o($){if($.length===0)return null;var ne=$[0],ye=$.pop();if(ye!==ne){$[0]=ye;e:for(var ke=0,A=$.length,N=A>>>1;ke<N;){var O=2*(ke+1)-1,v=$[O],Z=O+1,ue=$[Z];if(0>u(v,ye))Z<A&&0>u(ue,v)?($[ke]=ue,$[Z]=ye,ke=Z):($[ke]=v,$[O]=ye,ke=O);else if(Z<A&&0>u(ue,ye))$[ke]=ue,$[Z]=ye,ke=Z;else break e}}return ne}function u($,ne){var ye=$.sortIndex-ne.sortIndex;return ye!==0?ye:$.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,x=h.now();s.unstable_now=function(){return h.now()-x}}var p=[],f=[],g=1,y=null,S=3,j=!1,B=!1,C=!1,H=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function ae($){for(var ne=i(f);ne!==null;){if(ne.callback===null)o(f);else if(ne.startTime<=$)o(f),ne.sortIndex=ne.expirationTime,a(p,ne);else break;ne=i(f)}}function pe($){if(C=!1,ae($),!B)if(i(p)!==null)B=!0,Y||(Y=!0,X());else{var ne=i(f);ne!==null&&le(pe,ne.startTime-$)}}var Y=!1,q=-1,me=5,de=-1;function F(){return H?!0:!(s.unstable_now()-de<me)}function E(){if(H=!1,Y){var $=s.unstable_now();de=$;var ne=!0;try{e:{B=!1,C&&(C=!1,M(q),q=-1),j=!0;var ye=S;try{t:{for(ae($),y=i(p);y!==null&&!(y.expirationTime>$&&F());){var ke=y.callback;if(typeof ke=="function"){y.callback=null,S=y.priorityLevel;var A=ke(y.expirationTime<=$);if($=s.unstable_now(),typeof A=="function"){y.callback=A,ae($),ne=!0;break t}y===i(p)&&o(p),ae($)}else o(p);y=i(p)}if(y!==null)ne=!0;else{var N=i(f);N!==null&&le(pe,N.startTime-$),ne=!1}}break e}finally{y=null,S=ye,j=!1}ne=void 0}}finally{ne?X():Y=!1}}}var X;if(typeof U=="function")X=function(){U(E)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,L=se.port2;se.port1.onmessage=E,X=function(){L.postMessage(null)}}else X=function(){k(E,0)};function le($,ne){q=k(function(){$(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function($){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var ye=S;S=ne;try{return $()}finally{S=ye}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function($,ne){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ye=S;S=$;try{return ne()}finally{S=ye}},s.unstable_scheduleCallback=function($,ne,ye){var ke=s.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ke+ye:ke):ye=ke,$){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ye+A,$={id:g++,callback:ne,priorityLevel:$,startTime:ye,expirationTime:A,sortIndex:-1},ye>ke?($.sortIndex=ye,a(f,$),i(p)===null&&$===i(f)&&(C?(M(q),q=-1):C=!0,le(pe,ye-ke))):($.sortIndex=A,a(p,$),B||j||(B=!0,Y||(Y=!0,X()))),$},s.unstable_shouldYield=F,s.unstable_wrapCallback=function($){var ne=S;return function(){var ye=S;S=ne;try{return $.apply(this,arguments)}finally{S=ye}}}})(Nu)),Nu}var bf;function zb(){return bf||(bf=1,ju.exports=Mb()),ju.exports}var wu={exports:{}},Qt={};var yf;function Lb(){if(yf)return Qt;yf=1;var s=td();function a(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(p,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:p,containerInfo:f,implementation:g}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Qt.createPortal=function(p,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(a(299));return d(p,f,null,g)},Qt.flushSync=function(p){var f=h.T,g=o.p;try{if(h.T=null,o.p=2,p)return p()}finally{h.T=f,o.p=g,o.d.f()}},Qt.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(p,f))},Qt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},Qt.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var g=f.as,y=x(g,f.crossOrigin),S=typeof f.integrity=="string"?f.integrity:void 0,j=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?o.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:j}):g==="script"&&o.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:j,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Qt.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=x(f.as,f.crossOrigin);o.d.M(p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(p)},Qt.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=x(g,f.crossOrigin);o.d.L(p,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Qt.preloadModule=function(p,f){if(typeof p=="string")if(f){var g=x(f.as,f.crossOrigin);o.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(p)},Qt.requestFormReset=function(p){o.d.r(p)},Qt.unstable_batchedUpdates=function(p,f){return p(f)},Qt.useFormState=function(p,f,g){return h.H.useFormState(p,f,g)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.2.0",Qt}var vf;function Ob(){if(vf)return wu.exports;vf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),wu.exports=Lb(),wu.exports}var jf;function Bb(){if(jf)return xr;jf=1;var s=zb(),a=td(),i=Ob();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(o(188))}function f(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(o(188));return n!==e?null:e}for(var l=e,r=n;;){var c=l.return;if(c===null)break;var m=c.alternate;if(m===null){if(r=c.return,r!==null){l=r;continue}break}if(c.child===m.child){for(m=c.child;m;){if(m===l)return p(c),e;if(m===r)return p(c),n;m=m.sibling}throw Error(o(188))}if(l.return!==r.return)l=c,r=m;else{for(var b=!1,w=c.child;w;){if(w===l){b=!0,l=c,r=m;break}if(w===r){b=!0,r=c,l=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===l){b=!0,l=m,r=c;break}if(w===r){b=!0,r=m,l=c;break}w=w.sibling}if(!b)throw Error(o(189))}}if(l.alternate!==r)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),U=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=E&&e[E]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function L(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case k:return"Profiler";case H:return"StrictMode";case pe:return"Suspense";case Y:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case U:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case ae:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return n=e.displayName||null,n!==null?n:L(e.type)||"Memo";case me:n=e._payload,e=e._init;try{return L(e(n))}catch{}}return null}var le=Array.isArray,$=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ke=[],A=-1;function N(e){return{current:e}}function O(e){0>A||(e.current=ke[A],ke[A]=null,A--)}function v(e,n){A++,ke[A]=e.current,e.current=n}var Z=N(null),ue=N(null),ge=N(null),Ne=N(null);function _e(e,n){switch(v(ge,n),v(ue,e),v(Z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Lh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Lh(n),e=Oh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(Z),v(Z,e)}function Ee(){O(Z),O(ue),O(ge)}function zt(e){e.memoizedState!==null&&v(Ne,e);var n=Z.current,l=Oh(n,e.type);n!==l&&(v(ue,e),v(Z,l))}function _t(e){ue.current===e&&(O(Z),O(ue)),Ne.current===e&&(O(Ne),ur._currentValue=ye)}var qn,yt;function Ft(e){if(qn===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);qn=n&&n[1]||"",yt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qn+e+yt}var Sn=!1;function xt(e,n){if(!e||Sn)return"";Sn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var I=J}Reflect.construct(e,[],ie)}else{try{ie.call()}catch(J){I=J}e.call(ie.prototype)}}else{try{throw Error()}catch(J){I=J}(ie=e())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&I&&typeof J.stack=="string")return[J.stack,I.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=r.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var R=b.split(`
`),Q=w.split(`
`);for(c=r=0;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;for(;c<Q.length&&!Q[c].includes("DetermineComponentFrameRoot");)c++;if(r===R.length||c===Q.length)for(r=R.length-1,c=Q.length-1;1<=r&&0<=c&&R[r]!==Q[c];)c--;for(;1<=r&&0<=c;r--,c--)if(R[r]!==Q[c]){if(r!==1||c!==1)do if(r--,c--,0>c||R[r]!==Q[c]){var ee=`
`+R[r].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=r&&0<=c);break}}}finally{Sn=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ft(l):""}function Wt(e,n){switch(e.tag){case 26:case 27:case 5:return Ft(e.type);case 16:return Ft("Lazy");case 13:return e.child!==n&&n!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return xt(e.type,!1);case 11:return xt(e.type.render,!1);case 1:return xt(e.type,!0);case 31:return Ft("Activity");default:return""}}function Xn(e){try{var n="",l=null;do n+=Wt(e,l),l=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var vt=Object.prototype.hasOwnProperty,$n=s.unstable_scheduleCallback,In=s.unstable_cancelCallback,Gt=s.unstable_shouldYield,dn=s.unstable_requestPaint,St=s.unstable_now,mn=s.unstable_getCurrentPriorityLevel,K=s.unstable_ImmediatePriority,be=s.unstable_UserBlockingPriority,Te=s.unstable_NormalPriority,Me=s.unstable_LowPriority,$e=s.unstable_IdlePriority,Ot=s.log,en=s.unstable_setDisableYieldValue,mt=null,pt=null;function Dt(e){if(typeof Ot=="function"&&en(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(mt,e)}catch{}}var Ue=Math.clz32?Math.clz32:Bt,Pt=Math.log,It=Math.LN2;function Bt(e){return e>>>=0,e===0?32:31-(Pt(e)/It|0)|0}var Zn=256,Ls=262144,Os=4194304;function Tn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bs(e,n,l){var r=e.pendingLanes;if(r===0)return 0;var c=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=r&134217727;return w!==0?(r=w&~m,r!==0?c=Tn(r):(b&=w,b!==0?c=Tn(b):l||(l=w&~e,l!==0&&(c=Tn(l))))):(w=r&~m,w!==0?c=Tn(w):b!==0?c=Tn(b):l||(l=r&~e,l!==0&&(c=Tn(l)))),c===0?0:n!==0&&n!==c&&(n&m)===0&&(m=c&-c,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:c}function Zt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function is(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(){var e=Os;return Os<<=1,(Os&62914560)===0&&(Os=4194304),e}function cs(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function us(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ul(e,n,l,r,c,m){var b=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var w=e.entanglements,R=e.expirationTimes,Q=e.hiddenUpdates;for(l=b&~l;0<l;){var ee=31-Ue(l),ie=1<<ee;w[ee]=0,R[ee]=-1;var I=Q[ee];if(I!==null)for(Q[ee]=null,ee=0;ee<I.length;ee++){var J=I[ee];J!==null&&(J.lane&=-536870913)}l&=~ie}r!==0&&dl(e,r,0),m!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~n))}function dl(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Ue(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|l&261930}function zl(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var r=31-Ue(l),c=1<<r;c&n|e[r]&n&&(e[r]|=n),l&=~c}}function Ll(e,n){var l=n&-n;return l=(l&42)!==0?1:ml(l),(l&(e.suspendedLanes|n))!==0?0:l}function ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Jn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hl(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:af(e.type))}function Kn(e,n){var l=ne.p;try{return ne.p=e,n()}finally{ne.p=l}}var kn=Math.random().toString(36).slice(2),_="__reactFiber$"+kn,ce="__reactProps$"+kn,oe="__reactContainer$"+kn,He="__reactEvents$"+kn,D="__reactListeners$"+kn,te="__reactHandles$"+kn,W="__reactResources$"+kn,fe="__reactMarker$"+kn;function je(e){delete e[_],delete e[ce],delete e[He],delete e[D],delete e[te]}function G(e){var n=e[_];if(n)return n;for(var l=e.parentNode;l;){if(n=l[oe]||l[_]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Vh(e);e!==null;){if(l=e[_])return l;e=Vh(e)}return n}e=l,l=e.parentNode}return null}function Ye(e){if(e=e[_]||e[oe]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function et(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function he(e){var n=e[W];return n||(n=e[W]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(e){e[fe]=!0}var tt=new Set,fl={};function Ut(e,n){Ol(e,n),Ol(e+"Capture",n)}function Ol(e,n){for(fl[e]=n,e=0;e<n.length;e++)tt.add(n[e])}var jp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Td={},kd={};function Np(e){return vt.call(kd,e)?!0:vt.call(Td,e)?!1:jp.test(e)?kd[e]=!0:(Td[e]=!0,!1)}function Dr(e,n,l){if(Np(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Rr(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function ds(e,n,l,r){if(r===null)e.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+r)}}function Cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wp(e,n,l){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,m=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function uo(e){if(!e._valueTracker){var n=Cd(e)?"checked":"value";e._valueTracker=wp(e,n,""+e[n])}}function Ed(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),r="";return e&&(r=Cd(e)?e.checked?"true":"false":e.value),e=r,e!==l?(n.setValue(e),!0):!1}function Mr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sp=/[\n"\\]/g;function En(e){return e.replace(Sp,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mo(e,n,l,r,c,m,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Cn(n)):e.value!==""+Cn(n)&&(e.value=""+Cn(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?ho(e,b,Cn(n)):l!=null?ho(e,b,Cn(l)):r!=null&&e.removeAttribute("value"),c==null&&m!=null&&(e.defaultChecked=!!m),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Cn(w):e.removeAttribute("name")}function Ad(e,n,l,r,c,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){uo(e);return}l=l!=null?""+Cn(l):"",n=n!=null?""+Cn(n):l,w||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=w?e.checked:!!r,e.defaultChecked=!!r,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),uo(e)}function ho(e,n,l){n==="number"&&Mr(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Bl(e,n,l,r){if(e=e.options,n){n={};for(var c=0;c<l.length;c++)n["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=n.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&r&&(e[l].defaultSelected=!0)}else{for(l=""+Cn(l),n=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function _d(e,n,l){if(n!=null&&(n=""+Cn(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Cn(l):""}function Dd(e,n,l,r){if(n==null){if(r!=null){if(l!=null)throw Error(o(92));if(le(r)){if(1<r.length)throw Error(o(93));r=r[0]}l=r}l==null&&(l=""),n=l}l=Cn(n),e.defaultValue=l,r=e.textContent,r===l&&r!==""&&r!==null&&(e.value=r),uo(e)}function Ul(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Tp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rd(e,n,l){var r=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,l):typeof l!="number"||l===0||Tp.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Md(e,n,l){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&l[c]!==r&&Rd(e,c,r)}else for(var m in n)n.hasOwnProperty(m)&&Rd(e,m,n[m])}function fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zr(e){return Cp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ms(){}var xo=null;function po(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hl=null,ql=null;function zd(e){var n=Ye(e);if(n&&(e=n.stateNode)){var l=e[ce]||null;e:switch(e=n.stateNode,n.type){case"input":if(mo(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+En(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var r=l[n];if(r!==e&&r.form===e.form){var c=r[ce]||null;if(!c)throw Error(o(90));mo(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<l.length;n++)r=l[n],r.form===e.form&&Ed(r)}break e;case"textarea":_d(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Bl(e,!!l.multiple,n,!1)}}}var go=!1;function Ld(e,n,l){if(go)return e(n,l);go=!0;try{var r=e(n);return r}finally{if(go=!1,(Hl!==null||ql!==null)&&(ji(),Hl&&(n=Hl,e=ql,ql=Hl=null,zd(n),e)))for(n=0;n<e.length;n++)zd(e[n])}}function Ca(e,n){var l=e.stateNode;if(l===null)return null;var r=l[ce]||null;if(r===null)return null;l=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,n,typeof l));return l}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(hs)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){bo=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{bo=!1}var Us=null,yo=null,Lr=null;function Od(){if(Lr)return Lr;var e,n=yo,l=n.length,r,c="value"in Us?Us.value:Us.textContent,m=c.length;for(e=0;e<l&&n[e]===c[e];e++);var b=l-e;for(r=1;r<=b&&n[l-r]===c[m-r];r++);return Lr=c.slice(e,1<r?1-r:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Br(){return!0}function Bd(){return!1}function tn(e){function n(l,r,c,m,b){this._reactName=l,this._targetInst=c,this.type=r,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(l=e[w],this[w]=l?l(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Br:Bd,this.isPropagationStopped=Bd,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),n}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ur=tn(xl),Aa=y({},xl,{view:0,detail:0}),Ep=tn(Aa),vo,jo,_a,Hr=y({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_a&&(_a&&e.type==="mousemove"?(vo=e.screenX-_a.screenX,jo=e.screenY-_a.screenY):jo=vo=0,_a=e),vo)},movementY:function(e){return"movementY"in e?e.movementY:jo}}),Ud=tn(Hr),Ap=y({},Hr,{dataTransfer:0}),_p=tn(Ap),Dp=y({},Aa,{relatedTarget:0}),No=tn(Dp),Rp=y({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),Mp=tn(Rp),zp=y({},xl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lp=tn(zp),Op=y({},xl,{data:0}),Hd=tn(Op),Bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Hp[e])?!!n[e]:!1}function wo(){return qp}var $p=y({},Aa,{key:function(e){if(e.key){var n=Bp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yp=tn($p),Vp=y({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=tn(Vp),Fp=y({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),Gp=tn(Fp),Pp=y({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qp=tn(Pp),Xp=y({},Hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ip=tn(Xp),Zp=y({},xl,{newState:0,oldState:0}),Jp=tn(Zp),Kp=[9,13,27,32],So=hs&&"CompositionEvent"in window,Da=null;hs&&"documentMode"in document&&(Da=document.documentMode);var Wp=hs&&"TextEvent"in window&&!Da,$d=hs&&(!So||Da&&8<Da&&11>=Da),Yd=" ",Vd=!1;function Fd(e,n){switch(e){case"keyup":return Kp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $l=!1;function eg(e,n){switch(e){case"compositionend":return Gd(n);case"keypress":return n.which!==32?null:(Vd=!0,Yd);case"textInput":return e=n.data,e===Yd&&Vd?null:e;default:return null}}function tg(e,n){if($l)return e==="compositionend"||!So&&Fd(e,n)?(e=Od(),Lr=yo=Us=null,$l=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return $d&&n.locale!=="ko"?null:n.data;default:return null}}var ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ng[e.type]:n==="textarea"}function Qd(e,n,l,r){Hl?ql?ql.push(r):ql=[r]:Hl=r,n=Ei(n,"onChange"),0<n.length&&(l=new Ur("onChange","change",null,l,r),e.push({event:l,listeners:n}))}var Ra=null,Ma=null;function sg(e){Ah(e,0)}function qr(e){var n=et(e);if(Ed(n))return e}function Xd(e,n){if(e==="change")return n}var Id=!1;if(hs){var To;if(hs){var ko="oninput"in document;if(!ko){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),ko=typeof Zd.oninput=="function"}To=ko}else To=!1;Id=To&&(!document.documentMode||9<document.documentMode)}function Jd(){Ra&&(Ra.detachEvent("onpropertychange",Kd),Ma=Ra=null)}function Kd(e){if(e.propertyName==="value"&&qr(Ma)){var n=[];Qd(n,Ma,e,po(e)),Ld(sg,n)}}function lg(e,n,l){e==="focusin"?(Jd(),Ra=n,Ma=l,Ra.attachEvent("onpropertychange",Kd)):e==="focusout"&&Jd()}function ag(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qr(Ma)}function rg(e,n){if(e==="click")return qr(n)}function ig(e,n){if(e==="input"||e==="change")return qr(n)}function og(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:og;function za(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),r=Object.keys(n);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var c=l[r];if(!vt.call(n,c)||!hn(e[c],n[c]))return!1}return!0}function Wd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function em(e,n){var l=Wd(e);e=0;for(var r;l;){if(l.nodeType===3){if(r=e+l.textContent.length,e<=n&&r>=n)return{node:l,offset:n-e};e=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wd(l)}}function tm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?tm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function nm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Mr(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Mr(e.document)}return n}function Co(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var cg=hs&&"documentMode"in document&&11>=document.documentMode,Yl=null,Eo=null,La=null,Ao=!1;function sm(e,n,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ao||Yl==null||Yl!==Mr(r)||(r=Yl,"selectionStart"in r&&Co(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&za(La,r)||(La=r,r=Ei(Eo,"onSelect"),0<r.length&&(n=new Ur("onSelect","select",null,n,l),e.push({event:n,listeners:r}),n.target=Yl)))}function pl(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Vl={animationend:pl("Animation","AnimationEnd"),animationiteration:pl("Animation","AnimationIteration"),animationstart:pl("Animation","AnimationStart"),transitionrun:pl("Transition","TransitionRun"),transitionstart:pl("Transition","TransitionStart"),transitioncancel:pl("Transition","TransitionCancel"),transitionend:pl("Transition","TransitionEnd")},_o={},lm={};hs&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function gl(e){if(_o[e])return _o[e];if(!Vl[e])return e;var n=Vl[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in lm)return _o[e]=n[l];return e}var am=gl("animationend"),rm=gl("animationiteration"),im=gl("animationstart"),ug=gl("transitionrun"),dg=gl("transitionstart"),mg=gl("transitioncancel"),om=gl("transitionend"),cm=new Map,Do="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Do.push("scrollEnd");function Yn(e,n){cm.set(e,n),Ut(n,[e])}var $r=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},An=[],Fl=0,Ro=0;function Yr(){for(var e=Fl,n=Ro=Fl=0;n<e;){var l=An[n];An[n++]=null;var r=An[n];An[n++]=null;var c=An[n];An[n++]=null;var m=An[n];if(An[n++]=null,r!==null&&c!==null){var b=r.pending;b===null?c.next=c:(c.next=b.next,b.next=c),r.pending=c}m!==0&&um(l,c,m)}}function Vr(e,n,l,r){An[Fl++]=e,An[Fl++]=n,An[Fl++]=l,An[Fl++]=r,Ro|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Mo(e,n,l,r){return Vr(e,n,l,r),Fr(e)}function bl(e,n){return Vr(e,null,null,n),Fr(e)}function um(e,n,l){e.lanes|=l;var r=e.alternate;r!==null&&(r.lanes|=l);for(var c=!1,m=e.return;m!==null;)m.childLanes|=l,r=m.alternate,r!==null&&(r.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(c=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,c&&n!==null&&(c=31-Ue(l),e=m.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=l|536870912),m):null}function Fr(e){if(50<sr)throw sr=0,Yc=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Gl={};function hg(e,n,l,r){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,l,r){return new hg(e,n,l,r)}function zo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fs(e,n){var l=e.alternate;return l===null?(l=fn(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function dm(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Gr(e,n,l,r,c,m){var b=0;if(r=e,typeof e=="function")zo(e)&&(b=1);else if(typeof e=="string")b=bb(e,l,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=fn(31,l,n,c),e.elementType=de,e.lanes=m,e;case C:return yl(l.children,c,m,n);case H:b=8,c|=24;break;case k:return e=fn(12,l,n,c|2),e.elementType=k,e.lanes=m,e;case pe:return e=fn(13,l,n,c),e.elementType=pe,e.lanes=m,e;case Y:return e=fn(19,l,n,c),e.elementType=Y,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:b=10;break e;case M:b=9;break e;case ae:b=11;break e;case q:b=14;break e;case me:b=16,r=null;break e}b=29,l=Error(o(130,e===null?"null":typeof e,"")),r=null}return n=fn(b,l,n,c),n.elementType=e,n.type=r,n.lanes=m,n}function yl(e,n,l,r){return e=fn(7,e,r,n),e.lanes=l,e}function Lo(e,n,l){return e=fn(6,e,null,n),e.lanes=l,e}function mm(e){var n=fn(18,null,null,0);return n.stateNode=e,n}function Oo(e,n,l){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hm=new WeakMap;function _n(e,n){if(typeof e=="object"&&e!==null){var l=hm.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Xn(n)},hm.set(e,n),n)}return{value:e,source:n,stack:Xn(n)}}var Pl=[],Ql=0,Pr=null,Oa=0,Dn=[],Rn=0,Hs=null,Wn=1,es="";function xs(e,n){Pl[Ql++]=Oa,Pl[Ql++]=Pr,Pr=e,Oa=n}function fm(e,n,l){Dn[Rn++]=Wn,Dn[Rn++]=es,Dn[Rn++]=Hs,Hs=e;var r=Wn;e=es;var c=32-Ue(r)-1;r&=~(1<<c),l+=1;var m=32-Ue(n)+c;if(30<m){var b=c-c%5;m=(r&(1<<b)-1).toString(32),r>>=b,c-=b,Wn=1<<32-Ue(n)+c|l<<c|r,es=m+e}else Wn=1<<m|l<<c|r,es=e}function Bo(e){e.return!==null&&(xs(e,1),fm(e,1,0))}function Uo(e){for(;e===Pr;)Pr=Pl[--Ql],Pl[Ql]=null,Oa=Pl[--Ql],Pl[Ql]=null;for(;e===Hs;)Hs=Dn[--Rn],Dn[Rn]=null,es=Dn[--Rn],Dn[Rn]=null,Wn=Dn[--Rn],Dn[Rn]=null}function xm(e,n){Dn[Rn++]=Wn,Dn[Rn++]=es,Dn[Rn++]=Hs,Wn=n.id,es=n.overflow,Hs=e}var Ht=null,ct=null,Qe=!1,qs=null,Mn=!1,Ho=Error(o(519));function $s(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ba(_n(n,e)),Ho}function pm(e){var n=e.stateNode,l=e.type,r=e.memoizedProps;switch(n[_]=e,n[ce]=r,l){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(l=0;l<ar.length;l++)Fe(ar[l],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Fe("invalid",n),Ad(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Fe("invalid",n);break;case"textarea":Fe("invalid",n),Dd(n,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||r.suppressHydrationWarning===!0||Mh(n.textContent,l)?(r.popover!=null&&(Fe("beforetoggle",n),Fe("toggle",n)),r.onScroll!=null&&Fe("scroll",n),r.onScrollEnd!=null&&Fe("scrollend",n),r.onClick!=null&&(n.onclick=ms),n=!0):n=!1,n||$s(e,!0)}function gm(e){for(Ht=e.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Ht=Ht.return}}function Xl(e){if(e!==Ht)return!1;if(!Qe)return gm(e),Qe=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||su(e.type,e.memoizedProps)),l=!l),l&&ct&&$s(e),gm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ct=Yh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ct=Yh(e)}else n===27?(n=ct,tl(e.type)?(e=ou,ou=null,ct=e):ct=n):ct=Ht?Ln(e.stateNode.nextSibling):null;return!0}function vl(){ct=Ht=null,Qe=!1}function qo(){var e=qs;return e!==null&&(an===null?an=e:an.push.apply(an,e),qs=null),e}function Ba(e){qs===null?qs=[e]:qs.push(e)}var $o=N(null),jl=null,ps=null;function Ys(e,n,l){v($o,n._currentValue),n._currentValue=l}function gs(e){e._currentValue=$o.current,O($o)}function Yo(e,n,l){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===l)break;e=e.return}}function Vo(e,n,l,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var m=c.dependencies;if(m!==null){var b=c.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=c;for(var R=0;R<n.length;R++)if(w.context===n[R]){m.lanes|=l,w=m.alternate,w!==null&&(w.lanes|=l),Yo(m.return,l,e),r||(b=null);break e}m=w.next}}else if(c.tag===18){if(b=c.return,b===null)throw Error(o(341));b.lanes|=l,m=b.alternate,m!==null&&(m.lanes|=l),Yo(b,l,e),b=null}else b=c.child;if(b!==null)b.return=c;else for(b=c;b!==null;){if(b===e){b=null;break}if(c=b.sibling,c!==null){c.return=b.return,b=c;break}b=b.return}c=b}}function Il(e,n,l,r){e=null;for(var c=n,m=!1;c!==null;){if(!m){if((c.flags&524288)!==0)m=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var b=c.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var w=c.type;hn(c.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(c===Ne.current){if(b=c.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ur):e=[ur])}c=c.return}e!==null&&Vo(n,e,l,r),n.flags|=262144}function Qr(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nl(e){jl=e,ps=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return bm(jl,e)}function Xr(e,n){return jl===null&&Nl(e),bm(e,n)}function bm(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},ps===null){if(e===null)throw Error(o(308));ps=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ps=ps.next=n;return l}var fg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},xg=s.unstable_scheduleCallback,pg=s.unstable_NormalPriority,Tt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new fg,data:new Map,refCount:0}}function Ua(e){e.refCount--,e.refCount===0&&xg(pg,function(){e.controller.abort()})}var Ha=null,Go=0,Zl=0,Jl=null;function gg(e,n){if(Ha===null){var l=Ha=[];Go=0,Zl=Xc(),Jl={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Go++,n.then(ym,ym),n}function ym(){if(--Go===0&&Ha!==null){Jl!==null&&(Jl.status="fulfilled");var e=Ha;Ha=null,Zl=0,Jl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function bg(e,n){var l=[],r={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<l.length;c++)(0,l[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),r}var vm=$.S;$.S=function(e,n){sh=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&gg(e,n),vm!==null&&vm(e,n)};var wl=N(null);function Po(){var e=wl.current;return e!==null?e:at.pooledCache}function Ir(e,n){n===null?v(wl,wl.current):v(wl,n.pool)}function jm(){var e=Po();return e===null?null:{parent:Tt._currentValue,pool:e}}var Kl=Error(o(460)),Qo=Error(o(474)),Zr=Error(o(542)),Jr={then:function(){}};function Nm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wm(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(ms,ms),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tm(e),e;default:if(typeof n.status=="string")n.then(ms,ms);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tm(e),e}throw Tl=n,Kl}}function Sl(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Tl=l,Kl):l}}var Tl=null;function Sm(){if(Tl===null)throw Error(o(459));var e=Tl;return Tl=null,e}function Tm(e){if(e===Kl||e===Zr)throw Error(o(483))}var Wl=null,qa=0;function Kr(e){var n=qa;return qa+=1,Wl===null&&(Wl=[]),wm(Wl,e,n)}function $a(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Wr(e,n){throw n.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function km(e){function n(V,z){if(e){var P=V.deletions;P===null?(V.deletions=[z],V.flags|=16):P.push(z)}}function l(V,z){if(!e)return null;for(;z!==null;)n(V,z),z=z.sibling;return null}function r(V){for(var z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function c(V,z){return V=fs(V,z),V.index=0,V.sibling=null,V}function m(V,z,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<z?(V.flags|=67108866,z):P):(V.flags|=67108866,z)):(V.flags|=1048576,z)}function b(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function w(V,z,P,re){return z===null||z.tag!==6?(z=Lo(P,V.mode,re),z.return=V,z):(z=c(z,P),z.return=V,z)}function R(V,z,P,re){var Se=P.type;return Se===C?ee(V,z,P.props.children,re,P.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===me&&Sl(Se)===z.type)?(z=c(z,P.props),$a(z,P),z.return=V,z):(z=Gr(P.type,P.key,P.props,null,V.mode,re),$a(z,P),z.return=V,z)}function Q(V,z,P,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==P.containerInfo||z.stateNode.implementation!==P.implementation?(z=Oo(P,V.mode,re),z.return=V,z):(z=c(z,P.children||[]),z.return=V,z)}function ee(V,z,P,re,Se){return z===null||z.tag!==7?(z=yl(P,V.mode,re,Se),z.return=V,z):(z=c(z,P),z.return=V,z)}function ie(V,z,P){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Lo(""+z,V.mode,P),z.return=V,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return P=Gr(z.type,z.key,z.props,null,V.mode,P),$a(P,z),P.return=V,P;case B:return z=Oo(z,V.mode,P),z.return=V,z;case me:return z=Sl(z),ie(V,z,P)}if(le(z)||X(z))return z=yl(z,V.mode,P,null),z.return=V,z;if(typeof z.then=="function")return ie(V,Kr(z),P);if(z.$$typeof===U)return ie(V,Xr(V,z),P);Wr(V,z)}return null}function I(V,z,P,re){var Se=z!==null?z.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return Se!==null?null:w(V,z,""+P,re);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case j:return P.key===Se?R(V,z,P,re):null;case B:return P.key===Se?Q(V,z,P,re):null;case me:return P=Sl(P),I(V,z,P,re)}if(le(P)||X(P))return Se!==null?null:ee(V,z,P,re,null);if(typeof P.then=="function")return I(V,z,Kr(P),re);if(P.$$typeof===U)return I(V,z,Xr(V,P),re);Wr(V,P)}return null}function J(V,z,P,re,Se){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return V=V.get(P)||null,w(z,V,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case j:return V=V.get(re.key===null?P:re.key)||null,R(z,V,re,Se);case B:return V=V.get(re.key===null?P:re.key)||null,Q(z,V,re,Se);case me:return re=Sl(re),J(V,z,P,re,Se)}if(le(re)||X(re))return V=V.get(P)||null,ee(z,V,re,Se,null);if(typeof re.then=="function")return J(V,z,P,Kr(re),Se);if(re.$$typeof===U)return J(V,z,P,Xr(z,re),Se);Wr(z,re)}return null}function ve(V,z,P,re){for(var Se=null,Xe=null,we=z,Oe=z=0,Pe=null;we!==null&&Oe<P.length;Oe++){we.index>Oe?(Pe=we,we=null):Pe=we.sibling;var Ie=I(V,we,P[Oe],re);if(Ie===null){we===null&&(we=Pe);break}e&&we&&Ie.alternate===null&&n(V,we),z=m(Ie,z,Oe),Xe===null?Se=Ie:Xe.sibling=Ie,Xe=Ie,we=Pe}if(Oe===P.length)return l(V,we),Qe&&xs(V,Oe),Se;if(we===null){for(;Oe<P.length;Oe++)we=ie(V,P[Oe],re),we!==null&&(z=m(we,z,Oe),Xe===null?Se=we:Xe.sibling=we,Xe=we);return Qe&&xs(V,Oe),Se}for(we=r(we);Oe<P.length;Oe++)Pe=J(we,V,Oe,P[Oe],re),Pe!==null&&(e&&Pe.alternate!==null&&we.delete(Pe.key===null?Oe:Pe.key),z=m(Pe,z,Oe),Xe===null?Se=Pe:Xe.sibling=Pe,Xe=Pe);return e&&we.forEach(function(rl){return n(V,rl)}),Qe&&xs(V,Oe),Se}function Ce(V,z,P,re){if(P==null)throw Error(o(151));for(var Se=null,Xe=null,we=z,Oe=z=0,Pe=null,Ie=P.next();we!==null&&!Ie.done;Oe++,Ie=P.next()){we.index>Oe?(Pe=we,we=null):Pe=we.sibling;var rl=I(V,we,Ie.value,re);if(rl===null){we===null&&(we=Pe);break}e&&we&&rl.alternate===null&&n(V,we),z=m(rl,z,Oe),Xe===null?Se=rl:Xe.sibling=rl,Xe=rl,we=Pe}if(Ie.done)return l(V,we),Qe&&xs(V,Oe),Se;if(we===null){for(;!Ie.done;Oe++,Ie=P.next())Ie=ie(V,Ie.value,re),Ie!==null&&(z=m(Ie,z,Oe),Xe===null?Se=Ie:Xe.sibling=Ie,Xe=Ie);return Qe&&xs(V,Oe),Se}for(we=r(we);!Ie.done;Oe++,Ie=P.next())Ie=J(we,V,Oe,Ie.value,re),Ie!==null&&(e&&Ie.alternate!==null&&we.delete(Ie.key===null?Oe:Ie.key),z=m(Ie,z,Oe),Xe===null?Se=Ie:Xe.sibling=Ie,Xe=Ie);return e&&we.forEach(function(Ab){return n(V,Ab)}),Qe&&xs(V,Oe),Se}function lt(V,z,P,re){if(typeof P=="object"&&P!==null&&P.type===C&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case j:e:{for(var Se=P.key;z!==null;){if(z.key===Se){if(Se=P.type,Se===C){if(z.tag===7){l(V,z.sibling),re=c(z,P.props.children),re.return=V,V=re;break e}}else if(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===me&&Sl(Se)===z.type){l(V,z.sibling),re=c(z,P.props),$a(re,P),re.return=V,V=re;break e}l(V,z);break}else n(V,z);z=z.sibling}P.type===C?(re=yl(P.props.children,V.mode,re,P.key),re.return=V,V=re):(re=Gr(P.type,P.key,P.props,null,V.mode,re),$a(re,P),re.return=V,V=re)}return b(V);case B:e:{for(Se=P.key;z!==null;){if(z.key===Se)if(z.tag===4&&z.stateNode.containerInfo===P.containerInfo&&z.stateNode.implementation===P.implementation){l(V,z.sibling),re=c(z,P.children||[]),re.return=V,V=re;break e}else{l(V,z);break}else n(V,z);z=z.sibling}re=Oo(P,V.mode,re),re.return=V,V=re}return b(V);case me:return P=Sl(P),lt(V,z,P,re)}if(le(P))return ve(V,z,P,re);if(X(P)){if(Se=X(P),typeof Se!="function")throw Error(o(150));return P=Se.call(P),Ce(V,z,P,re)}if(typeof P.then=="function")return lt(V,z,Kr(P),re);if(P.$$typeof===U)return lt(V,z,Xr(V,P),re);Wr(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,z!==null&&z.tag===6?(l(V,z.sibling),re=c(z,P),re.return=V,V=re):(l(V,z),re=Lo(P,V.mode,re),re.return=V,V=re),b(V)):l(V,z)}return function(V,z,P,re){try{qa=0;var Se=lt(V,z,P,re);return Wl=null,Se}catch(we){if(we===Kl||we===Zr)throw we;var Xe=fn(29,we,null,V.mode);return Xe.lanes=re,Xe.return=V,Xe}finally{}}}var kl=km(!0),Cm=km(!1),Vs=!1;function Xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Io(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(e,n,l){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ze&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=Fr(e),um(e,null,l),n}return Vr(e,r,n,l),Fr(e)}function Ya(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,l|=r,n.lanes=l,zl(e,l)}}function Zo(e,n){var l=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var c=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?c=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?c=m=n:m=m.next=n}else c=m=n;l={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:m,shared:r.shared,callbacks:r.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Jo=!1;function Va(){if(Jo){var e=Jl;if(e!==null)throw e}}function Fa(e,n,l,r){Jo=!1;var c=e.updateQueue;Vs=!1;var m=c.firstBaseUpdate,b=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var R=w,Q=R.next;R.next=null,b===null?m=Q:b.next=Q,b=R;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==b&&(w===null?ee.firstBaseUpdate=Q:w.next=Q,ee.lastBaseUpdate=R))}if(m!==null){var ie=c.baseState;b=0,ee=Q=R=null,w=m;do{var I=w.lane&-536870913,J=I!==w.lane;if(J?(Ge&I)===I:(r&I)===I){I!==0&&I===Zl&&(Jo=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ve=e,Ce=w;I=n;var lt=l;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){ie=ve.call(lt,ie,I);break e}ie=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,I=typeof ve=="function"?ve.call(lt,ie,I):ve,I==null)break e;ie=y({},ie,I);break e;case 2:Vs=!0}}I=w.callback,I!==null&&(e.flags|=64,J&&(e.flags|=8192),J=c.callbacks,J===null?c.callbacks=[I]:J.push(I))}else J={lane:I,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(Q=ee=J,R=ie):ee=ee.next=J,b|=I;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;J=w,w=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);ee===null&&(R=ie),c.baseState=R,c.firstBaseUpdate=Q,c.lastBaseUpdate=ee,m===null&&(c.shared.lanes=0),Zs|=b,e.lanes=b,e.memoizedState=ie}}function Em(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function Am(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Em(l[e],n)}var ea=N(null),ei=N(0);function _m(e,n){e=ks,v(ei,e),v(ea,n),ks=e|n.baseLanes}function Ko(){v(ei,ks),v(ea,ea.current)}function Wo(){ks=ei.current,O(ea),O(ei)}var xn=N(null),zn=null;function Ps(e){var n=e.alternate;v(jt,jt.current&1),v(xn,e),zn===null&&(n===null||ea.current!==null||n.memoizedState!==null)&&(zn=e)}function ec(e){v(jt,jt.current),v(xn,e),zn===null&&(zn=e)}function Dm(e){e.tag===22?(v(jt,jt.current),v(xn,e),zn===null&&(zn=e)):Qs()}function Qs(){v(jt,jt.current),v(xn,xn.current)}function pn(e){O(xn),zn===e&&(zn=null),O(jt)}var jt=N(0);function ti(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||ru(l)||iu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bs=0,Le=null,nt=null,kt=null,ni=!1,ta=!1,Cl=!1,si=0,Ga=0,na=null,yg=0;function gt(){throw Error(o(321))}function tc(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!hn(e[l],n[l]))return!1;return!0}function nc(e,n,l,r,c,m){return bs=m,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?f0:gc,Cl=!1,m=l(r,c),Cl=!1,ta&&(m=Mm(n,l,r,c)),Rm(e),m}function Rm(e){$.H=Xa;var n=nt!==null&&nt.next!==null;if(bs=0,kt=nt=Le=null,ni=!1,Ga=0,na=null,n)throw Error(o(300));e===null||Ct||(e=e.dependencies,e!==null&&Qr(e)&&(Ct=!0))}function Mm(e,n,l,r){Le=e;var c=0;do{if(ta&&(na=null),Ga=0,ta=!1,25<=c)throw Error(o(301));if(c+=1,kt=nt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=x0,m=n(l,r)}while(ta);return m}function vg(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Pa(n):n,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(Le.flags|=1024),n}function sc(){var e=si!==0;return si=0,e}function lc(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function ac(e){if(ni){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ni=!1}bs=0,kt=nt=Le=null,ta=!1,Ga=si=0,na=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Le.memoizedState=kt=e:kt=kt.next=e,kt}function Nt(){if(nt===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var n=kt===null?Le.memoizedState:kt.next;if(n!==null)kt=n,nt=e;else{if(e===null)throw Le.alternate===null?Error(o(467)):Error(o(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},kt===null?Le.memoizedState=kt=e:kt=kt.next=e}return kt}function li(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pa(e){var n=Ga;return Ga+=1,na===null&&(na=[]),e=wm(na,e,n),n=Le,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?f0:gc),e}function ai(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pa(e);if(e.$$typeof===U)return qt(e)}throw Error(o(438,String(e)))}function rc(e){var n=null,l=Le.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var r=Le.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=li(),Le.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),r=0;r<e;r++)l[r]=F;return n.index++,l}function ys(e,n){return typeof n=="function"?n(e):n}function ri(e){var n=Nt();return ic(n,nt,e)}function ic(e,n,l){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=l;var c=e.baseQueue,m=r.pending;if(m!==null){if(c!==null){var b=c.next;c.next=m.next,m.next=b}n.baseQueue=c=m,r.pending=null}if(m=e.baseState,c===null)e.memoizedState=m;else{n=c.next;var w=b=null,R=null,Q=n,ee=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(Ge&ie)===ie:(bs&ie)===ie){var I=Q.revertLane;if(I===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===Zl&&(ee=!0);else if((bs&I)===I){Q=Q.next,I===Zl&&(ee=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},R===null?(w=R=ie,b=m):R=R.next=ie,Le.lanes|=I,Zs|=I;ie=Q.action,Cl&&l(m,ie),m=Q.hasEagerState?Q.eagerState:l(m,ie)}else I={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},R===null?(w=R=I,b=m):R=R.next=I,Le.lanes|=ie,Zs|=ie;Q=Q.next}while(Q!==null&&Q!==n);if(R===null?b=m:R.next=w,!hn(m,e.memoizedState)&&(Ct=!0,ee&&(l=Jl,l!==null)))throw l;e.memoizedState=m,e.baseState=b,e.baseQueue=R,r.lastRenderedState=m}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function oc(e){var n=Nt(),l=n.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var r=l.dispatch,c=l.pending,m=n.memoizedState;if(c!==null){l.pending=null;var b=c=c.next;do m=e(m,b.action),b=b.next;while(b!==c);hn(m,n.memoizedState)||(Ct=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,r]}function zm(e,n,l){var r=Le,c=Nt(),m=Qe;if(m){if(l===void 0)throw Error(o(407));l=l()}else l=n();var b=!hn((nt||c).memoizedState,l);if(b&&(c.memoizedState=l,Ct=!0),c=c.queue,dc(Bm.bind(null,r,c,e),[e]),c.getSnapshot!==n||b||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,sa(9,{destroy:void 0},Om.bind(null,r,c,l,n),null),at===null)throw Error(o(349));m||(bs&127)!==0||Lm(r,n,l)}return l}function Lm(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Le.updateQueue,n===null?(n=li(),Le.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Om(e,n,l,r){n.value=l,n.getSnapshot=r,Um(n)&&Hm(e)}function Bm(e,n,l){return l(function(){Um(n)&&Hm(e)})}function Um(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!hn(e,l)}catch{return!0}}function Hm(e){var n=bl(e,2);n!==null&&rn(n,e,2)}function cc(e){var n=Jt();if(typeof e=="function"){var l=e;if(e=l(),Cl){Dt(!0);try{l()}finally{Dt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},n}function qm(e,n,l,r){return e.baseState=l,ic(e,nt,typeof r=="function"?r:ys)}function jg(e,n,l,r,c){if(ci(e))throw Error(o(485));if(e=n.action,e!==null){var m={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};$.T!==null?l(!0):m.isTransition=!1,r(m),l=n.pending,l===null?(m.next=n.pending=m,$m(n,m)):(m.next=l.next,n.pending=l.next=m)}}function $m(e,n){var l=n.action,r=n.payload,c=e.state;if(n.isTransition){var m=$.T,b={};$.T=b;try{var w=l(c,r),R=$.S;R!==null&&R(b,w),Ym(e,n,w)}catch(Q){uc(e,n,Q)}finally{m!==null&&b.types!==null&&(m.types=b.types),$.T=m}}else try{m=l(c,r),Ym(e,n,m)}catch(Q){uc(e,n,Q)}}function Ym(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){Vm(e,n,r)},function(r){return uc(e,n,r)}):Vm(e,n,l)}function Vm(e,n,l){n.status="fulfilled",n.value=l,Fm(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,$m(e,l)))}function uc(e,n,l){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=l,Fm(n),n=n.next;while(n!==r)}e.action=null}function Fm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Gm(e,n){return n}function Pm(e,n){if(Qe){var l=at.formState;if(l!==null){e:{var r=Le;if(Qe){if(ct){t:{for(var c=ct,m=Mn;c.nodeType!==8;){if(!m){c=null;break t}if(c=Ln(c.nextSibling),c===null){c=null;break t}}m=c.data,c=m==="F!"||m==="F"?c:null}if(c){ct=Ln(c.nextSibling),r=c.data==="F!";break e}}$s(r)}r=!1}r&&(n=l[0])}}return l=Jt(),l.memoizedState=l.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gm,lastRenderedState:n},l.queue=r,l=d0.bind(null,Le,r),r.dispatch=l,r=cc(!1),m=pc.bind(null,Le,!1,r.queue),r=Jt(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,l=jg.bind(null,Le,c,m,l),c.dispatch=l,r.memoizedState=e,[n,l,!1]}function Qm(e){var n=Nt();return Xm(n,nt,e)}function Xm(e,n,l){if(n=ic(e,n,Gm)[0],e=ri(ys)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Pa(n)}catch(b){throw b===Kl?Zr:b}else r=n;n=Nt();var c=n.queue,m=c.dispatch;return l!==n.memoizedState&&(Le.flags|=2048,sa(9,{destroy:void 0},Ng.bind(null,c,l),null)),[r,m,e]}function Ng(e,n){e.action=n}function Im(e){var n=Nt(),l=nt;if(l!==null)return Xm(n,l,e);Nt(),n=n.memoizedState,l=Nt();var r=l.queue.dispatch;return l.memoizedState=e,[n,r,!1]}function sa(e,n,l,r){return e={tag:e,create:l,deps:r,inst:n,next:null},n=Le.updateQueue,n===null&&(n=li(),Le.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(r=l.next,l.next=e,e.next=r,n.lastEffect=e),e}function Zm(){return Nt().memoizedState}function ii(e,n,l,r){var c=Jt();Le.flags|=e,c.memoizedState=sa(1|n,{destroy:void 0},l,r===void 0?null:r)}function oi(e,n,l,r){var c=Nt();r=r===void 0?null:r;var m=c.memoizedState.inst;nt!==null&&r!==null&&tc(r,nt.memoizedState.deps)?c.memoizedState=sa(n,m,l,r):(Le.flags|=e,c.memoizedState=sa(1|n,m,l,r))}function Jm(e,n){ii(8390656,8,e,n)}function dc(e,n){oi(2048,8,e,n)}function wg(e){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=li(),Le.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Km(e){var n=Nt().memoizedState;return wg({ref:n,nextImpl:e}),function(){if((Ze&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Wm(e,n){return oi(4,2,e,n)}function e0(e,n){return oi(4,4,e,n)}function t0(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function n0(e,n,l){l=l!=null?l.concat([e]):null,oi(4,4,t0.bind(null,n,e),l)}function mc(){}function s0(e,n){var l=Nt();n=n===void 0?null:n;var r=l.memoizedState;return n!==null&&tc(n,r[1])?r[0]:(l.memoizedState=[e,n],e)}function l0(e,n){var l=Nt();n=n===void 0?null:n;var r=l.memoizedState;if(n!==null&&tc(n,r[1]))return r[0];if(r=e(),Cl){Dt(!0);try{e()}finally{Dt(!1)}}return l.memoizedState=[r,n],r}function hc(e,n,l){return l===void 0||(bs&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=ah(),Le.lanes|=e,Zs|=e,l)}function a0(e,n,l,r){return hn(l,n)?l:ea.current!==null?(e=hc(e,l,r),hn(e,n)||(Ct=!0),e):(bs&42)===0||(bs&1073741824)!==0&&(Ge&261930)===0?(Ct=!0,e.memoizedState=l):(e=ah(),Le.lanes|=e,Zs|=e,n)}function r0(e,n,l,r,c){var m=ne.p;ne.p=m!==0&&8>m?m:8;var b=$.T,w={};$.T=w,pc(e,!1,n,l);try{var R=c(),Q=$.S;if(Q!==null&&Q(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var ee=bg(R,r);Qa(e,n,ee,yn(e))}else Qa(e,n,r,yn(e))}catch(ie){Qa(e,n,{then:function(){},status:"rejected",reason:ie},yn())}finally{ne.p=m,b!==null&&w.types!==null&&(b.types=w.types),$.T=b}}function Sg(){}function fc(e,n,l,r){if(e.tag!==5)throw Error(o(476));var c=i0(e).queue;r0(e,c,n,ye,l===null?Sg:function(){return o0(e),l(r)})}function i0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ye},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function o0(e){var n=i0(e);n.next===null&&(n=e.alternate.memoizedState),Qa(e,n.next.queue,{},yn())}function xc(){return qt(ur)}function c0(){return Nt().memoizedState}function u0(){return Nt().memoizedState}function Tg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=yn();e=Fs(l);var r=Gs(n,e,l);r!==null&&(rn(r,n,l),Ya(r,n,l)),n={cache:Fo()},e.payload=n;return}n=n.return}}function kg(e,n,l){var r=yn();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ci(e)?m0(n,l):(l=Mo(e,n,l,r),l!==null&&(rn(l,e,r),h0(l,n,r)))}function d0(e,n,l){var r=yn();Qa(e,n,l,r)}function Qa(e,n,l,r){var c={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ci(e))m0(n,c);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,w=m(b,l);if(c.hasEagerState=!0,c.eagerState=w,hn(w,b))return Vr(e,n,c,0),at===null&&Yr(),!1}catch{}finally{}if(l=Mo(e,n,c,r),l!==null)return rn(l,e,r),h0(l,n,r),!0}return!1}function pc(e,n,l,r){if(r={lane:2,revertLane:Xc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ci(e)){if(n)throw Error(o(479))}else n=Mo(e,l,r,2),n!==null&&rn(n,e,2)}function ci(e){var n=e.alternate;return e===Le||n!==null&&n===Le}function m0(e,n){ta=ni=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function h0(e,n,l){if((l&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,l|=r,n.lanes=l,zl(e,l)}}var Xa={readContext:qt,use:ai,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};Xa.useEffectEvent=gt;var f0={readContext:qt,use:ai,useCallback:function(e,n){return Jt().memoizedState=[e,n===void 0?null:n],e},useContext:qt,useEffect:Jm,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,ii(4194308,4,t0.bind(null,n,e),l)},useLayoutEffect:function(e,n){return ii(4194308,4,e,n)},useInsertionEffect:function(e,n){ii(4,2,e,n)},useMemo:function(e,n){var l=Jt();n=n===void 0?null:n;var r=e();if(Cl){Dt(!0);try{e()}finally{Dt(!1)}}return l.memoizedState=[r,n],r},useReducer:function(e,n,l){var r=Jt();if(l!==void 0){var c=l(n);if(Cl){Dt(!0);try{l(n)}finally{Dt(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=kg.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var n=Jt();return e={current:e},n.memoizedState=e},useState:function(e){e=cc(e);var n=e.queue,l=d0.bind(null,Le,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:mc,useDeferredValue:function(e,n){var l=Jt();return hc(l,e,n)},useTransition:function(){var e=cc(!1);return e=r0.bind(null,Le,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var r=Le,c=Jt();if(Qe){if(l===void 0)throw Error(o(407));l=l()}else{if(l=n(),at===null)throw Error(o(349));(Ge&127)!==0||Lm(r,n,l)}c.memoizedState=l;var m={value:l,getSnapshot:n};return c.queue=m,Jm(Bm.bind(null,r,m,e),[e]),r.flags|=2048,sa(9,{destroy:void 0},Om.bind(null,r,m,l,n),null),l},useId:function(){var e=Jt(),n=at.identifierPrefix;if(Qe){var l=es,r=Wn;l=(r&~(1<<32-Ue(r)-1)).toString(32)+l,n="_"+n+"R_"+l,l=si++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=yg++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xc,useFormState:Pm,useActionState:Pm,useOptimistic:function(e){var n=Jt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=pc.bind(null,Le,!0,l),l.dispatch=n,[e,n]},useMemoCache:rc,useCacheRefresh:function(){return Jt().memoizedState=Tg.bind(null,Le)},useEffectEvent:function(e){var n=Jt(),l={impl:e};return n.memoizedState=l,function(){if((Ze&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},gc={readContext:qt,use:ai,useCallback:s0,useContext:qt,useEffect:dc,useImperativeHandle:n0,useInsertionEffect:Wm,useLayoutEffect:e0,useMemo:l0,useReducer:ri,useRef:Zm,useState:function(){return ri(ys)},useDebugValue:mc,useDeferredValue:function(e,n){var l=Nt();return a0(l,nt.memoizedState,e,n)},useTransition:function(){var e=ri(ys)[0],n=Nt().memoizedState;return[typeof e=="boolean"?e:Pa(e),n]},useSyncExternalStore:zm,useId:c0,useHostTransitionStatus:xc,useFormState:Qm,useActionState:Qm,useOptimistic:function(e,n){var l=Nt();return qm(l,nt,e,n)},useMemoCache:rc,useCacheRefresh:u0};gc.useEffectEvent=Km;var x0={readContext:qt,use:ai,useCallback:s0,useContext:qt,useEffect:dc,useImperativeHandle:n0,useInsertionEffect:Wm,useLayoutEffect:e0,useMemo:l0,useReducer:oc,useRef:Zm,useState:function(){return oc(ys)},useDebugValue:mc,useDeferredValue:function(e,n){var l=Nt();return nt===null?hc(l,e,n):a0(l,nt.memoizedState,e,n)},useTransition:function(){var e=oc(ys)[0],n=Nt().memoizedState;return[typeof e=="boolean"?e:Pa(e),n]},useSyncExternalStore:zm,useId:c0,useHostTransitionStatus:xc,useFormState:Im,useActionState:Im,useOptimistic:function(e,n){var l=Nt();return nt!==null?qm(l,nt,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:rc,useCacheRefresh:u0};x0.useEffectEvent=Km;function bc(e,n,l,r){n=e.memoizedState,l=l(r,n),l=l==null?n:y({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var yc={enqueueSetState:function(e,n,l){e=e._reactInternals;var r=yn(),c=Fs(r);c.payload=n,l!=null&&(c.callback=l),n=Gs(e,c,r),n!==null&&(rn(n,e,r),Ya(n,e,r))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var r=yn(),c=Fs(r);c.tag=1,c.payload=n,l!=null&&(c.callback=l),n=Gs(e,c,r),n!==null&&(rn(n,e,r),Ya(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=yn(),r=Fs(l);r.tag=2,n!=null&&(r.callback=n),n=Gs(e,r,l),n!==null&&(rn(n,e,l),Ya(n,e,l))}};function p0(e,n,l,r,c,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,m,b):n.prototype&&n.prototype.isPureReactComponent?!za(l,r)||!za(c,m):!0}function g0(e,n,l,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,r),n.state!==e&&yc.enqueueReplaceState(n,n.state,null)}function El(e,n){var l=n;if("ref"in n){l={};for(var r in n)r!=="ref"&&(l[r]=n[r])}if(e=e.defaultProps){l===n&&(l=y({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}function b0(e){$r(e)}function y0(e){console.error(e)}function v0(e){$r(e)}function ui(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function j0(e,n,l){try{var r=e.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vc(e,n,l){return l=Fs(l),l.tag=3,l.payload={element:null},l.callback=function(){ui(e,n)},l}function N0(e){return e=Fs(e),e.tag=3,e}function w0(e,n,l,r){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var m=r.value;e.payload=function(){return c(m)},e.callback=function(){j0(n,l,r)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){j0(n,l,r),typeof c!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function Cg(e,n,l,r,c){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=l.alternate,n!==null&&Il(n,l,c,!0),l=xn.current,l!==null){switch(l.tag){case 31:case 13:return zn===null?Ni():l.alternate===null&&bt===0&&(bt=3),l.flags&=-257,l.flags|=65536,l.lanes=c,r===Jr?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([r]):n.add(r),Gc(e,r,c)),!1;case 22:return l.flags|=65536,r===Jr?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([r]):l.add(r)),Gc(e,r,c)),!1}throw Error(o(435,l.tag))}return Gc(e,r,c),Ni(),!1}if(Qe)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==Ho&&(e=Error(o(422),{cause:r}),Ba(_n(e,l)))):(r!==Ho&&(n=Error(o(423),{cause:r}),Ba(_n(n,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=_n(r,l),c=vc(e.stateNode,r,c),Zo(e,c),bt!==4&&(bt=2)),!1;var m=Error(o(520),{cause:r});if(m=_n(m,l),nr===null?nr=[m]:nr.push(m),bt!==4&&(bt=2),n===null)return!0;r=_n(r,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=vc(l.stateNode,r,e),Zo(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Js===null||!Js.has(m))))return l.flags|=65536,c&=-c,l.lanes|=c,c=N0(c),w0(c,e,l,r),Zo(l,c),!1}l=l.return}while(l!==null);return!1}var jc=Error(o(461)),Ct=!1;function $t(e,n,l,r){n.child=e===null?Cm(n,null,l,r):kl(n,e.child,l,r)}function S0(e,n,l,r,c){l=l.render;var m=n.ref;if("ref"in r){var b={};for(var w in r)w!=="ref"&&(b[w]=r[w])}else b=r;return Nl(n),r=nc(e,n,l,b,m,c),w=sc(),e!==null&&!Ct?(lc(e,n,c),vs(e,n,c)):(Qe&&w&&Bo(n),n.flags|=1,$t(e,n,r,c),n.child)}function T0(e,n,l,r,c){if(e===null){var m=l.type;return typeof m=="function"&&!zo(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,k0(e,n,m,r,c)):(e=Gr(l.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Ac(e,c)){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:za,l(b,r)&&e.ref===n.ref)return vs(e,n,c)}return n.flags|=1,e=fs(m,r),e.ref=n.ref,e.return=n,n.child=e}function k0(e,n,l,r,c){if(e!==null){var m=e.memoizedProps;if(za(m,r)&&e.ref===n.ref)if(Ct=!1,n.pendingProps=r=m,Ac(e,c))(e.flags&131072)!==0&&(Ct=!0);else return n.lanes=e.lanes,vs(e,n,c)}return Nc(e,n,l,r,c)}function C0(e,n,l,r){var c=r.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(r=n.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~m}else r=0,n.child=null;return E0(e,n,m,l,r)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ir(n,m!==null?m.cachePool:null),m!==null?_m(n,m):Ko(),Dm(n);else return r=n.lanes=536870912,E0(e,n,m!==null?m.baseLanes|l:l,l,r)}else m!==null?(Ir(n,m.cachePool),_m(n,m),Qs(),n.memoizedState=null):(e!==null&&Ir(n,null),Ko(),Qs());return $t(e,n,c,l),n.child}function Ia(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function E0(e,n,l,r,c){var m=Po();return m=m===null?null:{parent:Tt._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Ir(n,null),Ko(),Dm(n),e!==null&&Il(e,n,r,!0),n.childLanes=c,null}function di(e,n){return n=hi({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function A0(e,n,l){return kl(n,e.child,null,l),e=di(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function Eg(e,n,l){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Qe){if(r.mode==="hidden")return e=di(n,r),n.lanes=536870912,Ia(null,e);if(ec(n),(e=ct)?(e=$h(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hs!==null?{id:Wn,overflow:es}:null,retryLane:536870912,hydrationErrors:null},l=mm(e),l.return=n,n.child=l,Ht=n,ct=null)):e=null,e===null)throw $s(n);return n.lanes=536870912,null}return di(n,r)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(ec(n),c)if(n.flags&256)n.flags&=-257,n=A0(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(Ct||Il(e,n,l,!1),c=(l&e.childLanes)!==0,Ct||c){if(r=at,r!==null&&(b=Ll(r,l),b!==0&&b!==m.retryLane))throw m.retryLane=b,bl(e,b),rn(r,e,b),jc;Ni(),n=A0(e,n,l)}else e=m.treeContext,ct=Ln(b.nextSibling),Ht=n,Qe=!0,qs=null,Mn=!1,e!==null&&xm(n,e),n=di(n,r),n.flags|=4096;return n}return e=fs(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function mi(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Nc(e,n,l,r,c){return Nl(n),l=nc(e,n,l,r,void 0,c),r=sc(),e!==null&&!Ct?(lc(e,n,c),vs(e,n,c)):(Qe&&r&&Bo(n),n.flags|=1,$t(e,n,l,c),n.child)}function _0(e,n,l,r,c,m){return Nl(n),n.updateQueue=null,l=Mm(n,r,l,c),Rm(e),r=sc(),e!==null&&!Ct?(lc(e,n,m),vs(e,n,m)):(Qe&&r&&Bo(n),n.flags|=1,$t(e,n,l,m),n.child)}function D0(e,n,l,r,c){if(Nl(n),n.stateNode===null){var m=Gl,b=l.contextType;typeof b=="object"&&b!==null&&(m=qt(b)),m=new l(r,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=yc,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=r,m.state=n.memoizedState,m.refs={},Xo(n),b=l.contextType,m.context=typeof b=="object"&&b!==null?qt(b):Gl,m.state=n.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(bc(n,l,b,r),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&yc.enqueueReplaceState(m,m.state,null),Fa(n,r,m,c),Va(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){m=n.stateNode;var w=n.memoizedProps,R=El(l,w);m.props=R;var Q=m.context,ee=l.contextType;b=Gl,typeof ee=="object"&&ee!==null&&(b=qt(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,ee||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||Q!==b)&&g0(n,m,r,b),Vs=!1;var I=n.memoizedState;m.state=I,Fa(n,r,m,c),Va(),Q=n.memoizedState,w||I!==Q||Vs?(typeof ie=="function"&&(bc(n,l,ie,r),Q=n.memoizedState),(R=Vs||p0(n,l,R,r,I,Q,b))?(ee||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=Q),m.props=r,m.state=Q,m.context=b,r=R):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{m=n.stateNode,Io(e,n),b=n.memoizedProps,ee=El(l,b),m.props=ee,ie=n.pendingProps,I=m.context,Q=l.contextType,R=Gl,typeof Q=="object"&&Q!==null&&(R=qt(Q)),w=l.getDerivedStateFromProps,(Q=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ie||I!==R)&&g0(n,m,r,R),Vs=!1,I=n.memoizedState,m.state=I,Fa(n,r,m,c),Va();var J=n.memoizedState;b!==ie||I!==J||Vs||e!==null&&e.dependencies!==null&&Qr(e.dependencies)?(typeof w=="function"&&(bc(n,l,w,r),J=n.memoizedState),(ee=Vs||p0(n,l,ee,r,I,J,R)||e!==null&&e.dependencies!==null&&Qr(e.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,J,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,J,R)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=J),m.props=r,m.state=J,m.context=R,r=ee):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(n.flags|=1024),r=!1)}return m=r,mi(e,n),r=(n.flags&128)!==0,m||r?(m=n.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&r?(n.child=kl(n,e.child,null,c),n.child=kl(n,null,l,c)):$t(e,n,l,c),n.memoizedState=m.state,e=n.child):e=vs(e,n,c),e}function R0(e,n,l,r){return vl(),n.flags|=256,$t(e,n,l,r),n.child}var wc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sc(e){return{baseLanes:e,cachePool:jm()}}function Tc(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=bn),e}function M0(e,n,l){var r=n.pendingProps,c=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(jt.current&2)!==0),b&&(c=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Qe){if(c?Ps(n):Qs(),(e=ct)?(e=$h(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Hs!==null?{id:Wn,overflow:es}:null,retryLane:536870912,hydrationErrors:null},l=mm(e),l.return=n,n.child=l,Ht=n,ct=null)):e=null,e===null)throw $s(n);return iu(e)?n.lanes=32:n.lanes=536870912,null}var w=r.children;return r=r.fallback,c?(Qs(),c=n.mode,w=hi({mode:"hidden",children:w},c),r=yl(r,c,l,null),w.return=n,r.return=n,w.sibling=r,n.child=w,r=n.child,r.memoizedState=Sc(l),r.childLanes=Tc(e,b,l),n.memoizedState=wc,Ia(null,r)):(Ps(n),kc(n,w))}var R=e.memoizedState;if(R!==null&&(w=R.dehydrated,w!==null)){if(m)n.flags&256?(Ps(n),n.flags&=-257,n=Cc(e,n,l)):n.memoizedState!==null?(Qs(),n.child=e.child,n.flags|=128,n=null):(Qs(),w=r.fallback,c=n.mode,r=hi({mode:"visible",children:r.children},c),w=yl(w,c,l,null),w.flags|=2,r.return=n,w.return=n,r.sibling=w,n.child=r,kl(n,e.child,null,l),r=n.child,r.memoizedState=Sc(l),r.childLanes=Tc(e,b,l),n.memoizedState=wc,n=Ia(null,r));else if(Ps(n),iu(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Q=b.dgst;b=Q,r=Error(o(419)),r.stack="",r.digest=b,Ba({value:r,source:null,stack:null}),n=Cc(e,n,l)}else if(Ct||Il(e,n,l,!1),b=(l&e.childLanes)!==0,Ct||b){if(b=at,b!==null&&(r=Ll(b,l),r!==0&&r!==R.retryLane))throw R.retryLane=r,bl(e,r),rn(b,e,r),jc;ru(w)||Ni(),n=Cc(e,n,l)}else ru(w)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ct=Ln(w.nextSibling),Ht=n,Qe=!0,qs=null,Mn=!1,e!==null&&xm(n,e),n=kc(n,r.children),n.flags|=4096);return n}return c?(Qs(),w=r.fallback,c=n.mode,R=e.child,Q=R.sibling,r=fs(R,{mode:"hidden",children:r.children}),r.subtreeFlags=R.subtreeFlags&65011712,Q!==null?w=fs(Q,w):(w=yl(w,c,l,null),w.flags|=2),w.return=n,r.return=n,r.sibling=w,n.child=r,Ia(null,r),r=n.child,w=e.child.memoizedState,w===null?w=Sc(l):(c=w.cachePool,c!==null?(R=Tt._currentValue,c=c.parent!==R?{parent:R,pool:R}:c):c=jm(),w={baseLanes:w.baseLanes|l,cachePool:c}),r.memoizedState=w,r.childLanes=Tc(e,b,l),n.memoizedState=wc,Ia(e.child,r)):(Ps(n),l=e.child,e=l.sibling,l=fs(l,{mode:"visible",children:r.children}),l.return=n,l.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=l,n.memoizedState=null,l)}function kc(e,n){return n=hi({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function hi(e,n){return e=fn(22,e,null,n),e.lanes=0,e}function Cc(e,n,l){return kl(n,e.child,null,l),e=kc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function z0(e,n,l){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Yo(e.return,n,l)}function Ec(e,n,l,r,c,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:c,treeForkCount:m}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=r,b.tail=l,b.tailMode=c,b.treeForkCount=m)}function L0(e,n,l){var r=n.pendingProps,c=r.revealOrder,m=r.tail;r=r.children;var b=jt.current,w=(b&2)!==0;if(w?(b=b&1|2,n.flags|=128):b&=1,v(jt,b),$t(e,n,r,l),r=Qe?Oa:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&z0(e,l,n);else if(e.tag===19)z0(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(l=n.child,c=null;l!==null;)e=l.alternate,e!==null&&ti(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=n.child,n.child=null):(c=l.sibling,l.sibling=null),Ec(n,!1,c,l,m,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ti(e)===null){n.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}Ec(n,!0,l,null,m,r);break;case"together":Ec(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function vs(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Zs|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Il(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,l=fs(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=fs(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Ac(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Qr(e)))}function Ag(e,n,l){switch(n.tag){case 3:_e(n,n.stateNode.containerInfo),Ys(n,Tt,e.memoizedState.cache),vl();break;case 27:case 5:zt(n);break;case 4:_e(n,n.stateNode.containerInfo);break;case 10:Ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ec(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(Ps(n),n.flags|=128,null):(l&n.child.childLanes)!==0?M0(e,n,l):(Ps(n),e=vs(e,n,l),e!==null?e.sibling:null);Ps(n);break;case 19:var c=(e.flags&128)!==0;if(r=(l&n.childLanes)!==0,r||(Il(e,n,l,!1),r=(l&n.childLanes)!==0),c){if(r)return L0(e,n,l);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),v(jt,jt.current),r)break;return null;case 22:return n.lanes=0,C0(e,n,l,n.pendingProps);case 24:Ys(n,Tt,e.memoizedState.cache)}return vs(e,n,l)}function O0(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ct=!0;else{if(!Ac(e,l)&&(n.flags&128)===0)return Ct=!1,Ag(e,n,l);Ct=(e.flags&131072)!==0}else Ct=!1,Qe&&(n.flags&1048576)!==0&&fm(n,Oa,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Sl(n.elementType),n.type=e,typeof e=="function")zo(e)?(r=El(e,r),n.tag=1,n=D0(null,n,e,r,l)):(n.tag=0,n=Nc(null,n,e,r,l));else{if(e!=null){var c=e.$$typeof;if(c===ae){n.tag=11,n=S0(null,n,e,r,l);break e}else if(c===q){n.tag=14,n=T0(null,n,e,r,l);break e}}throw n=L(e)||e,Error(o(306,n,""))}}return n;case 0:return Nc(e,n,n.type,n.pendingProps,l);case 1:return r=n.type,c=El(r,n.pendingProps),D0(e,n,r,c,l);case 3:e:{if(_e(n,n.stateNode.containerInfo),e===null)throw Error(o(387));r=n.pendingProps;var m=n.memoizedState;c=m.element,Io(e,n),Fa(n,r,null,l);var b=n.memoizedState;if(r=b.cache,Ys(n,Tt,r),r!==m.cache&&Vo(n,[Tt],l,!0),Va(),r=b.element,m.isDehydrated)if(m={element:r,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=R0(e,n,r,l);break e}else if(r!==c){c=_n(Error(o(424)),n),Ba(c),n=R0(e,n,r,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ct=Ln(e.firstChild),Ht=n,Qe=!0,qs=null,Mn=!0,l=Cm(n,null,r,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(vl(),r===c){n=vs(e,n,l);break e}$t(e,n,r,l)}n=n.child}return n;case 26:return mi(e,n),e===null?(l=Qh(n.type,null,n.pendingProps,null))?n.memoizedState=l:Qe||(l=n.type,e=n.pendingProps,r=Ai(ge.current).createElement(l),r[_]=n,r[ce]=e,Yt(r,l,e),De(r),n.stateNode=r):n.memoizedState=Qh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return zt(n),e===null&&Qe&&(r=n.stateNode=Fh(n.type,n.pendingProps,ge.current),Ht=n,Mn=!0,c=ct,tl(n.type)?(ou=c,ct=Ln(r.firstChild)):ct=c),$t(e,n,n.pendingProps.children,l),mi(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Qe&&((c=r=ct)&&(r=ab(r,n.type,n.pendingProps,Mn),r!==null?(n.stateNode=r,Ht=n,ct=Ln(r.firstChild),Mn=!1,c=!0):c=!1),c||$s(n)),zt(n),c=n.type,m=n.pendingProps,b=e!==null?e.memoizedProps:null,r=m.children,su(c,m)?r=null:b!==null&&su(c,b)&&(n.flags|=32),n.memoizedState!==null&&(c=nc(e,n,vg,null,null,l),ur._currentValue=c),mi(e,n),$t(e,n,r,l),n.child;case 6:return e===null&&Qe&&((e=l=ct)&&(l=rb(l,n.pendingProps,Mn),l!==null?(n.stateNode=l,Ht=n,ct=null,e=!0):e=!1),e||$s(n)),null;case 13:return M0(e,n,l);case 4:return _e(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=kl(n,null,r,l):$t(e,n,r,l),n.child;case 11:return S0(e,n,n.type,n.pendingProps,l);case 7:return $t(e,n,n.pendingProps,l),n.child;case 8:return $t(e,n,n.pendingProps.children,l),n.child;case 12:return $t(e,n,n.pendingProps.children,l),n.child;case 10:return r=n.pendingProps,Ys(n,n.type,r.value),$t(e,n,r.children,l),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Nl(n),c=qt(c),r=r(c),n.flags|=1,$t(e,n,r,l),n.child;case 14:return T0(e,n,n.type,n.pendingProps,l);case 15:return k0(e,n,n.type,n.pendingProps,l);case 19:return L0(e,n,l);case 31:return Eg(e,n,l);case 22:return C0(e,n,l,n.pendingProps);case 24:return Nl(n),r=qt(Tt),e===null?(c=Po(),c===null&&(c=at,m=Fo(),c.pooledCache=m,m.refCount++,m!==null&&(c.pooledCacheLanes|=l),c=m),n.memoizedState={parent:r,cache:c},Xo(n),Ys(n,Tt,c)):((e.lanes&l)!==0&&(Io(e,n),Fa(n,null,null,l),Va()),c=e.memoizedState,m=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ys(n,Tt,r)):(r=m.cache,Ys(n,Tt,r),r!==c.cache&&Vo(n,[Tt],l,!0))),$t(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function js(e){e.flags|=4}function _c(e,n,l,r,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(ch())e.flags|=8192;else throw Tl=Jr,Qo}else e.flags&=-16777217}function B0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kh(n))if(ch())e.flags|=8192;else throw Tl=Jr,Qo}function fi(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?os():536870912,e.lanes|=n,ia|=n)}function Za(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,r=0;if(n)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=l,n}function _g(e,n,l){var r=n.pendingProps;switch(Uo(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return ut(n),null;case 3:return l=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),gs(Tt),Ee(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Xl(n)?js(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qo())),ut(n),null;case 26:var c=n.type,m=n.memoizedState;return e===null?(js(n),m!==null?(ut(n),B0(n,m)):(ut(n),_c(n,c,null,r,l))):m?m!==e.memoizedState?(js(n),ut(n),B0(n,m)):(ut(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&js(n),ut(n),_c(n,c,e,r,l)),null;case 27:if(_t(n),l=ge.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&js(n);else{if(!r){if(n.stateNode===null)throw Error(o(166));return ut(n),null}e=Z.current,Xl(n)?pm(n):(e=Fh(c,r,l),n.stateNode=e,js(n))}return ut(n),null;case 5:if(_t(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&js(n);else{if(!r){if(n.stateNode===null)throw Error(o(166));return ut(n),null}if(m=Z.current,Xl(n))pm(n);else{var b=Ai(ge.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof r.is=="string"?b.createElement("select",{is:r.is}):b.createElement("select"),r.multiple?m.multiple=!0:r.size&&(m.size=r.size);break;default:m=typeof r.is=="string"?b.createElement(c,{is:r.is}):b.createElement(c)}}m[_]=n,m[ce]=r;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=m;e:switch(Yt(m,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&js(n)}}return ut(n),_c(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&js(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(o(166));if(e=ge.current,Xl(n)){if(e=n.stateNode,l=n.memoizedProps,r=null,c=Ht,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[_]=n,e=!!(e.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||Mh(e.nodeValue,l)),e||$s(n,!0)}else e=Ai(e).createTextNode(r),e[_]=n,n.stateNode=e}return ut(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(r=Xl(n),l!==null){if(e===null){if(!r)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[_]=n}else vl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),e=!1}else l=qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(o(558))}return ut(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Xl(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[_]=n}else vl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),c=!1}else c=qo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=l,n):(l=r!==null,e=e!==null&&e.memoizedState!==null,l&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),m=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==c&&(r.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),fi(n,n.updateQueue),ut(n),null);case 4:return Ee(),e===null&&Kc(n.stateNode.containerInfo),ut(n),null;case 10:return gs(n.type),ut(n),null;case 19:if(O(jt),r=n.memoizedState,r===null)return ut(n),null;if(c=(n.flags&128)!==0,m=r.rendering,m===null)if(c)Za(r,!1);else{if(bt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=ti(e),m!==null){for(n.flags|=128,Za(r,!1),e=m.updateQueue,n.updateQueue=e,fi(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)dm(l,e),l=l.sibling;return v(jt,jt.current&1|2),Qe&&xs(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&St()>yi&&(n.flags|=128,c=!0,Za(r,!1),n.lanes=4194304)}else{if(!c)if(e=ti(m),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,fi(n,e),Za(r,!0),r.tail===null&&r.tailMode==="hidden"&&!m.alternate&&!Qe)return ut(n),null}else 2*St()-r.renderingStartTime>yi&&l!==536870912&&(n.flags|=128,c=!0,Za(r,!1),n.lanes=4194304);r.isBackwards?(m.sibling=n.child,n.child=m):(e=r.last,e!==null?e.sibling=m:n.child=m,r.last=m)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=St(),e.sibling=null,l=jt.current,v(jt,c?l&1|2:l&1),Qe&&xs(n,r.treeForkCount),e):(ut(n),null);case 22:case 23:return pn(n),Wo(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(l&536870912)!==0&&(n.flags&128)===0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),l=n.updateQueue,l!==null&&fi(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==l&&(n.flags|=2048),e!==null&&O(wl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),gs(Tt),ut(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function Dg(e,n){switch(Uo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return gs(Tt),Ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return _t(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(o(340));vl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));vl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return O(jt),null;case 4:return Ee(),null;case 10:return gs(n.type),null;case 22:case 23:return pn(n),Wo(),e!==null&&O(wl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return gs(Tt),null;case 25:return null;default:return null}}function U0(e,n){switch(Uo(n),n.tag){case 3:gs(Tt),Ee();break;case 26:case 27:case 5:_t(n);break;case 4:Ee();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:O(jt);break;case 10:gs(n.type);break;case 22:case 23:pn(n),Wo(),e!==null&&O(wl);break;case 24:gs(Tt)}}function Ja(e,n){try{var l=n.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var c=r.next;l=c;do{if((l.tag&e)===e){r=void 0;var m=l.create,b=l.inst;r=m(),b.destroy=r}l=l.next}while(l!==c)}}catch(w){We(n,n.return,w)}}function Xs(e,n,l){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var m=c.next;r=m;do{if((r.tag&e)===e){var b=r.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,c=n;var R=l,Q=w;try{Q()}catch(ee){We(c,R,ee)}}}r=r.next}while(r!==m)}}catch(ee){We(n,n.return,ee)}}function H0(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Am(n,l)}catch(r){We(e,e.return,r)}}}function q0(e,n,l){l.props=El(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(r){We(e,n,r)}}function Ka(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof l=="function"?e.refCleanup=l(r):l.current=r}}catch(c){We(e,n,c)}}function ts(e,n){var l=e.ref,r=e.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(c){We(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){We(e,n,c)}else l.current=null}function $0(e){var n=e.type,l=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(c){We(e,e.return,c)}}function Dc(e,n,l){try{var r=e.stateNode;Wg(r,e.type,l,n),r[ce]=n}catch(c){We(e,e.return,c)}}function Y0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&tl(e.type)||e.tag===4}function Rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Y0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&tl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mc(e,n,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=ms));else if(r!==4&&(r===27&&tl(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Mc(e,n,l),e=e.sibling;e!==null;)Mc(e,n,l),e=e.sibling}function xi(e,n,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(r!==4&&(r===27&&tl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(xi(e,n,l),e=e.sibling;e!==null;)xi(e,n,l),e=e.sibling}function V0(e){var n=e.stateNode,l=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Yt(n,r,l),n[_]=e,n[ce]=l}catch(m){We(e,e.return,m)}}var Ns=!1,Et=!1,zc=!1,F0=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Rg(e,n){if(e=e.containerInfo,tu=Oi,e=nm(e),Co(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var c=r.anchorOffset,m=r.focusNode;r=r.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var b=0,w=-1,R=-1,Q=0,ee=0,ie=e,I=null;t:for(;;){for(var J;ie!==l||c!==0&&ie.nodeType!==3||(w=b+c),ie!==m||r!==0&&ie.nodeType!==3||(R=b+r),ie.nodeType===3&&(b+=ie.nodeValue.length),(J=ie.firstChild)!==null;)I=ie,ie=J;for(;;){if(ie===e)break t;if(I===l&&++Q===c&&(w=b),I===m&&++ee===r&&(R=b),(J=ie.nextSibling)!==null)break;ie=I,I=ie.parentNode}ie=J}l=w===-1||R===-1?null:{start:w,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(nu={focusedElem:e,selectionRange:l},Oi=!1,Lt=n;Lt!==null;)if(n=Lt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Lt=e;else for(;Lt!==null;){switch(n=Lt,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)c=e[l],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,c=m.memoizedProps,m=m.memoizedState,r=l.stateNode;try{var ve=El(l.type,c);e=r.getSnapshotBeforeUpdate(ve,m),r.__reactInternalSnapshotBeforeUpdate=e}catch(Ce){We(l,l.return,Ce)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)au(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":au(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,Lt=e;break}Lt=n.return}}function G0(e,n,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:Ss(e,l),r&4&&Ja(5,l);break;case 1:if(Ss(e,l),r&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(b){We(l,l.return,b)}else{var c=El(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){We(l,l.return,b)}}r&64&&H0(l),r&512&&Ka(l,l.return);break;case 3:if(Ss(e,l),r&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Am(e,n)}catch(b){We(l,l.return,b)}}break;case 27:n===null&&r&4&&V0(l);case 26:case 5:Ss(e,l),n===null&&r&4&&$0(l),r&512&&Ka(l,l.return);break;case 12:Ss(e,l);break;case 31:Ss(e,l),r&4&&X0(e,l);break;case 13:Ss(e,l),r&4&&I0(e,l),r&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=$g.bind(null,l),ib(e,l))));break;case 22:if(r=l.memoizedState!==null||Ns,!r){n=n!==null&&n.memoizedState!==null||Et,c=Ns;var m=Et;Ns=r,(Et=n)&&!m?Ts(e,l,(l.subtreeFlags&8772)!==0):Ss(e,l),Ns=c,Et=m}break;case 30:break;default:Ss(e,l)}}function P0(e){var n=e.alternate;n!==null&&(e.alternate=null,P0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&je(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,nn=!1;function ws(e,n,l){for(l=l.child;l!==null;)Q0(e,n,l),l=l.sibling}function Q0(e,n,l){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(mt,l)}catch{}switch(l.tag){case 26:Et||ts(l,n),ws(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Et||ts(l,n);var r=ht,c=nn;tl(l.type)&&(ht=l.stateNode,nn=!1),ws(e,n,l),ir(l.stateNode),ht=r,nn=c;break;case 5:Et||ts(l,n);case 6:if(r=ht,c=nn,ht=null,ws(e,n,l),ht=r,nn=c,ht!==null)if(nn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(l.stateNode)}catch(m){We(l,n,m)}else try{ht.removeChild(l.stateNode)}catch(m){We(l,n,m)}break;case 18:ht!==null&&(nn?(e=ht,Hh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),xa(e)):Hh(ht,l.stateNode));break;case 4:r=ht,c=nn,ht=l.stateNode.containerInfo,nn=!0,ws(e,n,l),ht=r,nn=c;break;case 0:case 11:case 14:case 15:Xs(2,l,n),Et||Xs(4,l,n),ws(e,n,l);break;case 1:Et||(ts(l,n),r=l.stateNode,typeof r.componentWillUnmount=="function"&&q0(l,n,r)),ws(e,n,l);break;case 21:ws(e,n,l);break;case 22:Et=(r=Et)||l.memoizedState!==null,ws(e,n,l),Et=r;break;default:ws(e,n,l)}}function X0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xa(e)}catch(l){We(n,n.return,l)}}}function I0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xa(e)}catch(l){We(n,n.return,l)}}function Mg(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new F0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new F0),n;default:throw Error(o(435,e.tag))}}function pi(e,n){var l=Mg(e);n.forEach(function(r){if(!l.has(r)){l.add(r);var c=Yg.bind(null,e,r);r.then(c,c)}})}function sn(e,n){var l=n.deletions;if(l!==null)for(var r=0;r<l.length;r++){var c=l[r],m=e,b=n,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(tl(w.type)){ht=w.stateNode,nn=!1;break e}break;case 5:ht=w.stateNode,nn=!1;break e;case 3:case 4:ht=w.stateNode.containerInfo,nn=!0;break e}w=w.return}if(ht===null)throw Error(o(160));Q0(m,b,c),ht=null,nn=!1,m=c.alternate,m!==null&&(m.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Z0(n,e),n=n.sibling}var Vn=null;function Z0(e,n){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),ln(e),r&4&&(Xs(3,e,e.return),Ja(3,e),Xs(5,e,e.return));break;case 1:sn(n,e),ln(e),r&512&&(Et||l===null||ts(l,l.return)),r&64&&Ns&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var c=Vn;if(sn(n,e),ln(e),r&512&&(Et||l===null||ts(l,l.return)),r&4){var m=l!==null?l.memoizedState:null;if(r=e.memoizedState,l===null)if(r===null)if(e.stateNode===null){e:{r=e.type,l=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":m=c.getElementsByTagName("title")[0],(!m||m[fe]||m[_]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=c.createElement(r),c.head.insertBefore(m,c.querySelector("head > title"))),Yt(m,r,l),m[_]=e,De(m),r=m;break e;case"link":var b=Zh("link","href",c).get(r+(l.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(w,1);break t}}m=c.createElement(r),Yt(m,r,l),c.head.appendChild(m);break;case"meta":if(b=Zh("meta","content",c).get(r+(l.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(w,1);break t}}m=c.createElement(r),Yt(m,r,l),c.head.appendChild(m);break;default:throw Error(o(468,r))}m[_]=e,De(m),r=m}e.stateNode=r}else Jh(c,e.type,e.stateNode);else e.stateNode=Ih(c,r,e.memoizedProps);else m!==r?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,r===null?Jh(c,e.type,e.stateNode):Ih(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Dc(e,e.memoizedProps,l.memoizedProps)}break;case 27:sn(n,e),ln(e),r&512&&(Et||l===null||ts(l,l.return)),l!==null&&r&4&&Dc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(sn(n,e),ln(e),r&512&&(Et||l===null||ts(l,l.return)),e.flags&32){c=e.stateNode;try{Ul(c,"")}catch(ve){We(e,e.return,ve)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Dc(e,c,l!==null?l.memoizedProps:c)),r&1024&&(zc=!0);break;case 6:if(sn(n,e),ln(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,l=e.stateNode;try{l.nodeValue=r}catch(ve){We(e,e.return,ve)}}break;case 3:if(Ri=null,c=Vn,Vn=_i(n.containerInfo),sn(n,e),Vn=c,ln(e),r&4&&l!==null&&l.memoizedState.isDehydrated)try{xa(n.containerInfo)}catch(ve){We(e,e.return,ve)}zc&&(zc=!1,J0(e));break;case 4:r=Vn,Vn=_i(e.stateNode.containerInfo),sn(n,e),ln(e),Vn=r;break;case 12:sn(n,e),ln(e);break;case 31:sn(n,e),ln(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pi(e,r)));break;case 13:sn(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bi=St()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pi(e,r)));break;case 22:c=e.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,Q=Ns,ee=Et;if(Ns=Q||c,Et=ee||R,sn(n,e),Et=ee,Ns=Q,ln(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(l===null||R||Ns||Et||Al(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){R=l=n;try{if(m=R.stateNode,c)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=R.stateNode;var ie=R.memoizedProps.style,I=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ve){We(R,R.return,ve)}}}else if(n.tag===6){if(l===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(ve){We(R,R.return,ve)}}}else if(n.tag===18){if(l===null){R=n;try{var J=R.stateNode;c?qh(J,!0):qh(R.stateNode,!1)}catch(ve){We(R,R.return,ve)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,pi(e,l))));break;case 19:sn(n,e),ln(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,pi(e,r)));break;case 30:break;case 21:break;default:sn(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var l,r=e.return;r!==null;){if(Y0(r)){l=r;break}r=r.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var c=l.stateNode,m=Rc(e);xi(e,m,c);break;case 5:var b=l.stateNode;l.flags&32&&(Ul(b,""),l.flags&=-33);var w=Rc(e);xi(e,w,b);break;case 3:case 4:var R=l.stateNode.containerInfo,Q=Rc(e);Mc(e,Q,R);break;default:throw Error(o(161))}}catch(ee){We(e,e.return,ee)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function J0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;J0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ss(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)G0(e,n.alternate,n),n=n.sibling}function Al(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Xs(4,n,n.return),Al(n);break;case 1:ts(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&q0(n,n.return,l),Al(n);break;case 27:ir(n.stateNode);case 26:case 5:ts(n,n.return),Al(n);break;case 22:n.memoizedState===null&&Al(n);break;case 30:Al(n);break;default:Al(n)}e=e.sibling}}function Ts(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ts(c,m,l),Ja(4,m);break;case 1:if(Ts(c,m,l),r=m,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Q){We(r,r.return,Q)}if(r=m,c=r.updateQueue,c!==null){var w=r.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Em(R[c],w)}catch(Q){We(r,r.return,Q)}}l&&b&64&&H0(m),Ka(m,m.return);break;case 27:V0(m);case 26:case 5:Ts(c,m,l),l&&r===null&&b&4&&$0(m),Ka(m,m.return);break;case 12:Ts(c,m,l);break;case 31:Ts(c,m,l),l&&b&4&&X0(c,m);break;case 13:Ts(c,m,l),l&&b&4&&I0(c,m);break;case 22:m.memoizedState===null&&Ts(c,m,l),Ka(m,m.return);break;case 30:break;default:Ts(c,m,l)}n=n.sibling}}function Lc(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ua(l))}function Oc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ua(e))}function Fn(e,n,l,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)K0(e,n,l,r),n=n.sibling}function K0(e,n,l,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n,l,r),c&2048&&Ja(9,n);break;case 1:Fn(e,n,l,r);break;case 3:Fn(e,n,l,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ua(e)));break;case 12:if(c&2048){Fn(e,n,l,r),e=n.stateNode;try{var m=n.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){We(n,n.return,R)}}else Fn(e,n,l,r);break;case 31:Fn(e,n,l,r);break;case 13:Fn(e,n,l,r);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?Fn(e,n,l,r):Wa(e,n):m._visibility&2?Fn(e,n,l,r):(m._visibility|=2,la(e,n,l,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Lc(b,n);break;case 24:Fn(e,n,l,r),c&2048&&Oc(n.alternate,n);break;default:Fn(e,n,l,r)}}function la(e,n,l,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,b=n,w=l,R=r,Q=b.flags;switch(b.tag){case 0:case 11:case 15:la(m,b,w,R,c),Ja(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?la(m,b,w,R,c):Wa(m,b):(ee._visibility|=2,la(m,b,w,R,c)),c&&Q&2048&&Lc(b.alternate,b);break;case 24:la(m,b,w,R,c),c&&Q&2048&&Oc(b.alternate,b);break;default:la(m,b,w,R,c)}n=n.sibling}}function Wa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,r=n,c=r.flags;switch(r.tag){case 22:Wa(l,r),c&2048&&Lc(r.alternate,r);break;case 24:Wa(l,r),c&2048&&Oc(r.alternate,r);break;default:Wa(l,r)}n=n.sibling}}var er=8192;function aa(e,n,l){if(e.subtreeFlags&er)for(e=e.child;e!==null;)W0(e,n,l),e=e.sibling}function W0(e,n,l){switch(e.tag){case 26:aa(e,n,l),e.flags&er&&e.memoizedState!==null&&yb(l,Vn,e.memoizedState,e.memoizedProps);break;case 5:aa(e,n,l);break;case 3:case 4:var r=Vn;Vn=_i(e.stateNode.containerInfo),aa(e,n,l),Vn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=er,er=16777216,aa(e,n,l),er=r):aa(e,n,l));break;default:aa(e,n,l)}}function eh(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];Lt=r,nh(r,e)}eh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)th(e),e=e.sibling}function th(e){switch(e.tag){case 0:case 11:case 15:tr(e),e.flags&2048&&Xs(9,e,e.return);break;case 3:tr(e);break;case 12:tr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,gi(e)):tr(e);break;default:tr(e)}}function gi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];Lt=r,nh(r,e)}eh(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Xs(8,n,n.return),gi(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,gi(n));break;default:gi(n)}e=e.sibling}}function nh(e,n){for(;Lt!==null;){var l=Lt;switch(l.tag){case 0:case 11:case 15:Xs(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ua(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,Lt=r;else e:for(l=e;Lt!==null;){r=Lt;var c=r.sibling,m=r.return;if(P0(r),r===l){Lt=null;break e}if(c!==null){c.return=m,Lt=c;break e}Lt=m}}}var zg={getCacheForType:function(e){var n=qt(Tt),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return qt(Tt).controller.signal}},Lg=typeof WeakMap=="function"?WeakMap:Map,Ze=0,at=null,Ve=null,Ge=0,Ke=0,gn=null,Is=!1,ra=!1,Bc=!1,ks=0,bt=0,Zs=0,_l=0,Uc=0,bn=0,ia=0,nr=null,an=null,Hc=!1,bi=0,sh=0,yi=1/0,vi=null,Js=null,Rt=0,Ks=null,oa=null,Cs=0,qc=0,$c=null,lh=null,sr=0,Yc=null;function yn(){return(Ze&2)!==0&&Ge!==0?Ge&-Ge:$.T!==null?Xc():hl()}function ah(){if(bn===0)if((Ge&536870912)===0||Qe){var e=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),bn=e}else bn=536870912;return e=xn.current,e!==null&&(e.flags|=32),bn}function rn(e,n,l){(e===at&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(ca(e,0),Ws(e,Ge,bn,!1)),us(e,l),((Ze&2)===0||e!==at)&&(e===at&&((Ze&2)===0&&(_l|=l),bt===4&&Ws(e,Ge,bn,!1)),ns(e))}function rh(e,n,l){if((Ze&6)!==0)throw Error(o(327));var r=!l&&(n&127)===0&&(n&e.expiredLanes)===0||Zt(e,n),c=r?Ug(e,n):Fc(e,n,!0),m=r;do{if(c===0){ra&&!r&&Ws(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!Og(l)){c=Fc(e,n,!1),m=!1;continue}if(c===2){if(m=n,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var w=e;c=nr;var R=w.current.memoizedState.isDehydrated;if(R&&(ca(w,b).flags|=256),b=Fc(w,b,!1),b!==2){if(Bc&&!R){w.errorRecoveryDisabledLanes|=m,_l|=m,c=4;break e}m=an,an=c,m!==null&&(an===null?an=m:an.push.apply(an,m))}c=b}if(m=!1,c!==2)continue}}if(c===1){ca(e,0),Ws(e,n,0,!0);break}e:{switch(r=e,m=c,m){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Ws(r,n,bn,!Is);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(c=bi+300-St(),10<c)){if(Ws(r,n,bn,!Is),Bs(r,0,!0)!==0)break e;Cs=n,r.timeoutHandle=Bh(ih.bind(null,r,l,an,vi,Hc,n,bn,_l,ia,Is,m,"Throttled",-0,0),c);break e}ih(r,l,an,vi,Hc,n,bn,_l,ia,Is,m,null,-0,0)}}break}while(!0);ns(e)}function ih(e,n,l,r,c,m,b,w,R,Q,ee,ie,I,J){if(e.timeoutHandle=-1,ie=n.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ms},W0(n,m,ie);var ve=(m&62914560)===m?bi-St():(m&4194048)===m?sh-St():0;if(ve=vb(ie,ve),ve!==null){Cs=m,e.cancelPendingCommit=ve(xh.bind(null,e,n,m,l,r,c,b,w,R,ee,ie,null,I,J)),Ws(e,m,b,!Q);return}}xh(e,n,m,l,r,c,b,w,R)}function Og(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var c=l[r],m=c.getSnapshot;c=c.value;try{if(!hn(m(),c))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ws(e,n,l,r){n&=~Uc,n&=~_l,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var m=31-Ue(c),b=1<<m;r[m]=-1,c&=~b}l!==0&&dl(e,l,n)}function ji(){return(Ze&6)===0?(lr(0),!1):!0}function Vc(){if(Ve!==null){if(Ke===0)var e=Ve.return;else e=Ve,ps=jl=null,ac(e),Wl=null,qa=0,e=Ve;for(;e!==null;)U0(e.alternate,e),e=e.return;Ve=null}}function ca(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,nb(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Cs=0,Vc(),at=e,Ve=l=fs(e.current,null),Ge=n,Ke=0,gn=null,Is=!1,ra=Zt(e,n),Bc=!1,ia=bn=Uc=_l=Zs=bt=0,an=nr=null,Hc=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-Ue(r),m=1<<c;n|=e[c],r&=~m}return ks=n,Yr(),l}function oh(e,n){Le=null,$.H=Xa,n===Kl||n===Zr?(n=Sm(),Ke=3):n===Qo?(n=Sm(),Ke=4):Ke=n===jc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Ve===null&&(bt=1,ui(e,_n(n,e.current)))}function ch(){var e=xn.current;return e===null?!0:(Ge&4194048)===Ge?zn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===zn:!1}function uh(){var e=$.H;return $.H=Xa,e===null?Xa:e}function dh(){var e=$.A;return $.A=zg,e}function Ni(){bt=4,Is||(Ge&4194048)!==Ge&&xn.current!==null||(ra=!0),(Zs&134217727)===0&&(_l&134217727)===0||at===null||Ws(at,Ge,bn,!1)}function Fc(e,n,l){var r=Ze;Ze|=2;var c=uh(),m=dh();(at!==e||Ge!==n)&&(vi=null,ca(e,n)),n=!1;var b=bt;e:do try{if(Ke!==0&&Ve!==null){var w=Ve,R=gn;switch(Ke){case 8:Vc(),b=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var Q=Ke;if(Ke=0,gn=null,ua(e,w,R,Q),l&&ra){b=0;break e}break;default:Q=Ke,Ke=0,gn=null,ua(e,w,R,Q)}}Bg(),b=bt;break}catch(ee){oh(e,ee)}while(!0);return n&&e.shellSuspendCounter++,ps=jl=null,Ze=r,$.H=c,$.A=m,Ve===null&&(at=null,Ge=0,Yr()),b}function Bg(){for(;Ve!==null;)mh(Ve)}function Ug(e,n){var l=Ze;Ze|=2;var r=uh(),c=dh();at!==e||Ge!==n?(vi=null,yi=St()+500,ca(e,n)):ra=Zt(e,n);e:do try{if(Ke!==0&&Ve!==null){n=Ve;var m=gn;t:switch(Ke){case 1:Ke=0,gn=null,ua(e,n,m,1);break;case 2:case 9:if(Nm(m)){Ke=0,gn=null,hh(n);break}n=function(){Ke!==2&&Ke!==9||at!==e||(Ke=7),ns(e)},m.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Nm(m)?(Ke=0,gn=null,hh(n)):(Ke=0,gn=null,ua(e,n,m,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var w=Ve;if(b?Kh(b):w.stateNode.complete){Ke=0,gn=null;var R=w.sibling;if(R!==null)Ve=R;else{var Q=w.return;Q!==null?(Ve=Q,wi(Q)):Ve=null}break t}}Ke=0,gn=null,ua(e,n,m,5);break;case 6:Ke=0,gn=null,ua(e,n,m,6);break;case 8:Vc(),bt=6;break e;default:throw Error(o(462))}}Hg();break}catch(ee){oh(e,ee)}while(!0);return ps=jl=null,$.H=r,$.A=c,Ze=l,Ve!==null?0:(at=null,Ge=0,Yr(),bt)}function Hg(){for(;Ve!==null&&!Gt();)mh(Ve)}function mh(e){var n=O0(e.alternate,e,ks);e.memoizedProps=e.pendingProps,n===null?wi(e):Ve=n}function hh(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=_0(l,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=_0(l,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:ac(n);default:U0(l,n),n=Ve=dm(n,ks),n=O0(l,n,ks)}e.memoizedProps=e.pendingProps,n===null?wi(e):Ve=n}function ua(e,n,l,r){ps=jl=null,ac(n),Wl=null,qa=0;var c=n.return;try{if(Cg(e,c,n,l,Ge)){bt=1,ui(e,_n(l,e.current)),Ve=null;return}}catch(m){if(c!==null)throw Ve=c,m;bt=1,ui(e,_n(l,e.current)),Ve=null;return}n.flags&32768?(Qe||r===1?e=!0:ra||(Ge&536870912)!==0?e=!1:(Is=e=!0,(r===2||r===9||r===3||r===6)&&(r=xn.current,r!==null&&r.tag===13&&(r.flags|=16384))),fh(n,e)):wi(n)}function wi(e){var n=e;do{if((n.flags&32768)!==0){fh(n,Is);return}e=n.return;var l=_g(n.alternate,n,ks);if(l!==null){Ve=l;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=e}while(n!==null);bt===0&&(bt=5)}function fh(e,n){do{var l=Dg(e.alternate,e);if(l!==null){l.flags&=32767,Ve=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Ve=e;return}Ve=e=l}while(e!==null);bt=6,Ve=null}function xh(e,n,l,r,c,m,b,w,R){e.cancelPendingCommit=null;do Si();while(Rt!==0);if((Ze&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(m=n.lanes|n.childLanes,m|=Ro,ul(e,l,m,b,w,R),e===at&&(Ve=at=null,Ge=0),oa=n,Ks=e,Cs=l,qc=m,$c=c,lh=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vg(Te,function(){return vh(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=$.T,$.T=null,c=ne.p,ne.p=2,b=Ze,Ze|=4;try{Rg(e,n,l)}finally{Ze=b,ne.p=c,$.T=r}}Rt=1,ph(),gh(),bh()}}function ph(){if(Rt===1){Rt=0;var e=Ks,n=oa,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var r=ne.p;ne.p=2;var c=Ze;Ze|=4;try{Z0(n,e);var m=nu,b=nm(e.containerInfo),w=m.focusedElem,R=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&tm(w.ownerDocument.documentElement,w)){if(R!==null&&Co(w)){var Q=R.start,ee=R.end;if(ee===void 0&&(ee=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(ee,w.value.length);else{var ie=w.ownerDocument||document,I=ie&&ie.defaultView||window;if(I.getSelection){var J=I.getSelection(),ve=w.textContent.length,Ce=Math.min(R.start,ve),lt=R.end===void 0?Ce:Math.min(R.end,ve);!J.extend&&Ce>lt&&(b=lt,lt=Ce,Ce=b);var V=em(w,Ce),z=em(w,lt);if(V&&z&&(J.rangeCount!==1||J.anchorNode!==V.node||J.anchorOffset!==V.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var P=ie.createRange();P.setStart(V.node,V.offset),J.removeAllRanges(),Ce>lt?(J.addRange(P),J.extend(z.node,z.offset)):(P.setEnd(z.node,z.offset),J.addRange(P))}}}}for(ie=[],J=w;J=J.parentNode;)J.nodeType===1&&ie.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var re=ie[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Oi=!!tu,nu=tu=null}finally{Ze=c,ne.p=r,$.T=l}}e.current=n,Rt=2}}function gh(){if(Rt===2){Rt=0;var e=Ks,n=oa,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var r=ne.p;ne.p=2;var c=Ze;Ze|=4;try{G0(e,n.alternate,n)}finally{Ze=c,ne.p=r,$.T=l}}Rt=3}}function bh(){if(Rt===4||Rt===3){Rt=0,dn();var e=Ks,n=oa,l=Cs,r=lh;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Rt=5:(Rt=0,oa=Ks=null,yh(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Js=null),Jn(l),n=n.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(mt,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=$.T,c=ne.p,ne.p=2,$.T=null;try{for(var m=e.onRecoverableError,b=0;b<r.length;b++){var w=r[b];m(w.value,{componentStack:w.stack})}}finally{$.T=n,ne.p=c}}(Cs&3)!==0&&Si(),ns(e),c=e.pendingLanes,(l&261930)!==0&&(c&42)!==0?e===Yc?sr++:(sr=0,Yc=e):sr=0,lr(0)}}function yh(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ua(n)))}function Si(){return ph(),gh(),bh(),vh()}function vh(){if(Rt!==5)return!1;var e=Ks,n=qc;qc=0;var l=Jn(Cs),r=$.T,c=ne.p;try{ne.p=32>l?32:l,$.T=null,l=$c,$c=null;var m=Ks,b=Cs;if(Rt=0,oa=Ks=null,Cs=0,(Ze&6)!==0)throw Error(o(331));var w=Ze;if(Ze|=4,th(m.current),K0(m,m.current,b,l),Ze=w,lr(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(mt,m)}catch{}return!0}finally{ne.p=c,$.T=r,yh(e,n)}}function jh(e,n,l){n=_n(l,n),n=vc(e.stateNode,n,2),e=Gs(e,n,2),e!==null&&(us(e,2),ns(e))}function We(e,n,l){if(e.tag===3)jh(e,e,l);else for(;n!==null;){if(n.tag===3){jh(n,e,l);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Js===null||!Js.has(r))){e=_n(l,e),l=N0(2),r=Gs(n,l,2),r!==null&&(w0(l,r,n,e),us(r,2),ns(r));break}}n=n.return}}function Gc(e,n,l){var r=e.pingCache;if(r===null){r=e.pingCache=new Lg;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(l)||(Bc=!0,c.add(l),e=qg.bind(null,e,n,l),n.then(e,e))}function qg(e,n,l){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,at===e&&(Ge&l)===l&&(bt===4||bt===3&&(Ge&62914560)===Ge&&300>St()-bi?(Ze&2)===0&&ca(e,0):Uc|=l,ia===Ge&&(ia=0)),ns(e)}function Nh(e,n){n===0&&(n=os()),e=bl(e,n),e!==null&&(us(e,n),ns(e))}function $g(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Nh(e,l)}function Yg(e,n){var l=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(n),Nh(e,l)}function Vg(e,n){return $n(e,n)}var Ti=null,da=null,Pc=!1,ki=!1,Qc=!1,el=0;function ns(e){e!==da&&e.next===null&&(da===null?Ti=da=e:da=da.next=e),ki=!0,Pc||(Pc=!0,Gg())}function lr(e,n){if(!Qc&&ki){Qc=!0;do for(var l=!1,r=Ti;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var m=0;else{var b=r.suspendedLanes,w=r.pingedLanes;m=(1<<31-Ue(42|e)+1)-1,m&=c&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,kh(r,m))}else m=Ge,m=Bs(r,r===at?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(m&3)===0||Zt(r,m)||(l=!0,kh(r,m));r=r.next}while(l);Qc=!1}}function Fg(){wh()}function wh(){ki=Pc=!1;var e=0;el!==0&&tb()&&(e=el);for(var n=St(),l=null,r=Ti;r!==null;){var c=r.next,m=Sh(r,n);m===0?(r.next=null,l===null?Ti=c:l.next=c,c===null&&(da=l)):(l=r,(e!==0||(m&3)!==0)&&(ki=!0)),r=c}Rt!==0&&Rt!==5||lr(e),el!==0&&(el=0)}function Sh(e,n){for(var l=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-Ue(m),w=1<<b,R=c[b];R===-1?((w&l)===0||(w&r)!==0)&&(c[b]=is(w,n)):R<=n&&(e.expiredLanes|=w),m&=~w}if(n=at,l=Ge,l=Bs(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,l===0||e===n&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&In(r),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Zt(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(r!==null&&In(r),Jn(l)){case 2:case 8:l=be;break;case 32:l=Te;break;case 268435456:l=$e;break;default:l=Te}return r=Th.bind(null,e),l=$n(l,r),e.callbackPriority=n,e.callbackNode=l,n}return r!==null&&r!==null&&In(r),e.callbackPriority=2,e.callbackNode=null,2}function Th(e,n){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Si()&&e.callbackNode!==l)return null;var r=Ge;return r=Bs(e,e===at?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(rh(e,r,n),Sh(e,St()),e.callbackNode!=null&&e.callbackNode===l?Th.bind(null,e):null)}function kh(e,n){if(Si())return null;rh(e,n,!0)}function Gg(){sb(function(){(Ze&6)!==0?$n(K,Fg):wh()})}function Xc(){if(el===0){var e=Zl;e===0&&(e=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),el=e}return el}function Ch(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zr(""+e)}function Eh(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Pg(e,n,l,r,c){if(n==="submit"&&l&&l.stateNode===c){var m=Ch((c[ce]||null).action),b=r.submitter;b&&(n=(n=b[ce]||null)?Ch(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var w=new Ur("action","action",null,r,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(el!==0){var R=b?Eh(c,b):new FormData(c);fc(l,{pending:!0,data:R,method:c.method,action:m},null,R)}}else typeof m=="function"&&(w.preventDefault(),R=b?Eh(c,b):new FormData(c),fc(l,{pending:!0,data:R,method:c.method,action:m},m,R))},currentTarget:c}]})}}for(var Ic=0;Ic<Do.length;Ic++){var Zc=Do[Ic],Qg=Zc.toLowerCase(),Xg=Zc[0].toUpperCase()+Zc.slice(1);Yn(Qg,"on"+Xg)}Yn(am,"onAnimationEnd"),Yn(rm,"onAnimationIteration"),Yn(im,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(ug,"onTransitionRun"),Yn(dg,"onTransitionStart"),Yn(mg,"onTransitionCancel"),Yn(om,"onTransitionEnd"),Ol("onMouseEnter",["mouseout","mouseover"]),Ol("onMouseLeave",["mouseout","mouseover"]),Ol("onPointerEnter",["pointerout","pointerover"]),Ol("onPointerLeave",["pointerout","pointerover"]),Ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ut("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ig=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ar));function Ah(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var r=e[l],c=r.event;r=r.listeners;e:{var m=void 0;if(n)for(var b=r.length-1;0<=b;b--){var w=r[b],R=w.instance,Q=w.currentTarget;if(w=w.listener,R!==m&&c.isPropagationStopped())break e;m=w,c.currentTarget=Q;try{m(c)}catch(ee){$r(ee)}c.currentTarget=null,m=R}else for(b=0;b<r.length;b++){if(w=r[b],R=w.instance,Q=w.currentTarget,w=w.listener,R!==m&&c.isPropagationStopped())break e;m=w,c.currentTarget=Q;try{m(c)}catch(ee){$r(ee)}c.currentTarget=null,m=R}}}}function Fe(e,n){var l=n[He];l===void 0&&(l=n[He]=new Set);var r=e+"__bubble";l.has(r)||(_h(n,e,2,!1),l.add(r))}function Jc(e,n,l){var r=0;n&&(r|=4),_h(l,e,r,n)}var Ci="_reactListening"+Math.random().toString(36).slice(2);function Kc(e){if(!e[Ci]){e[Ci]=!0,tt.forEach(function(l){l!=="selectionchange"&&(Ig.has(l)||Jc(l,!1,e),Jc(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ci]||(n[Ci]=!0,Jc("selectionchange",!1,n))}}function _h(e,n,l,r){switch(af(n)){case 2:var c=wb;break;case 8:c=Sb;break;default:c=hu}l=c.bind(null,n,l,e),c=void 0,!bo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,l,{capture:!0,passive:c}):e.addEventListener(n,l,!0):c!==void 0?e.addEventListener(n,l,{passive:c}):e.addEventListener(n,l,!1)}function Wc(e,n,l,r,c){var m=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var b=r.tag;if(b===3||b===4){var w=r.stateNode.containerInfo;if(w===c)break;if(b===4)for(b=r.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===c)return;b=b.return}for(;w!==null;){if(b=G(w),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){r=m=b;continue e}w=w.parentNode}}r=r.return}Ld(function(){var Q=m,ee=po(l),ie=[];e:{var I=cm.get(e);if(I!==void 0){var J=Ur,ve=e;switch(e){case"keypress":if(Or(l)===0)break e;case"keydown":case"keyup":J=Yp;break;case"focusin":ve="focus",J=No;break;case"focusout":ve="blur",J=No;break;case"beforeblur":case"afterblur":J=No;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Gp;break;case am:case rm:case im:J=Mp;break;case om:J=Qp;break;case"scroll":case"scrollend":J=Ep;break;case"wheel":J=Ip;break;case"copy":case"cut":case"paste":J=Lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=qd;break;case"toggle":case"beforetoggle":J=Jp}var Ce=(n&4)!==0,lt=!Ce&&(e==="scroll"||e==="scrollend"),V=Ce?I!==null?I+"Capture":null:I;Ce=[];for(var z=Q,P;z!==null;){var re=z;if(P=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||P===null||V===null||(re=Ca(z,V),re!=null&&Ce.push(rr(z,re,P))),lt)break;z=z.return}0<Ce.length&&(I=new J(I,ve,null,l,ee),ie.push({event:I,listeners:Ce}))}}if((n&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",I&&l!==xo&&(ve=l.relatedTarget||l.fromElement)&&(G(ve)||ve[oe]))break e;if((J||I)&&(I=ee.window===ee?ee:(I=ee.ownerDocument)?I.defaultView||I.parentWindow:window,J?(ve=l.relatedTarget||l.toElement,J=Q,ve=ve?G(ve):null,ve!==null&&(lt=d(ve),Ce=ve.tag,ve!==lt||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(J=null,ve=Q),J!==ve)){if(Ce=Ud,re="onMouseLeave",V="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(Ce=qd,re="onPointerLeave",V="onPointerEnter",z="pointer"),lt=J==null?I:et(J),P=ve==null?I:et(ve),I=new Ce(re,z+"leave",J,l,ee),I.target=lt,I.relatedTarget=P,re=null,G(ee)===Q&&(Ce=new Ce(V,z+"enter",ve,l,ee),Ce.target=P,Ce.relatedTarget=lt,re=Ce),lt=re,J&&ve)t:{for(Ce=Zg,V=J,z=ve,P=0,re=V;re;re=Ce(re))P++;re=0;for(var Se=z;Se;Se=Ce(Se))re++;for(;0<P-re;)V=Ce(V),P--;for(;0<re-P;)z=Ce(z),re--;for(;P--;){if(V===z||z!==null&&V===z.alternate){Ce=V;break t}V=Ce(V),z=Ce(z)}Ce=null}else Ce=null;J!==null&&Dh(ie,I,J,Ce,!1),ve!==null&&lt!==null&&Dh(ie,lt,ve,Ce,!0)}}e:{if(I=Q?et(Q):window,J=I.nodeName&&I.nodeName.toLowerCase(),J==="select"||J==="input"&&I.type==="file")var Xe=Xd;else if(Pd(I))if(Id)Xe=ig;else{Xe=ag;var we=lg}else J=I.nodeName,!J||J.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?Q&&fo(Q.elementType)&&(Xe=Xd):Xe=rg;if(Xe&&(Xe=Xe(e,Q))){Qd(ie,Xe,l,ee);break e}we&&we(e,I,Q),e==="focusout"&&Q&&I.type==="number"&&Q.memoizedProps.value!=null&&ho(I,"number",I.value)}switch(we=Q?et(Q):window,e){case"focusin":(Pd(we)||we.contentEditable==="true")&&(Yl=we,Eo=Q,La=null);break;case"focusout":La=Eo=Yl=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,sm(ie,l,ee);break;case"selectionchange":if(cg)break;case"keydown":case"keyup":sm(ie,l,ee)}var Oe;if(So)e:{switch(e){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else $l?Fd(e,l)&&(Pe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&($d&&l.locale!=="ko"&&($l||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&$l&&(Oe=Od()):(Us=ee,yo="value"in Us?Us.value:Us.textContent,$l=!0)),we=Ei(Q,Pe),0<we.length&&(Pe=new Hd(Pe,e,null,l,ee),ie.push({event:Pe,listeners:we}),Oe?Pe.data=Oe:(Oe=Gd(l),Oe!==null&&(Pe.data=Oe)))),(Oe=Wp?eg(e,l):tg(e,l))&&(Pe=Ei(Q,"onBeforeInput"),0<Pe.length&&(we=new Hd("onBeforeInput","beforeinput",null,l,ee),ie.push({event:we,listeners:Pe}),we.data=Oe)),Pg(ie,e,Q,l,ee)}Ah(ie,n)})}function rr(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Ei(e,n){for(var l=n+"Capture",r=[];e!==null;){var c=e,m=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||m===null||(c=Ca(e,l),c!=null&&r.unshift(rr(e,c,m)),c=Ca(e,n),c!=null&&r.push(rr(e,c,m))),e.tag===3)return r;e=e.return}return[]}function Zg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dh(e,n,l,r,c){for(var m=n._reactName,b=[];l!==null&&l!==r;){var w=l,R=w.alternate,Q=w.stateNode;if(w=w.tag,R!==null&&R===r)break;w!==5&&w!==26&&w!==27||Q===null||(R=Q,c?(Q=Ca(l,m),Q!=null&&b.unshift(rr(l,Q,R))):c||(Q=Ca(l,m),Q!=null&&b.push(rr(l,Q,R)))),l=l.return}b.length!==0&&e.push({event:n,listeners:b})}var Jg=/\r\n?/g,Kg=/\u0000|\uFFFD/g;function Rh(e){return(typeof e=="string"?e:""+e).replace(Jg,`
`).replace(Kg,"")}function Mh(e,n){return n=Rh(n),Rh(e)===n}function st(e,n,l,r,c,m){switch(l){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Ul(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Ul(e,""+r);break;case"className":Rr(e,"class",r);break;case"tabIndex":Rr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(e,l,r);break;case"style":Md(e,r,m);break;case"data":if(n!=="object"){Rr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=zr(""+r),e.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&st(e,n,"name",c.name,c,null),st(e,n,"formEncType",c.formEncType,c,null),st(e,n,"formMethod",c.formMethod,c,null),st(e,n,"formTarget",c.formTarget,c,null)):(st(e,n,"encType",c.encType,c,null),st(e,n,"method",c.method,c,null),st(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=zr(""+r),e.setAttribute(l,r);break;case"onClick":r!=null&&(e.onclick=ms);break;case"onScroll":r!=null&&Fe("scroll",e);break;case"onScrollEnd":r!=null&&Fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(l=r.__html,l!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}l=zr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""+r):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":r===!0?e.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,r):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(l,r):e.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(l):e.setAttribute(l,r);break;case"popover":Fe("beforetoggle",e),Fe("toggle",e),Dr(e,"popover",r);break;case"xlinkActuate":ds(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ds(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ds(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ds(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ds(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ds(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ds(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ds(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ds(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Dr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kp.get(l)||l,Dr(e,l,r))}}function eu(e,n,l,r,c,m){switch(l){case"style":Md(e,r,m);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(l=r.__html,l!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof r=="string"?Ul(e,r):(typeof r=="number"||typeof r=="bigint")&&Ul(e,""+r);break;case"onScroll":r!=null&&Fe("scroll",e);break;case"onScrollEnd":r!=null&&Fe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),n=l.slice(2,c?l.length-7:void 0),m=e[ce]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,c),typeof r=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,r,c);break e}l in e?e[l]=r:r===!0?e.setAttribute(l,""):Dr(e,l,r)}}}function Yt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",e),Fe("load",e);var r=!1,c=!1,m;for(m in l)if(l.hasOwnProperty(m)){var b=l[m];if(b!=null)switch(m){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:st(e,n,m,b,l,null)}}c&&st(e,n,"srcSet",l.srcSet,l,null),r&&st(e,n,"src",l.src,l,null);return;case"input":Fe("invalid",e);var w=m=b=c=null,R=null,Q=null;for(r in l)if(l.hasOwnProperty(r)){var ee=l[r];if(ee!=null)switch(r){case"name":c=ee;break;case"type":b=ee;break;case"checked":R=ee;break;case"defaultChecked":Q=ee;break;case"value":m=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,n));break;default:st(e,n,r,ee,l,null)}}Ad(e,m,w,R,Q,b,c,!1);return;case"select":Fe("invalid",e),r=b=m=null;for(c in l)if(l.hasOwnProperty(c)&&(w=l[c],w!=null))switch(c){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":r=w;default:st(e,n,c,w,l,null)}n=m,l=b,e.multiple=!!r,n!=null?Bl(e,!!r,n,!1):l!=null&&Bl(e,!!r,l,!0);return;case"textarea":Fe("invalid",e),m=c=r=null;for(b in l)if(l.hasOwnProperty(b)&&(w=l[b],w!=null))switch(b){case"value":r=w;break;case"defaultValue":c=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(91));break;default:st(e,n,b,w,l,null)}Dd(e,r,c,m);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(r=l[R],r!=null))switch(R){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:st(e,n,R,r,l,null)}return;case"dialog":Fe("beforetoggle",e),Fe("toggle",e),Fe("cancel",e),Fe("close",e);break;case"iframe":case"object":Fe("load",e);break;case"video":case"audio":for(r=0;r<ar.length;r++)Fe(ar[r],e);break;case"image":Fe("error",e),Fe("load",e);break;case"details":Fe("toggle",e);break;case"embed":case"source":case"link":Fe("error",e),Fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(r=l[Q],r!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:st(e,n,Q,r,l,null)}return;default:if(fo(n)){for(ee in l)l.hasOwnProperty(ee)&&(r=l[ee],r!==void 0&&eu(e,n,ee,r,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(r=l[w],r!=null&&st(e,n,w,r,l,null))}function Wg(e,n,l,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,m=null,b=null,w=null,R=null,Q=null,ee=null;for(J in l){var ie=l[J];if(l.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":R=ie;default:r.hasOwnProperty(J)||st(e,n,J,null,r,ie)}}for(var I in r){var J=r[I];if(ie=l[I],r.hasOwnProperty(I)&&(J!=null||ie!=null))switch(I){case"type":m=J;break;case"name":c=J;break;case"checked":Q=J;break;case"defaultChecked":ee=J;break;case"value":b=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,n));break;default:J!==ie&&st(e,n,I,J,r,ie)}}mo(e,b,w,R,Q,ee,m,c);return;case"select":J=b=w=I=null;for(m in l)if(R=l[m],l.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":J=R;default:r.hasOwnProperty(m)||st(e,n,m,null,r,R)}for(c in r)if(m=r[c],R=l[c],r.hasOwnProperty(c)&&(m!=null||R!=null))switch(c){case"value":I=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==R&&st(e,n,c,m,r,R)}n=w,l=b,r=J,I!=null?Bl(e,!!l,I,!1):!!r!=!!l&&(n!=null?Bl(e,!!l,n,!0):Bl(e,!!l,l?[]:"",!1));return;case"textarea":J=I=null;for(w in l)if(c=l[w],l.hasOwnProperty(w)&&c!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:st(e,n,w,null,r,c)}for(b in r)if(c=r[b],m=l[b],r.hasOwnProperty(b)&&(c!=null||m!=null))switch(b){case"value":I=c;break;case"defaultValue":J=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==m&&st(e,n,b,c,r,m)}_d(e,I,J);return;case"option":for(var ve in l)if(I=l[ve],l.hasOwnProperty(ve)&&I!=null&&!r.hasOwnProperty(ve))switch(ve){case"selected":e.selected=!1;break;default:st(e,n,ve,null,r,I)}for(R in r)if(I=r[R],J=l[R],r.hasOwnProperty(R)&&I!==J&&(I!=null||J!=null))switch(R){case"selected":e.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:st(e,n,R,I,r,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in l)I=l[Ce],l.hasOwnProperty(Ce)&&I!=null&&!r.hasOwnProperty(Ce)&&st(e,n,Ce,null,r,I);for(Q in r)if(I=r[Q],J=l[Q],r.hasOwnProperty(Q)&&I!==J&&(I!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(137,n));break;default:st(e,n,Q,I,r,J)}return;default:if(fo(n)){for(var lt in l)I=l[lt],l.hasOwnProperty(lt)&&I!==void 0&&!r.hasOwnProperty(lt)&&eu(e,n,lt,void 0,r,I);for(ee in r)I=r[ee],J=l[ee],!r.hasOwnProperty(ee)||I===J||I===void 0&&J===void 0||eu(e,n,ee,I,r,J);return}}for(var V in l)I=l[V],l.hasOwnProperty(V)&&I!=null&&!r.hasOwnProperty(V)&&st(e,n,V,null,r,I);for(ie in r)I=r[ie],J=l[ie],!r.hasOwnProperty(ie)||I===J||I==null&&J==null||st(e,n,ie,I,r,J)}function zh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var c=l[r],m=c.transferSize,b=c.initiatorType,w=c.duration;if(m&&w&&zh(b)){for(b=0,w=c.responseEnd,r+=1;r<l.length;r++){var R=l[r],Q=R.startTime;if(Q>w)break;var ee=R.transferSize,ie=R.initiatorType;ee&&zh(ie)&&(R=R.responseEnd,b+=ee*(R<w?1:(w-Q)/(R-Q)))}if(--r,n+=8*(m+b)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var tu=null,nu=null;function Ai(e){return e.nodeType===9?e:e.ownerDocument}function Lh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Oh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function su(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lu=null;function tb(){var e=window.event;return e&&e.type==="popstate"?e===lu?!1:(lu=e,!0):(lu=null,!1)}var Bh=typeof setTimeout=="function"?setTimeout:void 0,nb=typeof clearTimeout=="function"?clearTimeout:void 0,Uh=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof Uh<"u"?function(e){return Uh.resolve(null).then(e).catch(lb)}:Bh;function lb(e){setTimeout(function(){throw e})}function tl(e){return e==="head"}function Hh(e,n){var l=n,r=0;do{var c=l.nextSibling;if(e.removeChild(l),c&&c.nodeType===8)if(l=c.data,l==="/$"||l==="/&"){if(r===0){e.removeChild(c),xa(n);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")ir(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ir(l);for(var m=l.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[fe]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=b}}else l==="body"&&ir(e.ownerDocument.body);l=c}while(l);xa(n)}function qh(e,n){var l=e;e=0;do{var r=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=r}while(l)}function au(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":au(l),je(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function ab(e,n,l,r){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[fe])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function rb(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ln(e.nextSibling),e===null))return null;return e}function $h(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function ru(e){return e.data==="$?"||e.data==="$~"}function iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var r=function(){n(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ou=null;function Yh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ln(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Vh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Fh(e,n,l){switch(n=Ai(l),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ir(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);je(e)}var On=new Map,Gh=new Set;function _i(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Es=ne.d;ne.d={f:ob,r:cb,D:ub,C:db,L:mb,m:hb,X:xb,S:fb,M:pb};function ob(){var e=Es.f(),n=ji();return e||n}function cb(e){var n=Ye(e);n!==null&&n.tag===5&&n.type==="form"?o0(n):Es.r(e)}var ma=typeof document>"u"?null:document;function Ph(e,n,l){var r=ma;if(r&&typeof n=="string"&&n){var c=En(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),Gh.has(c)||(Gh.add(c),e={rel:e,crossOrigin:l,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),Yt(n,"link",e),De(n),r.head.appendChild(n)))}}function ub(e){Es.D(e),Ph("dns-prefetch",e,null)}function db(e,n){Es.C(e,n),Ph("preconnect",e,n)}function mb(e,n,l){Es.L(e,n,l);var r=ma;if(r&&e&&n){var c='link[rel="preload"][as="'+En(n)+'"]';n==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+En(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+En(l.imageSizes)+'"]')):c+='[href="'+En(e)+'"]';var m=c;switch(n){case"style":m=ha(e);break;case"script":m=fa(e)}On.has(m)||(e=y({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),On.set(m,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(or(m))||n==="script"&&r.querySelector(cr(m))||(n=r.createElement("link"),Yt(n,"link",e),De(n),r.head.appendChild(n)))}}function hb(e,n){Es.m(e,n);var l=ma;if(l&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+En(r)+'"][href="'+En(e)+'"]',m=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=fa(e)}if(!On.has(m)&&(e=y({rel:"modulepreload",href:e},n),On.set(m,e),l.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(cr(m)))return}r=l.createElement("link"),Yt(r,"link",e),De(r),l.head.appendChild(r)}}}function fb(e,n,l){Es.S(e,n,l);var r=ma;if(r&&e){var c=he(r).hoistableStyles,m=ha(e);n=n||"default";var b=c.get(m);if(!b){var w={loading:0,preload:null};if(b=r.querySelector(or(m)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},l),(l=On.get(m))&&cu(e,l);var R=b=r.createElement("link");De(R),Yt(R,"link",e),R._p=new Promise(function(Q,ee){R.onload=Q,R.onerror=ee}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Di(b,n,r)}b={type:"stylesheet",instance:b,count:1,state:w},c.set(m,b)}}}function xb(e,n){Es.X(e,n);var l=ma;if(l&&e){var r=he(l).hoistableScripts,c=fa(e),m=r.get(c);m||(m=l.querySelector(cr(c)),m||(e=y({src:e,async:!0},n),(n=On.get(c))&&uu(e,n),m=l.createElement("script"),De(m),Yt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(c,m))}}function pb(e,n){Es.M(e,n);var l=ma;if(l&&e){var r=he(l).hoistableScripts,c=fa(e),m=r.get(c);m||(m=l.querySelector(cr(c)),m||(e=y({src:e,async:!0,type:"module"},n),(n=On.get(c))&&uu(e,n),m=l.createElement("script"),De(m),Yt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(c,m))}}function Qh(e,n,l,r){var c=(c=ge.current)?_i(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=ha(l.href),l=he(c).hoistableStyles,r=l.get(n),r||(r={type:"style",instance:null,count:0,state:null},l.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ha(l.href);var m=he(c).hoistableStyles,b=m.get(e);if(b||(c=c.ownerDocument||c,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=c.querySelector(or(e)))&&!m._p&&(b.instance=m,b.state.loading=5),On.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},On.set(e,l),m||gb(c,e,l,b.state))),n&&r===null)throw Error(o(528,""));return b}if(n&&r!==null)throw Error(o(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fa(l),l=he(c).hoistableScripts,r=l.get(n),r||(r={type:"script",instance:null,count:0,state:null},l.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function ha(e){return'href="'+En(e)+'"'}function or(e){return'link[rel="stylesheet"]['+e+"]"}function Xh(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function gb(e,n,l,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),Yt(n,"link",l),De(n),e.head.appendChild(n))}function fa(e){return'[src="'+En(e)+'"]'}function cr(e){return"script[async]"+e}function Ih(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+En(l.href)+'"]');if(r)return n.instance=r,De(r),r;var c=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),De(r),Yt(r,"style",c),Di(r,l.precedence,e),n.instance=r;case"stylesheet":c=ha(l.href);var m=e.querySelector(or(c));if(m)return n.state.loading|=4,n.instance=m,De(m),m;r=Xh(l),(c=On.get(c))&&cu(r,c),m=(e.ownerDocument||e).createElement("link"),De(m);var b=m;return b._p=new Promise(function(w,R){b.onload=w,b.onerror=R}),Yt(m,"link",r),n.state.loading|=4,Di(m,l.precedence,e),n.instance=m;case"script":return m=fa(l.src),(c=e.querySelector(cr(m)))?(n.instance=c,De(c),c):(r=l,(c=On.get(m))&&(r=y({},l),uu(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),De(c),Yt(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Di(r,l.precedence,e));return n.instance}function Di(e,n,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,m=c,b=0;b<r.length;b++){var w=r[b];if(w.dataset.precedence===n)m=w;else if(m!==c)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function cu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function uu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ri=null;function Zh(e,n,l){if(Ri===null){var r=new Map,c=Ri=new Map;c.set(l,r)}else c=Ri,r=c.get(l),r||(r=new Map,c.set(l,r));if(r.has(e))return r;for(r.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var m=l[c];if(!(m[fe]||m[_]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=e+b;var w=r.get(b);w?w.push(m):r.set(b,[m])}}return r}function Jh(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function bb(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Kh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function yb(e,n,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var c=ha(r.href),m=n.querySelector(or(c));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Mi.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,De(m);return}m=n.ownerDocument||n,r=Xh(r),(c=On.get(c))&&cu(r,c),m=m.createElement("link"),De(m);var b=m;b._p=new Promise(function(w,R){b.onload=w,b.onerror=R}),Yt(m,"link",r),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Mi.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var du=0;function vb(e,n){return e.stylesheets&&e.count===0&&Li(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var r=setTimeout(function(){if(e.stylesheets&&Li(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&du===0&&(du=62500*eb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Li(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>du?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Mi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Li(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zi=null;function Li(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zi=new Map,n.forEach(jb,e),zi=null,Mi.call(e))}function jb(e,n){if(!(n.state.loading&4)){var l=zi.get(e);if(l)var r=l.get(null);else{l=new Map,zi.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<c.length;m++){var b=c[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),r=b)}r&&l.set(null,r)}c=n.instance,b=c.getAttribute("data-precedence"),m=l.get(b)||r,m===r&&l.set(null,c),l.set(b,c),this.count++,r=Mi.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),m?m.parentNode.insertBefore(c,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ur={$$typeof:U,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function Nb(e,n,l,r,c,m,b,w,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cs(0),this.hiddenUpdates=cs(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Wh(e,n,l,r,c,m,b,w,R,Q,ee,ie){return e=new Nb(e,n,l,b,R,Q,ee,ie,w),n=1,m===!0&&(n|=24),m=fn(3,null,null,n),e.current=m,m.stateNode=e,n=Fo(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:r,isDehydrated:l,cache:n},Xo(m),e}function ef(e){return e?(e=Gl,e):Gl}function tf(e,n,l,r,c,m){c=ef(c),r.context===null?r.context=c:r.pendingContext=c,r=Fs(n),r.payload={element:l},m=m===void 0?null:m,m!==null&&(r.callback=m),l=Gs(e,r,n),l!==null&&(rn(l,e,n),Ya(l,e,n))}function nf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function mu(e,n){nf(e,n),(e=e.alternate)&&nf(e,n)}function sf(e){if(e.tag===13||e.tag===31){var n=bl(e,67108864);n!==null&&rn(n,e,67108864),mu(e,67108864)}}function lf(e){if(e.tag===13||e.tag===31){var n=yn();n=ml(n);var l=bl(e,n);l!==null&&rn(l,e,n),mu(e,n)}}var Oi=!0;function wb(e,n,l,r){var c=$.T;$.T=null;var m=ne.p;try{ne.p=2,hu(e,n,l,r)}finally{ne.p=m,$.T=c}}function Sb(e,n,l,r){var c=$.T;$.T=null;var m=ne.p;try{ne.p=8,hu(e,n,l,r)}finally{ne.p=m,$.T=c}}function hu(e,n,l,r){if(Oi){var c=fu(r);if(c===null)Wc(e,n,r,Bi,l),rf(e,r);else if(kb(c,e,n,l,r))r.stopPropagation();else if(rf(e,r),n&4&&-1<Tb.indexOf(e)){for(;c!==null;){var m=Ye(c);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Tn(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var R=1<<31-Ue(b);w.entanglements[1]|=R,b&=~R}ns(m),(Ze&6)===0&&(yi=St()+500,lr(0))}}break;case 31:case 13:w=bl(m,2),w!==null&&rn(w,m,2),ji(),mu(m,2)}if(m=fu(r),m===null&&Wc(e,n,r,Bi,l),m===c)break;c=m}c!==null&&r.stopPropagation()}else Wc(e,n,r,null,l)}}function fu(e){return e=po(e),xu(e)}var Bi=null;function xu(e){if(Bi=null,e=G(e),e!==null){var n=d(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=h(n),e!==null)return e;e=null}else if(l===31){if(e=x(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Bi=e,null}function af(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mn()){case K:return 2;case be:return 8;case Te:case Me:return 32;case $e:return 268435456;default:return 32}default:return 32}}var pu=!1,nl=null,sl=null,ll=null,dr=new Map,mr=new Map,al=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rf(e,n){switch(e){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":ll=null;break;case"pointerover":case"pointerout":dr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(n.pointerId)}}function hr(e,n,l,r,c,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:r,nativeEvent:m,targetContainers:[c]},n!==null&&(n=Ye(n),n!==null&&sf(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function kb(e,n,l,r,c){switch(n){case"focusin":return nl=hr(nl,e,n,l,r,c),!0;case"dragenter":return sl=hr(sl,e,n,l,r,c),!0;case"mouseover":return ll=hr(ll,e,n,l,r,c),!0;case"pointerover":var m=c.pointerId;return dr.set(m,hr(dr.get(m)||null,e,n,l,r,c)),!0;case"gotpointercapture":return m=c.pointerId,mr.set(m,hr(mr.get(m)||null,e,n,l,r,c)),!0}return!1}function of(e){var n=G(e.target);if(n!==null){var l=d(n);if(l!==null){if(n=l.tag,n===13){if(n=h(l),n!==null){e.blockedOn=n,Kn(e.priority,function(){lf(l)});return}}else if(n===31){if(n=x(l),n!==null){e.blockedOn=n,Kn(e.priority,function(){lf(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ui(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=fu(e.nativeEvent);if(l===null){l=e.nativeEvent;var r=new l.constructor(l.type,l);xo=r,l.target.dispatchEvent(r),xo=null}else return n=Ye(l),n!==null&&sf(n),e.blockedOn=l,!1;n.shift()}return!0}function cf(e,n,l){Ui(e)&&l.delete(n)}function Cb(){pu=!1,nl!==null&&Ui(nl)&&(nl=null),sl!==null&&Ui(sl)&&(sl=null),ll!==null&&Ui(ll)&&(ll=null),dr.forEach(cf),mr.forEach(cf)}function Hi(e,n){e.blockedOn===n&&(e.blockedOn=null,pu||(pu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Cb)))}var qi=null;function uf(e){qi!==e&&(qi=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qi===e&&(qi=null);for(var n=0;n<e.length;n+=3){var l=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(xu(r||l)===null)continue;break}var m=Ye(l);m!==null&&(e.splice(n,3),n-=3,fc(m,{pending:!0,data:c,method:l.method,action:r},r,c))}}))}function xa(e){function n(R){return Hi(R,e)}nl!==null&&Hi(nl,e),sl!==null&&Hi(sl,e),ll!==null&&Hi(ll,e),dr.forEach(n),mr.forEach(n);for(var l=0;l<al.length;l++){var r=al[l];r.blockedOn===e&&(r.blockedOn=null)}for(;0<al.length&&(l=al[0],l.blockedOn===null);)of(l),l.blockedOn===null&&al.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var c=l[r],m=l[r+1],b=c[ce]||null;if(typeof m=="function")b||uf(l);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(c=m,b=m[ce]||null)w=b.formAction;else if(xu(c)!==null)continue}else w=b.action;typeof w=="function"?l[r+1]=w:(l.splice(r,3),r-=3),uf(l)}}}function df(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return c=b})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function gu(e){this._internalRoot=e}$i.prototype.render=gu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var l=n.current,r=yn();tf(l,r,e,n,null,null)},$i.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;tf(e.current,2,null,e,null,null),ji(),n[oe]=null}};function $i(e){this._internalRoot=e}$i.prototype.unstable_scheduleHydration=function(e){if(e){var n=hl();e={blockedOn:null,target:e,priority:n};for(var l=0;l<al.length&&n!==0&&n<al[l].priority;l++);al.splice(l,0,e),l===0&&of(e)}};var mf=a.version;if(mf!=="19.2.0")throw Error(o(527,mf,"19.2.0"));ne.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=f(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Eb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{mt=Yi.inject(Eb),pt=Yi}catch{}}return xr.createRoot=function(e,n){if(!u(e))throw Error(o(299));var l=!1,r="",c=b0,m=y0,b=v0;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Wh(e,1,!1,null,null,l,r,null,c,m,b,df),e[oe]=n.current,Kc(e),new gu(n)},xr.hydrateRoot=function(e,n,l){if(!u(e))throw Error(o(299));var r=!1,c="",m=b0,b=y0,w=v0,R=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(R=l.formState)),n=Wh(e,1,!0,n,l??null,r,c,R,m,b,w,df),n.context=ef(null),l=n.current,r=yn(),r=ml(r),c=Fs(r),c.callback=null,Gs(l,c,r),l=r,n.current.lanes=l,us(n,l),ns(n),e[oe]=n.current,Kc(e),new $i(n)},xr.version="19.2.0",xr}var Nf;function Ub(){if(Nf)return vu.exports;Nf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),vu.exports=Bb(),vu.exports}var Hb=Ub();const qb=so(Hb);var wf="popstate";function $b(s={}){function a(o,u){let{pathname:d,search:h,hash:x}=o.location;return qu("",{pathname:d,search:h,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){return typeof u=="string"?u:Tr(u)}return Vb(a,i,null,s)}function ft(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Nn(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Yb(){return Math.random().toString(36).substring(2,10)}function Sf(s,a){return{usr:s.state,key:s.key,idx:a}}function qu(s,a,i=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Na(a):a,state:i,key:a&&a.key||o||Yb()}}function Tr({pathname:s="/",search:a="",hash:i=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Na(s){let a={};if(s){let i=s.indexOf("#");i>=0&&(a.hash=s.substring(i),s=s.substring(0,i));let o=s.indexOf("?");o>=0&&(a.search=s.substring(o),s=s.substring(0,o)),s&&(a.pathname=s)}return a}function Vb(s,a,i,o={}){let{window:u=document.defaultView,v5Compat:d=!1}=o,h=u.history,x="POP",p=null,f=g();f==null&&(f=0,h.replaceState({...h.state,idx:f},""));function g(){return(h.state||{idx:null}).idx}function y(){x="POP";let H=g(),k=H==null?null:H-f;f=H,p&&p({action:x,location:C.location,delta:k})}function S(H,k){x="PUSH";let M=qu(C.location,H,k);f=g()+1;let U=Sf(M,f),ae=C.createHref(M);try{h.pushState(U,"",ae)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;u.location.assign(ae)}d&&p&&p({action:x,location:C.location,delta:1})}function j(H,k){x="REPLACE";let M=qu(C.location,H,k);f=g();let U=Sf(M,f),ae=C.createHref(M);h.replaceState(U,"",ae),d&&p&&p({action:x,location:C.location,delta:0})}function B(H){return Fb(H)}let C={get action(){return x},get location(){return s(u,h)},listen(H){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(wf,y),p=H,()=>{u.removeEventListener(wf,y),p=null}},createHref(H){return a(u,H)},createURL:B,encodeLocation(H){let k=B(H);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:S,replace:j,go(H){return h.go(H)}};return C}function Fb(s,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ft(i,"No window.location.(origin|href) available to create URL");let o=typeof s=="string"?s:Tr(s);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function jx(s,a,i="/"){return Gb(s,a,i,!1)}function Gb(s,a,i,o){let u=typeof a=="string"?Na(a):a,d=Ms(u.pathname||"/",i);if(d==null)return null;let h=Nx(s);Pb(h);let x=null;for(let p=0;x==null&&p<h.length;++p){let f=sy(d);x=ty(h[p],f,o)}return x}function Nx(s,a=[],i=[],o="",u=!1){let d=(h,x,p=u,f)=>{let g={relativePath:f===void 0?h.path||"":f,caseSensitive:h.caseSensitive===!0,childrenIndex:x,route:h};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&p)return;ft(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let y=Rs([o,g.relativePath]),S=i.concat(g);h.children&&h.children.length>0&&(ft(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Nx(h.children,a,S,y,p)),!(h.path==null&&!h.index)&&a.push({path:y,score:Wb(y,h.index),routesMeta:S})};return s.forEach((h,x)=>{if(h.path===""||!h.path?.includes("?"))d(h,x);else for(let p of wx(h.path))d(h,x,!0,p)}),a}function wx(s){let a=s.split("/");if(a.length===0)return[];let[i,...o]=a,u=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return u?[d,""]:[d];let h=wx(o.join("/")),x=[];return x.push(...h.map(p=>p===""?d:[d,p].join("/"))),u&&x.push(...h),x.map(p=>s.startsWith("/")&&p===""?"/":p)}function Pb(s){s.sort((a,i)=>a.score!==i.score?i.score-a.score:ey(a.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var Qb=/^:[\w-]+$/,Xb=3,Ib=2,Zb=1,Jb=10,Kb=-2,Tf=s=>s==="*";function Wb(s,a){let i=s.split("/"),o=i.length;return i.some(Tf)&&(o+=Kb),a&&(o+=Ib),i.filter(u=>!Tf(u)).reduce((u,d)=>u+(Qb.test(d)?Xb:d===""?Zb:Jb),o)}function ey(s,a){return s.length===a.length&&s.slice(0,-1).every((o,u)=>o===a[u])?s[s.length-1]-a[a.length-1]:0}function ty(s,a,i=!1){let{routesMeta:o}=s,u={},d="/",h=[];for(let x=0;x<o.length;++x){let p=o[x],f=x===o.length-1,g=d==="/"?a:a.slice(d.length)||"/",y=eo({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},g),S=p.route;if(!y&&f&&i&&!o[o.length-1].route.index&&(y=eo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(u,y.params),h.push({params:u,pathname:Rs([d,y.pathname]),pathnameBase:oy(Rs([d,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(d=Rs([d,y.pathnameBase]))}return h}function eo(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=ny(s.path,s.caseSensitive,s.end),u=a.match(i);if(!u)return null;let d=u[0],h=d.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:o.reduce((f,{paramName:g,isOptional:y},S)=>{if(g==="*"){let B=x[S]||"";h=d.slice(0,d.length-B.length).replace(/(.)\/+$/,"$1")}const j=x[S];return y&&!j?f[g]=void 0:f[g]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:d,pathnameBase:h,pattern:s}}function ny(s,a=!1,i=!0){Nn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,p)=>(o.push({paramName:x,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(o.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),o]}function sy(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Nn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function Ms(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}var ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ay=s=>ly.test(s);function ry(s,a="/"){let{pathname:i,search:o="",hash:u=""}=typeof s=="string"?Na(s):s,d;if(i)if(ay(i))d=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),Nn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?d=kf(i.substring(1),"/"):d=kf(i,a)}else d=a;return{pathname:d,search:cy(o),hash:uy(u)}}function kf(s,a){let i=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Su(s,a,i,o){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iy(s){return s.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function nd(s){let a=iy(s);return a.map((i,o)=>o===a.length-1?i.pathname:i.pathnameBase)}function sd(s,a,i,o=!1){let u;typeof s=="string"?u=Na(s):(u={...s},ft(!u.pathname||!u.pathname.includes("?"),Su("?","pathname","search",u)),ft(!u.pathname||!u.pathname.includes("#"),Su("#","pathname","hash",u)),ft(!u.search||!u.search.includes("#"),Su("#","search","hash",u)));let d=s===""||u.pathname==="",h=d?"/":u.pathname,x;if(h==null)x=i;else{let y=a.length-1;if(!o&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),y-=1;u.pathname=S.join("/")}x=y>=0?a[y]:"/"}let p=ry(u,x),f=h&&h!=="/"&&h.endsWith("/"),g=(d||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(f||g)&&(p.pathname+="/"),p}var Rs=s=>s.join("/").replace(/\/\/+/g,"/"),oy=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),cy=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,uy=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function dy(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sx=["POST","PUT","PATCH","DELETE"];new Set(Sx);var my=["GET",...Sx];new Set(my);var wa=T.createContext(null);wa.displayName="DataRouter";var lo=T.createContext(null);lo.displayName="DataRouterState";T.createContext(!1);var Tx=T.createContext({isTransitioning:!1});Tx.displayName="ViewTransition";var hy=T.createContext(new Map);hy.displayName="Fetchers";var fy=T.createContext(null);fy.displayName="Await";var Gn=T.createContext(null);Gn.displayName="Navigation";var Cr=T.createContext(null);Cr.displayName="Location";var Pn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var ld=T.createContext(null);ld.displayName="RouteError";function xy(s,{relative:a}={}){ft(Sa(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=T.useContext(Gn),{hash:u,pathname:d,search:h}=Er(s,{relative:a}),x=d;return i!=="/"&&(x=d==="/"?i:Rs([i,d])),o.createHref({pathname:x,search:h,hash:u})}function Sa(){return T.useContext(Cr)!=null}function wn(){return ft(Sa(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Cr).location}var kx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cx(s){T.useContext(Gn).static||T.useLayoutEffect(s)}function Qn(){let{isDataRoute:s}=T.useContext(Pn);return s?Ay():py()}function py(){ft(Sa(),"useNavigate() may be used only in the context of a <Router> component.");let s=T.useContext(wa),{basename:a,navigator:i}=T.useContext(Gn),{matches:o}=T.useContext(Pn),{pathname:u}=wn(),d=JSON.stringify(nd(o)),h=T.useRef(!1);return Cx(()=>{h.current=!0}),T.useCallback((p,f={})=>{if(Nn(h.current,kx),!h.current)return;if(typeof p=="number"){i.go(p);return}let g=sd(p,JSON.parse(d),u,f.relative==="path");s==null&&a!=="/"&&(g.pathname=g.pathname==="/"?a:Rs([a,g.pathname])),(f.replace?i.replace:i.push)(g,f.state,f)},[a,i,d,u,s])}T.createContext(null);function gy(){let{matches:s}=T.useContext(Pn),a=s[s.length-1];return a?a.params:{}}function Er(s,{relative:a}={}){let{matches:i}=T.useContext(Pn),{pathname:o}=wn(),u=JSON.stringify(nd(i));return T.useMemo(()=>sd(s,JSON.parse(u),o,a==="path"),[s,u,o,a])}function by(s,a){return Ex(s,a)}function Ex(s,a,i,o,u){ft(Sa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=T.useContext(Gn),{matches:h}=T.useContext(Pn),x=h[h.length-1],p=x?x.params:{},f=x?x.pathname:"/",g=x?x.pathnameBase:"/",y=x&&x.route;{let M=y&&y.path||"";Ax(f,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let S=wn(),j;if(a){let M=typeof a=="string"?Na(a):a;ft(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),j=M}else j=S;let B=j.pathname||"/",C=B;if(g!=="/"){let M=g.replace(/^\//,"").split("/");C="/"+B.replace(/^\//,"").split("/").slice(M.length).join("/")}let H=jx(s,{pathname:C});Nn(y||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Nn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=wy(H&&H.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:Rs([g,d.encodeLocation?d.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Rs([g,d.encodeLocation?d.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),h,i,o,u);return a&&k?T.createElement(Cr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},k):k}function yy(){let s=Ey(),a=dy(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:d},"ErrorBoundary")," or"," ",T.createElement("code",{style:d},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},a),i?T.createElement("pre",{style:u},i):null,h)}var vy=T.createElement(yy,null),jy=class extends T.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){this.props.onError?this.props.onError(s,a):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?T.createElement(Pn.Provider,{value:this.props.routeContext},T.createElement(ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ny({routeContext:s,match:a,children:i}){let o=T.useContext(wa);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),T.createElement(Pn.Provider,{value:s},i)}function wy(s,a=[],i=null,o=null,u=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let d=s,h=i?.errors;if(h!=null){let g=d.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);ft(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,g+1))}let x=!1,p=-1;if(i)for(let g=0;g<d.length;g++){let y=d[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:S,errors:j}=i,B=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!j||j[y.route.id]===void 0);if(y.route.lazy||B){x=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}let f=i&&o?(g,y)=>{o(g,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:y})}:void 0;return d.reduceRight((g,y,S)=>{let j,B=!1,C=null,H=null;i&&(j=h&&y.route.id?h[y.route.id]:void 0,C=y.route.errorElement||vy,x&&(p<0&&S===0?(Ax("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,H=null):p===S&&(B=!0,H=y.route.hydrateFallbackElement||null)));let k=a.concat(d.slice(0,S+1)),M=()=>{let U;return j?U=C:B?U=H:y.route.Component?U=T.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=g,T.createElement(Ny,{match:y,routeContext:{outlet:g,matches:k,isDataRoute:i!=null},children:U})};return i&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?T.createElement(jy,{location:i.location,revalidation:i.revalidation,component:C,error:j,children:M(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):M()},null)}function ad(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sy(s){let a=T.useContext(wa);return ft(a,ad(s)),a}function Ty(s){let a=T.useContext(lo);return ft(a,ad(s)),a}function ky(s){let a=T.useContext(Pn);return ft(a,ad(s)),a}function rd(s){let a=ky(s),i=a.matches[a.matches.length-1];return ft(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Cy(){return rd("useRouteId")}function Ey(){let s=T.useContext(ld),a=Ty("useRouteError"),i=rd("useRouteError");return s!==void 0?s:a.errors?.[i]}function Ay(){let{router:s}=Sy("useNavigate"),a=rd("useNavigate"),i=T.useRef(!1);return Cx(()=>{i.current=!0}),T.useCallback(async(u,d={})=>{Nn(i.current,kx),i.current&&(typeof u=="number"?s.navigate(u):await s.navigate(u,{fromRouteId:a,...d}))},[s,a])}var Cf={};function Ax(s,a,i){!a&&!Cf[s]&&(Cf[s]=!0,Nn(!1,i))}T.memo(_y);function _y({routes:s,future:a,state:i,unstable_onError:o}){return Ex(s,void 0,i,o,a)}function ya({to:s,replace:a,state:i,relative:o}){ft(Sa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=T.useContext(Gn);Nn(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=T.useContext(Pn),{pathname:h}=wn(),x=Qn(),p=sd(s,nd(d),h,o==="path"),f=JSON.stringify(p);return T.useEffect(()=>{x(JSON.parse(f),{replace:a,state:i,relative:o})},[x,f,o,a,i]),null}function dt(s){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Dy({basename:s="/",children:a=null,location:i,navigationType:o="POP",navigator:u,static:d=!1}){ft(!Sa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),x=T.useMemo(()=>({basename:h,navigator:u,static:d,future:{}}),[h,u,d]);typeof i=="string"&&(i=Na(i));let{pathname:p="/",search:f="",hash:g="",state:y=null,key:S="default"}=i,j=T.useMemo(()=>{let B=Ms(p,h);return B==null?null:{location:{pathname:B,search:f,hash:g,state:y,key:S},navigationType:o}},[h,p,f,g,y,S,o]);return Nn(j!=null,`<Router basename="${h}"> is not able to match the URL "${p}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:T.createElement(Gn.Provider,{value:x},T.createElement(Cr.Provider,{children:a,value:j}))}function _x({children:s,location:a}){return by($u(s),a)}function $u(s,a=[]){let i=[];return T.Children.forEach(s,(o,u)=>{if(!T.isValidElement(o))return;let d=[...a,u];if(o.type===T.Fragment){i.push.apply(i,$u(o.props.children,d));return}ft(o.type===dt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=$u(o.props.children,d)),i.push(h)}),i}var Zi="get",Ji="application/x-www-form-urlencoded";function ao(s){return s!=null&&typeof s.tagName=="string"}function Ry(s){return ao(s)&&s.tagName.toLowerCase()==="button"}function My(s){return ao(s)&&s.tagName.toLowerCase()==="form"}function zy(s){return ao(s)&&s.tagName.toLowerCase()==="input"}function Ly(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Oy(s,a){return s.button===0&&(!a||a==="_self")&&!Ly(s)}function Yu(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((a,i)=>{let o=s[i];return a.concat(Array.isArray(o)?o.map(u=>[i,u]):[[i,o]])},[]))}function By(s,a){let i=Yu(s);return a&&a.forEach((o,u)=>{i.has(u)||a.getAll(u).forEach(d=>{i.append(u,d)})}),i}var Vi=null;function Uy(){if(Vi===null)try{new FormData(document.createElement("form"),0),Vi=!1}catch{Vi=!0}return Vi}var Hy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(s){return s!=null&&!Hy.has(s)?(Nn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ji}"`),null):s}function qy(s,a){let i,o,u,d,h;if(My(s)){let x=s.getAttribute("action");o=x?Ms(x,a):null,i=s.getAttribute("method")||Zi,u=Tu(s.getAttribute("enctype"))||Ji,d=new FormData(s)}else if(Ry(s)||zy(s)&&(s.type==="submit"||s.type==="image")){let x=s.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||x.getAttribute("action");if(o=p?Ms(p,a):null,i=s.getAttribute("formmethod")||x.getAttribute("method")||Zi,u=Tu(s.getAttribute("formenctype"))||Tu(x.getAttribute("enctype"))||Ji,d=new FormData(x,s),!Uy()){let{name:f,type:g,value:y}=s;if(g==="image"){let S=f?`${f}.`:"";d.append(`${S}x`,"0"),d.append(`${S}y`,"0")}else f&&d.append(f,y)}}else{if(ao(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Zi,o=null,u=Ji,h=s}return d&&u==="text/plain"&&(h=d,d=void 0),{action:o,method:i.toLowerCase(),encType:u,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function id(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function $y(s,a,i){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return o.pathname==="/"?o.pathname=`_root.${i}`:a&&Ms(o.pathname,a)==="/"?o.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Yy(s,a){if(s.id in a)return a[s.id];try{let i=await import(s.module);return a[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vy(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Fy(s,a,i){let o=await Promise.all(s.map(async u=>{let d=a.routes[u.route.id];if(d){let h=await Yy(d,i);return h.links?h.links():[]}return[]}));return Xy(o.flat(1).filter(Vy).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Ef(s,a,i,o,u,d){let h=(p,f)=>i[f]?p.route.id!==i[f].route.id:!0,x=(p,f)=>i[f].pathname!==p.pathname||i[f].route.path?.endsWith("*")&&i[f].params["*"]!==p.params["*"];return d==="assets"?a.filter((p,f)=>h(p,f)||x(p,f)):d==="data"?a.filter((p,f)=>{let g=o.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(h(p,f)||x(p,f))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Gy(s,a,{includeHydrateFallback:i}={}){return Py(s.map(o=>{let u=a.routes[o.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function Py(s){return[...new Set(s)]}function Qy(s){let a={},i=Object.keys(s).sort();for(let o of i)a[o]=s[o];return a}function Xy(s,a){let i=new Set;return new Set(a),s.reduce((o,u)=>{let d=JSON.stringify(Qy(u));return i.has(d)||(i.add(d),o.push({key:d,link:u})),o},[])}function Dx(){let s=T.useContext(wa);return id(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Iy(){let s=T.useContext(lo);return id(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var od=T.createContext(void 0);od.displayName="FrameworkContext";function Rx(){let s=T.useContext(od);return id(s,"You must render this element inside a <HydratedRouter> element"),s}function Zy(s,a){let i=T.useContext(od),[o,u]=T.useState(!1),[d,h]=T.useState(!1),{onFocus:x,onBlur:p,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=a,S=T.useRef(null);T.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let C=k=>{k.forEach(M=>{h(M.isIntersecting)})},H=new IntersectionObserver(C,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[s]),T.useEffect(()=>{if(o){let C=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(C)}}},[o]);let j=()=>{u(!0)},B=()=>{u(!1),h(!1)};return i?s!=="intent"?[d,S,{}]:[d,S,{onFocus:pr(x,j),onBlur:pr(p,B),onMouseEnter:pr(f,j),onMouseLeave:pr(g,B),onTouchStart:pr(y,j)}]:[!1,S,{}]}function pr(s,a){return i=>{s&&s(i),i.defaultPrevented||a(i)}}function Jy({page:s,...a}){let{router:i}=Dx(),o=T.useMemo(()=>jx(i.routes,s,i.basename),[i.routes,s,i.basename]);return o?T.createElement(Wy,{page:s,matches:o,...a}):null}function Ky(s){let{manifest:a,routeModules:i}=Rx(),[o,u]=T.useState([]);return T.useEffect(()=>{let d=!1;return Fy(s,a,i).then(h=>{d||u(h)}),()=>{d=!0}},[s,a,i]),o}function Wy({page:s,matches:a,...i}){let o=wn(),{manifest:u,routeModules:d}=Rx(),{basename:h}=Dx(),{loaderData:x,matches:p}=Iy(),f=T.useMemo(()=>Ef(s,a,p,u,o,"data"),[s,a,p,u,o]),g=T.useMemo(()=>Ef(s,a,p,u,o,"assets"),[s,a,p,u,o]),y=T.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let B=new Set,C=!1;if(a.forEach(k=>{let M=u.routes[k.route.id];!M||!M.hasLoader||(!f.some(U=>U.route.id===k.route.id)&&k.route.id in x&&d[k.route.id]?.shouldRevalidate||M.hasClientLoader?C=!0:B.add(k.route.id))}),B.size===0)return[];let H=$y(s,h,"data");return C&&B.size>0&&H.searchParams.set("_routes",a.filter(k=>B.has(k.route.id)).map(k=>k.route.id).join(",")),[H.pathname+H.search]},[h,x,o,u,f,a,s,d]),S=T.useMemo(()=>Gy(g,u),[g,u]),j=Ky(g);return T.createElement(T.Fragment,null,y.map(B=>T.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...i})),S.map(B=>T.createElement("link",{key:B,rel:"modulepreload",href:B,...i})),j.map(({key:B,link:C})=>T.createElement("link",{key:B,nonce:i.nonce,...C})))}function ev(...s){return a=>{s.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var Mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mx&&(window.__reactRouterVersion="7.9.6")}catch{}function zx({basename:s,children:a,window:i}){let o=T.useRef();o.current==null&&(o.current=$b({window:i,v5Compat:!0}));let u=o.current,[d,h]=T.useState({action:u.action,location:u.location}),x=T.useCallback(p=>{T.startTransition(()=>h(p))},[h]);return T.useLayoutEffect(()=>u.listen(x),[u,x]),T.createElement(Dy,{basename:s,children:a,location:d.location,navigationType:d.action,navigator:u})}var Lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=T.forwardRef(function({onClick:a,discover:i="render",prefetch:o="none",relative:u,reloadDocument:d,replace:h,state:x,target:p,to:f,preventScrollReset:g,viewTransition:y,...S},j){let{basename:B}=T.useContext(Gn),C=typeof f=="string"&&Lx.test(f),H,k=!1;if(typeof f=="string"&&C&&(H=f,Mx))try{let de=new URL(window.location.href),F=f.startsWith("//")?new URL(de.protocol+f):new URL(f),E=Ms(F.pathname,B);F.origin===de.origin&&E!=null?f=E+F.search+F.hash:k=!0}catch{Nn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=xy(f,{relative:u}),[U,ae,pe]=Zy(o,S),Y=lv(f,{replace:h,state:x,target:p,preventScrollReset:g,relative:u,viewTransition:y});function q(de){a&&a(de),de.defaultPrevented||Y(de)}let me=T.createElement("a",{...S,...pe,href:H||M,onClick:k||d?a:q,ref:ev(j,ae),target:p,"data-discover":!C&&i==="render"?"true":void 0});return U&&!C?T.createElement(T.Fragment,null,me,T.createElement(Jy,{page:M})):me});qe.displayName="Link";var tv=T.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:o="",end:u=!1,style:d,to:h,viewTransition:x,children:p,...f},g){let y=Er(h,{relative:f.relative}),S=wn(),j=T.useContext(lo),{navigator:B,basename:C}=T.useContext(Gn),H=j!=null&&uv(y)&&x===!0,k=B.encodeLocation?B.encodeLocation(y).pathname:y.pathname,M=S.pathname,U=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(M=M.toLowerCase(),U=U?U.toLowerCase():null,k=k.toLowerCase()),U&&C&&(U=Ms(U,C)||U);const ae=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let pe=M===k||!u&&M.startsWith(k)&&M.charAt(ae)==="/",Y=U!=null&&(U===k||!u&&U.startsWith(k)&&U.charAt(k.length)==="/"),q={isActive:pe,isPending:Y,isTransitioning:H},me=pe?a:void 0,de;typeof o=="function"?de=o(q):de=[o,pe?"active":null,Y?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let F=typeof d=="function"?d(q):d;return T.createElement(qe,{...f,"aria-current":me,className:de,ref:g,style:F,to:h,viewTransition:x},typeof p=="function"?p(q):p)});tv.displayName="NavLink";var nv=T.forwardRef(({discover:s="render",fetcherKey:a,navigate:i,reloadDocument:o,replace:u,state:d,method:h=Zi,action:x,onSubmit:p,relative:f,preventScrollReset:g,viewTransition:y,...S},j)=>{let B=ov(),C=cv(x,{relative:f}),H=h.toLowerCase()==="get"?"get":"post",k=typeof x=="string"&&Lx.test(x),M=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let ae=U.nativeEvent.submitter,pe=ae?.getAttribute("formmethod")||h;B(ae||U.currentTarget,{fetcherKey:a,method:pe,navigate:i,replace:u,state:d,relative:f,preventScrollReset:g,viewTransition:y})};return T.createElement("form",{ref:j,method:H,action:C,onSubmit:o?p:M,...S,"data-discover":!k&&s==="render"?"true":void 0})});nv.displayName="Form";function sv(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ox(s){let a=T.useContext(wa);return ft(a,sv(s)),a}function lv(s,{target:a,replace:i,state:o,preventScrollReset:u,relative:d,viewTransition:h}={}){let x=Qn(),p=wn(),f=Er(s,{relative:d});return T.useCallback(g=>{if(Oy(g,a)){g.preventDefault();let y=i!==void 0?i:Tr(p)===Tr(f);x(s,{replace:y,state:o,preventScrollReset:u,relative:d,viewTransition:h})}},[p,x,f,i,o,a,s,u,d,h])}function av(s){Nn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=T.useRef(Yu(s)),i=T.useRef(!1),o=wn(),u=T.useMemo(()=>By(o.search,i.current?null:a.current),[o.search]),d=Qn(),h=T.useCallback((x,p)=>{const f=Yu(typeof x=="function"?x(new URLSearchParams(u)):x);i.current=!0,d("?"+f,p)},[d,u]);return[u,h]}var rv=0,iv=()=>`__${String(++rv)}__`;function ov(){let{router:s}=Ox("useSubmit"),{basename:a}=T.useContext(Gn),i=Cy();return T.useCallback(async(o,u={})=>{let{action:d,method:h,encType:x,formData:p,body:f}=qy(o,a);if(u.navigate===!1){let g=u.fetcherKey||iv();await s.fetch(g,i,u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:f,formMethod:u.method||h,formEncType:u.encType||x,flushSync:u.flushSync})}else await s.navigate(u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:f,formMethod:u.method||h,formEncType:u.encType||x,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,i])}function cv(s,{relative:a}={}){let{basename:i}=T.useContext(Gn),o=T.useContext(Pn);ft(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),d={...Er(s||".",{relative:a})},h=wn();if(s==null){d.search=h.search;let x=new URLSearchParams(d.search),p=x.getAll("index");if(p.some(g=>g==="")){x.delete("index"),p.filter(y=>y).forEach(y=>x.append("index",y));let g=x.toString();d.search=g?`?${g}`:""}}return(!s||s===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Rs([i,d.pathname])),Tr(d)}function uv(s,{relative:a}={}){let i=T.useContext(Tx);ft(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Ox("useViewTransitionState"),u=Er(s,{relative:a});if(!i.isTransitioning)return!1;let d=Ms(i.currentLocation.pathname,o)||i.currentLocation.pathname,h=Ms(i.nextLocation.pathname,o)||i.nextLocation.pathname;return eo(u.pathname,h)!=null||eo(u.pathname,d)!=null}const dv="https://sunke-vasan-varpe-varadaraju.onrender.com/api";class mv{constructor(){this.baseURL=dv}async request(a,i={}){const o=`${this.baseURL}${a}`,u={headers:{"Content-Type":"application/json",...i.headers},...i},d=localStorage.getItem("token");d&&(u.headers.Authorization=`Bearer ${d}`);try{const h=await fetch(o,u),x=await h.json();if(!h.ok){if(h.status===400&&x.errors)return{success:!1,message:x.message,errors:x.errors};throw new Error(x.message||`HTTP error! status: ${h.status}`)}return x}catch(h){if(h.name==="TypeError"&&h.message.includes("fetch"))return console.error("Network error:",h),{success:!1,message:"Network error. Please check your connection."};throw console.error("API request failed:",h),h}}get(a,i={}){return this.request(a,{method:"GET",...i})}post(a,i,o={}){return this.request(a,{method:"POST",body:JSON.stringify(i),...o})}put(a,i,o={}){return this.request(a,{method:"PUT",body:JSON.stringify(i),...o})}delete(a,i={}){return this.request(a,{method:"DELETE",...i})}}const gr=new mv,pa={async register(s){const a=await gr.post("/auth/register",s);return a.success&&a.data&&a.data.token?(localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),{success:!0,user:a.data.user,token:a.data.token,message:a.message}):a},async login(s){const a=await gr.post("/auth/login",s);return a.success&&a.data&&a.data.token?(localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),{success:!0,user:a.data.user,token:a.data.token,message:a.message}):a},async logout(){try{await gr.post("/auth/logout")}catch(s){console.error("Logout error:",s)}finally{localStorage.removeItem("token"),localStorage.removeItem("user")}},async getProfile(){return await gr.get("/auth/profile")},async updateProfile(s){return await gr.put("/auth/profile",s)},getCurrentUser(){const s=localStorage.getItem("user");return s?JSON.parse(s):null},getToken(){return localStorage.getItem("token")},isAuthenticated(){const s=this.getToken();if(!s)return!1;try{return JSON.parse(atob(s.split(".")[1])).exp*1e3>Date.now()}catch{return!1}}},Bx=T.createContext(),Mt=()=>{const s=T.useContext(Bx);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},Ux=({children:s})=>{const[a,i]=T.useState(null),[o,u]=T.useState(!0);console.log(" AuthProvider rendering, user:",a,"loading:",o),T.useEffect(()=>{(async()=>{console.log(" Initializing auth...");try{const y=pa.isAuthenticated();if(console.log(" Is authenticated:",y),y){const S=pa.getCurrentUser();console.log(" Current user from storage:",S),i(S)}else console.log(" Not authenticated, clearing storage"),localStorage.removeItem("token"),localStorage.removeItem("user")}catch(y){console.error(" Auth initialization error:",y)}finally{console.log(" Auth initialization complete, setting loading to false"),u(!1)}})()},[]);const f={user:a,register:async g=>{try{const y=await pa.register(g);return y.success&&i(y.user),y}catch(y){throw y}},login:async(g,y)=>{try{const S=await pa.login({email:g,password:y});if(S.success)return i(S.user),S;throw new Error(S.message||"Login failed")}catch(S){throw S}},logout:async()=>{try{await pa.logout(),i(null)}catch(g){console.error("Logout error:",g),i(null)}},updateProfile:async g=>{try{const y=await pa.updateProfile(g);if(y.success){const S={...a,...y.profile};return i(S),localStorage.setItem("user",JSON.stringify(S)),y}throw new Error(y.message||"Profile update failed")}catch(y){throw y}},isAuthenticated:!!a,loading:o};return t.jsx(Bx.Provider,{value:f,children:s})},Bn=({children:s,requiredRole:a=null})=>{const{user:i,loading:o}=Mt();if(o)return t.jsx("div",{className:"protected-route-loading",children:t.jsx("div",{className:"protected-route-spinner"})});if(!i)return t.jsx(ya,{to:"/login",replace:!0});const u=i?.role||i?.account_type;return a&&u!==a?t.jsx(ya,{to:"/unauthorized",replace:!0}):s},Fi=({children:s})=>{const{user:a,loading:i}=Mt();if(i)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(a)switch(a?.role||a?.account_type){case"student":return t.jsx(ya,{to:"/student-dashboard",replace:!0});case"tutor":return t.jsx(ya,{to:"/tutor-dashboard",replace:!0});case"admin":return t.jsx(ya,{to:"/admin-dashboard",replace:!0});default:return t.jsx(ya,{to:"/",replace:!0})}return s},ze=({variant:s="primary",size:a="md",children:i,loading:o=!1,className:u="",disabled:d,...h})=>{const x="button-base",p={primary:"button-primary",secondary:"button-secondary",outline:"button-outline"},f={sm:"button-sm",md:"button-md",lg:"button-lg"},g=`${x} ${p[s]} ${f[a]} ${u}`;return t.jsx("button",{className:g,disabled:d||o,...h,children:o?t.jsxs("div",{className:"button-loading",children:[t.jsx("div",{className:"button-spinner"}),"Loading..."]}):i})},hv=()=>{const[s,a]=T.useState(!1),[i,o]=T.useState(!1),[u,d]=T.useState(!1),h=wn(),x=Qn(),{user:p,logout:f,isAuthenticated:g}=Mt(),y=T.useRef(null);T.useEffect(()=>{const M=U=>{y.current&&!y.current.contains(U.target)&&d(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]),T.useEffect(()=>{d(!1),a(!1)},[h]);const j=(()=>{const M=[{name:"Home",href:"/"},{name:"About",href:"/about"}];if(g){const U=[],ae=p?.role||p?.account_type;return ae==="student"&&U.push({name:"Find Tutors",href:"/tutors"}),ae==="student"?U.unshift({name:"Dashboard",href:"/student-dashboard"}):ae==="tutor"?U.unshift({name:"Dashboard",href:"/tutor-dashboard"}):ae==="admin"&&U.unshift({name:"Dashboard",href:"/admin-dashboard"}),[...M,...U]}return M})(),B=M=>h.pathname===M,C=async()=>{o(!0);try{await f(),a(!1),d(!1),x("/")}catch(M){console.error("Logout failed:",M)}finally{o(!1)}},H=()=>{d(!u)},k=()=>{x("/profile"),d(!1),a(!1)};return t.jsx("nav",{className:"navbar-container",children:t.jsxs("div",{className:"navbar-wrapper",children:[t.jsxs("div",{className:"navbar-content",children:[t.jsx("div",{className:"navbar-logo-container",children:t.jsxs(qe,{to:"/",className:"navbar-logo-link",children:[t.jsx("div",{className:"navbar-logo-icon",children:t.jsx("span",{className:"navbar-logo-text",children:"T"})}),t.jsx("span",{className:"navbar-brand-text",children:"Tutor Together"})]})}),t.jsx("div",{className:"navbar-desktop-nav",children:t.jsx("div",{className:"navbar-nav-links",children:j.map(M=>t.jsx(qe,{to:M.href,className:`navbar-link ${B(M.href)?"navbar-link-active":"navbar-link-inactive"}`,children:M.name},M.name))})}),t.jsx("div",{className:"navbar-desktop-auth",children:g?t.jsxs("div",{className:"navbar-profile-dropdown-container",ref:y,children:[t.jsx("div",{className:"navbar-profile-wrapper",children:t.jsxs("button",{onClick:H,className:"navbar-profile-button",children:[t.jsx("div",{className:"navbar-avatar",children:(p?.profile?.fullName||p?.full_name||p?.name||p?.username||"").split(" ").map(M=>M[0]).join("")||"U"}),t.jsx("span",{className:"navbar-username",children:p?.profile?.fullName||p?.full_name||p?.name||p?.username||"User"}),t.jsx("svg",{className:"navbar-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),u&&t.jsx("div",{className:"navbar-dropdown-menu",children:t.jsxs("div",{className:"navbar-dropdown-content",children:[t.jsxs("button",{onClick:k,className:"navbar-dropdown-item",children:[t.jsx("svg",{className:"navbar-dropdown-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"View Profile"]}),t.jsx("div",{className:"navbar-dropdown-divider"}),t.jsx("button",{onClick:C,disabled:i,className:"navbar-dropdown-item navbar-dropdown-item-logout",children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"navbar-spinner"}),"Logging out..."]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"navbar-dropdown-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})})]}):t.jsxs(t.Fragment,{children:[t.jsx(qe,{to:"/login",children:t.jsx(ze,{variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Login"})}),t.jsx(qe,{to:"/register",children:t.jsx(ze,{variant:"primary",size:"sm",children:"Register"})})]})}),t.jsx("div",{className:"navbar-mobile-toggle",children:t.jsx("button",{onClick:()=>a(!s),className:"navbar-toggle-button",children:t.jsx("svg",{className:"navbar-toggle-icon",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:s?t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]}),s&&t.jsx("div",{className:"navbar-mobile-nav",children:t.jsxs("div",{className:"navbar-mobile-content",children:[t.jsx("div",{className:"navbar-mobile-links",children:j.map(M=>t.jsx(qe,{to:M.href,className:`navbar-item ${B(M.href)?"navbar-link-active":"navbar-link-inactive"}`,onClick:()=>a(!1),children:M.name},M.name))}),t.jsx("div",{className:"navbar-mobile-auth",children:g?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"navbar-mobile-profile",children:[t.jsx("div",{className:"navbar-mobile-avatar",children:(p?.profile?.fullName||p?.full_name||p?.name||p?.username||"").split(" ").map(M=>M[0]).join("")||"U"}),t.jsx("div",{className:"navbar-mobile-username",children:p?.profile?.fullName||p?.full_name||p?.name||p?.username||"User"})]}),t.jsxs("button",{onClick:k,className:"navbar-mobile-profile-button",children:[t.jsx("svg",{className:"navbar-mobile-profile-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),t.jsx("span",{children:"View Profile"})]}),t.jsx(ze,{variant:"outline",size:"sm",className:"w-full",onClick:C,disabled:i,children:i?t.jsxs("div",{className:"navbar-mobile-logout-content",children:[t.jsx("div",{className:"navbar-mobile-spinner"}),t.jsx("span",{children:"Logging out..."})]}):"Logout"})]}):t.jsxs(t.Fragment,{children:[t.jsx(qe,{to:"/login",onClick:()=>a(!1),children:t.jsx(ze,{variant:"outline",size:"sm",className:"w-full",children:"Login"})}),t.jsx(qe,{to:"/register",onClick:()=>a(!1),children:t.jsx(ze,{variant:"primary",size:"sm",className:"w-full",children:"Register"})})]})})]})})]})})},fv=()=>{const s=Qn();if(wn().pathname==="/chatbot")return null;const i=()=>{s("/chatbot")};return t.jsxs("div",{className:"ai-chat-container",onClick:i,children:[t.jsxs("div",{className:"ai-chat-button",children:[t.jsx("svg",{className:"ai-chat-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),t.jsx("div",{className:"ai-indicator-outer"}),t.jsx("div",{className:"ai-indicator-inner"})]}),t.jsxs("div",{className:"ai-chat-tooltip",children:["AI Assistant",t.jsx("div",{className:"ai-chat-tooltip-arrow"})]})]})},xv=()=>{try{const{user:s,isAuthenticated:a,loading:i}=Mt();console.log(" AuthDebug render:",{user:s,isAuthenticated:a,loading:i});const o={position:"fixed",top:"10px",right:"10px",background:"red",color:"white",padding:"15px",borderRadius:"8px",fontSize:"14px",zIndex:99999,maxWidth:"400px",border:"2px solid white",fontFamily:"monospace"};return i?t.jsxs("div",{style:o,children:[t.jsx("div",{children:t.jsx("strong",{children:" AUTH DEBUG - LOADING"})}),t.jsx("div",{children:"State: Loading auth..."})]}):t.jsxs("div",{style:o,children:[t.jsx("div",{children:t.jsx("strong",{children:" AUTH DEBUG"})}),t.jsxs("div",{children:[" Authenticated: ",a?" YES":" NO"]}),t.jsxs("div",{children:[" User Object: ",s?"EXISTS":"NULL"]}),s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[" Email: ",s.email||"N/A"]}),t.jsxs("div",{children:[" Role: ",s?.role||s?.account_type||"N/A"]}),t.jsxs("div",{children:[" Name: ",s?.name||s?.full_name||s?.username||"N/A"]}),t.jsxs("div",{children:[" ID: ",s.id||"N/A"]})]}),t.jsxs("div",{children:[" Token: ",localStorage.getItem("token")?"PRESENT":"MISSING"]}),t.jsxs("div",{children:[" Location: ",window.location.pathname]})]})}catch(s){return console.error(" AuthDebug Error:",s),t.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"red",color:"white",padding:"15px",borderRadius:"8px",fontSize:"14px",zIndex:99999,border:"2px solid white"},children:[t.jsx("div",{children:t.jsx("strong",{children:" AUTH DEBUG ERROR"})}),t.jsxs("div",{children:["Error: ",s.message]})]})}},pv=()=>(console.log(" TestComponent is rendering"),t.jsxs("div",{style:{position:"fixed",top:"100px",left:"10px",background:"green",color:"white",padding:"20px",borderRadius:"8px",zIndex:99999,border:"3px solid yellow"},children:[t.jsx("h3",{children:" TEST COMPONENT"}),t.jsx("div",{children:"If you see this, React is working!"}),t.jsxs("div",{children:["Current Time: ",new Date().toLocaleTimeString()]})]}));class Ow extends vx.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return console.log(" ErrorBoundary - getDerivedStateFromError:",a),{hasError:!0}}componentDidCatch(a,i){console.error(" ErrorBoundary caught an error:",a),console.error(" ErrorBoundary errorInfo:",i),this.setState({error:a||new Error("Unknown error"),errorInfo:i||{componentStack:"No stack trace available"}})}render(){return this.state.hasError?t.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"red",color:"white",padding:"20px",borderRadius:"8px",maxWidth:"80%",zIndex:99999,textAlign:"center"},children:[t.jsx("h2",{children:" Something went wrong!"}),t.jsxs("details",{children:[t.jsx("summary",{children:"Error Details (click to expand)"}),t.jsxs("div",{style:{textAlign:"left",marginTop:"10px"},children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Error:"})," ",this.state.error&&this.state.error.toString()]}),t.jsx("p",{children:t.jsx("strong",{children:"Component Stack:"})}),t.jsx("pre",{children:this.state.errorInfo&&this.state.errorInfo.componentStack?this.state.errorInfo.componentStack:"No component stack available"})]})]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"10px 20px",background:"white",color:"red",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const zs=({children:s,className:a="",hover:i=!0})=>t.jsx("div",{className:`card ${i?"card-hover":""} ${a}`,children:s}),Kt=({children:s,className:a="",maxWidth:i="lg"})=>{const o={sm:"container-sm",md:"container-md",lg:"container-lg",xl:"container-xl","2xl":"container-2xl",full:"container-full"};return t.jsx("div",{className:`container-base ${o[i]} ${a}`,children:s})},wt=({label:s,error:a,helperText:i,className:o="",...u})=>t.jsxs("div",{className:"input-wrapper",children:[s&&t.jsx("label",{className:"input-label",children:s}),t.jsx("input",{className:`input-field input-field-base ${a?"input-error":""} ${o}`,...u}),a&&t.jsx("p",{className:"input-error-text",children:a}),i&&!a&&t.jsx("p",{className:"input-helper-text",children:i})]}),Ds=({isOpen:s,onClose:a,title:i,children:o,size:u="md"})=>{if(!s)return null;const d={sm:"modal-sm",md:"modal-md",lg:"modal-lg",xl:"modal-xl"},h=x=>{x.target===x.currentTarget&&a()};return t.jsx("div",{className:"modal-backdrop",onClick:h,children:t.jsxs("div",{className:`modal-content ${d[u]}`,children:[i&&t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:i}),t.jsx("button",{onClick:a,className:"modal-close",children:t.jsx("svg",{className:"modal-close-icon",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),o]})})},gv=()=>{const{user:s,isAuthenticated:a,loading:i}=Mt(),o=Qn();if(T.useEffect(()=>{if(!i&&a&&s){const h=s?.role||s?.account_type;h==="student"?o("/student-dashboard",{replace:!0}):h==="tutor"?o("/tutor-dashboard",{replace:!0}):h==="admin"&&o("/admin-dashboard",{replace:!0})}},[a,s,i,o]),i)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:t.jsx("div",{className:"text-white text-lg",children:"Loading..."})});if(a)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),t.jsx("p",{className:"text-white",children:"Redirecting to dashboard..."})]})});const u=[{icon:"",title:"Personalized Learning",description:"AI-powered matching connects you with tutors who understand your learning style and goals."},{icon:"",title:"AI Study Assistant",description:"Get instant help with homework, generate practice problems, and receive study recommendations."},{icon:"",title:"Progress Tracking",description:"Monitor your learning journey with detailed analytics and achievement milestones."},{icon:"",title:"Interactive Sessions",description:"Engage in live video sessions with screen sharing, whiteboards, and collaborative tools."},{icon:"",title:"Expert Tutors",description:"Learn from qualified educators with proven track records and positive student reviews."},{icon:"",title:"Flexible Scheduling",description:"Book sessions that fit your schedule with instant confirmations and easy rescheduling."}],d=[{name:"Emma Chen",role:"Computer Science Student",content:"Tutor Together helped me improve my programming skills dramatically. The AI assistant is incredibly helpful for debugging!",avatar:"https://images.unsplash.com/photo-1494790108755-2616b332e234?w=80"},{name:"Marcus Johnson",role:"High School Student",content:"My calculus grades went from C to A+ in just 3 months. The personalized learning approach really works!",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=80"},{name:"Sophia Rodriguez",role:"Physics Major",content:"The progress tracking feature keeps me motivated, and the tutors are amazing at explaining complex concepts.",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=80"}];return t.jsxs("div",{className:"min-h-screen",children:[t.jsx("section",{className:"bg-gradient-to-br from-black via-gray-900 to-black py-20 lg:py-32",children:t.jsx(Kt,{children:t.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[t.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Connect, Learn,",t.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-gray-300 bg-clip-text text-transparent",children:" Succeed"})]}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:"Accelerate your learning journey with AI-powered tutoring, personalized study plans, and expert guidance tailored to your goals."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(qe,{to:"/register",children:t.jsx(ze,{size:"lg",className:"w-full sm:w-auto",children:"Get Started Free"})}),t.jsx(qe,{to:"/tutors",children:t.jsx(ze,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"Find Tutors"})})]}),t.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"No credit card required  Cancel anytime  500+ expert tutors"})]})})}),t.jsx("section",{className:"py-20 bg-gray-900/50",children:t.jsxs(Kt,{children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Why Choose Tutor Together?"}),t.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Our platform combines cutting-edge AI technology with human expertise to create the most effective learning experience."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map((h,x)=>t.jsxs(zs,{className:"text-center",children:[t.jsx("div",{className:"text-4xl mb-4",children:h.icon}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:h.title}),t.jsx("p",{className:"text-gray-300 leading-relaxed",children:h.description})]},x))})]})}),t.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-gray-400",children:t.jsx(Kt,{children:t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"10K+"}),t.jsx("div",{className:"text-white/80",children:"Students Helped"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"500+"}),t.jsx("div",{className:"text-white/80",children:"Expert Tutors"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"50+"}),t.jsx("div",{className:"text-white/80",children:"Subjects Covered"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"4.9/5"}),t.jsx("div",{className:"text-white/80",children:"Average Rating"})]})]})})}),t.jsx("section",{className:"py-20 bg-black",children:t.jsxs(Kt,{children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"What Our Students Say"}),t.jsx("p",{className:"text-xl text-gray-300",children:"Real success stories from students who transformed their learning experience"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:d.map((h,x)=>t.jsxs(zs,{children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("img",{src:h.avatar,alt:h.name,className:"w-12 h-12 rounded-full mr-4"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-white",children:h.name}),t.jsx("p",{className:"text-gray-400 text-sm",children:h.role})]})]}),t.jsxs("p",{className:"text-gray-300 italic leading-relaxed",children:['"',h.content,'"']}),t.jsx("div",{className:"flex text-yellow-400 mt-4",children:"".repeat(5)})]},x))})]})}),t.jsx("section",{className:"py-20 bg-gray-900/50",children:t.jsx(Kt,{children:t.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Learning?"}),t.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join thousands of students who have already accelerated their academic success with our AI-powered tutoring platform."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(qe,{to:"/register",children:t.jsx(ze,{size:"lg",className:"w-full sm:w-auto",children:"Start Learning Today"})}),t.jsx(qe,{to:"/about",children:t.jsx(ze,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"Learn More"})})]})]})})})]})},bv=()=>{const[s,a]=T.useState({email:"",password:"",rememberMe:!1}),[i,o]=T.useState({}),[u,d]=T.useState(!1),h=Qn(),{login:x}=Mt(),p=y=>{const{name:S,value:j,type:B,checked:C}=y.target;a(H=>({...H,[S]:B==="checkbox"?C:j})),i[S]&&o(H=>({...H,[S]:""}))},f=()=>{const y={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(y.email="Please enter a valid email address"):y.email="Email is required",s.password?s.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",o(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!f()){d(!0);try{const S=await x(s.email,s.password);switch(S.user.account_type||S.user.accountType){case"student":h("/student-dashboard");break;case"tutor":h("/tutor-dashboard");break;case"admin":h("/admin-dashboard");break;default:h("/")}}catch(S){o({submit:S.message||"Invalid email or password. Please try again."})}finally{d(!1)}}};return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs(Kt,{maxWidth:"sm",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-gray-400 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"T"})})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),t.jsx("p",{className:"text-gray-400",children:"Sign in to your account to continue learning"})]}),t.jsxs(zs,{children:[t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsx(wt,{label:"Email Address",type:"email",name:"email",value:s.email,onChange:p,placeholder:"Enter your email",error:i.email,required:!0}),t.jsx(wt,{label:"Password",type:"password",name:"password",value:s.password,onChange:p,placeholder:"Enter your password",error:i.password,required:!0}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"remember-me",name:"rememberMe",type:"checkbox",checked:s.rememberMe,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-600 bg-gray-800 rounded"}),t.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-sm text-gray-300",children:"Remember me"})]}),t.jsx("div",{className:"text-sm",children:t.jsx(qe,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Forgot your password?"})})]}),i.submit&&t.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-300 px-4 py-3 rounded-lg",children:i.submit}),t.jsx(ze,{type:"submit",loading:u,className:"w-full",children:u?"Signing In...":"Sign In"})]}),t.jsx("div",{className:"mt-6"}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",t.jsx(qe,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign up here"})]})})]})]})})},yv=()=>{const[s,a]=T.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",userType:"student"}),[i,o]=T.useState({}),[u,d]=T.useState(!1),h=Qn(),{register:x}=Mt(),p=y=>{const{name:S,value:j,type:B,checked:C}=y.target;a(H=>({...H,[S]:B==="checkbox"?C:j})),i[S]&&o(H=>({...H,[S]:""}))},f=()=>{const y={};return s.firstName.trim()||(y.firstName="First name is required"),s.lastName.trim()||(y.lastName="Last name is required"),s.email?/\S+@\S+\.\S+/.test(s.email)||(y.email="Please enter a valid email address"):y.email="Email is required",s.password?s.password.length<8?y.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(s.password)||(y.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):y.password="Password is required",s.confirmPassword?s.password!==s.confirmPassword&&(y.confirmPassword="Passwords do not match"):y.confirmPassword="Please confirm your password",o(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!f()){d(!0);try{const S={firstName:s.firstName.trim(),lastName:s.lastName.trim(),email:s.email,password:s.password,confirmPassword:s.confirmPassword,userType:s.userType},j=await x(S);if(!j.success){if(j.errors&&Array.isArray(j.errors)){const B={};j.errors.forEach(C=>{B[C.param||"submit"]=C.msg}),o(B)}else o({submit:j.message||"Registration failed. Please try again."});return}if(s.userType==="tutor")o({submit:"success:Your tutor account has been created successfully! You can now log in and complete your profile."}),setTimeout(()=>{h("/login")},2e3);else switch(j.user.role||j.user.accountType){case"student":h("/student-dashboard");break;case"tutor":h("/tutor-dashboard");break;case"admin":h("/admin-dashboard");break;default:h("/")}}catch(S){o({submit:S.message||"Registration failed. This email may already be registered."})}finally{d(!1)}}};return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs(Kt,{maxWidth:"sm",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-gray-400 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"T"})})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Your Account"}),t.jsx("p",{className:"text-gray-400",children:"Join thousands of learners and tutors today"})]}),t.jsxs(zs,{children:[t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(wt,{label:"First Name",type:"text",name:"firstName",value:s.firstName,onChange:p,placeholder:"Enter first name",error:i.firstName,required:!0}),t.jsx(wt,{label:"Last Name",type:"text",name:"lastName",value:s.lastName,onChange:p,placeholder:"Enter last name",error:i.lastName,required:!0})]}),t.jsx(wt,{label:"Email Address",type:"email",name:"email",value:s.email,onChange:p,placeholder:"Enter your email",error:i.email,required:!0}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"I want to join as a"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`relative cursor-pointer rounded-lg border p-4 transition-colors ${s.userType==="student"?"border-blue-500 bg-blue-900/20":"border-gray-600 bg-gray-800 hover:bg-gray-700"}`,onClick:()=>a(y=>({...y,userType:"student"})),children:[t.jsx("input",{type:"radio",name:"userType",value:"student",checked:s.userType==="student",onChange:p,className:"sr-only"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium text-white",children:"Student"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Learn and grow"})]}),s.userType==="student"&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})]}),t.jsxs("div",{className:`relative cursor-pointer rounded-lg border p-4 transition-colors ${s.userType==="tutor"?"border-blue-500 bg-blue-900/20":"border-gray-600 bg-gray-800 hover:bg-gray-700"}`,onClick:()=>a(y=>({...y,userType:"tutor"})),children:[t.jsx("input",{type:"radio",name:"userType",value:"tutor",checked:s.userType==="tutor",onChange:p,className:"sr-only"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium text-white",children:"Tutor"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Teach and earn"})]}),s.userType==="tutor"&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})]})]})]}),t.jsx(wt,{label:"Password",type:"password",name:"password",value:s.password,onChange:p,placeholder:"Create a strong password",error:i.password,help:"Must be at least 8 characters with uppercase, lowercase, and number",required:!0}),t.jsx(wt,{label:"Confirm Password",type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:p,placeholder:"Confirm your password",error:i.confirmPassword,required:!0}),i.submit&&t.jsx("div",{className:`border px-4 py-3 rounded-lg ${i.submit.startsWith("success:")?"bg-green-900/50 border-green-500 text-green-300":"bg-red-900/50 border-red-500 text-red-300"}`,children:i.submit.startsWith("success:")?i.submit.replace("success:",""):i.submit}),t.jsx(ze,{type:"submit",loading:u,className:"w-full",children:u?"Creating Account...":"Create Account"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",t.jsx(qe,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign in here"})]})})]})]})})},vv=()=>{const[s,a]=T.useState({email:""}),[i,o]=T.useState({}),[u,d]=T.useState(!1),[h,x]=T.useState(!1),[p,f]=T.useState(""),[g,y]=T.useState(null),S=C=>{const{name:H,value:k}=C.target;a(M=>({...M,[H]:k})),i[H]&&o(M=>({...M,[H]:""}))},j=()=>{const C={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(C.email="Please enter a valid email address"):C.email="Email is required",o(C),Object.keys(C).length===0},B=async C=>{if(C.preventDefault(),!!j()){d(!0),o({});try{const k=await(await fetch("http://localhost:5000/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email})})).json();if(k.success){x(!0),y(k);let M=k.message;k.debug&&k.debug.token&&(M+=`

Reset Token: ${k.debug.token}

Copy this token to reset your password.`),f(M)}else if(k.errors&&Array.isArray(k.errors)){const M={};k.errors.forEach(U=>{M[U.param||"submit"]=U.msg}),o(M)}else o({submit:k.message||"Failed to send reset email. Please try again."})}catch(H){console.error("Password reset error:",H),o({submit:"Network error. Please check your connection and try again."})}finally{d(!1)}}};return h?t.jsx(Kt,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsx(zs,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset"}),t.jsx("div",{className:"text-gray-300 mb-6 whitespace-pre-line text-sm",children:p}),t.jsxs("div",{className:"space-y-4",children:[g&&g.debug&&g.debug.token&&t.jsx(qe,{to:`/reset-password?token=${g.debug.token}`,children:t.jsx(ze,{variant:"primary",className:"w-full",children:"Reset Password with This Token"})}),t.jsx(ze,{onClick:()=>{x(!1),a({email:""}),f(""),y(null)},variant:"outline",className:"w-full",children:"Send Another Email"}),t.jsx(qe,{to:"/login",children:t.jsx(ze,{variant:"secondary",className:"w-full",children:"Back to Login"})})]})]})})}):t.jsx(Kt,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsxs(zs,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Forgot Password"}),t.jsx("p",{className:"text-gray-300",children:"Enter your email address and we'll send you instructions to reset your password."})]}),t.jsxs("form",{onSubmit:B,className:"space-y-6",children:[t.jsx("div",{children:t.jsx(wt,{label:"Email Address",type:"email",name:"email",value:s.email,onChange:S,placeholder:"Enter your email address",error:i.email,required:!0})}),i.submit&&t.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg",children:i.submit}),t.jsx(ze,{type:"submit",isLoading:u,disabled:u,className:"w-full",variant:"primary",children:u?"Sending...":"Send Reset Instructions"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(qe,{to:"/login",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Back to Login"})})]})})},jv=()=>{const s=Qn(),[a]=av(),[i,o]=T.useState({token:"",password:"",confirmPassword:""}),[u,d]=T.useState({}),[h,x]=T.useState(!1),[p,f]=T.useState(!1),[g,y]=T.useState(!1),[S,j]=T.useState(!1);T.useEffect(()=>{const k=a.get("token");k&&o(M=>({...M,token:k}))},[a]);const B=k=>{const{name:M,value:U}=k.target;o(ae=>({...ae,[M]:U})),u[M]&&d(ae=>({...ae,[M]:""})),(M==="password"||M==="confirmPassword")&&u.confirmPassword&&d(ae=>({...ae,confirmPassword:""}))},C=()=>{const k={};return i.token?i.token.length<20&&(k.token="Invalid token format"):k.token="Reset token is required",i.password?i.password.length<8?k.password="Password must be at least 8 characters long":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(i.password)||(k.password="Password must contain at least one lowercase letter, one uppercase letter, and one number"):k.password="Password is required",i.confirmPassword?i.password.trim()!==i.confirmPassword.trim()&&(k.confirmPassword="Passwords do not match"):k.confirmPassword="Please confirm your password",d(k),Object.keys(k).length===0},H=async k=>{if(k.preventDefault(),!!C()){x(!0),d({});try{const U=await(await fetch("http://localhost:5000/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:i.token,password:i.password,confirmPassword:i.confirmPassword})})).json();if(U.success)f(!0);else if(U.errors&&Array.isArray(U.errors)){const ae={};U.errors.forEach(pe=>{ae[pe.param||"submit"]=pe.msg}),d(ae)}else d({submit:U.message||"Failed to reset password. Please try again."})}catch(M){console.error("Password reset error:",M),d({submit:"Network error. Please check your connection and try again."})}finally{x(!1)}}};return p?t.jsx(Kt,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsx(zs,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successful"}),t.jsx("p",{className:"text-gray-300 mb-6",children:"Your password has been successfully reset. You can now login with your new password."}),t.jsx(ze,{onClick:()=>s("/login"),variant:"primary",className:"w-full",children:"Continue to Login"})]})})}):t.jsx(Kt,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsxs(zs,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-300",children:"Enter your reset token and choose a new password."})]}),t.jsxs("form",{onSubmit:H,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(wt,{label:"Reset Token",type:"text",name:"token",value:i.token,onChange:B,placeholder:"Enter your reset token",error:u.token,required:!0}),t.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Copy the token from your forgot password request"})]}),t.jsx("div",{children:t.jsxs("div",{className:"relative",children:[t.jsx(wt,{label:"New Password",type:g?"text":"password",name:"password",value:i.password,onChange:B,placeholder:"Enter new password",error:u.password,required:!0}),t.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-300 focus:outline-none",children:g?t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})}),t.jsx("div",{children:t.jsxs("div",{className:"relative",children:[t.jsx(wt,{label:"Confirm New Password",type:S?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:B,placeholder:"Confirm new password",error:u.confirmPassword,required:!0}),t.jsx("button",{type:"button",onClick:()=>j(!S),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-300 focus:outline-none",children:S?t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})}),u.submit&&t.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg",children:u.submit}),t.jsx(ze,{type:"submit",isLoading:h,disabled:h,className:"w-full",variant:"primary",children:h?"Resetting...":"Reset Password"})]}),t.jsxs("div",{className:"mt-6 text-center space-y-2",children:[t.jsx(qe,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors block",children:"Request New Token"}),t.jsx(qe,{to:"/login",className:"text-gray-400 hover:text-gray-300 transition-colors block",children:"Back to Login"})]})]})})},Gi="http://localhost:5000/api",Pi=()=>localStorage.getItem("token"),it={async get(s){const a=Pi(),i=`${Gi}${s}`;console.log(` Making GET request to: ${i}`);const o=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}});if(console.log(" GET Response status:",o.status),!o.ok)throw console.error(" GET Response not ok:",o.status,o.statusText),{response:{data:await o.json().catch(()=>({message:"Unknown error"})),status:o.status}};const u=await o.json();return console.log(" GET Success response:",u),u},async post(s,a){const i=Pi(),o=`${Gi}${s}`;console.log(` Making POST request to: ${o}`),console.log(" Request data:",a);const u=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},body:JSON.stringify(a)});if(console.log(" Response status:",u.status),console.log(" Response ok:",u.ok),!u.ok)throw console.error(" Response not ok:",u.status,u.statusText),{response:{data:await u.json().catch(()=>({message:"Unknown error"})),status:u.status}};const d=await u.json();return console.log(" Success response:",d),d},async put(s,a){const i=Pi(),o=`${Gi}${s}`;console.log(` Making PUT request to: ${o}`),console.log(" Request data:",a);const u=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},body:JSON.stringify(a)});if(console.log(" PUT Response status:",u.status),!u.ok)throw console.error(" PUT Response not ok:",u.status,u.statusText),{response:{data:await u.json().catch(()=>({message:"Unknown error"})),status:u.status}};const d=await u.json();return console.log(" PUT Success response:",d),d},async delete(s){const a=Pi(),i=await fetch(`${Gi}${s}`,{method:"DELETE",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}});if(!i.ok)throw{response:{data:await i.json()}};return{data:await i.json()}}},Vt={getTutorAvailability:async(s,a=null)=>{try{const i=a?`?date=${a}`:"";return await it.get(`/booking/tutors/${s}/availability${i}`)}catch(i){throw i.response?.data||i}},createBooking:async s=>{try{return await it.post("/booking/bookings",s)}catch(a){throw a||a}},getStudentBookings:async(s=null,a=10,i=0)=>{try{const o=new URLSearchParams;return s&&o.append("status",s),o.append("limit",a),o.append("offset",i),await it.get(`/booking/student/bookings?${o}`)}catch(o){console.error("Error fetching student bookings from API, using mock data:",o);const u=[{id:"1",tutorId:"a9efb1ee-dced-4c98-895a-a51c24270a5c",tutorName:"Dr. Johnson",tutorEmail:"dr.johnson@university.edu",date:"2025-11-21",startTime:"15:00",endTime:"16:00",duration:1,totalAmount:50,subject:"Mathematics",sessionType:"Mathematics",meetingType:"virtual",location:null,status:"confirmed",notes:"Calculus integration help session - accepted by tutor",createdAt:"2025-11-20T13:00:00Z"},{id:"2",tutorId:"b8f0c2ff-edef-5d09-906c-b62d35381a6d",tutorName:"Prof. Sarah Wilson",tutorEmail:"sarah.wilson@university.edu",date:"2025-11-25",startTime:"14:00",endTime:"15:30",duration:1.5,totalAmount:75,subject:"Physics",sessionType:"Physics",meetingType:"in_person",location:"University Library - Study Room 204",status:"confirmed",notes:"Quantum mechanics review - accepted by tutor",createdAt:"2025-11-20T10:30:00Z"},{id:"3",tutorId:"c7e1d3aa-f0e1-6e10-a17d-c73e46482b7e",tutorName:"Dr. Michael Chen",tutorEmail:"michael.chen@university.edu",date:"2025-11-23",startTime:"10:00",endTime:"11:00",duration:1,totalAmount:50,subject:"Computer Science",sessionType:"Computer Science",meetingType:"virtual",location:null,status:"pending",notes:"Data structures and algorithms help needed",createdAt:"2025-11-20T09:15:00Z"}];let d=u;return s&&s!=="all"&&(d=u.filter(h=>h.status===s)),{bookings:d,totalCount:d.length}}},getTutorBookings:async(s=null,a=10,i=0)=>{try{const o=new URLSearchParams;return s&&o.append("status",s),o.append("limit",a),o.append("offset",i),await it.get(`/booking/tutor/bookings?${o}`)}catch(o){throw o||o}},getTutorSessions:async()=>{try{console.log(" Making API call to /booking/tutor/sessions...");const s=await it.get("/booking/tutor/sessions");return console.log(" API response in getTutorSessions:",s),s}catch(s){console.error(" Error fetching tutor sessions from API:",s),console.error(" Error status:",s.response?.status),console.error(" Error message:",s.message),console.error(" Full error object:",s);const a=[{id:"session-1",studentId:"45c456fd-b7c4-4c2f-890b-ac636140ba8c",studentName:"Alex Rodriguez",studentAvatar:"/api/placeholder/40/40",subject:"Calculus",topic:"Integration by Parts",date:"2025-11-20",time:"14:00",duration:60,status:"scheduled",notes:"Focus on advanced integration techniques",meetingLink:"https://zoom.us/j/123456789",meetingType:"virtual"},{id:"session-2",studentId:"45c456fd-b7c4-4c2f-890b-ac636140ba8c",studentName:"Emma Wilson",studentAvatar:"/api/placeholder/40/40",subject:"Physics",topic:"Quantum Mechanics",date:"2025-11-21",time:"10:00",duration:60,status:"scheduled",notes:"Review quantum concepts",meetingLink:"https://meet.google.com/physics-session",meetingType:"virtual"},{id:"session-3",studentId:"45c456fd-b7c4-4c2f-890b-ac636140ba8c",studentName:"James Smith",studentAvatar:"/api/placeholder/40/40",subject:"Mathematics",topic:"Linear Algebra",date:"2025-11-19",time:"09:00",duration:60,status:"completed",notes:"Matrices and determinants",meetingLink:null,meetingType:"in_person",location:"Library Room 204"}];return{sessions:a,totalCount:a.length}}},updateBookingStatus:async(s,a,i=null)=>{try{return await it.put(`/booking/bookings/${s}/status`,{status:a,notes:i})}catch(o){throw o.response?.data||o}},markSessionComplete:async(s,a=null)=>{try{const i=s.toString().startsWith("session-")?s.replace("session-",""):s;console.log(" Marking session complete:",{originalId:s,numericId:i});const o=localStorage.getItem("token"),u=await fetch(`http://localhost:5000/api/booking/bookings/${i}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({completionNotes:a})});if(!u.ok){const h=await u.json().catch(()=>({error:u.statusText}));throw console.error(" Mark complete API error:",h),h}const d=await u.json();return console.log(" Mark complete API success:",d),d}catch(i){throw console.error(" Mark complete service error:",i),i.response?.data||i}},canMarkComplete:s=>{if(!s||!["scheduled","confirmed"].includes(s.status))return!1;const a=new Date(`${s.date}T${s.endTime||s.end_time}`);return new Date>=a},getTimeUntilComplete:s=>{if(!s)return null;const a=new Date(`${s.date}T${s.endTime||s.end_time}`),i=new Date;return i>=a?0:Math.ceil((a-i)/(1e3*60))},setTutorAvailability:async s=>{try{return await it.post("/booking/tutors/availability",{availability:s})}catch(a){throw a.response?.data||a}},getAvailableTimeSlots:(s,a)=>s[a]||[],formatTime:s=>new Date(`2000-01-01 ${s}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),calculateDuration:(s,a)=>{const i=new Date(`2000-01-01 ${s}`);return(new Date(`2000-01-01 ${a}`)-i)/(1e3*60*60)},getDaysOfWeek:()=>["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],getPendingBookingRequests:async()=>{try{return(await it.get("/booking/requests/pending"))?.bookingRequests||[]}catch(s){return console.error("Error fetching pending booking requests:",s),[{id:1,studentId:1,studentName:"Alice Johnson",studentEmail:"alice.johnson@university.edu",subject:"Mathematics",date:"2024-01-15",time:"14:00",duration:60,notes:"Need help with calculus derivatives and chain rule. Preparing for upcoming exam.",status:"pending",createdAt:"2024-01-12T10:30:00Z"},{id:2,studentId:2,studentName:"Bob Smith",studentEmail:"bob.smith@university.edu",subject:"Physics",date:"2024-01-16",time:"16:30",duration:90,notes:"Struggling with quantum mechanics concepts, especially wave functions.",status:"pending",createdAt:"2024-01-12T11:15:00Z"},{id:3,studentId:3,studentName:"Carol Davis",studentEmail:"carol.davis@university.edu",subject:"Chemistry",date:"2024-01-17",time:"10:00",duration:60,notes:"Need help with organic chemistry reactions and mechanisms.",status:"pending",createdAt:"2024-01-12T12:00:00Z"}]}},respondToBookingRequest:async(s,a,i="")=>{try{return await it.put(`/booking/requests/${s}/respond`,{action:a,responseMessage:i})}catch(o){return console.error(`Error ${a}ing booking request:`,o),await new Promise(u=>setTimeout(u,1e3)),{success:!0,message:`Booking request ${a}ed successfully`,bookingId:a==="accept"?Math.floor(Math.random()*1e3):null}}},rescheduleBooking:async(s,a,i,o,u="")=>{try{return await it.put(`/booking/bookings/${s}/reschedule`,{newDate:a,newStartTime:i,newEndTime:o,reason:u})}catch(d){return console.error("Error rescheduling booking:",d),await new Promise(h=>setTimeout(h,1e3)),{success:!0,message:"Reschedule request sent to tutor successfully",booking:{id:s,newDate:a,newStartTime:i,newEndTime:o,status:"reschedule_pending"}}}},cancelBooking:async(s,a="")=>{try{return await it.put(`/booking/bookings/${s}/cancel`,{reason:a})}catch(i){throw console.error("Error canceling booking:",i),i.response?.data||i}},getAvailableRescheduleSlots:async(s,a,i=null)=>{try{const o=new URLSearchParams;return i&&o.append("date",i),a&&o.append("excludeBooking",a),await it.get(`/booking/tutors/${s}/available-slots?${o}`)}catch(o){console.error("Error fetching available reschedule slots:",o);let u=[];const d=new Date,h=[];for(let x=1;x<=7;x++){const p=new Date(d);p.setDate(d.getDate()+x),h.push(p.toISOString().split("T")[0])}return s==="tutor_001"?u=[{date:h[0],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"11:00",endTime:"12:00"},{startTime:"14:00",endTime:"15:00"}]},{date:h[1],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"16:00",endTime:"17:00"}]},{date:h[2],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"15:00",endTime:"16:00"}]}]:s==="tutor_002"?u=[{date:h[0],slots:[{startTime:"08:00",endTime:"09:00"},{startTime:"12:00",endTime:"13:00"},{startTime:"15:00",endTime:"16:00"}]},{date:h[1],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"14:00",endTime:"15:00"}]},{date:h[3],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"17:00",endTime:"18:00"}]}]:s==="tutor_003"?u=[{date:h[1],slots:[{startTime:"11:00",endTime:"12:00"},{startTime:"14:00",endTime:"15:00"},{startTime:"16:00",endTime:"17:00"}]},{date:h[2],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"13:00",endTime:"14:00"}]},{date:h[4],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"15:00",endTime:"16:00"},{startTime:"18:00",endTime:"19:00"}]}]:u=[{date:h[0],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"14:00",endTime:"15:00"}]},{date:h[2],slots:[{startTime:"11:00",endTime:"12:00"},{startTime:"16:00",endTime:"17:00"}]}],{tutorId:s,availableSlots:u}}}},Af=[{id:"1",name:"Rahul Varadaraju",email:"rahul.varadaraju@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1494790108755-2616b332e234?w=150",createdAt:"2024-01-15T10:00:00Z",rating:4.9,subjects:["Mathematics","Physics","Calculus"],hourlyRate:45,availability:{Monday:["09:00","10:00","11:00","14:00","15:00"],Tuesday:["09:00","10:00","13:00","14:00","15:00"],Wednesday:["10:00","11:00","14:00","15:00","16:00"],Thursday:["09:00","10:00","11:00","13:00","14:00"],Friday:["09:00","10:00","15:00","16:00"],Saturday:["10:00","11:00","12:00"],Sunday:[]},bio:"PhD in Mathematics with 8 years of teaching experience. Specializes in advanced calculus and physics problem-solving.",experience:8,totalSessions:342,responseTime:"< 2 hours"},{id:"2",name:"Chandrasekar Vasan",email:"chandrasekar.vasan@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",createdAt:"2024-01-10T08:30:00Z",rating:4.8,subjects:["Computer Science","Programming","Data Structures"],hourlyRate:55,availability:{Monday:["13:00","14:00","15:00","16:00","17:00"],Tuesday:["13:00","14:00","15:00","16:00"],Wednesday:["14:00","15:00","16:00","17:00"],Thursday:["13:00","14:00","15:00","16:00","17:00"],Friday:["13:00","14:00","15:00"],Saturday:["09:00","10:00","11:00","12:00"],Sunday:["14:00","15:00","16:00"]},bio:"Senior software engineer turned educator with expertise in algorithms, data structures, and modern programming languages.",experience:6,totalSessions:287,responseTime:"< 1 hour"},{id:"3",name:"Kishore Kumar Sunke",email:"kishore.sunke@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150",createdAt:"2024-01-20T12:15:00Z",rating:4.7,subjects:["Chemistry","Biology","Organic Chemistry"],hourlyRate:42,availability:{Monday:["08:00","09:00","10:00","11:00"],Tuesday:["08:00","09:00","10:00","16:00","17:00"],Wednesday:["08:00","09:00","16:00","17:00"],Thursday:["08:00","09:00","10:00","11:00","16:00"],Friday:["08:00","09:00","10:00"],Saturday:[],Sunday:["15:00","16:00","17:00"]},bio:"Biochemistry PhD with a passion for making complex scientific concepts accessible and engaging for students.",experience:5,totalSessions:198,responseTime:"< 3 hours"},{id:"4",name:"Pranav Varpe",email:"pranav.varpe@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150",createdAt:"2024-02-01T09:45:00Z",rating:4.6,subjects:["History","English Literature","Writing"],hourlyRate:38,availability:{Monday:["10:00","11:00","12:00","15:00","16:00"],Tuesday:["10:00","11:00","12:00","15:00"],Wednesday:["11:00","12:00","15:00","16:00","17:00"],Thursday:["10:00","11:00","12:00","15:00","16:00"],Friday:["10:00","11:00","12:00"],Saturday:["09:00","10:00","11:00"],Sunday:[]},bio:"Masters in English Literature with extensive experience in academic writing and historical research methods.",experience:4,totalSessions:156,responseTime:"< 4 hours"}],_f=s=>new Promise(a=>setTimeout(a,s)),Nv="http://localhost:5000/api",Rl=async(s,a={})=>{try{const i=`${Nv}${s}`,o=localStorage.getItem("token"),u={headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...a.headers},...a},d=await fetch(i,u),h=await d.json();if(!d.ok)throw new Error(h.message||`HTTP error! status: ${d.status}`);return h}catch(i){throw console.error("API call failed:",i),i}},Vu={async getAllTutors(s={}){const a=new URLSearchParams;s.search&&a.append("search",s.search),s.subject&&a.append("subject",s.subject),s.minPrice&&a.append("minPrice",s.minPrice),s.maxPrice&&a.append("maxPrice",s.maxPrice),s.sortBy&&a.append("sortBy",s.sortBy);const i=`/tutors${a.toString()?`?${a.toString()}`:""}`;return(await Rl(i)).data||[]},async getTutorById(s){try{return(await Rl(`/tutors/${s}`)).data}catch(a){return console.error("Failed to fetch tutor:",a),await _f(300),Af.find(i=>i.id===s)||null}},async getTutorSubjects(){try{return(await Rl("/tutors/subjects")).data||[]}catch(s){return console.error("Failed to fetch tutor subjects:",s),["Mathematics","Physics","Chemistry","Computer Science","Economics","English","Biology"]}},async searchTutors(s,a){await _f(600);let i=Af;return s&&(i=i.filter(o=>o.subjects.some(u=>u.toLowerCase().includes(s.toLowerCase())))),i}},Un={async getTasks(){return await Rl("/tasks")},async createTask(s){return await Rl("/tasks",{method:"POST",body:JSON.stringify({title:s.title,description:s.description,subject:s.subject,priority:s.priority,estimatedTime:s.estimatedTime,dueDate:s.due})})},async updateTask(s,a){return await Rl(`/tasks/${s}`,{method:"PUT",body:JSON.stringify({title:a.title,description:a.description,subject:a.subject,priority:a.priority,estimatedTime:a.estimatedTime,dueDate:a.due,status:a.status,progress:a.progress})})},async deleteTask(s){return await Rl(`/tasks/${s}`,{method:"DELETE"})}},wv=({isOpen:s,onClose:a,booking:i,onCancelSuccess:o})=>{const[u,d]=T.useState(""),[h,x]=T.useState(!1),[p,f]=T.useState(""),g=async()=>{if(!u.trim()){f("Please provide a reason for cancellation");return}try{x(!0),f("");const C=await Vt.cancelBooking(i.id,u);C.success?(o(C.booking),a(),y()):f(C.message||"Failed to cancel booking")}catch{f("Failed to cancel booking")}finally{x(!1)}},y=()=>{d(""),f("")},S=()=>{y(),a()},j=C=>new Date(C).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),B=C=>new Date(`2000-01-01 ${C}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return i?t.jsx(Ds,{isOpen:s,onClose:S,className:"cancel-modal",children:t.jsxs("div",{className:"cancel-modal-content",children:[t.jsxs("div",{className:"cancel-header",children:[t.jsx("div",{className:"cancel-icon",children:""}),t.jsx("h2",{className:"cancel-title",children:"Cancel Session"}),t.jsx("button",{onClick:S,className:"close-button",children:""})]}),t.jsxs("div",{className:"cancel-warning",children:[t.jsx("p",{children:"Are you sure you want to cancel this tutoring session?"}),t.jsxs("div",{className:"warning-note",children:[t.jsx("strong",{children:"Note:"})," Your tutor will be notified immediately, and you may be subject to our cancellation policy."]})]}),t.jsxs("div",{className:"session-details",children:[t.jsx("h3",{children:"Session Details"}),t.jsxs("div",{className:"booking-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Tutor:"}),t.jsx("span",{className:"value",children:i.tutorName})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Subject:"}),t.jsx("span",{className:"value",children:i.subject})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Date:"}),t.jsx("span",{className:"value",children:j(i.date)})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Time:"}),t.jsxs("span",{className:"value",children:[B(i.startTime)," - ",B(i.endTime)]})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Duration:"}),t.jsxs("span",{className:"value",children:[i.duration," hour(s)"]})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Amount:"}),t.jsxs("span",{className:"value",children:["$",i.totalAmount]})]})]})]}),t.jsxs("div",{className:"reason-section",children:[t.jsxs("label",{htmlFor:"cancel-reason",children:["Reason for Cancellation ",t.jsx("span",{className:"required",children:"*"})]}),t.jsx("textarea",{id:"cancel-reason",value:u,onChange:C=>d(C.target.value),placeholder:"Please explain why you need to cancel this session...",rows:"4",className:"reason-textarea",required:!0}),t.jsx("div",{className:"reason-options",children:t.jsxs("div",{className:"quick-reasons",children:[t.jsx("p",{children:"Quick reasons:"}),t.jsxs("div",{className:"reason-buttons",children:[t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("Schedule conflict - cannot attend at this time"),children:"Schedule Conflict"}),t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("Personal emergency - need to cancel"),children:"Emergency"}),t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("Illness - unable to attend session"),children:"Illness"}),t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("No longer need tutoring for this subject"),children:"No Longer Needed"})]})]})})]}),p&&t.jsx("div",{className:"error-message",children:p}),t.jsxs("div",{className:"cancellation-policy",children:[t.jsx("h4",{children:"Cancellation Policy"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Cancellations made 24+ hours in advance: Full refund"}),t.jsx("li",{children:"Cancellations made 4-24 hours in advance: 50% refund"}),t.jsx("li",{children:"Cancellations made less than 4 hours: No refund"}),t.jsx("li",{children:"Emergency cancellations will be reviewed case-by-case"})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx(ze,{onClick:S,variant:"outline",disabled:h,children:"Keep Session"}),t.jsx(ze,{onClick:g,disabled:h||!u.trim(),className:"cancel-btn",variant:"danger",children:h?"Cancelling...":"Cancel Session"})]})]})}):null},cd=({booking:s,onCompleted:a,className:i=""})=>{const[o,u]=T.useState(!1),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState(!1),[y,S]=T.useState("");T.useEffect(()=>{const C=()=>{console.log("MarkCompleteButton - checking status for booking:",{id:s.id,status:s.status,date:s.date,endTime:s.endTime||s.end_time});const k=Vt.canMarkComplete(s),M=Vt.getTimeUntilComplete(s);console.log("MarkCompleteButton - status check result:",{canMark:k,timeUntil:M}),h(k),p(M)};C();const H=setInterval(C,6e4);return()=>clearInterval(H)},[s]);const j=async()=>{try{u(!0),console.log("MarkCompleteButton - attempting to mark complete:",{bookingId:s.id,status:s.status,date:s.date,endTime:s.endTime||s.end_time,completionNotes:y});const C=await Vt.markSessionComplete(s.id,y);console.log("MarkCompleteButton - success:",C),g(!1),S(""),a&&a({...s,status:"completed",completedAt:C.booking.completedAt,sessionNotes:C.booking.sessionNotes})}catch(C){console.error("MarkCompleteButton - Error details:",C);const H=C?.message||C?.error||"Failed to mark session as complete";alert(`Error: ${H}

Booking ID: ${s.id}
Status: ${s.status}`)}finally{u(!1)}},B=C=>{if(C<=0)return"";const H=Math.floor(C/60),k=C%60;return H>0?`${H}h ${k}m`:`${k}m`};return s.status==="completed"?t.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}):["scheduled","confirmed"].includes(s.status)?t.jsxs(t.Fragment,{children:[d?t.jsx("button",{onClick:()=>g(!0),disabled:o,className:`px-4 py-2 bg-green-500/20 border border-green-500/30 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed ${i}`,children:o?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-green-300 border-t-transparent rounded-full"}),t.jsx("span",{children:"Completing..."})]}):"Mark Complete"}):t.jsx("div",{className:"px-4 py-2 bg-gray-500/20 border border-gray-500/30 text-gray-400 rounded-lg text-sm font-medium cursor-not-allowed",children:x>0&&t.jsxs("span",{children:["Complete in ",B(x)]})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 p-6 max-w-md w-full",children:[t.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Complete Session"}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:[s.subject||"Session"," with ",s.tutorName||s.studentName]}),t.jsxs("p",{className:"text-slate-400 text-sm",children:[new Date(s.date).toLocaleDateString()," at ",s.startTime," - ",s.endTime]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Session Notes (optional)"}),t.jsx("textarea",{value:y,onChange:C=>S(C.target.value),placeholder:"Add any notes about the session...",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:3})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>{g(!1),S("")},disabled:o,className:"flex-1 px-4 py-2 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50",children:"Cancel"}),t.jsx("button",{onClick:j,disabled:o,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:o?"Completing...":"Mark Complete"})]})]})})]}):null},Df=({isOpen:s,onClose:a,isEdit:i=!1,newTask:o,setNewTask:u,errors:d,loading:h,onSubmit:x})=>{const p=(f,g)=>{u(y=>({...y,[f]:g}))};return t.jsx(Ds,{isOpen:s,onClose:a,children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:i?"Edit Task":"Add New Task"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:o.title||"",onChange:f=>p("title",f.target.value),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.title?"border-red-500":"border-slate-600"}`,placeholder:"Enter task title",disabled:h,autoComplete:"off"}),d.title&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),t.jsx("textarea",{value:o.description||"",onChange:f=>p("description",f.target.value),rows:"3",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none focus:outline-none focus:border-blue-500",placeholder:"Describe what needs to be done",disabled:h,autoComplete:"off"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject *"}),t.jsxs("select",{value:o.subject||"",onChange:f=>p("subject",f.target.value),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.subject?"border-red-500":"border-slate-600"}`,disabled:h,children:[t.jsx("option",{value:"",children:"Select subject"}),t.jsx("option",{value:"Mathematics",children:"Mathematics"}),t.jsx("option",{value:"Physics",children:"Physics"}),t.jsx("option",{value:"Chemistry",children:"Chemistry"}),t.jsx("option",{value:"Computer Science",children:"Computer Science"}),t.jsx("option",{value:"Biology",children:"Biology"}),t.jsx("option",{value:"History",children:"History"}),t.jsx("option",{value:"English",children:"English"})]}),d.subject&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:o.priority||"medium",onChange:f=>p("priority",f.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-blue-500",disabled:h,children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Estimated Time *"}),t.jsx("input",{type:"text",value:o.estimatedTime||"",onChange:f=>p("estimatedTime",f.target.value),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.estimatedTime?"border-red-500":"border-slate-600"}`,placeholder:"e.g., 2 hours",disabled:h,autoComplete:"off"}),d.estimatedTime&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.estimatedTime})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date *"}),t.jsx("input",{type:"date",value:o.due||"",onChange:f=>p("due",f.target.value),min:new Date().toISOString().split("T")[0],className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.due?"border-red-500":"border-slate-600"}`,disabled:h}),d.due&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.due})]})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(ze,{variant:"secondary",onClick:a,className:"flex-1",disabled:h,children:"Cancel"}),t.jsx(ze,{onClick:x,className:"flex-1",disabled:h,children:h?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:i?"Updating...":"Adding..."})]}):i?"Update Task":"Add Task"})]})]})})},Rf=()=>{const{user:s,loading:a}=Mt(),i=wn(),[o,u]=T.useState(()=>i.state?.activeTab||"overview"),[d,h]=T.useState(!1),[x,p]=T.useState(!1),[f,g]=T.useState(!1),[y,S]=T.useState(!1),[j,B]=T.useState(!1),[C,H]=T.useState(null),[k,M]=T.useState(null),[U,ae]=T.useState(!1),[pe,Y]=T.useState(""),[q,me]=T.useState("success"),[de,F]=T.useState({}),[E,X]=T.useState(!1),[se,L]=T.useState({rating:5,comment:"",wouldRecommend:!0}),[le,$]=T.useState({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),[ne,ye]=T.useState([]),[ke,A]=T.useState(!0),[N,O]=T.useState([]),[v,Z]=T.useState(!0),[ue,ge]=T.useState(null),[Ne,_e]=T.useState(!0),[Ee,zt]=T.useState(new Date),[_t,qn]=T.useState(new Date().getDate()),[yt,Ft]=T.useState(null);if(a||!s)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),t.jsx("p",{className:"text-white",children:"Loading dashboard..."})]})});const Sn=async()=>{try{_e(!0);const _=localStorage.getItem("token"),ce=await fetch("http://localhost:5000/api/booking/student/overview",{headers:{Authorization:`Bearer ${_}`}});if(!ce.ok)throw new Error("Failed to fetch overview data");const oe=await ce.json();console.log(" Loaded student overview data:",oe),ge(oe)}catch(_){console.error(" Error loading overview data:",_)}finally{_e(!1)}};T.useEffect(()=>{xt(),Wt(),Sn()},[]),T.useEffect(()=>{i.state?.activeTab&&u(i.state.activeTab),i.state?.message&&(vt(i.state.message),window.history.replaceState({},document.title))},[i.state]);const xt=async()=>{try{Z(!0);const _=await Vt.getStudentBookings();console.log(" Loaded real bookings:",_.bookings);const ce=_.bookings||[],oe=new Date,He=[];for(const D of ce)if((D.status==="scheduled"||D.status==="confirmed")&&D.date&&D.endTime){const te=new Date(`${D.date.split("T")[0]}T${D.endTime}`);if(oe>te){console.log(" Auto-completing past session:",D.id);try{await fetch(`http://localhost:5000/api/booking/bookings/${D.id}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({completionNotes:"Auto-completed after session end time"})}),He.push({...D,status:"completed"})}catch(W){console.error("Failed to auto-complete session:",D.id,W),He.push(D)}}else He.push(D)}else He.push(D);O(He)}catch(_){console.error("Failed to load real bookings:",_),O([])}finally{Z(!1)}},Wt=async()=>{try{A(!0);const _=await Un.getTasks();console.log(" Loaded real tasks:",_.data);const ce=_.data.map(oe=>({id:oe.id,title:oe.title,description:oe.description,subject:oe.subject,priority:oe.priority,status:oe.status,progress:oe.progress,due:oe.due_date,estimatedTime:oe.estimated_time,createdAt:oe.created_at,updatedAt:oe.updated_at}));ye(ce)}catch(_){console.error(" Error loading tasks:",_),ye([])}finally{A(!1)}},Xn=()=>{const _={};if(le.title.trim()||(_.title="Task title is required"),le.subject||(_.subject="Subject is required"),!le.due)_.due="Due date is required";else{const ce=new Date(le.due),oe=new Date;oe.setHours(0,0,0,0),ce<oe&&(_.due="Due date cannot be in the past")}return le.estimatedTime||(_.estimatedTime="Estimated time is required"),F(_),Object.keys(_).length===0},vt=_=>{Y(_),me("success"),setTimeout(()=>Y(""),4e3)},$n=_=>{Y(_),me("error"),setTimeout(()=>Y(""),4e3)},In=_=>{Y(_),me("warning"),setTimeout(()=>Y(""),4e3)},Gt=async()=>{if(Xn()){ae(!0);try{const _=await Un.createTask(le);console.log(" Task created:",_.data),await Wt(),$({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),F({}),h(!1),vt("Task added successfully!")}catch{vt("Error adding task. Please try again.")}finally{ae(!1)}}},dn=_=>{H(_),$({title:_.title||"",description:_.description||"",subject:_.subject||"",priority:_.priority||"medium",estimatedTime:_.estimatedTime||"",due:_.due||""}),F({}),p(!0)},St=async()=>{if(Xn()){ae(!0);try{const _=await Un.updateTask(C.id,le);console.log(" Task updated:",_.data),await Wt(),p(!1),H(null),$({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),F({}),vt("Task updated successfully!")}catch{vt("Error updating task. Please try again.")}finally{ae(!1)}}},mn=async(_,ce)=>{ae(!0);try{const oe=ne.find(te=>te.id===_);if(!oe)return;let He=0;switch(ce){case"started":He=25;break;case"in-progress":He=50;break;case"completed":He=100;break;default:He=0}const D={...oe,status:ce,progress:He};await Un.updateTask(_,D),console.log(" Task status changed:",_,ce),await Wt(),vt(`Task status updated to ${ce}!`)}catch(oe){console.error("Error changing task status:",oe),vt("Failed to update task status. Please try again.")}finally{ae(!1)}},K=async(_,ce)=>{ae(!0);try{const oe=ne.find(D=>D.id===_);if(!oe)return;const He={...oe,priority:ce};await Un.updateTask(_,He),console.log(" Task priority changed:",_,ce),await Wt(),vt(`Priority updated to ${ce}!`)}catch(oe){console.error("Error changing task priority:",oe),vt("Failed to update task priority. Please try again.")}finally{ae(!1)}},be=async _=>{if(window.confirm("Are you sure you want to delete this task?")){ae(!0);try{await Un.deleteTask(_),console.log(" Task deleted:",_),await Wt(),vt("Task deleted successfully!")}catch(ce){console.error("Error deleting task:",ce),vt("Failed to delete task. Please try again.")}finally{ae(!1)}}},Te=async(_,ce)=>{if(!k||!_||!ce){F(oe=>({...oe,reschedule:"Please select both date and time"}));return}ae(oe=>({...oe,rescheduleSession:!0})),F(oe=>({...oe,reschedule:null}));try{if(await new Promise(oe=>setTimeout(oe,2e3)),Math.random()<.1)throw new Error("Failed to reschedule session. Please try again.");Y(`Session rescheduled to ${_} at ${ce}`),setTimeout(()=>Y(null),3e3),g(!1),M(null),console.log("Session rescheduled:",k,{newDate:_,newTime:ce})}catch(oe){F(He=>({...He,reschedule:oe.message}))}finally{ae(oe=>({...oe,rescheduleSession:!1}))}},Me=_=>{Ft(_),g(!0)},$e=_=>{Ft(_),S(!0)},Ot=_=>{Ft(_),L({rating:5,comment:"",wouldRecommend:!0}),B(!0)},en=async()=>{if(yt){if(!se.comment.trim()){In("Please write a review comment before submitting.");return}try{ae(!0),console.log("Submitting review for booking:",yt.id);const _=await fetch(`http://localhost:5000/api/reviews/bookings/${yt.id}/review`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({rating:se.rating,reviewText:se.comment,wouldRecommend:se.wouldRecommend})}),ce=await _.json();if(!_.ok)throw new Error(ce.error||"Failed to submit review");console.log("Review submitted successfully:",ce),B(!1),Ft(null),L({rating:5,comment:"",wouldRecommend:!0}),Y("Review submitted successfully! Thank you for your feedback."),setTimeout(()=>Y(""),3e3),xt()}catch(_){console.error("Error submitting review:",_),$n("Failed to submit review. Please try again.")}finally{ae(!1)}}},mt=_=>{O(ce=>ce.map(oe=>oe.id===_.id?{...oe,..._}:oe)),Y("Reschedule request sent to tutor successfully!"),setTimeout(()=>Y(""),3e3),xt()},pt=_=>{O(ce=>ce.map(oe=>oe.id===_.id?{...oe,status:"cancelled"}:oe)),Y("Session cancelled successfully. Tutor has been notified."),setTimeout(()=>Y(""),3e3),xt()},Dt=()=>{const[_,ce]=T.useState({date:"",time:"",reason:""}),oe=()=>{Te(_.date,_.time)},He=_.date&&_.time;return t.jsx(Ds,{isOpen:f,onClose:()=>{g(!1),ce({date:"",time:"",reason:""}),F(D=>({...D,reschedule:null}))},children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Reschedule Session"}),k&&t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 mb-6",children:[t.jsx("div",{className:"text-white font-medium",children:k.topic}),t.jsxs("div",{className:"text-slate-400 text-sm",children:["with ",k.tutorName]}),t.jsxs("div",{className:"text-slate-500 text-xs",children:["Current: ",Zt(k.date)," at ",is(k.time)]})]}),de.reschedule&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-400 px-4 py-2 rounded-lg mb-4 text-sm",children:de.reschedule}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"New Date *"}),t.jsx("input",{type:"date",value:_.date,onChange:D=>ce(te=>({...te,date:D.target.value})),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white ${!_.date&&de.reschedule?"border-red-500":"border-slate-600"}`,min:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"New Time *"}),t.jsxs("select",{value:_.time,onChange:D=>ce(te=>({...te,time:D.target.value})),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white ${!_.time&&de.reschedule?"border-red-500":"border-slate-600"}`,children:[t.jsx("option",{value:"",children:"Select time"}),t.jsx("option",{value:"09:00",children:"9:00 AM"}),t.jsx("option",{value:"10:00",children:"10:00 AM"}),t.jsx("option",{value:"11:00",children:"11:00 AM"}),t.jsx("option",{value:"14:00",children:"2:00 PM"}),t.jsx("option",{value:"15:00",children:"3:00 PM"}),t.jsx("option",{value:"16:00",children:"4:00 PM"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Reason for Reschedule"}),t.jsx("textarea",{rows:"3",value:_.reason,onChange:D=>ce(te=>({...te,reason:D.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",placeholder:"Optional: Explain why you need to reschedule"})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(ze,{variant:"secondary",onClick:()=>{g(!1),ce({date:"",time:"",reason:""}),F(D=>({...D,reschedule:null}))},className:"flex-1",disabled:U.rescheduleSession,children:"Cancel"}),t.jsx(ze,{onClick:oe,className:"flex-1",disabled:!He||U.rescheduleSession,children:U.rescheduleSession?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Rescheduling..."})]}):"Reschedule Session"})]})]})})},Ue=T.useMemo(()=>j?t.jsx(Ds,{isOpen:j,onClose:()=>{B(!1),L({rating:5,comment:"",wouldRecommend:!0})},children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Leave a Review"}),yt&&t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"text-white font-medium",children:yt?.sessionType||"Tutoring Session"}),t.jsxs("div",{className:"text-slate-400 text-sm",children:["with ",yt?.tutorName]}),t.jsxs("div",{className:"text-slate-500 text-sm mt-1",children:["Completed: ",yt?.date&&new Date(yt.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Rating"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(_=>t.jsx("button",{type:"button",onClick:()=>L(ce=>({...ce,rating:_})),className:"focus:outline-none transition-all transform hover:scale-110",children:t.jsx("svg",{className:`w-10 h-10 ${_<=se.rating?"text-yellow-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},_)),t.jsxs("span",{className:"text-white font-medium ml-3",children:[se.rating," / 5"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Your Review"}),t.jsx("textarea",{rows:"4",value:se.comment,onChange:_=>{const ce=_.target.value;L(oe=>({...oe,comment:ce}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none focus:outline-none focus:border-blue-500",placeholder:"Share your experience with this tutor...",autoComplete:"off"},"review-textarea")]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Would you recommend this tutor?"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>L(_=>({..._,wouldRecommend:!0})),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all ${se.wouldRecommend?"bg-emerald-500 text-white border-2 border-emerald-400 shadow-lg shadow-emerald-500/30":"bg-slate-700 text-slate-400 border-2 border-slate-600 hover:border-slate-500"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{children:"Yes"})]})}),t.jsx("button",{type:"button",onClick:()=>L(_=>({..._,wouldRecommend:!1})),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all ${se.wouldRecommend?"bg-slate-700 text-slate-400 border-2 border-slate-600 hover:border-slate-500":"bg-red-500 text-white border-2 border-red-400 shadow-lg shadow-red-500/30"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{children:"No"})]})})]})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(ze,{variant:"secondary",onClick:()=>{B(!1),L({rating:5,comment:"",wouldRecommend:!0})},className:"flex-1",disabled:U,children:"Cancel"}),t.jsx(ze,{onClick:en,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:U,children:U?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Submitting..."})]}):"Submit Review"})]})]})}):null,[j,yt,se,U,en]),Pt=()=>{h(!1),p(!1),$({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),F({})},Bt=(()=>{const _=ne.filter(te=>te.status==="pending").length,ce=ne.filter(te=>te.status==="completed").length,oe=ne.filter(te=>te.status==="started").length,He=ne.filter(te=>te.status==="in-progress").length,D=ne.filter(te=>te.status==="completed"||te.status==="in-progress").reduce((te,W)=>{const fe=parseFloat(W.estimatedTime)||0;return te+fe},0);return{pending:_,completed:ce,started:oe,inProgress:He,studyHours:D.toFixed(1)}})(),Zn=ne.length;Zn>0&&(Bt.completed/Zn*100).toFixed(1),N.filter(_=>_.status==="confirmed"&&new Date(_.date)>=new Date).length;const Ls=[{id:"overview",label:"Overview"},{id:"sessions",label:"Sessions"},{id:"calendar",label:"Calendar"},{id:"tasks",label:"Tasks"},{id:"progress",label:"Progress"}],Os=[{id:"book-session",label:"Book Session",description:"Browse tutors and lock in a time",to:"/tutors",gradient:"from-blue-500/20 via-cyan-500/10 to-cyan-500/20",border:"border-blue-500/30"},{id:"ai-assistant",label:"AI Assistant",description:"Get instant answers or study help",to:"/chatbot",gradient:"from-emerald-500/20 via-teal-500/10 to-teal-500/20",border:"border-emerald-500/30"},{id:"add-task",label:"Add Task",description:"Capture homework or study goals",onClick:()=>h(!0),gradient:"from-rose-500/20 via-pink-500/10 to-pink-500/20",border:"border-rose-500/30"},{id:"messages",label:"Messages",description:"Continue conversations with tutors",to:"/messages",gradient:"from-amber-500/20 via-orange-500/10 to-orange-500/20",border:"border-amber-500/30"}],Tn=_=>{switch(_){case"high":return"bg-red-500/20 text-red-400 border-red-500/30";case"medium":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"low":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},Bs=_=>{switch(_){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in-progress":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"started":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"pending":return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"scheduled":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},Zt=_=>new Date(_).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),is=_=>{const[ce,oe]=_.split(":"),He=new Date;return He.setHours(parseInt(ce),parseInt(oe)),He.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},os=_=>{if(!_)return null;const ce=new Date(_);if(isNaN(ce.getTime()))return null;const oe=ce.getFullYear(),He=String(ce.getMonth()+1).padStart(2,"0"),D=String(ce.getDate()).padStart(2,"0");return`${oe}-${He}-${D}`},cs=T.useMemo(()=>{const _=(N||[]).filter(oe=>oe?.date).map(oe=>({id:`booking-${oe.id}`,type:"session",title:oe.sessionType||oe.subject||"Tutoring Session",date:os(oe.date),time:oe.startTime||oe.start_time||"00:00",tutor:oe.tutorName||oe.tutor_name,status:oe.status||"pending",meetingType:oe.meetingType||oe.meeting_type||"virtual",subject:oe.subject||"General",duration:oe.duration||60})).filter(oe=>!!oe.date),ce=(ne||[]).map(oe=>({id:`task-${oe.id}`,type:"task",title:oe.title,date:os(oe.due||oe.due_date),time:"23:59",priority:oe.priority,status:oe.status,subject:oe.subject||"General"})).filter(oe=>!!oe.date);return[..._,...ce]},[N,ne]),us=_=>{const ce=_.getFullYear(),oe=_.getMonth(),He=new Date(ce,oe,1),D=new Date(ce,oe+1,0),te=[];for(let W=0;W<He.getDay();W++)te.push(null);for(let W=1;W<=D.getDate();W++)te.push(W);return te},ul=_=>{if(!_)return[];const ce=`${Ee.getFullYear()}-${String(Ee.getMonth()+1).padStart(2,"0")}-${String(_).padStart(2,"0")}`;return cs.filter(oe=>oe.date===ce)},dl=_=>{const ce=new Date(Ee);ce.setMonth(Ee.getMonth()+_),zt(ce),qn(new Date(ce).getMonth()===new Date().getMonth()&&new Date(ce).getFullYear()===new Date().getFullYear()?new Date().getDate():1)},zl=()=>{const _=ue?.stats?.upcomingSessions||0,ce=ue?.stats?.completedSessions||0,oe=ue?.stats?.totalSpent||0,He=ue?.stats?.monthSessions||0;return ue?.stats?.totalTutors,ue?.stats?.reviewsGiven,t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Upcoming"}),t.jsx("span",{className:"text-blue-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:_}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Scheduled sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Completed"}),t.jsx("span",{className:"text-emerald-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:ce}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Total sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"This Month"}),t.jsx("span",{className:"text-purple-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:He}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Sessions attended"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 rounded-2xl p-6 border border-amber-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Spent"}),t.jsx("span",{className:"text-amber-400 text-2xl",children:""})]}),t.jsxs("div",{className:"text-white text-3xl font-bold",children:["$",oe.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"On tutoring"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"Upcoming Sessions"})]}),t.jsx(qe,{to:"/tutors",className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"Book New "})]}),v?t.jsx("div",{className:"space-y-4",children:[1,2,3].map(D=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 animate-pulse",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mb-1"}),t.jsx("div",{className:"w-20 h-3 bg-slate-700 rounded"})]}),t.jsx("div",{className:"w-12 h-4 bg-slate-700 rounded"})]},D))}):N.filter(D=>D.status==="confirmed").length>0?t.jsx("div",{className:"space-y-4",children:N.filter(D=>D.status==="confirmed").slice(0,3).map(D=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-all duration-200",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:D.tutorName?.charAt(0)||"T"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-white font-medium truncate",children:D.sessionType||"Tutoring Session"}),t.jsxs("div",{className:"text-slate-400 text-sm truncate",children:["with ",D.tutorName]}),t.jsxs("div",{className:"text-slate-500 text-xs",children:[Zt(D.date)," at ",is(D.startTime)]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded-full",children:D.meetingType==="virtual"?" Virtual":" In-Person"}),t.jsxs("span",{className:"text-blue-400 text-xs font-medium",children:[Math.round(D.duration*60),"min"]})]})]}),t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx("button",{onClick:()=>Me(D),className:"px-3 py-1.5 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 hover:text-blue-300 text-xs font-medium rounded-lg transition-all duration-200 border border-blue-500/30",title:"Reschedule session",children:" Reschedule"}),t.jsx("button",{onClick:()=>$e(D),className:"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 text-xs font-medium rounded-lg transition-all duration-200 border border-red-500/30",title:"Cancel session",children:" Cancel"})]})]},D.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"No sessions scheduled"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Book your first tutoring session to get started"}),t.jsxs(qe,{to:"/tutors",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx("span",{className:"mr-2",children:""}),"Find a Tutor"]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"Today's Tasks"})]}),t.jsx("button",{onClick:()=>u("tasks"),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All "})]}),ke?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):ne.filter(D=>D.status!=="completed").length>0?t.jsx("div",{className:"space-y-3",children:ne.filter(D=>D.status!=="completed").slice(0,4).map(D=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("div",{className:"text-white font-medium",children:D.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${Tn(D.priority)}`,children:D.priority})]}),t.jsx("div",{className:"text-slate-400 text-sm",children:D.subject}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsxs("span",{className:"text-slate-500 text-xs",children:[" Due: ",Zt(D.due)]}),t.jsxs("span",{className:"text-slate-500 text-xs",children:[" ",D.estimatedTime]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Progress"}),t.jsxs("div",{className:"text-sm font-medium text-blue-400",children:[D.progress||0,"%"]})]}),t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center relative",children:t.jsxs("svg",{className:"w-12 h-12 transform -rotate-90",children:[t.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-slate-600"}),t.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeDasharray:`${2*Math.PI*20}`,strokeDashoffset:`${2*Math.PI*20*(1-(D.progress||0)/100)}`,className:"text-blue-500 transition-all duration-500"})]})})]})]},D.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"No pending tasks"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Create a task to stay organized"}),t.jsxs("button",{onClick:()=>u("tasks"),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx("span",{className:"mr-2",children:""}),"Add Task"]})]})]})]})},Ll=()=>t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-slate-500/20 to-gray-500/20 rounded-2xl p-6 border border-slate-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Bt.pending}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Bt.started}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Started"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Bt.inProgress}),t.jsx("div",{className:"text-slate-400 text-sm",children:"In Progress"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-2xl p-6 border border-green-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Bt.completed}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Bt.studyHours}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Hours"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"All Tasks"})]}),t.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:"+ Add Task"})]}),t.jsx("div",{className:"space-y-4",children:ke?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):ne.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-400",children:"No tasks found. Create your first task!"})}):ne.map(_=>t.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"text-white font-medium",children:_.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Tn(_.priority)}`,children:_.priority}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Bs(_.status)}`,children:_.status.replace("-"," ")})]}),t.jsx("div",{className:"text-slate-400 text-sm mb-2",children:_.description}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-1",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[_.progress||0,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${_.status==="completed"?"bg-green-500":_.status==="in-progress"?"bg-yellow-500":_.status==="started"?"bg-blue-500":"bg-slate-600"}`,style:{width:`${_.progress||0}%`}})})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-500",children:[t.jsxs("span",{children:[" ",_.subject]}),t.jsxs("span",{children:[" ",_.estimatedTime]}),t.jsxs("span",{children:[" Due: ",Zt(_.due)]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Status:"}),t.jsxs("select",{value:_.status,onChange:ce=>mn(_.id,ce.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Priority:"}),t.jsxs("select",{value:_.priority,onChange:ce=>K(_.id,ce.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsx("button",{onClick:()=>dn(_),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-slate-700/50 hover:bg-slate-700 transition-colors",children:"Edit"}),t.jsx("button",{onClick:()=>be(_.id),className:"text-red-400 hover:text-red-300 text-xs px-2 py-1 rounded bg-slate-700/50 hover:bg-slate-700 transition-colors",children:"Delete"})]})]},_.id))})]})]}),ml=()=>t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:N.filter(_=>_.status==="confirmed").length}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Confirmed Sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-2xl p-6 border border-yellow-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:N.filter(_=>_.status==="pending").length}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Pending Requests"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:N.filter(_=>_.status==="completed").length}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed Sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",(N.reduce((_,ce)=>_+(parseFloat(ce.totalAmount)||0),0)||0).toFixed(0)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Spent"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"All Bookings"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx(qe,{to:"/tutors",className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:"Book New Session"})})]}),t.jsx("div",{className:"space-y-4",children:v?t.jsx("div",{className:"space-y-4",children:[1,2,3].map(_=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 animate-pulse",children:t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-full"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded"})]}),t.jsx("div",{className:"w-20 h-6 bg-slate-700 rounded"})]})},_))}):N.length>0?N.map(_=>t.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:_.tutorName?.charAt(0)||"T"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-semibold",children:_.sessionType||"Tutoring Session"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["with ",_.tutorName]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${_.status==="confirmed"||_.status==="scheduled"?"text-green-400 bg-green-500/20 border-green-500/30":_.status==="pending"?"text-yellow-400 bg-yellow-500/20 border-yellow-500/30":_.status==="completed"?"text-blue-400 bg-blue-500/20 border-blue-500/30":"text-slate-400 bg-slate-500/20 border-slate-500/30"}`,children:_.status?.charAt(0).toUpperCase()+_.status?.slice(1)}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold",children:["$",_.totalAmount]}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Math.round(_.duration*60),"min"]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-400 flex-1",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Date:"})," ",Zt(_.date)]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Time:"})," ",is(_.startTime)," - ",is(_.endTime)]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Type:"})," ",_.meetingType==="virtual"?" Virtual":" In-Person"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Subject:"})," ",_.subject||"General Tutoring"]})]}),t.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[_.status==="confirmed"&&t.jsx(cd,{booking:_,context:"student"}),_.status==="pending"&&t.jsx("button",{onClick:()=>$e(_),className:"px-3 py-1 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-sm transition-all",title:"Cancel booking request",children:"Cancel Request"}),(_.status==="confirmed"||_.status==="scheduled")&&t.jsxs(t.Fragment,{children:[_.meetingType==="virtual"&&t.jsx("button",{onClick:()=>window.open(_.meetingLink||"#","_blank"),className:"px-3 py-1 text-green-400 hover:text-green-300 border border-green-500/30 hover:border-green-500/50 bg-green-500/10 hover:bg-green-500/20 rounded-lg text-sm transition-all",title:"Join virtual meeting",children:"Join Meeting"}),t.jsx("button",{onClick:()=>$e(_),className:"px-3 py-1 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-sm transition-all",title:"Cancel session",children:"Cancel"})]}),_.status==="completed"&&(_.reviewSubmitted&&_.review?t.jsxs("div",{className:"mt-3 p-4 bg-slate-700/50 rounded-lg border border-slate-600/50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Your Review"}),t.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((ce,oe)=>t.jsx("svg",{className:`w-4 h-4 ${oe<_.review.rating?"text-amber-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},oe))})]}),_.review.reviewText&&t.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:['"',_.review.reviewText,'"']}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:`${_.review.wouldRecommend?"text-emerald-400":"text-slate-400"}`,children:_.review.wouldRecommend?" Would recommend":"Would not recommend"}),t.jsx("span",{className:"text-slate-500",children:new Date(_.review.reviewDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}):t.jsx("button",{onClick:()=>Ot(_),className:"px-3 py-1 text-amber-400 hover:text-amber-300 border border-amber-500/30 hover:border-amber-500/50 bg-amber-500/10 hover:bg-amber-500/20 rounded-lg text-sm transition-all",title:"Leave a review",children:"Leave Review"}))]})]}),_.notes&&t.jsx("div",{className:"mt-3 p-3 bg-slate-700/50 rounded-lg",children:t.jsxs("div",{className:"text-slate-300 text-sm",children:[t.jsx("span",{className:"text-slate-500",children:"Notes:"})," ",_.notes]})})]},_.id)):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-slate-400",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"No bookings yet"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Your booking requests and confirmed sessions will appear here"}),t.jsxs(qe,{to:"/tutors",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx("span",{className:"mr-2",children:""}),"Find a Tutor"]})]})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"Weekly Activity"})]}),t.jsx("div",{className:"grid grid-cols-7 gap-4",children:(s.progress?.weeklyActivity||[]).map(_=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-slate-400 text-xs mb-2",children:_.day}),t.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 space-y-2",children:[t.jsxs("div",{className:"text-white font-medium text-sm",children:[_.hours,"h"]}),t.jsxs("div",{className:"text-slate-400 text-xs",children:[_.tasks," tasks"]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1",children:t.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-emerald-500 to-teal-500",style:{width:`${_.hours/5*100}%`}})})]})]},_.day))})]})]}),Jn=()=>{const _=us(Ee),ce=ul(_t),oe=Ee.toLocaleDateString("en-US",{month:"long",year:"numeric"}),He=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],D=_t?new Date(Ee.getFullYear(),Ee.getMonth(),_t).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Select a day",te=()=>{const W=new Date;zt(W),qn(W.getDate())};return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-3 bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Monthly overview"}),t.jsx("h3",{className:"text-2xl font-bold text-white",children:oe})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>dl(-1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800","aria-label":"Previous month",children:""}),t.jsx("button",{onClick:te,className:"px-4 py-2 rounded-xl border border-slate-700 text-slate-200 hover:border-blue-500/60 hover:text-white transition-colors",children:"Today"}),t.jsx("button",{onClick:()=>dl(1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800","aria-label":"Next month",children:""})]})]}),t.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-slate-400 text-xs font-semibold uppercase tracking-wider mb-2",children:He.map(W=>t.jsx("div",{children:W},W))}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:_.map((W,fe)=>{if(!W)return t.jsx("div",{className:"min-h-[110px] rounded-xl border border-dashed border-slate-800/70"},`empty-${fe}`);const je=ul(W),G=W===new Date().getDate()&&Ee.getMonth()===new Date().getMonth()&&Ee.getFullYear()===new Date().getFullYear(),Ye=W===_t;return t.jsxs("button",{onClick:()=>qn(W),className:`min-h-[110px] rounded-2xl border text-left p-3 transition-all duration-200 ${Ye?"border-blue-500 bg-blue-500/10 shadow-lg shadow-blue-500/20":"border-slate-800/70 bg-slate-900/30 hover:border-blue-500/60"}`,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold",children:[t.jsx("span",{className:"text-white",children:W}),G&&t.jsx("span",{className:"text-emerald-400 text-xs",children:"Today"})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[je.slice(0,2).map(et=>t.jsx("div",{className:`text-xs px-2 py-1 rounded-full border ${et.type==="session"?"bg-blue-500/10 border-blue-500/40 text-blue-200":et.priority==="high"?"bg-red-500/10 border-red-500/40 text-red-200":et.priority==="low"?"bg-emerald-500/10 border-emerald-500/40 text-emerald-200":"bg-amber-500/10 border-amber-500/40 text-amber-200"} whitespace-nowrap overflow-hidden text-ellipsis`,title:et.title,children:et.title||(et.type==="session"?"Session":et.subject||"Task")},et.id)),je.length>2&&t.jsxs("div",{className:"text-[10px] text-slate-400",children:["+",je.length-2," more"]})]})]},`day-${W}`)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-6",children:t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:_t?D:"Select a day"})]})}),_t?ce.length===0?t.jsx("div",{className:"text-center text-slate-400 py-8",children:"No sessions or tasks scheduled for this day."}):t.jsx("div",{className:"space-y-4",children:ce.map(W=>t.jsxs("div",{className:"p-4 rounded-2xl border border-slate-800/70 bg-slate-900/40",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-semibold text-lg line-clamp-1",children:W.title}),t.jsx("p",{className:"text-slate-400 text-sm",children:W.type==="session"?`${W.subject} with ${W.tutor||"your tutor"}`:W.subject||"Personal study task"})]}),t.jsx("span",{className:`text-xs px-3 py-1 rounded-full border ${W.type==="session"?"border-blue-500/40 text-blue-300":W.priority==="high"?"border-red-500/40 text-red-300":W.priority==="low"?"border-emerald-500/40 text-emerald-300":"border-amber-500/40 text-amber-300"}`,children:W.type==="session"?"Session":"Task"})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-400",children:[t.jsxs("span",{children:[" ",is(W.time)]}),W.type==="session"?t.jsxs("span",{children:[" ",W.meetingType==="virtual"?"Virtual session":"In-person"]}):t.jsxs("span",{children:[" Status: ",W.status]})]})]},W.id))}):t.jsx("div",{className:"text-center text-slate-400 py-8",children:"Choose a day on the calendar to see details."})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Event Types"}),t.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-blue-500"}),t.jsx("span",{children:" Tutoring Sessions"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500"}),t.jsx("span",{children:" High Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-amber-500"}),t.jsx("span",{children:" Medium Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-emerald-500"}),t.jsx("span",{children:" Low Priority Tasks"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Quick Actions"}),t.jsx(qe,{to:"/tutors",className:"w-full flex items-center justify-center px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold hover:opacity-90 transition",children:"Schedule Session"})]})]})]})},hl=()=>{const _=N.length,ce=N.filter(je=>je.status==="completed").length,oe=N.filter(je=>je.status==="scheduled"||je.status==="confirmed").length;N.filter(je=>je.status==="cancelled").length;const He=N.filter(je=>je.reviewSubmitted).length,D=ne.length,te=Bt.completed,W=D>0?Math.round(te/D*100):0,fe=ne.reduce((je,G)=>{const Ye=G.subject||"General";return je[Ye]||(je[Ye]={total:0,completed:0}),je[Ye].total++,G.status==="completed"&&je[Ye].completed++,je},{});return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[W,"%"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completion Rate"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[Bt.studyHours,"h"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Hours"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:ce}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Sessions Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Zn}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Tasks"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"Session Analytics"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Total Sessions"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"All time bookings"})]}),t.jsx("div",{className:"text-2xl font-bold text-white",children:_})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-emerald-300 font-medium",children:"Completed"}),t.jsx("div",{className:"text-emerald-400/70 text-sm",children:"Finished sessions"})]}),t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:ce})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-blue-300 font-medium",children:"Scheduled"}),t.jsx("div",{className:"text-blue-400/70 text-sm",children:"Upcoming sessions"})]}),t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:oe})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Reviews Given"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Sessions reviewed"})]}),t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:He})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-purple-400",children:""}),t.jsx("span",{children:"Task Analytics"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Total Tasks"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"All tasks created"})]}),t.jsx("div",{className:"text-2xl font-bold text-white",children:D})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-emerald-300 font-medium",children:"Completed"}),t.jsx("div",{className:"text-emerald-400/70 text-sm",children:"Tasks finished"})]}),t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:te})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-amber-300 font-medium",children:"In Progress"}),t.jsx("div",{className:"text-amber-400/70 text-sm",children:"Active tasks"})]}),t.jsx("div",{className:"text-2xl font-bold text-amber-400",children:Bt.inProgress+Bt.started})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Pending"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Not started yet"})]}),t.jsx("div",{className:"text-2xl font-bold text-slate-400",children:Bt.pending})]})]})]})]}),Object.keys(fe).length>0&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-cyan-400",children:""}),t.jsx("span",{children:"Progress by Subject"})]}),t.jsx("div",{className:"space-y-4",children:Object.entries(fe).map(([je,G])=>{const Ye=Math.round(G.completed/G.total*100);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-white font-medium",children:je}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[G.completed," / ",G.total," tasks (",Ye,"%)"]})]}),t.jsx("div",{className:"w-full bg-slate-800 rounded-full h-3",children:t.jsx("div",{className:"h-3 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-300",style:{width:`${Ye}%`}})})]},je)})})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-blue-500/20",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:" Summary"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-1",children:_+D}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Activities"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl font-bold text-emerald-400 mb-1",children:ce+te}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl font-bold text-purple-400 mb-1",children:[Bt.studyHours,"h"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Time"})]})]})]})]})},Kn=()=>{switch(o){case"tasks":return Ll();case"sessions":return ml();case"calendar":return Jn();case"progress":return hl();default:return zl()}},kn=()=>{if(!pe)return null;const ce=(()=>{switch(q){case"success":return{bg:"bg-emerald-500/10",border:"border-emerald-500/40",text:"text-emerald-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})};case"error":return{bg:"bg-red-500/10",border:"border-red-500/40",text:"text-red-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};case"warning":return{bg:"bg-amber-500/10",border:"border-amber-500/40",text:"text-amber-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})};case"info":return{bg:"bg-blue-500/10",border:"border-blue-500/40",text:"text-blue-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};default:return{bg:"bg-slate-500/10",border:"border-slate-500/40",text:"text-slate-400",icon:null}}})();return t.jsx("div",{className:`fixed top-20 right-4 z-50 ${ce.bg} ${ce.border} border backdrop-blur-sm rounded-xl shadow-2xl transform transition-all duration-300 ease-in-out animate-slide-in-right max-w-md`,children:t.jsxs("div",{className:"flex items-start space-x-3 p-4",children:[t.jsx("div",{className:`flex-shrink-0 ${ce.text}`,children:ce.icon}),t.jsx("div",{className:"flex-1 pt-0.5",children:t.jsx("p",{className:`text-sm font-medium ${ce.text} leading-relaxed`,children:pe})}),t.jsx("button",{onClick:()=>Y(""),className:`flex-shrink-0 ${ce.text} hover:opacity-70 transition-opacity`,children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})};return t.jsxs("div",{className:"min-h-screen bg-slate-950",children:[t.jsxs("div",{className:"flex h-[calc(100vh-64px)]",children:[t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:["Greetings, ",s?.profile?.fullName||s?.full_name||s?.name||s?.username||"Student","! "]}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Ready to make today productive? Here's your learning overview."})]}),Kn()]})}),t.jsx("div",{className:"w-80 bg-slate-900/30 backdrop-blur-sm border-l border-slate-800/50 overflow-auto",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Dashboard"}),t.jsx("div",{className:"space-y-1",children:Ls.map(_=>t.jsx("button",{onClick:()=>u(_.id),className:`w-full px-3 py-2 rounded-lg flex items-center transition-all duration-200 ${o===_.id?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:t.jsx("span",{className:"text-sm font-medium",children:_.label})},_.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Key Actions"}),t.jsx("div",{className:"space-y-2",children:Os.map(_=>{const ce=`w-full p-3 rounded-xl border bg-gradient-to-r ${_.gradient} ${_.border} transition-all duration-200 hover:border-white/40`,oe=t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-white text-sm font-semibold",children:_.label}),t.jsx("div",{className:"text-slate-200 text-xs",children:_.description})]});return _.to?t.jsx(qe,{to:_.to,className:`${ce} block`,children:oe},_.id):t.jsx("button",{onClick:_.onClick,className:`${ce} text-left`,children:oe},_.id)})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 rounded-2xl p-4 border border-red-500/20",children:[t.jsxs("h3",{className:"text-sm font-semibold text-red-300 mb-3 uppercase tracking-wide flex items-center space-x-2",children:[t.jsx("span",{className:"text-red-400",children:""}),t.jsx("span",{children:"Urgent Tasks"})]}),t.jsx("div",{className:"space-y-3",children:(s.urgentTasks||[]).slice(0,2).map((_,ce)=>t.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/50 border border-slate-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("div",{className:"text-white text-xs font-medium line-clamp-2",children:_.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.priority==="high"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:_.priority})]}),t.jsx("div",{className:"text-slate-400 text-xs mb-1",children:_.subject}),t.jsxs("div",{className:"text-slate-500 text-xs",children:["Due: ",_.due]})]},_.title))}),t.jsx(qe,{to:"/tasks",className:"block text-center mt-3 text-xs text-blue-400 hover:text-blue-300 font-medium",children:"View All Tasks "})]})]})})]}),t.jsx(Df,{isEdit:!1,isOpen:d,onClose:Pt,newTask:le,setNewTask:$,errors:de,loading:U,onSubmit:Gt}),t.jsx(Df,{isEdit:!0,isOpen:x,onClose:Pt,newTask:le,setNewTask:$,errors:de,loading:U,onSubmit:St}),t.jsx(Dt,{isOpen:f,onClose:()=>g(!1),booking:yt,onRescheduleSuccess:mt}),t.jsx(wv,{isOpen:y,onClose:()=>S(!1),booking:yt,onCancelSuccess:pt}),Ue,t.jsx(kn,{})]})},Sv=()=>{const{user:s}=Mt(),[a,i]=T.useState(!1),[o,u]=T.useState(!0),[d,h]=T.useState(!0);return T.useEffect(()=>{s?(async()=>{try{if(!s||!s.id){u(!1);return}const p=localStorage.getItem("token");if(!p){console.log("No auth token found"),i(!0),h(!1);return}const f=await fetch("http://localhost:5000/api/profiles/tutor/status",{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}});if(f.ok){const g=await f.json();if(console.log(" Profile status response:",g),g.success&&g.data){const y=g.data.isComplete;console.log("Profile isComplete:",y),i(!y)}else console.log("API returned success=false or no data"),i(!1)}else{console.log("API request failed with status:",f.status);try{const g=await f.json();console.log("Error details:",g)}catch{console.log("Could not parse error response")}i(!1)}}catch(p){console.error("Error checking profile status:",p),i(!1)}finally{h(!1)}})():(h(!1),u(!1))},[s]),d||!o||!a?null:t.jsx("div",{className:"bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/30 rounded-2xl p-6 mb-8 backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Complete Your Profile"}),t.jsx("p",{className:"text-amber-100/80",children:"Complete your profile to be visible to students and receive booking requests."})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(qe,{to:"/profile",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-medium rounded-lg transition-all duration-200",children:"Complete Profile"}),t.jsx("button",{onClick:()=>u(!1),className:"w-8 h-8 flex items-center justify-center text-amber-100/60 hover:text-amber-100 hover:bg-amber-500/20 rounded-lg transition-all duration-200",children:t.jsx("span",{className:"text-lg font-bold",children:""})})]})]})})},ro={async getSubjects(){try{return await it.get("/subjects")}catch(s){throw console.error("Error fetching subjects:",s),s}},async getSubjectsByCategory(){try{return await it.get("/subjects/by-category")}catch(s){throw console.error("Error fetching subjects by category:",s),s}},async createSubject(s){try{return await it.post("/subjects",s)}catch(a){throw console.error("Error creating subject:",a),a}},async updateSubject(s,a){try{return await it.put(`/subjects/${s}`,a)}catch(i){throw console.error("Error updating subject:",i),i}},async deleteSubject(s){try{return await it.delete(`/subjects/${s}`)}catch(a){throw console.error("Error deleting subject:",a),a}}},Mf=({isOpen:s,onClose:a,isEdit:i=!1,newTask:o,setNewTask:u,errors:d,loading:h,subjects:x,handleEditTask:p,handleAddTask:f})=>{const g=T.useCallback((y,S)=>{u(j=>({...j,[y]:S}))},[u]);return t.jsx(Ds,{isOpen:s,onClose:a,children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:i?"Edit Task":"Add New Task"}),d.general&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 mb-4",children:t.jsx("p",{className:"text-red-400 text-sm",children:d.general})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:o.title||"",onChange:y=>g("title",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.title?"border-red-500":"border-slate-700"}`,placeholder:"Enter task title",disabled:h}),d.title&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),t.jsx("textarea",{value:o.description||"",onChange:y=>g("description",y.target.value),rows:"3",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"Enter task description",disabled:h})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject *"}),t.jsxs("select",{value:o.subject||"",onChange:y=>g("subject",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.subject?"border-red-500":"border-slate-700"}`,disabled:h,children:[t.jsx("option",{value:"",children:"Select Subject"}),x.map(y=>t.jsx("option",{value:y.name,children:y.name},y.id))]}),d.subject&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:o.priority||"medium",onChange:y=>g("priority",y.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",disabled:h,children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Estimated Time *"}),t.jsx("input",{type:"text",value:o.estimatedTime||"",onChange:y=>g("estimatedTime",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.estimatedTime?"border-red-500":"border-slate-700"}`,placeholder:"e.g., 2 hours",disabled:h}),d.estimatedTime&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.estimatedTime})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date *"}),t.jsx("input",{type:"date",value:o.due||"",onChange:y=>g("due",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.due?"border-red-500":"border-slate-700"}`,disabled:h}),d.due&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.due})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsx(ze,{variant:"secondary",onClick:a,disabled:h,children:"Cancel"}),t.jsx(ze,{onClick:i?p:f,disabled:h,children:h?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:i?"Updating...":"Adding..."})]}):i?"Update Task":"Add Task"})]})]})})},Tv=()=>{const{user:s,loading:a}=Mt(),[i,o]=T.useState("overview"),[u,d]=T.useState(!1),[h,x]=T.useState(!1),[p,f]=T.useState(!1),[g,y]=T.useState(null),[S,j]=T.useState(""),[B,C]=T.useState(!1),[H,k]=T.useState(""),[M,U]=T.useState("success"),[ae,pe]=T.useState(!1),[Y,q]=T.useState(0),[me,de]=T.useState("all"),[F,E]=T.useState(!1),[X,se]=T.useState(null),[L,le]=T.useState([]),[$,ne]=T.useState(!0),[ye,ke]=T.useState(null),[A,N]=T.useState([]),[O,v]=T.useState(!0),[Z,ue]=T.useState(null),[ge,Ne]=T.useState(!0),[_e,Ee]=T.useState(null),[zt,_t]=T.useState(!0),[qn,yt]=T.useState(!1),[Ft,Sn]=T.useState(!1),[xt,Wt]=T.useState([]),[Xn,vt]=T.useState(!0),[$n,In]=T.useState([]),[Gt,dn]=T.useState({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),[St,mn]=T.useState({}),[K,be]=T.useState({stats:{upcomingSessions:0,activeStudents:0,monthlyEarnings:0,averageRating:0},recentStudents:[],students:[],earnings:{total:0,thisMonth:0,thisWeek:0,todayEarnings:0,dailyEarnings:[]},todaySessions:[]});if(a||!s)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),t.jsx("p",{className:"text-white",children:"Loading dashboard..."})]})});const Te=async()=>{try{console.log(" Loading pending booking requests..."),v(!0);const D=await fetch("http://localhost:5000/api/booking/tutor/requests",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log(" Response status:",D.status),console.log(" Response ok:",D.ok),!D.ok){const je=await D.text();throw console.error(" Response error:",je),new Error(`HTTP error! status: ${D.status} - ${je}`)}const te=await D.json();console.log(" Raw pending requests data:",te),console.log(" Data type:",typeof te),console.log(" Data keys:",te?Object.keys(te):"null");let W=[];te&&te.requests&&Array.isArray(te.requests)?W=te.requests:te&&Array.isArray(te)&&(W=te),console.log(" Extracted requests:",W);const fe=W.filter(je=>(console.log(" Checking request status:",je.status,"for request:",je.id),je.status==="pending"));console.log(" Final filtered pending requests:",fe),N(fe)}catch(D){console.error(" Failed to load pending requests:",D),console.error(" Error details:",D.message),N([])}finally{v(!1)}},Me=async()=>{try{console.log("Starting to load real sessions..."),ne(!0),ke(null);const D=await Vt.getTutorSessions();console.log("Raw session data received:",D),console.log("Session data type:",typeof D),console.log("Session data keys:",D?Object.keys(D):"null");let te=[];if(D&&D.sessions&&Array.isArray(D.sessions))console.log("Using sessionData.sessions:",D.sessions),te=D.sessions;else if(D&&Array.isArray(D))console.log("Using sessionData directly:",D),te=D;else{console.warn("Invalid session data format:",D),le([]);return}const W=new Date,fe=[];for(const G of te){if(console.log(" Processing session - Full data:",JSON.stringify(G,null,2)),(G.status==="scheduled"||G.status==="confirmed")&&G.date){const he=G.date.includes("T")?G.date.split("T")[0]:G.date;let De;const tt=G.end_time||G.endTime||G.session_end_time,fl=G.start_time||G.startTime||G.time||G.session_time;if(tt)De=new Date(`${he}T${tt}`),console.log(" Using end_time field:",tt);else if(fl){const Ut=G.duration_minutes||G.duration||60;De=new Date(`${he}T${fl}`),De.setMinutes(De.getMinutes()+Ut),console.log(" Calculated end time from start_time:",fl,"+ duration:",Ut,"minutes")}if(console.log(" Session ID:",G.id,"Status:",G.status),console.log(" Session date:",he,"End time:",De),console.log(" Current time:",W,"Has passed:",De&&W>De),De&&W>De){console.log(" Auto-completing past session ID:",G.id);try{const Ut=await Vt.markSessionComplete(G.id);console.log(" Successfully auto-completed session:",G.id,"Result:",Ut),G.status="completed"}catch(Ut){console.error(" Failed to auto-complete session:",G.id),console.error(" Error details:",Ut)}}}const et={id:G.id||G.session_id||G.booking_id||`session-${Date.now()}`,studentId:G.studentId||G.student_id,studentName:G.studentName||G.student_name||"Unknown Student",subject:G.subject||"General Tutoring",topic:G.topic||G.notes||G.message||"Session topic",date:G.date||G.session_date||G.booking_date,time:G.time||G.session_time||G.start_time,duration:G.duration||G.duration_minutes||60,status:G.status==="completed"?"completed":G.status==="confirmed"?"scheduled":G.status||"scheduled",notes:G.notes||G.message||"",meetingType:G.meetingType||G.meeting_type||"virtual",meetingLink:G.meetingLink||G.meeting_link||null,location:G.location||null};console.log(" Mapped session result:",et),fe.push(et)}const je=fe.filter(G=>G.status!=="pending");console.log("Mapped sessions for UI (excluding pending):",je),le(je)}catch(D){console.error("Failed to load real sessions:",D),console.error("Error details:",D.message,D.stack),ke(D?.message||"Unknown error"),le([])}finally{ne(!1)}},$e=async()=>{try{Ne(!0);const D=localStorage.getItem("token"),te=await fetch("http://localhost:5000/api/booking/tutor/earnings",{headers:{Authorization:`Bearer ${D}`}});if(!te.ok)throw new Error("Failed to fetch earnings data");const W=await te.json();console.log(" Loaded earnings data:",W),ue(W)}catch(D){console.error(" Error loading earnings data:",D),Pt("Failed to load earnings data")}finally{Ne(!1)}},Ot=async()=>{try{_t(!0);const D=localStorage.getItem("token"),te=await fetch("http://localhost:5000/api/booking/tutor/overview",{headers:{Authorization:`Bearer ${D}`}});if(!te.ok)throw new Error("Failed to fetch overview data");const W=await te.json();console.log(" Loaded overview data:",W),Ee(W)}catch(D){console.error(" Error loading overview data:",D)}finally{_t(!1)}};T.useEffect(()=>{Me(),Te(),$e(),Ot(),en(),mt(),pt()},[]);const en=async()=>{try{be({stats:{upcomingSessions:L.filter(D=>D.status==="scheduled").length,activeStudents:34,monthlyEarnings:4680,averageRating:4.9},recentStudents:[{id:"1",name:"Alex Rodriguez",subject:"Mathematics",progress:85},{id:"2",name:"Emma Wilson",subject:"Physics",progress:92},{id:"3",name:"Mike Chen",subject:"Chemistry",progress:78},{id:"4",name:"Sarah Johnson",subject:"Computer Science",progress:95}],students:[{id:"1",name:"Alex Rodriguez",avatar:"https://via.placeholder.com/48",university:"UT Arlington",totalSessions:12,averageRating:4.8,progress:85},{id:"2",name:"Emma Wilson",avatar:"https://via.placeholder.com/48",university:"UT Arlington",totalSessions:8,averageRating:4.9,progress:92},{id:"3",name:"Mike Chen",avatar:"https://via.placeholder.com/48",university:"UT Arlington",totalSessions:15,averageRating:4.7,progress:78}],earnings:{total:15420,thisMonth:4680,thisWeek:1250,todayEarnings:300,dailyEarnings:[{date:"2025-11-20",amount:300,sessions:3},{date:"2025-11-19",amount:250,sessions:2},{date:"2025-11-18",amount:400,sessions:4}]},todaySessions:L.filter(D=>(D.date?.includes("T")?D.date.split("T")[0]:D.date)===new Date().toISOString().split("T")[0])})}catch(D){console.error("Failed to load tutor data:",D)}},mt=async()=>{try{vt(!0);const D=await Un.getTasks();console.log(" Loaded tutor tasks:",D.data);const te=D.data.map(W=>({id:W.id,title:W.title,description:W.description,subject:W.subject,priority:W.priority,status:W.status,progress:W.progress,due:W.due_date,estimatedTime:W.estimated_time,createdAt:W.created_at,updatedAt:W.updated_at}));Wt(te)}catch(D){console.error(" Error loading tasks:",D),Wt([])}finally{vt(!1)}},pt=async()=>{try{const D=await ro.getSubjects();In(D.data||[])}catch(D){console.error(" Error loading subjects:",D),In([])}},Dt=()=>{const D={};if(Gt.title.trim()||(D.title="Task title is required"),Gt.subject||(D.subject="Subject is required"),!Gt.due)D.due="Due date is required";else{const te=new Date(Gt.due),W=new Date;W.setHours(0,0,0,0),te<W&&(D.due="Due date cannot be in the past")}return Gt.estimatedTime||(D.estimatedTime="Estimated time is required"),mn(D),Object.keys(D).length===0},Ue=D=>{k(D),U("success"),setTimeout(()=>k(""),4e3)},Pt=D=>{k(D),U("error"),setTimeout(()=>k(""),4e3)},It=async()=>{if(Dt()){C(!0);try{const D=await Un.createTask(Gt);console.log(" Task created:",D.data),await mt(),dn({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),mn({}),yt(!1),Ue("Task added successfully!")}catch(D){console.error(" Error creating task:",D),mn({general:"Failed to create task. Please try again."})}finally{C(!1)}}},Bt=async()=>{if(Dt()){C(!0);try{await Un.updateTask(Gt.id,Gt),await mt(),dn({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),mn({}),Sn(!1),Ue("Task updated successfully!")}catch(D){console.error(" Error updating task:",D),mn({general:"Failed to update task. Please try again."})}finally{C(!1)}}},Zn=async(D,te)=>{try{const W=xt.find(G=>G.id===D);if(!W)return;let fe=W.progress||0;switch(te){case"started":fe=25;break;case"in-progress":fe=50;break;case"completed":fe=100;break;default:fe=0}const je={...W,status:te,progress:fe};await Un.updateTask(D,je),console.log(" Task status changed:",D,te),await mt(),Ue(`Task status updated to ${te}!`)}catch(W){console.error(" Error changing task status:",W),Pt("Failed to update task status. Please try again.")}},Ls=async(D,te)=>{try{const W=xt.find(je=>je.id===D);if(!W)return;const fe={...W,priority:te};await Un.updateTask(D,fe),console.log(" Task priority changed:",D,te),await mt(),Ue(`Priority updated to ${te}!`)}catch(W){console.error(" Error changing task priority:",W),Pt("Failed to update task priority. Please try again.")}},Os=async D=>{if(window.confirm("Are you sure you want to delete this task?"))try{await Un.deleteTask(D),await mt(),Ue("Task deleted successfully!")}catch(te){console.error(" Error deleting task:",te),Pt("Failed to delete task. Please try again.")}},Tn=()=>t.jsx(Ds,{isOpen:u,onClose:()=>d(!1),children:t.jsxs("div",{className:"p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-white mb-6",children:["My Students (",K.recentStudents.length,")"]}),t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:K.recentStudents.map(D=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500/20 to-teal-500/20 flex items-center justify-center border border-emerald-500/30",children:t.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:D.name?D.name.split(" ").map(te=>te[0]).join(""):"U"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium",children:D.name}),t.jsx("p",{className:"text-slate-400 text-sm",children:D.subject}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[t.jsxs("p",{className:"text-slate-500 text-xs",children:["Progress: ",D.progress,"%"]}),t.jsx("div",{className:"w-12 bg-slate-700 rounded-full h-1",children:t.jsx("div",{className:"bg-emerald-500 h-1 rounded-full",style:{width:`${D.progress}%`}})})]})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(ze,{size:"sm",onClick:()=>{Ue(`Message sent to ${D.name}!`),d(!1)},disabled:B,children:" Message"}),t.jsx(ze,{variant:"secondary",size:"sm",onClick:()=>{Ue(`Viewing ${D.name}'s profile...`),d(!1)},disabled:B,children:" Profile"})]})]})},D.id))}),t.jsxs("div",{className:"mt-6 flex space-x-3",children:[t.jsx(ze,{variant:"secondary",onClick:()=>Ue("Searching for new students..."),className:"flex-1",disabled:B,children:"Find New Students"}),t.jsx(ze,{onClick:()=>d(!1),className:"flex-1",children:"Close"})]})]})}),Bs=()=>t.jsx(Ds,{isOpen:h,onClose:()=>x(!1),children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Teaching Analytics"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:K.stats.upcomingSessions}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Week's Sessions"})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:K.stats.averageRating}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Average Rating"})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",K.stats.monthlyEarnings]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Month"})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:K.stats.activeStudents}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Active Students"})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-medium mb-2",children:"Popular Subjects"}),t.jsx("div",{className:"space-y-2",children:["Mathematics","Physics","Chemistry"].map((D,te)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:D}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-20 bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${100-te*30}%`}})}),t.jsxs("span",{className:"text-white text-sm",children:[100-te*30,"%"]})]})]},D))})]})}),t.jsx("div",{className:"mt-6",children:t.jsx(ze,{onClick:()=>x(!1),className:"w-full",children:"Close"})})]})}),Zt=D=>{y(D),f(!0)},is=async()=>{if(g)try{console.log(" Cancelling session:",g.id),C(!0);const D=g.id.toString().startsWith("session-")?g.id.replace("session-",""):g.id,te=await fetch(`http://localhost:5000/api/booking/tutor/bookings/${D}/cancel`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({reason:S||"Session cancelled by tutor"})});if(!te.ok){const fe=await te.json();throw new Error(fe.error||"Failed to cancel session")}const W=await te.json();console.log(" Session cancelled:",W),f(!1),y(null),j(""),k("Session cancelled successfully. Student has been notified."),setTimeout(()=>k(""),5e3),Me()}catch(D){console.error(" Error cancelling session:",D),alert("Failed to cancel session: "+D.message)}finally{C(!1)}},os=async D=>{try{console.log(" Accepting booking request:",D);const te=await fetch(`http://localhost:5000/api/booking/requests/${D}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:"accept",responseMessage:"Your booking request has been accepted!"})});if(!te.ok){const fe=await te.json();throw new Error(`Failed to accept request: ${fe.error||te.status}`)}const W=await te.json();console.log(" Booking request accepted:",W),N(fe=>fe.filter(je=>je.id!==D)),Te(),Me(),$e()}catch(te){console.error(" Error accepting booking request:",te),alert("Failed to accept booking request: "+te.message)}},cs=async D=>{try{console.log(" Rejecting booking request:",D);const te=await fetch(`http://localhost:5000/api/booking/requests/${D}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:"decline",responseMessage:"Sorry, I cannot accommodate this booking request at this time."})});if(!te.ok){const fe=await te.json();throw new Error(`Failed to reject request: ${fe.error||te.status}`)}const W=await te.json();console.log(" Booking request declined:",W),N(fe=>fe.filter(je=>je.id!==D)),Te()}catch(te){console.error(" Error rejecting booking request:",te),alert("Failed to reject booking request: "+te.message)}},us=D=>["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Tutor Together//Tutor Sessions Export//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",D.filter(W=>W.status==="upcoming").map(W=>{const fe=new Date(`${W.date}T${W.time}`),je=new Date(fe.getTime()+W.duration*60*1e3),G=Ye=>Ye.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";return["BEGIN:VEVENT",`DTSTART:${G(fe)}`,`DTEND:${G(je)}`,`SUMMARY:${W.subject} - Tutoring Session with ${W.student}`,`DESCRIPTION:Tutoring session for ${W.subject} with student ${W.student}. Notes: ${W.notes||"No additional notes"}`,`LOCATION:${W.meetingLink||"TBD"}`,`UID:${W.id}@tutortogether.com`,"STATUS:CONFIRMED","END:VEVENT"].join(`\r
`)}).join(`\r
`),"END:VCALENDAR"].join(`\r
`),ul=async(D="ical")=>{pe(!0);try{await new Promise(fe=>setTimeout(fe,1500));const te=L.filter(fe=>fe.status==="scheduled");if(te.length===0){k("No upcoming sessions to export"),setTimeout(()=>k(null),3e3);return}const W=us(L);if(D==="ical"){const fe=new Blob([W],{type:"text/calendar;charset=utf-8"}),je=window.URL.createObjectURL(fe),G=document.createElement("a");G.href=je,G.download=`tutor-sessions-${new Date().toISOString().split("T")[0]}.ics`,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(je)}k(`${te.length} sessions exported successfully!`),setTimeout(()=>k(null),3e3)}catch(te){console.error("Export failed:",te),k("Export failed. Please try again."),setTimeout(()=>k(null),3e3)}finally{pe(!1)}},dl=()=>H&&t.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-500/20 border border-green-500/30 text-green-400 px-4 py-2 rounded-lg",children:H}),zl=()=>{const D={pending:xt.filter(fe=>fe.status==="pending").length,started:xt.filter(fe=>fe.status==="started").length,inProgress:xt.filter(fe=>fe.status==="in-progress").length,completed:xt.filter(fe=>fe.status==="completed").length,studyHours:xt.reduce((fe,je)=>{if(je.status==="completed"&&je.estimatedTime){const G=parseFloat(je.estimatedTime.match(/\d+/)?.[0]||0);return fe+G}return fe},0)},te=fe=>{switch(fe){case"high":return"bg-red-500/20 text-red-400 border-red-500/30";case"medium":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"low":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},W=fe=>{switch(fe){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in-progress":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"started":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"pending":return"bg-slate-500/20 text-slate-400 border-slate-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}};return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-slate-500/20 to-gray-500/20 rounded-2xl p-6 border border-slate-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:D.pending}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:D.started}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Started"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:D.inProgress}),t.jsx("div",{className:"text-slate-400 text-sm",children:"In Progress"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:D.completed}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:D.studyHours}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Hours"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"All Tasks"})]}),t.jsx("button",{onClick:()=>yt(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:"+ Add Task"})]}),t.jsx("div",{className:"space-y-4",children:Xn?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):xt.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-400",children:"No tasks found. Create your first task!"})}):xt.map(fe=>t.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"text-white font-medium",children:fe.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${te(fe.priority)}`,children:fe.priority}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${W(fe.status)}`,children:fe.status.replace("-"," ")})]}),fe.description&&t.jsx("div",{className:"text-slate-400 text-sm mb-2",children:fe.description}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-1",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[fe.progress||0,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${fe.status==="completed"?"bg-green-500":fe.status==="in-progress"?"bg-yellow-500":fe.status==="started"?"bg-blue-500":"bg-slate-600"}`,style:{width:`${fe.progress||0}%`}})})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-500",children:[t.jsxs("span",{children:[" ",fe.subject]}),t.jsxs("span",{children:[" ",fe.estimatedTime]}),t.jsxs("span",{children:[" Due: ",new Date(fe.due).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Status:"}),t.jsxs("select",{value:fe.status,onChange:je=>Zn(fe.id,je.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Priority:"}),t.jsxs("select",{value:fe.priority,onChange:je=>Ls(fe.id,je.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsx("button",{onClick:()=>{dn(fe),Sn(!0)},className:"px-3 py-1 text-blue-400 hover:text-blue-300 border border-blue-500/30 hover:border-blue-500/50 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-xs transition-all",children:"Edit"}),t.jsx("button",{onClick:()=>Os(fe.id),className:"px-3 py-1 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-xs transition-all",children:"Delete"})]})]},fe.id))})]})]})};K.stats.upcomingSessions,K.stats.activeStudents,`${K.stats.monthlyEarnings}`,K.stats.averageRating;const Ll=[{id:"overview",label:"Overview",icon:"home"},{id:"sessions",label:"Sessions",icon:"book"},{id:"tasks",label:"Tasks",icon:"clipboard"},{id:"earnings",label:"Earnings",icon:"dollar"}],ml=[{id:"calendar",label:"Calendar",description:"Glance at your week",to:"/calendar",gradient:"from-blue-500/20 via-indigo-500/10 to-indigo-500/20",border:"border-blue-500/30"},{id:"profile",label:"Profile",description:"Manage your tutor profile",to:"/tutor-profile",gradient:"from-purple-500/20 via-violet-500/10 to-violet-500/20",border:"border-purple-500/30"},{id:"add-task",label:"Add Task",description:"Capture prep or follow-ups",onClick:()=>yt(!0),gradient:"from-rose-500/20 via-pink-500/10 to-pink-500/20",border:"border-rose-500/30"},{id:"messages",label:"Messages",description:"Jump into student chats",to:"/messages",gradient:"from-amber-500/20 via-orange-500/10 to-orange-500/20",border:"border-amber-500/30"}],Jn=D=>{switch(D){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"scheduled":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"in-progress":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},hl=D=>new Date(D).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),Kn=D=>{const[te,W]=D.split(":"),fe=new Date;return fe.setHours(parseInt(te),parseInt(W)),fe.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},kn=()=>{console.log("realSessions:",L),console.log("pendingRequests:",A);const D=L||[],te=(A||[]).map(G=>({id:G.id,studentId:G.studentId,studentName:G.studentName||"Unknown Student",subject:G.subject||"General",topic:G.notes||"Session requested",date:G.date,time:G.startTime,duration:G.duration*60||60,status:"pending",notes:G.notes||"",meetingType:G.meetingType||"virtual",meetingLink:null,location:G.location||null,createdAt:G.createdAt})),W=[...D,...te];console.log("Using combined sessions:",W),console.log("Confirmed sessions:",D.length),console.log("Pending requests:",te.length);const je=(()=>{if(me==="all")return W;if(me==="upcoming")return W.filter(G=>G.status==="scheduled"||G.status==="pending");if(me==="completed")return W.filter(G=>G.status==="completed");if(me==="today"){const G=new Date().toISOString().split("T")[0];return W.filter(Ye=>(Ye.date&&Ye.date.includes("T")?Ye.date.split("T")[0]:Ye.date)===G)}return W})();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Sessions Management"}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx("button",{onClick:()=>ul("ical"),disabled:ae,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 text-sm",children:ae?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export Calendar"})]})})})]}),t.jsx("div",{className:"flex space-x-1 mb-6 bg-slate-800/30 rounded-lg p-1",children:[{id:"all",label:"All Sessions",count:W.length},{id:"today",label:"Today",count:W.filter(G=>(G.date&&G.date.includes("T")?G.date.split("T")[0]:G.date)===new Date().toISOString().split("T")[0]).length},{id:"upcoming",label:"Upcoming",count:W.filter(G=>G.status==="scheduled"||G.status==="pending").length},{id:"completed",label:"Completed",count:W.filter(G=>G.status==="completed").length}].map(G=>t.jsxs("button",{onClick:()=>de(G.id),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${me===G.id?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[G.label,t.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-slate-700/50 text-xs",children:G.count})]},G.id))}),t.jsx("div",{className:"space-y-4",children:$?t.jsxs("div",{className:"text-center py-12",children:[t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto"})]}),t.jsx("p",{className:"text-slate-400 mt-4",children:"Loading sessions..."})]}):ye?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-red-400 text-lg mb-2",children:""}),t.jsx("h4",{className:"text-red-300 font-medium mb-1",children:"Error loading sessions"}),t.jsx("p",{className:"text-red-500 text-sm mb-4",children:ye}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Retry"})]}):je.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-slate-400 text-lg mb-2",children:""}),t.jsx("h4",{className:"text-slate-300 font-medium mb-1",children:"No sessions found"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"No sessions match the current filter criteria."})]}):je.map(G=>t.jsx("div",{className:"bg-slate-800/30 rounded-xl p-4 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500/20 to-cyan-500/20 flex items-center justify-center border border-blue-500/30",children:t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:G.studentName?G.studentName.split(" ").map(Ye=>Ye[0]).join(""):"U"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[t.jsx("h4",{className:"text-white font-medium",children:G.subject}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Jn(G.status)}`,children:G.status})]}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["with ",G.studentName]}),t.jsx("p",{className:"text-slate-500 text-xs mt-1",children:G.topic})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-white font-medium",children:hl(G.date)}),t.jsx("div",{className:"text-slate-400 text-sm",children:Kn(G.time)}),t.jsxs("div",{className:"text-slate-500 text-xs",children:[G.duration," minutes"]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[t.jsx("button",{onClick:()=>{se(G),E(!0)},className:"px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-lg text-xs hover:bg-blue-500/30 transition-colors",children:"View Details"}),G.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>os(G.id),className:"px-3 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded-lg text-xs hover:bg-green-500/30 transition-colors",children:"Accept"}),t.jsx("button",{onClick:()=>cs(G.id),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-xs hover:bg-red-500/30 transition-colors",children:"Decline"})]}),(G.status==="scheduled"||G.status==="confirmed")&&t.jsx(cd,{booking:{...G,endTime:G.endTime||G.time,studentName:G.studentName},onCompleted:Ye=>{le(et=>et.map(he=>he.id===Ye.id?{...he,status:"completed"}:he))},className:"text-xs px-2 py-1"}),G.status==="scheduled"&&t.jsx("button",{onClick:()=>Zt(G),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-xs hover:bg-red-500/30 transition-colors",children:"Cancel"}),G.meetingLink&&G.status==="scheduled"&&t.jsx("a",{href:G.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 rounded-lg text-xs hover:bg-emerald-500/30 transition-colors",children:"Join Meeting"})]})]})]})},G.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"This Week"}),t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:W.filter(G=>{const Ye=G.date.includes("T")?G.date.split("T")[0]:G.date,et=new Date(Ye),he=new Date;he.setDate(he.getDate()-he.getDay());const De=new Date(he);return De.setDate(he.getDate()+6),et>=he&&et<=De}).length}),t.jsx("div",{className:"text-slate-500 text-xs",children:"Sessions scheduled"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"Completion Rate"}),t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[W.length>0?Math.round(W.filter(G=>G.status==="completed").length/W.length*100):0,"%"]}),t.jsx("div",{className:"text-slate-500 text-xs",children:"Sessions completed"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"Total Hours"}),t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Math.round(W.reduce((G,Ye)=>G+Ye.duration,0)/60)}),t.jsx("div",{className:"text-slate-500 text-xs",children:"Hours taught"})]})]})]})},_=()=>t.jsx(Ds,{isOpen:F,onClose:()=>E(!1),children:t.jsx("div",{className:"p-6",children:X&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Session Details"}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Subject"}),t.jsx("p",{className:"text-white",children:X.subject})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Status"}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Jn(X.status)}`,children:X.status})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Student"}),t.jsx("p",{className:"text-white",children:X.studentName})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Topic"}),t.jsx("p",{className:"text-white",children:X.topic})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Date & Time"}),t.jsxs("p",{className:"text-white",children:[hl(X.date)," at ",Kn(X.time)]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Duration"}),t.jsxs("p",{className:"text-white",children:[X.duration," minutes"]})]})]})}),X.notes&&t.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:X.status==="pending"?"Student Notes / Message":"Session Notes"}),t.jsxs("p",{className:"text-slate-300 text-sm italic",children:['"',X.notes,'"']})]}),X.meetingLink&&t.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"Meeting Link"}),t.jsx("a",{href:X.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm break-all",children:X.meetingLink})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(ze,{variant:"secondary",onClick:()=>E(!1),className:"flex-1",children:"Close"}),X.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(ze,{onClick:()=>{E(!1),os(X.id)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:"Accept Request"}),t.jsx(ze,{onClick:()=>{E(!1),cs(X.id)},className:"flex-1 bg-red-600 hover:bg-red-700",children:"Decline Request"})]}),X.status==="scheduled"&&t.jsxs(t.Fragment,{children:[t.jsx(ze,{onClick:()=>{E(!1),Zt(X)},className:"flex-1 bg-red-600 hover:bg-red-700",children:"Cancel Session"}),X.meetingLink&&t.jsx(ze,{onClick:()=>{window.open(X.meetingLink,"_blank")},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:"Join Meeting"})]})]})]})})});if($)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-8",children:[t.jsxs("div",{className:"animate-pulse text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto"})]}),t.jsx("p",{className:"text-slate-400 mt-4 text-center",children:"Loading dashboard..."})]})});const ce=()=>{const D=_e?.stats?.pendingRequests||0,te=_e?.stats?.scheduledSessions||0,W=_e?.stats?.completedSessions||0,fe=_e?.stats?.totalStudents||0,je=_e?.stats?.todayEarnings||0,G=_e?.stats?.monthEarnings||0,Ye=_e?.profile?.rating||0,et=_e?.profile?.totalReviews||0;return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-orange-500/10 to-red-500/10 rounded-2xl p-6 border border-orange-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Pending Requests"}),t.jsx("span",{className:"text-orange-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:D}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Awaiting response"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Scheduled Sessions"}),t.jsx("span",{className:"text-blue-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:te}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Confirmed bookings"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Completed"}),t.jsx("span",{className:"text-emerald-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:W}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Total sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Students"}),t.jsx("span",{className:"text-purple-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:fe}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Unique students"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-yellow-500/10 rounded-2xl p-6 border border-amber-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Today's Earnings"}),t.jsx("span",{className:"text-amber-400 text-2xl",children:""})]}),t.jsxs("div",{className:"text-white text-3xl font-bold",children:["$",je.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"From completed sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-teal-500/10 to-cyan-500/10 rounded-2xl p-6 border border-teal-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"This Month"}),t.jsx("span",{className:"text-teal-400 text-2xl",children:""})]}),t.jsxs("div",{className:"text-white text-3xl font-bold",children:["$",G.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Total earnings"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/10 to-blue-500/10 rounded-2xl p-6 border border-indigo-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Rating"}),t.jsx("span",{className:"text-indigo-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:Ye.toFixed(1)}),t.jsxs("div",{className:"text-slate-400 text-xs mt-1",children:[et," reviews"]})]})]}),A.length>0&&t.jsxs("div",{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 rounded-2xl p-6 border border-orange-500/30 backdrop-blur-sm",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-orange-400",children:""}),t.jsx("span",{children:"New Booking Requests"}),t.jsx("span",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full",children:A.length})]})}),t.jsx("div",{className:"space-y-4",children:O?t.jsxs("div",{className:"text-center py-4",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading requests..."})]}):A.map(he=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-orange-500/20 hover:bg-slate-800/70 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500/20 to-red-500/20 flex items-center justify-center border border-orange-500/30",children:t.jsx("span",{className:"text-orange-400 text-sm font-medium",children:he.studentName?he.studentName.split(" ").map(De=>De[0]).join(""):"S"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-white font-medium",children:he.subject||"Session Request"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["from ",he.studentName||"Student","  ",new Date(he.booking_date||he.date).toLocaleDateString()," at ",he.start_time||he.startTime]}),he.notes&&t.jsxs("p",{className:"text-slate-300 text-sm mt-1 italic",children:['"',he.notes,'"']})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>{se({id:he.id,subject:he.subject||"Session Request",studentName:he.studentName||"Student",studentEmail:he.studentEmail,date:he.date,time:he.startTime,duration:(he.duration||1)*60,topic:"Booking Request",notes:he.notes,status:"pending",meetingType:he.meetingType,location:he.location}),E(!0)},className:"px-3 py-1 bg-slate-700/50 text-slate-300 border border-slate-600/50 rounded-lg text-sm hover:bg-slate-700 transition-colors",children:"Details"}),t.jsx("button",{onClick:()=>os(he.id),className:"px-3 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Accept"}),t.jsx("button",{onClick:()=>cs(he.id),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Reject"})]})]})},he.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-amber-400",children:""}),t.jsx("span",{children:"Pending Tasks"})]}),t.jsx("button",{onClick:()=>o("tasks"),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All "})]}),Xn?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):xt.filter(he=>he.status!=="completed").length>0?t.jsx("div",{className:"space-y-3",children:xt.filter(he=>he.status!=="completed").slice(0,5).map(he=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("div",{className:"text-white font-medium",children:he.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${he.priority==="high"?"bg-red-500/20 text-red-400":he.priority==="medium"?"bg-amber-500/20 text-amber-400":"bg-green-500/20 text-green-400"}`,children:he.priority})]}),t.jsx("div",{className:"text-slate-400 text-sm",children:he.description}),t.jsxs("div",{className:"flex items-center space-x-3 mt-2 text-xs text-slate-500",children:[t.jsxs("span",{children:[" ",he.subject]}),t.jsxs("span",{children:[" ",he.estimatedTime]}),t.jsxs("span",{children:[" Due: ",new Date(he.due).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Progress"}),t.jsxs("div",{className:"text-sm font-medium text-blue-400",children:[he.progress||0,"%"]})]})})]},he.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"All caught up!"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"No pending tasks at the moment"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:t.jsx("span",{children:"Today's Sessions"})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:()=>ul("ical"),disabled:ae,className:"px-3 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 text-sm",children:ae?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export"})]})}),t.jsx("span",{className:"text-slate-400 text-sm",children:"All today's sessions shown below"})]})]}),t.jsx("div",{className:"space-y-4",children:L.length>0?L.filter(he=>(he.date.includes("T")?he.date.split("T")[0]:he.date)===new Date().toISOString().split("T")[0]).length>0?L.filter(he=>(he.date.includes("T")?he.date.split("T")[0]:he.date)===new Date().toISOString().split("T")[0]).map(he=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500/20 to-cyan-500/20 flex items-center justify-center border border-blue-500/30",children:t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:he.student?he.student.split(" ").map(De=>De[0]).join(""):he.studentName?he.studentName.split(" ").map(De=>De[0]).join(""):"U"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium",children:he.subject||"Session"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["with ",he.student||he.studentName||"Student"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-white font-medium",children:Kn(he.time)}),t.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium border ${Jn(he.status)}`,children:he.status})]}),he.status==="scheduled"&&t.jsx("button",{onClick:()=>Zt(he),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-xs hover:bg-red-500/30 transition-colors",children:"Cancel"})]})]})},he.id)):t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 text-center",children:t.jsx("p",{className:"text-slate-400",children:"No sessions scheduled for today"})}):t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 text-center",children:t.jsx("p",{className:"text-slate-400",children:"No sessions found"})})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:t.jsx("span",{children:"Recent Students"})}),t.jsx(qe,{to:"/students",className:"text-emerald-400 hover:text-emerald-300 text-sm font-medium",children:"View All "})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:K.recentStudents.slice(0,4).map(he=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500/20 to-teal-500/20 flex items-center justify-center border border-emerald-500/30",children:t.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:he.name?he.name.split(" ").map(De=>De[0]).join(""):"U"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-white font-medium text-sm",children:he.name}),t.jsx("p",{className:"text-slate-400 text-xs",children:he.subject}),t.jsxs("p",{className:"text-slate-500 text-xs",children:["Progress: ",he.progress,"%"]})]})]})},he.id))})]})]})},oe=()=>{if(ge)return t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:"Loading earnings data..."})]})});const D=Z?.summary?.totalEarnings||0,te=Z?.summary?.thisMonthEarnings||0,W=Z?.summary?.thisWeekEarnings||0,fe=Z?.summary?.todayEarnings||0,je=Z?.summary?.completedSessionsCount||0,G=Z?.summary?.averagePerSession||0,Ye=Z?.profile?.hourlyRate||0,et=Z?.earningsByDate||[],he=Z?.earningsBySubject||[],De=Z?.recentSessions||[];return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",D.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Earnings"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",te.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Month"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",W.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Week"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",fe.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Today"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"Recent Earnings"})]}),et.length>0?t.jsx("div",{className:"space-y-3",children:et.slice(0,10).map(tt=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg hover:bg-slate-800/70 transition-colors",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:new Date(tt.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[tt.sessionCount," session",tt.sessionCount!==1?"s":""]})]}),t.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:["$",tt.totalAmount.toFixed(2)]})]},tt.date))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-slate-500 text-6xl mb-4",children:""}),t.jsx("p",{className:"text-slate-400",children:"No completed sessions yet"}),t.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Complete sessions to start earning"})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-emerald-500/10 via-teal-500/10 to-cyan-500/10 rounded-2xl p-6 border border-emerald-500/20",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:" Summary"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-emerald-400 mb-1",children:je}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Sessions Completed"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-cyan-400 mb-1",children:["$",G.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Avg per Session"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-blue-400 mb-1",children:["$",Ye.toFixed(2),"/hr"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Hourly Rate"})]})]})]}),he.length>0&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"Earnings by Subject"})]}),t.jsx("div",{className:"space-y-3",children:he.map(tt=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-medium",children:tt.subject}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[tt.sessionCount," session",tt.sessionCount!==1?"s":"","  Avg: $",tt.averageAmount.toFixed(2)]})]}),t.jsxs("div",{className:"text-xl font-bold text-blue-400",children:["$",tt.totalAmount.toFixed(2)]})]},tt.subject))})]}),De.length>0&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-purple-400",children:""}),t.jsx("span",{children:"Recent Completed Sessions"})]}),t.jsx("div",{className:"space-y-3",children:De.slice(0,10).map(tt=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg hover:bg-slate-800/70 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-medium",children:tt.subject}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[tt.studentName,"  ",new Date(tt.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),"  ",tt.duration," min"]}),tt.reviewRating&&t.jsx("div",{className:"flex items-center space-x-1 mt-1",children:[...Array(5)].map((fl,Ut)=>t.jsx("svg",{className:`w-3 h-3 ${Ut<tt.reviewRating?"text-amber-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Ut))})]}),t.jsxs("div",{className:"text-lg font-bold text-emerald-400",children:["$",tt.amount.toFixed(2)]})]},tt.id))})]})]})},He=()=>{switch(i){case"sessions":return kn();case"earnings":return oe();case"tasks":return zl();default:return ce()}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 pt-16",children:[H&&(()=>{const te=(()=>{switch(M){case"success":return{bg:"bg-emerald-500/10",border:"border-emerald-500/40",text:"text-emerald-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})};case"error":return{bg:"bg-red-500/10",border:"border-red-500/40",text:"text-red-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};case"warning":return{bg:"bg-amber-500/10",border:"border-amber-500/40",text:"text-amber-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})};case"info":return{bg:"bg-blue-500/10",border:"border-blue-500/40",text:"text-blue-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};default:return{bg:"bg-slate-500/10",border:"border-slate-500/40",text:"text-slate-400",icon:null}}})();return t.jsx("div",{className:`fixed top-20 right-4 z-50 ${te.bg} ${te.border} border backdrop-blur-sm rounded-xl shadow-2xl transform transition-all duration-300 ease-in-out animate-slide-in-right max-w-md`,children:t.jsxs("div",{className:"flex items-start space-x-3 p-4",children:[t.jsx("div",{className:`flex-shrink-0 ${te.text}`,children:te.icon}),t.jsx("div",{className:"flex-1 pt-0.5",children:t.jsx("p",{className:`text-sm font-medium ${te.text} leading-relaxed`,children:H})}),t.jsx("button",{onClick:()=>k(""),className:`flex-shrink-0 ${te.text} hover:opacity-70 transition-opacity`,children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})(),t.jsxs("div",{className:"flex min-h-screen",children:[t.jsx("div",{className:"flex-1 flex flex-col",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:["Greetings, ",s?.profile?.fullName||s?.full_name||s?.name||s?.username||"Tutor","!"]}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Ready to inspire students today? Here's your teaching overview."})]}),t.jsx(Sv,{}),He()]})}),t.jsx("div",{className:"w-80 bg-slate-900/30 backdrop-blur-sm border-l border-slate-800/50 overflow-auto",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Tutor Dashboard"}),t.jsx("div",{className:"space-y-1",children:Ll.map(D=>t.jsx("button",{onClick:()=>o(D.id),className:`w-full px-3 py-2 rounded-lg flex items-center transition-all duration-200 ${i===D.id?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:t.jsx("span",{className:"text-sm font-medium",children:D.label})},D.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Actions"}),t.jsx("div",{className:"space-y-2",children:ml.map(D=>{const te=`w-full p-3 rounded-xl border bg-gradient-to-r ${D.gradient} ${D.border} transition-all duration-200 hover:border-white/40`,W=t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-white text-sm font-semibold",children:D.label}),t.jsx("div",{className:"text-slate-200 text-xs",children:D.description})]});return D.to?t.jsx(qe,{to:D.to,className:`${te} block`,children:W},D.id):t.jsx("button",{onClick:D.onClick,className:`${te} text-left`,children:W},D.id)})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl p-4 border border-blue-500/20",children:[t.jsx("h3",{className:"text-sm font-semibold text-blue-300 mb-3 uppercase tracking-wide",children:t.jsx("span",{children:"Today's Sessions"})}),t.jsx("div",{className:"space-y-3",children:K.todaySessions.slice(0,2).map(D=>t.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/50 border border-slate-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("div",{className:"text-white text-xs font-medium line-clamp-2",children:D.subject}),t.jsx("div",{className:"text-blue-400 text-xs font-medium",children:Kn(D.time)})]}),t.jsxs("div",{className:"text-slate-400 text-xs mb-1",children:["with ",D.student]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Jn(D.status)}`,children:D.status})})]},D.id))})]})]})})]}),t.jsx(Tn,{}),t.jsx(Bs,{}),t.jsx(Ds,{isOpen:p,onClose:()=>f(!1),children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Cancel Session"}),g&&t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"text-white font-medium",children:g.subject}),t.jsxs("div",{className:"text-slate-400 text-sm",children:["with ",g.student]}),t.jsxs("div",{className:"text-slate-500 text-sm mt-1",children:["Scheduled: ",Kn(g.time)]})]}),t.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("svg",{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-red-400 font-medium",children:"Are you sure you want to cancel this session?"}),t.jsx("p",{className:"text-red-300 text-sm mt-1",children:"This action cannot be undone. The student will be notified of the cancellation."})]})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Reason for Cancellation"}),t.jsx("textarea",{rows:"3",value:S,onChange:D=>j(D.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none focus:outline-none focus:border-blue-500",placeholder:"Optional: Explain why you need to cancel",disabled:B})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(ze,{variant:"secondary",onClick:()=>{f(!1),j("")},className:"flex-1",disabled:B,children:"Keep Session"}),t.jsx(ze,{onClick:is,className:"flex-1 bg-red-600 hover:bg-red-700 border-red-600",disabled:B,children:B?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin inline-block mr-2"}),"Cancelling..."]}):"Cancel Session"})]})]})}),t.jsx(_,{}),t.jsx(Mf,{isOpen:qn,onClose:()=>{yt(!1),dn({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),mn({})},isEdit:!1,newTask:Gt,setNewTask:dn,errors:St,loading:B,subjects:$n,handleEditTask:Bt,handleAddTask:It}),t.jsx(Mf,{isOpen:Ft,onClose:()=>{Sn(!1),dn({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),mn({})},isEdit:!0,newTask:Gt,setNewTask:dn,errors:St,loading:B,subjects:$n,handleEditTask:Bt,handleAddTask:It}),t.jsx(dl,{})]})},As="http://localhost:5000/api";class kv{getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}async getDashboardStats(){try{return await(await fetch(`${As}/admin/dashboard/stats`,{headers:this.getHeaders()})).json()}catch(a){return console.error("Error fetching dashboard stats:",a),{success:!1,message:a.message}}}async getTutorApplications(a=null){try{const i=a?`${As}/admin/tutors/applications?status=${a}`:`${As}/admin/tutors/applications`;return await(await fetch(i,{headers:this.getHeaders()})).json()}catch(i){return console.error("Error fetching tutor applications:",i),{success:!1,message:i.message}}}async getTutorApplication(a){try{return await(await fetch(`${As}/admin/tutors/applications/${a}`,{headers:this.getHeaders()})).json()}catch(i){return console.error("Error fetching tutor application:",i),{success:!1,message:i.message}}}async updateTutorStatus(a,i,o=""){try{return await(await fetch(`${As}/admin/tutors/applications/${a}/status`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify({status:i,notes:o})})).json()}catch(u){return console.error("Error updating tutor status:",u),{success:!1,message:u.message}}}async getAllSessions(a=50,i=0){try{return await(await fetch(`${As}/admin/sessions?limit=${a}&offset=${i}`,{headers:this.getHeaders()})).json()}catch(o){return console.error("Error fetching sessions:",o),{success:!1,message:o.message}}}async getEarningsSummary(){try{return await(await fetch(`${As}/admin/earnings`,{headers:this.getHeaders()})).json()}catch(a){return console.error("Error fetching earnings summary:",a),{success:!1,message:a.message}}}async getAllUsers(a={}){try{const i=new URLSearchParams;a.role&&i.append("role",a.role),a.status&&i.append("status",a.status),a.limit&&i.append("limit",a.limit),a.offset&&i.append("offset",a.offset);const o=`${As}/admin/users${i.toString()?"?"+i.toString():""}`;return await(await fetch(o,{headers:this.getHeaders()})).json()}catch(i){return console.error("Error fetching users:",i),{success:!1,message:i.message}}}async updateUserStatus(a,i,o=""){try{return await(await fetch(`${As}/admin/users/${a}/status`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify({is_active:i,reason:o})})).json()}catch(u){return console.error("Error updating user status:",u),{success:!1,message:u.message}}}}const _s=new kv,Cv=()=>{const{user:s}=Mt(),[a,i]=T.useState("dashboard"),[o,u]=T.useState(!0),[d,h]=T.useState(null),[x,p]=T.useState([]),[f,g]=T.useState([]),[y,S]=T.useState(null),[j,B]=T.useState("all"),[C,H]=T.useState([]),[k,M]=T.useState("all"),[U,ae]=T.useState("all");T.useEffect(()=>{pe()},[]);const pe=async()=>{u(!0);const L=await _s.getDashboardStats();L.success&&h(L.data),u(!1)},Y=async(L=null)=>{const le=await _s.getTutorApplications(L);le.success&&p(le.data)},q=async()=>{const L=await _s.getAllSessions();L.success&&g(L.data.sessions)},me=async()=>{const L=await _s.getEarningsSummary();L.success&&S(L.data)},de=async()=>{const L={};k!=="all"&&(L.role=k),U!=="all"&&(L.status=U);const le=await _s.getAllUsers(L);le.success&&H(le.data)};T.useEffect(()=>{a==="applications"?Y(j==="all"?null:j):a==="sessions"?q():a==="earnings"?me():a==="users"&&de()},[a,j,k,U]);const F=async L=>{const le=prompt("Enter approval notes (optional):"),$=await _s.updateTutorStatus(L,"approved",le);$.success?(alert("Tutor approved successfully!"),Y(j==="all"?null:j),pe()):alert("Failed to approve tutor: "+$.message)},E=async L=>{const le=prompt("Enter rejection reason:");if(!le)return;const $=await _s.updateTutorStatus(L,"rejected",le);$.success?(alert("Tutor application rejected"),Y(j==="all"?null:j),pe()):alert("Failed to reject tutor: "+$.message)},X=async(L,le)=>{const $=prompt(`Enter reason for suspending ${le}:`);if(!$)return;const ne=await _s.updateUserStatus(L,!1,$);ne.success?(alert("User suspended successfully"),de(),pe()):alert("Failed to suspend user: "+ne.message)},se=async(L,le)=>{if(!confirm(`Activate user ${le}?`))return;const $=await _s.updateUserStatus(L,!0,"Account reactivated by admin");$.success?(alert("User activated successfully"),de(),pe()):alert("Failed to activate user: "+$.message)};return o?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"text-white",children:"Loading admin dashboard..."})}):t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Dashboard"}),t.jsxs("p",{className:"text-slate-400",children:["Welcome back, ",s?.full_name]})]}),t.jsx("div",{className:"flex space-x-4 mb-8 border-b border-slate-800",children:["dashboard","applications","sessions","earnings","users"].map(L=>t.jsx("button",{onClick:()=>i(L),className:`px-4 py-2 font-medium capitalize transition-colors ${a===L?"text-purple-400 border-b-2 border-purple-400":"text-slate-400 hover:text-white"}`,children:L},L))}),a==="dashboard"&&d&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(ss,{title:"Total Students",value:d.stats.total_students,icon:""}),t.jsx(ss,{title:"Total Tutors",value:d.stats.total_tutors,icon:""}),t.jsx(ss,{title:"Pending Applications",value:d.stats.pending_applications,icon:"",color:"yellow"}),t.jsx(ss,{title:"Total Sessions",value:d.stats.total_sessions,icon:""}),t.jsx(ss,{title:"Completed Sessions",value:d.stats.completed_sessions,icon:"",color:"green"}),t.jsx(ss,{title:"Total Earnings",value:`$${parseFloat(d.stats.total_earnings).toFixed(2)}`,icon:"",color:"green"})]}),a==="applications"&&t.jsxs("div",{children:[t.jsx("div",{className:"mb-4 flex space-x-2",children:["all","pending","approved","rejected"].map(L=>t.jsx("button",{onClick:()=>B(L),className:`px-4 py-2 rounded-lg capitalize ${j===L?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:L},L))}),t.jsxs("div",{className:"space-y-4",children:[x.map(L=>t.jsx("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-800",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:L.full_name}),t.jsx("p",{className:"text-slate-400 mb-2",children:L.email}),t.jsx("p",{className:"text-slate-300 mb-4",children:L.bio}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Hourly Rate:"}),t.jsxs("span",{className:"text-white ml-2",children:["$",L.hourly_rate]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Location:"}),t.jsxs("span",{className:"text-white ml-2",children:[L.location_city,", ",L.location_state]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Subjects:"}),t.jsx("span",{className:"text-white ml-2",children:L.subjects_taught?.join(", ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Status:"}),t.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs ${L.approval_status==="approved"?"bg-green-900 text-green-200":L.approval_status==="rejected"?"bg-red-900 text-red-200":"bg-yellow-900 text-yellow-200"}`,children:L.approval_status})]})]}),L.admin_notes&&t.jsxs("div",{className:"mt-4 p-3 bg-slate-800 rounded",children:[t.jsx("p",{className:"text-sm text-slate-400",children:"Admin Notes:"}),t.jsx("p",{className:"text-white",children:L.admin_notes})]})]}),L.approval_status==="pending"&&t.jsxs("div",{className:"flex space-x-2 ml-4",children:[t.jsx("button",{onClick:()=>F(L.account_id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Approve"}),t.jsx("button",{onClick:()=>E(L.account_id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Reject"})]})]})},L.id)),x.length===0&&t.jsx("div",{className:"text-center py-12 text-slate-400",children:"No applications found"})]})]}),a==="sessions"&&t.jsxs("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Student"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Tutor"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Subject"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Duration"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Cost"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-800",children:f.map(L=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:L.student_name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:L.tutor_name}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:L.subject}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:new Date(L.session_date).toLocaleDateString()}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-300",children:[L.duration_hours,"h"]}),t.jsxs("td",{className:"px-6 py-4 text-sm text-green-400",children:["$",L.session_cost]}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs ${L.status==="completed"?"bg-green-900 text-green-200":L.status==="confirmed"?"bg-blue-900 text-blue-200":L.status==="cancelled"?"bg-red-900 text-red-200":"bg-yellow-900 text-yellow-200"}`,children:L.status})})]},L.id))})]})}),f.length===0&&t.jsx("div",{className:"text-center py-12 text-slate-400",children:"No sessions found"})]}),a==="earnings"&&y&&t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx(ss,{title:"Total Earnings",value:`$${parseFloat(y.summary.total_earnings||0).toFixed(2)}`,icon:"",color:"green"}),t.jsx(ss,{title:"Pending Earnings",value:`$${parseFloat(y.summary.pending_earnings||0).toFixed(2)}`,icon:"",color:"yellow"}),t.jsx(ss,{title:"Completed Sessions",value:y.summary.completed_sessions,icon:""}),t.jsx(ss,{title:"Avg Session Value",value:`$${parseFloat(y.summary.avg_session_value||0).toFixed(2)}`,icon:""})]}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Top Earning Tutors"}),t.jsx("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Tutor"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sessions"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Hourly Rate"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Total Earned"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-800",children:y.topTutors.map((L,le)=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm text-white",children:L.full_name}),t.jsx("div",{className:"text-xs text-slate-400",children:L.email})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:L.session_count}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-300",children:["$",L.hourly_rate,"/hr"]}),t.jsxs("td",{className:"px-6 py-4 text-sm text-green-400 font-semibold",children:["$",parseFloat(L.total_earned).toFixed(2)]})]},le))})]})})]}),a==="users"&&t.jsxs("div",{children:[t.jsxs("div",{className:"mb-4 flex space-x-2",children:[t.jsxs("select",{value:k,onChange:L=>M(L.target.value),className:"px-4 py-2 bg-slate-800 text-slate-300 border border-slate-700 rounded-lg focus:outline-none focus:border-purple-500",children:[t.jsx("option",{value:"all",children:"All Roles"}),t.jsx("option",{value:"student",children:"Students"}),t.jsx("option",{value:"tutor",children:"Tutors"})]}),t.jsxs("select",{value:U,onChange:L=>ae(L.target.value),className:"px-4 py-2 bg-slate-800 text-slate-300 border border-slate-700 rounded-lg focus:outline-none focus:border-purple-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]}),t.jsxs("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Joined"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-800",children:C.map(L=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm text-white font-medium",children:L.full_name})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:L.email}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${L.role==="admin"?"bg-purple-900 text-purple-200":L.role==="tutor"?"bg-blue-900 text-blue-200":"bg-green-900 text-green-200"}`,children:L.role})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:new Date(L.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${L.is_active?"bg-green-900 text-green-200":"bg-red-900 text-red-200"}`,children:L.is_active?"Active":"Suspended"})}),t.jsx("td",{className:"px-6 py-4 text-sm",children:L.role!=="admin"&&t.jsx("div",{className:"flex space-x-2",children:L.is_active?t.jsx("button",{onClick:()=>X(L.id,L.full_name),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xs transition-colors",children:"Suspend"}):t.jsx("button",{onClick:()=>se(L.id,L.full_name),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-lg text-xs transition-colors",children:"Activate"})})})]},L.id))})]})}),C.length===0&&t.jsx("div",{className:"text-center py-12 text-slate-400",children:"No users found"})]})]})]})})},ss=({title:s,value:a,icon:i,color:o="purple"})=>{const u={purple:"from-purple-600 to-blue-600",green:"from-green-600 to-emerald-600",yellow:"from-yellow-600 to-orange-600",red:"from-red-600 to-pink-600"};return t.jsx("div",{className:`bg-gradient-to-r ${u[o]} rounded-lg p-6 text-white`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm opacity-90 mb-1",children:s}),t.jsx("p",{className:"text-3xl font-bold",children:a})]}),t.jsx("div",{className:"text-4xl opacity-80",children:i})]})})},Ev=()=>{const{user:s}=Mt(),a=Qn(),[i,o]=T.useState(""),[u,d]=T.useState("all"),[h,x]=T.useState("all"),[p,f]=T.useState("all"),[g,y]=T.useState("rating"),[S,j]=T.useState([]),[B,C]=T.useState(["all"]),[H,k]=T.useState(!1),[M,U]=T.useState(null),[ae,pe]=T.useState("grid"),Y=async()=>{k(!0),U(null);try{const E={search:i,subject:u!=="all"?u:"",sortBy:g};if(h!=="all"){const[se,L]=h.split("-");se&&se!=="70+"&&(E.minPrice=se),L&&(E.maxPrice=L),h==="70+"&&(E.minPrice=70)}const X=await Vu.getAllTutors(E);console.log(" Loaded tutors from database:",X),j(X)}catch(E){console.error("Failed to load tutors:",E),U("Failed to load tutors. Please try again.")}finally{k(!1)}},q=async()=>{try{const E=await Vu.getTutorSubjects();C(["all",...E])}catch(E){console.error("Failed to load subjects:",E),C(["all","Mathematics","Physics","Chemistry","Computer Science","Economics","English","Biology"])}},me=[{value:"all",label:"All Prices"},{value:"0-30",label:"$0 - $30"},{value:"30-50",label:"$30 - $50"},{value:"50-70",label:"$50 - $70"},{value:"70+",label:"$70+"}],de=E=>{a("/messages",{state:{selectedUser:{id:E.id,full_name:E.name,email:E.email,user_role:"tutor",username:E.username}}})};T.useEffect(()=>{Y(),q()},[]),T.useEffect(()=>{const E=setTimeout(()=>{Y()},300);return()=>clearTimeout(E)},[i,u,h,g]);const F=S;return t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:t.jsx("span",{children:"Find Your Perfect Tutor"})}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Connect with expert tutors across all subjects"})]}),t.jsx("div",{className:"mb-8 bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Search"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",placeholder:"Search tutors or subjects...",value:i,onChange:E=>o(E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject"}),t.jsx("select",{value:u,onChange:E=>d(E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:B.map(E=>t.jsx("option",{value:E,children:E==="all"?"All Subjects":E},E))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Price Range"}),t.jsx("select",{value:h,onChange:E=>x(E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:me.map(E=>t.jsx("option",{value:E.value,children:E.label},E.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sort By"}),t.jsxs("select",{value:g,onChange:E=>y(E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:[t.jsx("option",{value:"rating",children:"Highest Rated"}),t.jsx("option",{value:"price-low",children:"Price: Low to High"}),t.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]})]})}),t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"text-slate-300",children:[H?t.jsx("span",{className:"text-slate-400",children:"Loading tutors..."}):M?t.jsx("span",{className:"text-red-400",children:M}):t.jsx("span",{className:"font-medium text-white",children:F.length}),!H&&!M&&" tutors found"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>pe("list"),className:`px-4 py-2 rounded-lg transition-colors ${ae==="list"?"bg-slate-700/50 border border-slate-600/50 text-white":"bg-slate-800/50 border border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:"List"}),t.jsx("button",{onClick:()=>pe("grid"),className:`px-4 py-2 rounded-lg transition-colors ${ae==="grid"?"bg-slate-700/50 border border-slate-600/50 text-white":"bg-slate-800/50 border border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:"Grid"})]})]}),H?t.jsx("div",{className:ae==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:[1,2,3].map(E=>t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-6 animate-pulse",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700"}),t.jsxs("div",{children:[t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"w-full h-3 bg-slate-700 rounded"}),t.jsx("div",{className:"w-3/4 h-3 bg-slate-700 rounded"}),t.jsx("div",{className:"w-1/2 h-3 bg-slate-700 rounded"})]})]},E))}):ae==="grid"?t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:F.map(E=>t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm overflow-hidden hover:border-slate-700/50 transition-colors",children:[t.jsxs("div",{className:"p-6 pb-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:E.avatar}),E.online&&t.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-slate-900"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:E.name}),t.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"text-white font-medium",children:E.rating}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",E.reviews," reviews)"]})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold text-lg",children:["$",E.hourlyRate]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"per hour"})]})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.subjects.slice(0,3).map((X,se)=>t.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 text-sm",children:X},se)),E.subjects.length>3&&t.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 border border-slate-600/50 rounded-full text-slate-300 text-sm",children:["+",E.subjects.length-3," more"]})]})}),t.jsx("p",{className:"text-slate-300 text-sm mb-4 line-clamp-2",children:E.bio}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-slate-400 text-xs",children:"Total Bookings"}),t.jsx("div",{className:"text-white text-sm font-medium",children:E.totalBookings||0})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-slate-400 text-xs",children:"Response Time"}),t.jsx("div",{className:"text-white text-sm font-medium",children:E.responseTime})]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${E.online?"bg-emerald-400":"bg-slate-500"}`}),t.jsx("span",{className:"text-slate-300 text-sm",children:E.availability})]}),t.jsx("div",{className:"flex items-center space-x-1",children:E.languages.slice(0,2).map((X,se)=>t.jsx("span",{className:"px-2 py-1 bg-slate-800/50 rounded text-slate-300 text-xs",children:X},se))})]}),E.availableSessions&&E.availableSessions.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-slate-300 text-xs font-medium mb-2",children:"Next Available Sessions"}),t.jsxs("div",{className:"space-y-1",children:[E.availableSessions.slice(0,2).map((X,se)=>t.jsxs("div",{className:"flex items-center justify-between bg-slate-800/30 rounded-lg p-2",children:[t.jsx("div",{className:"text-slate-300 text-xs",children:new Date(X.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),t.jsxs("div",{className:"text-white text-xs font-medium",children:[X.startTime," - ",X.endTime]})]},se)),E.availableSessions.length>2&&t.jsxs("div",{className:"text-center text-slate-400 text-xs",children:["+",E.availableSessions.length-2," more slots"]})]})]})]}),t.jsx("div",{className:"px-6 pb-6",children:t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(qe,{to:`/booking/${E.id}`,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-colors text-center",children:"Book Session"}),t.jsx("button",{onClick:()=>de(E),className:"px-4 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors",children:"Message"})]})})]},E.id))}):t.jsx("div",{className:"space-y-4",children:F.map(E=>t.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm hover:border-slate-700/50 transition-colors",children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:E.avatar}),E.online&&t.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-emerald-500 rounded-full border-2 border-slate-900"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-start justify-between mb-2",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:E.name}),t.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"text-white font-medium",children:E.rating}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",E.reviews," reviews)"]})]})]})}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[E.subjects.slice(0,4).map((X,se)=>t.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 text-sm",children:X},se)),E.subjects.length>4&&t.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 border border-slate-600/50 rounded-full text-slate-300 text-sm",children:["+",E.subjects.length-4," more"]})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:E.bio}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:"text-slate-400",children:["Total Bookings: ",t.jsx("span",{className:"text-white",children:E.totalBookings||0})]}),t.jsxs("span",{className:"text-slate-400",children:["Response: ",t.jsx("span",{className:"text-white",children:E.responseTime})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${E.online?"bg-emerald-400":"bg-slate-500"}`}),t.jsx("span",{className:"text-slate-300 text-sm",children:E.availability})]})]})]})]}),t.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold text-2xl",children:["$",E.hourlyRate]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"per hour"})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(qe,{to:`/booking/${E.id}`,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-colors text-center",children:"Book Session"}),t.jsx("button",{onClick:()=>de(E),className:"px-4 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors",children:"Message"})]})]})]})})},E.id))}),!H&&F.length>0&&t.jsx("div",{className:"text-center mt-8",children:t.jsx("button",{className:"px-6 py-3 bg-slate-800/50 border border-slate-700/50 text-white rounded-lg hover:bg-slate-700/50 transition-colors",children:"Load More Tutors"})}),!H&&!M&&F.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-slate-400",children:""})}),t.jsx("h3",{className:"text-white font-medium mb-2",children:"No tutors found"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Try adjusting your search criteria"})]}),M&&!H&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-red-400",children:""})}),t.jsx("h3",{className:"text-white font-medium mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:M}),t.jsx("button",{onClick:Y,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Try Again"})]})]})})},Av={createBookingRequest:async s=>{try{return await it.post("/booking/requests",s)}catch(a){throw a.response?.data||a}},getStudentBookingRequests:async(s=null,a=10,i=0)=>{try{const o=new URLSearchParams;return s&&o.append("status",s),o.append("limit",a),o.append("offset",i),await it.get(`/booking/student/requests?${o}`)}catch(o){throw o.response?.data||o}},getTutorBookingRequests:async(s="pending",a=10,i=0)=>{try{const o=new URLSearchParams;return s&&o.append("status",s),o.append("limit",a),o.append("offset",i),await it.get(`/booking/tutor/requests?${o}`)}catch(o){throw o.response?.data||o}},respondToBookingRequest:async(s,a,i="")=>{try{return await it.put(`/booking/requests/${s}/respond`,{action:a,responseMessage:i})}catch(o){throw o.response?.data||o}},getBookingRequestDetails:async s=>{try{return await it.get(`/booking/requests/${s}`)}catch(a){throw a.response?.data||a}}},_v=()=>{const{tutorId:s}=gy(),a=Qn(),{user:i}=Mt(),[o,u]=T.useState(null),[d,h]=T.useState({}),[x,p]=T.useState(""),[f,g]=T.useState(null),[y,S]=T.useState("general"),[j,B]=T.useState(""),[C,H]=T.useState("virtual"),[k,M]=T.useState(""),[U,ae]=T.useState(""),[pe,Y]=T.useState(""),[q,me]=T.useState(!0),[de,F]=T.useState(!1),[E,X]=T.useState(null),[se,L]=T.useState(0);T.useEffect(()=>{s&&(async()=>{try{me(!0),X(null);try{const O=await Vu.getTutorById(s);u(O)}catch{u({id:s,name:"Abhinay Kotla",avatar:"AK",rating:4.8,reviews:95,hourlyRate:50,subjects:["Mathematics","Computer Science"],experience:"5+ years",responseTime:"< 45 min"})}try{const O=await Vt.getTutorAvailability(s);console.log(" Availability data received:",O),h(O.availability||{})}catch(O){console.error(" Error loading tutor availability:",O),console.log(" Using demo availability data"),h({Monday:[{startTime:"09:00",endTime:"10:00"},{startTime:"10:00",endTime:"11:00"},{startTime:"11:00",endTime:"12:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"14:00",endTime:"15:00"},{startTime:"15:00",endTime:"16:00"},{startTime:"16:00",endTime:"17:00"}],Tuesday:[{startTime:"09:00",endTime:"10:00"},{startTime:"10:00",endTime:"11:00"},{startTime:"11:00",endTime:"12:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"14:00",endTime:"15:00"},{startTime:"15:00",endTime:"16:00"},{startTime:"16:00",endTime:"17:00"}],Wednesday:[{startTime:"09:00",endTime:"10:00"},{startTime:"10:00",endTime:"11:00"},{startTime:"11:00",endTime:"12:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"14:00",endTime:"15:00"},{startTime:"15:00",endTime:"16:00"},{startTime:"16:00",endTime:"17:00"}],Thursday:[{startTime:"09:00",endTime:"10:00"},{startTime:"10:00",endTime:"11:00"},{startTime:"11:00",endTime:"12:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"14:00",endTime:"15:00"},{startTime:"15:00",endTime:"16:00"},{startTime:"16:00",endTime:"17:00"}],Friday:[{startTime:"09:00",endTime:"10:00"},{startTime:"10:00",endTime:"11:00"},{startTime:"11:00",endTime:"12:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"14:00",endTime:"15:00"},{startTime:"15:00",endTime:"16:00"},{startTime:"16:00",endTime:"17:00"}]})}}catch(O){console.error("Error loading booking data:",O),X("Failed to load booking information")}finally{me(!1)}})()},[s]);const le=()=>{const N=[],O=new Date,v=new Date(O);v.setDate(O.getDate()+se*7);for(let Z=0;Z<7;Z++){const ue=new Date(v);if(ue.setDate(v.getDate()+Z),se===0&&ue<=O)continue;const ge=ue.toLocaleDateString("en-US",{weekday:"long"}),Ne=ue.toISOString().split("T")[0];d[ge]&&d[ge].length>0&&N.push({date:Ne,dayName:ge,displayDate:ue.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})}return N},$=()=>{if(!x)return[];const O=new Date(x).toLocaleDateString("en-US",{weekday:"long"});return d[O]||[]},ne=async()=>{if(!f||!x){X("Please select a date and time slot");return}if(!j){X("Please select a subject for the session");return}if(C==="in_person"&&!k.trim()){X("Please provide a meeting location for in-person sessions");return}try{F(!0),X(null);const N={tutorId:s,bookingDate:x,startTime:f.startTime,endTime:f.endTime,sessionType:y,subject:j||"General",notes:pe,meetingType:C,location:C==="in_person"?k:null};try{const O=await Av.createBookingRequest(N);console.log(" Booking request created:",O),a("/student-dashboard",{state:{message:`Booking request sent to ${o.name}! They will be notified and can accept or decline your request.`,type:"success",activeTab:"sessions"},replace:!0});return}catch(O){if(console.error("Error creating booking request:",O),O.error){X(O.error);return}console.log("API not available, using mock flow")}setTimeout(()=>{a("/student-dashboard",{state:{message:`Booking request sent to ${o.name}! They will be notified and can accept or decline your request. Check your Sessions tab for updates.`,type:"success",activeTab:"sessions"},replace:!0})},1500)}catch(N){console.error("Error creating booking request:",N),X(N.error||"Failed to send booking request")}finally{F(!1)}},ye=[{value:"general",label:"General Tutoring"},{value:"homework",label:"Homework Help"},{value:"exam_prep",label:"Exam Preparation"},{value:"project",label:"Project Assistance"},{value:"consultation",label:"Academic Consultation"}];if(q)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-8",children:t.jsxs("div",{className:"animate-pulse text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto"})]})})});if(E&&!o)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-red-400",children:""})}),t.jsx("h2",{className:"text-white font-medium mb-2",children:"Failed to Load"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:E}),t.jsx("button",{onClick:()=>a("/tutors"),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Back to Tutors"})]})});const ke=le(),A=$();return t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("button",{onClick:()=>a("/tutors"),className:"text-slate-400 hover:text-white mb-4 flex items-center space-x-2 transition-colors",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Back to Tutors"})]}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Book a Session"}),t.jsxs("p",{className:"text-slate-400",children:["Schedule a tutoring session with ",o?.name]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-6 sticky top-8",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl",children:o?.avatar}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:o?.name}),t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-3",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"text-white font-medium",children:o?.rating}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",o?.reviews," reviews)"]})]}),t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",o?.hourlyRate]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"per hour"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-white font-medium mb-3",children:"Subjects"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o?.subjects?.slice(0,4).map((N,O)=>t.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 text-sm",children:N},O))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"Experience"}),t.jsx("span",{className:"text-white",children:o?.experience})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"Response Time"}),t.jsx("span",{className:"text-white",children:o?.responseTime})]})]})]})}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"text-white font-medium",children:"Select Date"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:()=>L(Math.max(0,se-1)),disabled:se===0,className:`p-2 rounded-lg border transition-colors ${se===0?"bg-slate-800/50 border-slate-700/50 text-slate-500 cursor-not-allowed":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:""}),t.jsx("span",{className:"text-slate-300 text-sm min-w-20 text-center",children:se===0?"This Week":se===1?"Next Week":`${se} weeks`}),t.jsx("button",{onClick:()=>L(Math.min(8,se+1)),disabled:se>=8,className:`p-2 rounded-lg border transition-colors ${se>=8?"bg-slate-800/50 border-slate-700/50 text-slate-500 cursor-not-allowed":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:""})]})]}),ke.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:ke.map(N=>t.jsxs("button",{onClick:()=>{p(N.date),g(null)},className:`p-3 rounded-lg border transition-colors text-center ${x===N.date?"bg-blue-500/20 border-blue-500/50 text-blue-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:[t.jsx("div",{className:"font-medium",children:N.displayDate}),t.jsx("div",{className:"text-xs text-slate-400",children:N.dayName})]},N.date))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-slate-400 mb-2",children:"No availability found"}),t.jsx("div",{className:"text-slate-500 text-sm",children:se===0?"This tutor has no available slots this week":`This tutor has no available slots in ${se===1?"next week":`${se} weeks`}`}),t.jsx("div",{className:"text-slate-500 text-xs mt-1",children:"Try navigating to different weeks using the arrows above"})]})]}),x&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-white font-medium mb-4",children:"Select Time"}),A.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:A.map((N,O)=>t.jsxs("button",{onClick:()=>g(N),className:`p-3 rounded-lg border transition-colors text-center ${f===N?"bg-blue-500/20 border-blue-500/50 text-blue-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:[t.jsxs("div",{className:"font-medium",children:[Vt.formatTime(N.startTime)," - ",Vt.formatTime(N.endTime)]}),t.jsxs("div",{className:"text-xs text-slate-400",children:[Vt.calculateDuration(N.startTime,N.endTime),"h session"]})]},O))}):t.jsx("div",{className:"text-center py-4",children:t.jsx("div",{className:"text-slate-400",children:"No time slots available"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Session Type"}),t.jsx("select",{value:y,onChange:N=>S(N.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:ye.map(N=>t.jsx("option",{value:N.value,children:N.label},N.value))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Subject"}),t.jsxs("select",{value:j,onChange:N=>B(N.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:[t.jsx("option",{value:"",children:"Select a subject..."}),o?.subjects?.map((N,O)=>t.jsx("option",{value:N,children:N},O))]}),o?.subjects?.length===0&&t.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"No subjects available for this tutor"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Meeting Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("button",{type:"button",onClick:()=>H("virtual"),className:`p-4 rounded-lg border transition-all ${C==="virtual"?"bg-blue-500/20 border-blue-500/50 text-blue-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Virtual"}),t.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Online meeting via video call"})]})}),t.jsx("button",{type:"button",onClick:()=>H("in_person"),className:`p-4 rounded-lg border transition-all ${C==="in_person"?"bg-green-500/20 border-green-500/50 text-green-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"In-Person"}),t.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Meet at a physical location"})]})})]})]}),C==="in_person"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Meeting Location"}),t.jsx("input",{type:"text",value:k,onChange:N=>M(N.target.value),placeholder:"Enter the meeting location (e.g., University Library, Cafe, etc.)",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-green-500/50",required:!0})]}),C==="virtual"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Meeting Link (Optional)"}),t.jsx("input",{type:"url",value:U,onChange:N=>ae(N.target.value),placeholder:"Enter meeting link (Zoom, Google Meet, etc.) or leave blank for tutor to provide",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50"}),t.jsx("div",{className:"mt-2 text-xs text-slate-400",children:" If left blank, the tutor will provide the meeting link when they accept your booking"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Session Notes (Optional)"}),t.jsx("textarea",{value:pe,onChange:N=>Y(N.target.value),placeholder:"Any specific topics you'd like to focus on, questions you have, or additional information for the tutor...",rows:4,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none"})]}),E&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:t.jsx("div",{className:"text-red-300 text-sm",children:E})}),f&&x&&t.jsxs("div",{className:"mb-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[t.jsx("h5",{className:"text-blue-300 font-medium mb-2",children:"Booking Summary"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Date:"}),t.jsx("span",{className:"text-white",children:new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Time:"}),t.jsxs("span",{className:"text-white",children:[Vt.formatTime(f.startTime)," - ",Vt.formatTime(f.endTime)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Duration:"}),t.jsxs("span",{className:"text-white",children:[Vt.calculateDuration(f.startTime,f.endTime)," hour(s)"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Meeting Type:"}),t.jsxs("span",{className:"text-white flex items-center space-x-1",children:[t.jsx("span",{children:C==="virtual"?"":""}),t.jsx("span",{children:C==="virtual"?"Virtual":"In-Person"})]})]}),C==="in_person"&&k&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Location:"}),t.jsx("span",{className:"text-white",children:k})]}),C==="virtual"&&U&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Meeting Link:"}),t.jsx("span",{className:"text-white text-xs truncate max-w-48",title:U,children:U})]}),t.jsxs("div",{className:"flex justify-between font-medium",children:[t.jsx("span",{className:"text-slate-300",children:"Total Cost:"}),t.jsxs("span",{className:"text-white",children:["$",(Vt.calculateDuration(f.startTime,f.endTime)*o?.hourlyRate).toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{onClick:()=>a("/tutors"),className:"flex-1 px-6 py-3 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:ne,disabled:!f||!x||de,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-colors ${f&&x&&!de?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white":"bg-slate-700/50 text-slate-400 cursor-not-allowed"}`,children:de?"Booking...":"Book Session"})]})]})})]})]})})},Dv=()=>{const{user:s}=Mt(),[a,i]=T.useState(!1),[o,u]=T.useState(!0),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState([]),[y,S]=T.useState([]),[j,B]=T.useState([]),[C,H]=T.useState({full_name:"",email:"",phone_number:"",bio:"",location_city:"",location_state:"",profile_image:"",hourly_rate:"",subjects_taught:[],available_days:[],response_time_avg:"",is_online:!1,rating:null,total_reviews:null,total_sessions:null,current_school:"",graduation_year:null,grade_level:"",subjects_of_interest:[],learning_goals:""});T.useEffect(()=>{(async()=>{if(!s){u(!1);return}try{u(!0),p(null);const me=s.role==="student"?"http://localhost:5000/api/profiles/student":"http://localhost:5000/api/profiles/tutor";console.log("Fetching profile from:",me),console.log("User object:",s),console.log("User role:",s.role),console.log("Token exists:",!!localStorage.getItem("token")),console.log("Token:",localStorage.getItem("token")?.substring(0,50)+"...");const de=await fetch(me,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(console.log("Response status:",de.status),de.ok){const F=await de.json();if(console.log("Profile data received:",F),F.success){H({full_name:F.data.full_name||"",email:F.data.email||"",phone_number:F.data.phone_number||"",bio:F.data.bio||"",location_city:F.data.location_city||"",location_state:F.data.location_state||"",profile_image:F.data.profile_image||"",hourly_rate:F.data.hourly_rate||"",subjects_taught:Array.isArray(F.data.subjects_taught)?F.data.subjects_taught:F.data.subjects_taught?F.data.subjects_taught.split(",").map(se=>se.trim()):[],available_days:Array.isArray(F.data.available_days)?F.data.available_days:F.data.available_days?F.data.available_days.split(",").map(se=>se.trim()):[],response_time_avg:F.data.response_time_avg||"",is_online:F.data.is_online||!1,rating:F.data.rating,total_reviews:F.data.total_reviews,total_sessions:F.data.total_sessions,current_school:F.data.current_school||"",graduation_year:F.data.graduation_year||null,grade_level:F.data.grade_level||"",subjects_of_interest:Array.isArray(F.data.subjects_of_interest)?F.data.subjects_of_interest:F.data.subjects_of_interest?F.data.subjects_of_interest.split(",").map(se=>se.trim()):[],learning_goals:F.data.learning_goals||""});const E=Array.isArray(F.data.subjects_taught)?F.data.subjects_taught:F.data.subjects_taught?F.data.subjects_taught.split(",").map(se=>se.trim()):[];S(E);const X=Array.isArray(F.data.available_days)?F.data.available_days:F.data.available_days?F.data.available_days.split(",").map(se=>se.trim()):[];if(B(X),s?.role==="student"){const se=Array.isArray(F.data.subjects_of_interest)?F.data.subjects_of_interest:F.data.subjects_of_interest?F.data.subjects_of_interest.split(",").map(L=>L.trim()):[];S(se)}p(null)}else p(F.message||"Failed to load profile data")}else{const F=await de.json().catch(()=>({}));console.error("Failed to fetch profile:",de.statusText,F),p(F.message||`Failed to load profile data (${de.status})`)}}catch(me){console.error("Error fetching profile:",me),p("Error loading profile data"),H(de=>({...de,name:s?.name||"",email:s?.email||""}))}finally{u(!1)}})(),k()},[s]);const k=async()=>{try{const q=await ro.getSubjects();q.success&&g(q.data)}catch(q){console.error("Error fetching subjects:",q),g([{id:"1",name:"Mathematics",category:"academic"},{id:"2",name:"Physics",category:"academic"},{id:"3",name:"Chemistry",category:"academic"},{id:"4",name:"Computer Science",category:"academic"},{id:"5",name:"Biology",category:"academic"},{id:"6",name:"English",category:"academic"},{id:"7",name:"History",category:"academic"},{id:"8",name:"Economics",category:"academic"}])}},M=(q,me)=>{H(de=>({...de,[q]:me}))},U=q=>{S(me=>me.includes(q)?me.filter(de=>de!==q):[...me,q])},ae=q=>{B(me=>me.includes(q)?me.filter(de=>de!==q):[...me,q])},pe=async()=>{if(s)try{h(!0),p(null);const q=s.role==="student"?"http://localhost:5000/api/profiles/student":"http://localhost:5000/api/profiles/tutor",me={full_name:C.full_name,phone_number:C.phone_number,bio:C.bio,location_city:C.location_city,location_state:C.location_state,profile_image:C.profile_image,...s.role==="tutor"&&{hourly_rate:C.hourly_rate?parseFloat(C.hourly_rate):null,subjects_taught:y,available_days:j,response_time_avg:C.response_time_avg?parseFloat(C.response_time_avg):null,is_online:C.is_online},...s.role==="student"&&{current_school:C.current_school,graduation_year:C.graduation_year?parseInt(C.graduation_year):null,grade_level:C.grade_level,subjects_of_interest:y,learning_goals:C.learning_goals}},de=await fetch(q,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(me)}),F=await de.json();de.ok&&F.success?(i(!1),p(null),console.log("Profile saved successfully:",F.data)):(p(F.message||`Failed to save profile (${de.status})`),console.error("Save error:",F))}catch(q){p("Error saving profile"),console.error("Error saving profile:",q)}finally{h(!1)}},Y=()=>{i(!1),s?.id&&window.location.reload()};return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:"Loading profile..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900",children:t.jsx(Kt,{className:"py-8",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Profile"}),t.jsxs("p",{className:"text-slate-400",children:["Manage your ",s?.role||"account"," information"]})]}),x&&t.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-lg",children:t.jsx("p",{className:"text-red-400 text-sm",children:x})}),t.jsxs(zs,{className:"p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:C.full_name?C.full_name.split(" ").map(q=>q[0]).join("").toUpperCase():C.email?C.email[0].toUpperCase():"?"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:C.full_name||C.email||"No Name"}),t.jsx("p",{className:"text-slate-400",children:C.email}),t.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-400 rounded text-sm capitalize mt-1",children:s?.role})]})]}),t.jsx(ze,{variant:a?"secondary":"primary",onClick:()=>i(!a),children:a?"Cancel":"Edit"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),a?t.jsx(wt,{value:C.full_name,onChange:q=>M("full_name",q.target.value),placeholder:"Enter your full name"}):t.jsx("p",{className:"text-white",children:C.full_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),a?t.jsx(wt,{type:"email",value:C.email,onChange:q=>M("email",q.target.value),placeholder:"Enter your email"}):t.jsx("p",{className:"text-white",children:C.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),a?t.jsx(wt,{value:C.phone_number,onChange:q=>M("phone_number",q.target.value),placeholder:"Enter your phone number"}):t.jsx("p",{className:"text-white",children:C.phone_number})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"City"}),a?t.jsx(wt,{value:C.location_city,onChange:q=>M("location_city",q.target.value),placeholder:"Enter your city"}):t.jsx("p",{className:"text-white",children:C.location_city})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"State"}),a?t.jsx(wt,{value:C.location_state,onChange:q=>M("location_state",q.target.value),placeholder:"Enter your state"}):t.jsx("p",{className:"text-white",children:C.location_state})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"About"}),a?t.jsx("textarea",{value:C.bio,onChange:q=>M("bio",q.target.value),className:"w-full h-24 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none",placeholder:"Tell us about yourself..."}):t.jsx("p",{className:"text-white leading-relaxed",children:C.bio})]}),s?.role==="student"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t border-slate-700/50 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Student Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Current School"}),a?t.jsx(wt,{value:C.current_school,onChange:q=>M("current_school",q.target.value),placeholder:"Enter your school name"}):t.jsx("p",{className:"text-white",children:C.current_school||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Grade Level"}),a?t.jsx(wt,{value:C.grade_level,onChange:q=>M("grade_level",q.target.value),placeholder:"e.g., 10th Grade, Sophomore"}):t.jsx("p",{className:"text-white",children:C.grade_level||"Not specified"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Graduation Year"}),a?t.jsx(wt,{type:"number",min:"2020",max:"2040",value:C.graduation_year||"",onChange:q=>M("graduation_year",q.target.value),placeholder:"2025"}):t.jsx("p",{className:"text-white",children:C.graduation_year||"Not specified"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subjects of Interest"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-slate-800/50 p-3 rounded-md border border-slate-600",children:f.map(q=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:y.includes(q.name),onChange:()=>U(q.name),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:q.name})]},q.id))}),y.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:y.map(q=>t.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs",children:q},q))})]}):t.jsx("div",{className:"text-white",children:Array.isArray(C.subjects_of_interest)&&C.subjects_of_interest.length>0?t.jsx("div",{className:"flex flex-wrap gap-1",children:C.subjects_of_interest.map(q=>t.jsx("span",{className:"bg-slate-600 text-white px-2 py-1 rounded text-sm",children:q},q))}):t.jsx("p",{children:"Not specified"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Learning Goals"}),a?t.jsx("textarea",{value:C.learning_goals,onChange:q=>M("learning_goals",q.target.value),className:"w-full h-24 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none",placeholder:"What would you like to achieve with tutoring?"}):t.jsx("p",{className:"text-white leading-relaxed",children:C.learning_goals||"Not specified"})]})]})}),s?.role==="tutor"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t border-slate-700/50 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tutor Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Hourly Rate ($)"}),a?t.jsx(wt,{type:"number",step:"0.01",value:C.hourly_rate||"",onChange:q=>M("hourly_rate",q.target.value),placeholder:"35.00"}):t.jsxs("p",{className:"text-white",children:["$",C.hourly_rate||"Not set","/hour"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subjects Taught"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-slate-800/50 p-3 rounded-md border border-slate-600",children:f.map(q=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:y.includes(q.name),onChange:()=>U(q.name),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:q.name})]},q.id))}),y.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:y.map(q=>t.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs",children:q},q))})]}):t.jsx("div",{className:"text-white",children:Array.isArray(C.subjects_taught)&&C.subjects_taught.length>0?t.jsx("div",{className:"flex flex-wrap gap-1",children:C.subjects_taught.map(q=>t.jsx("span",{className:"bg-slate-600 text-white px-2 py-1 rounded text-sm",children:q},q))}):t.jsx("p",{children:"Not specified"})})]})]}),t.jsxs("div",{className:"bg-slate-800/20 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-300 mb-3 flex items-center",children:"Analytics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:C.rating?` ${Number(C.rating).toFixed(1)}`:" N/A"}),t.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"Rating"})]}),t.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:C.total_reviews||0}),t.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"Total Reviews"})]}),t.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:C.total_sessions||0}),t.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"Sessions Completed"})]})]})]}),"                                        ",t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Avg Response Time (minutes)"}),a?t.jsx(wt,{type:"number",min:"0",value:C.response_time_avg||"",onChange:q=>M("response_time_avg",q.target.value),placeholder:"15"}):t.jsx("p",{className:"text-white",children:C.response_time_avg?`${C.response_time_avg} minutes`:"Not tracked"})]}),t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:C.is_online,onChange:q=>M("is_online",q.target.checked),disabled:!a,className:"rounded bg-slate-800 border-slate-700 text-blue-500 focus:ring-blue-500 disabled:opacity-50"}),t.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Currently Online"})]})})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Available Days"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 bg-slate-800/50 p-3 rounded-md border border-slate-600",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(q=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:j.includes(q),onChange:()=>ae(q),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:q})]},q))}),j.length>0&&t.jsx("div",{className:"text-xs text-slate-400",children:"Default hours: 9:00 AM - 5:00 PM on selected days"}),j.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:j.map(q=>t.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs",children:q},q))})]}):t.jsx("div",{className:"text-white",children:Array.isArray(C.available_days)&&C.available_days.length>0?t.jsxs("div",{children:[t.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:C.available_days.map(q=>t.jsx("span",{className:"bg-slate-600 text-white px-2 py-1 rounded text-sm",children:q},q))}),t.jsx("p",{className:"text-xs text-slate-400",children:"Available 9:00 AM - 5:00 PM on selected days"})]}):t.jsx("p",{className:"text-slate-400",children:"No availability set"})})]})]})})]}),a&&t.jsxs("div",{className:"flex justify-center space-x-4 mt-8",children:[t.jsx(ze,{onClick:pe,disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"}),t.jsx(ze,{variant:"secondary",onClick:Y,disabled:d,children:"Cancel"})]})]})]})})})},Rv=()=>{const{user:s}=Mt(),[a,i]=T.useState(!1),[o,u]=T.useState(!0),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState(null),[y,S]=T.useState([]),[j,B]=T.useState([]),[C,H]=T.useState([]),[k,M]=T.useState({full_name:"",email:"",phone_number:"",bio:"",location_city:"",location_state:"",hourly_rate:"",subjects_taught:[],available_days:[],response_time_avg:"",is_online:!1,rating:null,total_reviews:0,total_sessions:0}),U=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];T.useEffect(()=>{ae(),pe()},[]);const ae=async()=>{try{u(!0),p(null);const E=localStorage.getItem("token");console.log(" Fetching tutor profile with token:",E?"Token exists":"No token");const X=await fetch("http://localhost:5000/api/profiles/tutor",{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});console.log(" Response status:",X.status);const se=await X.json();if(console.log(" Response data:",se),X.ok&&se.success){const L=se.data;M({full_name:L.full_name||"",email:L.email||"",phone_number:L.phone_number||"",bio:L.bio||L.account_bio||"",location_city:L.location_city||"",location_state:L.location_state||"",hourly_rate:L.hourly_rate||"",subjects_taught:Array.isArray(L.subjects_taught)?L.subjects_taught:[],available_days:Array.isArray(L.available_days)?L.available_days:[],response_time_avg:L.response_time_avg||"",is_online:L.is_online||!1,rating:L.rating,total_reviews:L.total_reviews||0,total_sessions:L.total_sessions||0}),B(Array.isArray(L.subjects_taught)?L.subjects_taught:[]),H(Array.isArray(L.available_days)?L.available_days:[])}else p(se.message||"Failed to load profile")}catch(E){console.error("Error fetching profile:",E),p("Failed to load profile")}finally{u(!1)}},pe=async()=>{try{const E=await ro.getSubjects();E.success&&S(E.data)}catch(E){console.error("Error fetching subjects:",E)}},Y=(E,X)=>{M(se=>({...se,[E]:X}))},q=E=>{B(X=>X.includes(E)?X.filter(se=>se!==E):[...X,E])},me=E=>{H(X=>X.includes(E)?X.filter(se=>se!==E):[...X,E])},de=async()=>{try{h(!0),p(null),g(null);const E={full_name:k.full_name,phone_number:k.phone_number,bio:k.bio,location_city:k.location_city,location_state:k.location_state,hourly_rate:k.hourly_rate?parseFloat(k.hourly_rate):null,subjects_taught:j,available_days:C,response_time_avg:k.response_time_avg?parseInt(k.response_time_avg):null,is_online:k.is_online},X=await fetch("http://localhost:5000/api/profiles/tutor",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(E)}),se=await X.json();X.ok&&se.success?(g("Profile updated successfully!"),i(!1),ae(),setTimeout(()=>g(null),3e3)):p(se.message||"Failed to save profile")}catch(E){console.error("Error saving profile:",E),p("Failed to save profile")}finally{h(!1)}},F=()=>{i(!1),ae()};return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:"Loading profile..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tutor Profile"}),t.jsx("p",{className:"text-slate-400",children:"Manage your tutoring information"})]}),x&&t.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-lg",children:t.jsx("p",{className:"text-red-400 text-sm",children:x})}),f&&t.jsx("div",{className:"mb-6 p-4 bg-green-900/20 border border-green-500/50 rounded-lg",children:t.jsx("p",{className:"text-green-400 text-sm",children:f})}),t.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:k.full_name?k.full_name.split(" ").map(E=>E[0]).join("").toUpperCase():"?"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:k.full_name||"No Name"}),t.jsx("p",{className:"text-slate-400",children:k.email}),t.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-400 rounded text-sm mt-1",children:"Tutor"})]})]}),t.jsx("button",{onClick:()=>a?F():i(!0),className:`px-6 py-2 rounded-lg font-semibold transition-colors ${a?"bg-slate-700 text-white hover:bg-slate-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?"Cancel":"Edit"})]}),t.jsxs("div",{className:"space-y-6 mb-8",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),a?t.jsx("input",{type:"text",value:k.full_name,onChange:E=>Y("full_name",E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your full name"}):t.jsx("p",{className:"text-white",children:k.full_name||"Not set"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),t.jsx("p",{className:"text-white",children:k.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),a?t.jsx("input",{type:"text",value:k.phone_number,onChange:E=>Y("phone_number",E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your phone number"}):t.jsx("p",{className:"text-white",children:k.phone_number||"Not set"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"City"}),a?t.jsx("input",{type:"text",value:k.location_city,onChange:E=>Y("location_city",E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your city"}):t.jsx("p",{className:"text-white",children:k.location_city||"Not set"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"State"}),a?t.jsx("input",{type:"text",value:k.location_state,onChange:E=>Y("location_state",E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your state"}):t.jsx("p",{className:"text-white",children:k.location_state||"Not set"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"About"}),a?t.jsx("textarea",{value:k.bio,onChange:E=>Y("bio",E.target.value),className:"w-full h-24 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none",placeholder:"Tell students about yourself..."}):t.jsx("p",{className:"text-white leading-relaxed",children:k.bio||"Not set"})]})]}),t.jsxs("div",{className:"border-t border-slate-700/50 pt-8 space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tutoring Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Hourly Rate ($)"}),a?t.jsx("input",{type:"number",step:"0.01",value:k.hourly_rate,onChange:E=>Y("hourly_rate",E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"35.00"}):t.jsxs("p",{className:"text-white",children:["$",k.hourly_rate||"Not set","/hour"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Avg Response Time (minutes)"}),a?t.jsx("input",{type:"number",min:"0",value:k.response_time_avg,onChange:E=>Y("response_time_avg",E.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"15"}):t.jsx("p",{className:"text-white",children:k.response_time_avg?`${k.response_time_avg} minutes`:"Not tracked"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subjects Taught"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:y.map(E=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-slate-700/30 p-2 rounded",children:[t.jsx("input",{type:"checkbox",checked:j.includes(E.name),onChange:()=>q(E.name),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:E.name})]},E.id))}),j.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(E=>t.jsx("span",{className:"bg-blue-600/20 text-blue-400 px-3 py-1 rounded-full text-sm border border-blue-500/30",children:E},E))})]}):t.jsx("div",{children:k.subjects_taught.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:k.subjects_taught.map(E=>t.jsx("span",{className:"bg-slate-700/50 text-slate-300 px-3 py-1 rounded-full text-sm",children:E},E))}):t.jsx("p",{className:"text-slate-400",children:"No subjects selected"})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Available Days ",t.jsx("span",{className:"text-slate-500 text-xs",children:"(Classes available 9 AM - 5 PM)"})]}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:U.map(E=>t.jsxs("label",{className:`flex items-center justify-center space-x-2 cursor-pointer p-3 rounded-lg border transition-all ${C.includes(E)?"bg-green-600/20 border-green-500/50 text-green-400":"bg-slate-800/50 border-slate-700/50 text-slate-400 hover:border-slate-600"}`,children:[t.jsx("input",{type:"checkbox",checked:C.includes(E),onChange:()=>me(E),className:"sr-only"}),t.jsx("span",{className:"text-sm font-medium",children:E})]},E))}),C.length>0&&t.jsxs("p",{className:"text-xs text-slate-400",children:["Students can book sessions on ",C.join(", ")," between 9:00 AM - 5:00 PM"]})]}):t.jsx("div",{children:k.available_days.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex flex-wrap gap-2",children:k.available_days.map(E=>t.jsx("span",{className:"bg-green-600/20 text-green-400 px-3 py-1 rounded-full text-sm border border-green-500/30",children:E},E))}),t.jsx("p",{className:"text-xs text-slate-400",children:"Available 9:00 AM - 5:00 PM on selected days"})]}):t.jsx("p",{className:"text-slate-400",children:"No availability set"})})]}),t.jsx("div",{className:"flex items-center space-x-6",children:t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.is_online,onChange:E=>Y("is_online",E.target.checked),disabled:!a,className:"rounded bg-slate-800 border-slate-700 text-blue-500 focus:ring-blue-500 disabled:opacity-50"}),t.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Currently Online"})]})})]}),t.jsxs("div",{className:"border-t border-slate-700/50 pt-8 mt-8",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Analytics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.rating?` ${Number(k.rating).toFixed(1)}`:"N/A"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Rating"})]}),t.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.total_reviews}),t.jsx("div",{className:"text-sm text-slate-400",children:"Total Reviews"})]}),t.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.total_sessions}),t.jsx("div",{className:"text-sm text-slate-400",children:"Sessions Completed"})]})]})]}),a&&t.jsxs("div",{className:"flex justify-center space-x-4 mt-8 pt-6 border-t border-slate-700/50",children:[t.jsx("button",{onClick:de,disabled:d,className:"px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?t.jsxs("span",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"}),t.jsx("button",{onClick:F,disabled:d,className:"px-8 py-3 bg-slate-700 text-white rounded-lg font-semibold hover:bg-slate-600 disabled:opacity-50 transition-colors",children:"Cancel"})]})]})]})})},Mv=()=>t.jsx(Kt,{className:"py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-8xl mb-8",children:""}),t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"404 - Page Not Found"}),t.jsx("p",{className:"text-gray-400 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),t.jsx(qe,{to:"/",children:t.jsx(ze,{children:"Return Home"})})]})}),zv=()=>t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900",children:t.jsx(Kt,{className:"py-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:t.jsx("span",{className:"text-white font-bold text-3xl",children:"T"})}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"About Tutor Together"}),t.jsx("p",{className:"text-xl text-slate-300 max-w-2xl mx-auto leading-relaxed",children:"Connecting learners with expert tutors to unlock academic potential and achieve educational goals together."})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-8 border border-slate-700/50",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mb-4",children:t.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z",clipRule:"evenodd"})})}),t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Our Mission"}),t.jsx("p",{className:"text-slate-300 leading-relaxed",children:"To make quality education accessible to everyone by connecting students with passionate, qualified tutors who can provide personalized learning experiences tailored to individual needs."})]})}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-8 border border-slate-700/50",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center mb-4",children:t.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"What We Offer"}),t.jsx("p",{className:"text-slate-300 leading-relaxed",children:"A comprehensive platform featuring expert tutors across all subjects, flexible scheduling, secure messaging, and an AI assistant to support your learning journey 24/7."})]})})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[t.jsxs("div",{className:"text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})})}),t.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Expert Tutors"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Qualified professionals with proven track records in their subjects"})]}),t.jsxs("div",{className:"text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),t.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Flexible Scheduling"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Book sessions that fit your schedule with easy calendar integration"})]}),t.jsxs("div",{className:"text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z",clipRule:"evenodd"})})}),t.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"AI Assistant"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"24/7 AI support for instant help with questions and study guidance"})]})]}),t.jsxs("div",{className:"text-center bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-3xl p-8 border border-blue-500/20",children:[t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Ready to Start Learning?"}),t.jsx("p",{className:"text-slate-300 mb-6 max-w-2xl mx-auto",children:"Join thousands of students who have already improved their academic performance with our platform."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("a",{href:"/register",className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200",children:"Get Started"}),t.jsx("a",{href:"/tutors",className:"px-8 py-3 bg-slate-800 text-white font-semibold rounded-xl border border-slate-600 hover:bg-slate-700 transition-all duration-200",children:"Find Tutors"})]})]})]})})}),Lv=()=>t.jsx(Kt,{className:"py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-400 mb-8",children:"You don't have permission to access this page."}),t.jsx("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Home"})]})}),Dl={async getTasks(){try{return await it.get("/tasks")}catch(s){throw console.error("Error fetching tasks:",s),s}},async createTask(s){try{const a={title:s.title,description:s.description,subject:s.subject,priority:s.priority,estimatedTime:s.estimatedTime,dueDate:s.due};return await it.post("/tasks",a)}catch(a){throw console.error("Error creating task:",a),a}},async updateTask(s,a){try{const i={title:a.title,description:a.description,subject:a.subject,priority:a.priority,estimatedTime:a.estimatedTime,dueDate:a.due,status:a.status,progress:a.progress};return await it.put(`/tasks/${s}`,i)}catch(i){throw console.error("Error updating task:",i),i}},async deleteTask(s){try{return await it.delete(`/tasks/${s}`)}catch(a){throw console.error("Error deleting task:",a),a}}},Ov=()=>{const{user:s}=Mt(),[a,i]=T.useState(new Date),[o,u]=T.useState(new Date().getDate()),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState([]),[y,S]=T.useState(!0),[j,B]=T.useState([]),[C,H]=T.useState(!0);T.useEffect(()=>{const N=async()=>{try{S(!0);let v;s?.role==="student"?v=await Vt.getStudentBookings():s?.role==="tutor"?v=await Vt.getTutorBookings():v=[],console.log(" Raw API response for bookings:",v),console.log(" Response type:",typeof v),console.log(" Response keys:",v?Object.keys(v):"none"),v&&v.bookings&&(console.log(" bookings.bookings found:",v.bookings),console.log(" bookings.bookings length:",v.bookings.length),console.log(" First booking:",v.bookings[0]));const Z=v?.bookings||v?.data||v||[];console.log(" Extracted bookings array:",Z),console.log(" Bookings array length:",Z.length);const ue=Array.isArray(Z)?Z:[];console.log(" Setting realBookings to:",ue),g(ue)}catch(v){console.error("Failed to load bookings for calendar:",v),console.log(" Setting realBookings to empty array due to error"),g([])}finally{S(!1)}},O=async()=>{try{H(!0);const v=await Dl.getTasks();console.log("Loaded tasks for calendar:",v.data);const Z=v.data.map(ue=>{let ge=ue.due_date;if(ue.due_date){const Ne=new Date(ue.due_date);if(!isNaN(Ne.getTime())){const _e=Ne.getFullYear(),Ee=String(Ne.getMonth()+1).padStart(2,"0"),zt=String(Ne.getDate()).padStart(2,"0");ge=`${_e}-${Ee}-${zt}`}}return console.log("Task date transformation:",ue.due_date,"->",ge),{id:`task-${ue.id}`,title:ue.title,date:ge,time:"23:59",type:"task",priority:ue.priority,status:ue.status,subject:ue.subject,description:ue.description,progress:ue.progress,color:ue.priority==="high"?"bg-red-500":ue.priority==="medium"?"bg-amber-500":"bg-green-500"}});console.log("Transformed tasks for calendar:",Z),B(Z)}catch(v){console.error("Failed to load tasks for calendar:",v),B([])}finally{H(!1)}};s?.role==="student"||s?.role==="tutor"?(N(),O()):(S(!1),H(!1))},[s?.role]);const M=(()=>{console.log("realBookings in getEventsForRole:",f),console.log("user role:",s?.role);const N=(Array.isArray(f)?f:[]).map(v=>(console.log("Processing booking for calendar:",v),!v.id||!v.date?(console.warn("Booking missing required fields:",v),null):s?.role==="tutor"?{id:v.id,title:`${v.subject||"Session"} - ${v.studentName||"Student"}`,date:v.date,time:v.startTime||"00:00",type:"session",status:v.status||"pending",student:v.studentName||"Student",subject:v.subject||"General",duration:v.duration||60,meetingType:v.meetingType||"virtual",location:v.location||null,totalAmount:v.totalAmount||0,color:v.status==="completed"?"bg-green-500":v.status==="confirmed"||v.status==="scheduled"?"bg-blue-500":v.status==="pending"?"bg-yellow-500":v.status==="cancelled"?"bg-red-500":v.status==="rejected"?"bg-red-400":"bg-gray-500"}:{id:v.id,title:`${v.subject||"Session"} - ${v.tutorName||"Tutor"}`,date:v.date,time:v.startTime||"00:00",type:"session",tutor:v.tutorName||"Tutor",subject:v.subject||"General",status:v.status||"pending",meetingType:v.meetingType||"virtual",location:v.location||null,duration:v.duration||60,totalAmount:v.totalAmount||0,color:v.status==="confirmed"||v.status==="scheduled"?"bg-green-500":v.status==="pending"?"bg-yellow-500":v.status==="completed"?"bg-blue-500":v.status==="cancelled"?"bg-red-500":v.status==="rejected"?"bg-red-400":"bg-gray-500"})).filter(Boolean),O=[...N,...j];return console.log(" Calendar Events Summary:"),console.log("- Booking events:",N.length,N),console.log("- Task events:",j.length,j),console.log("- All combined events:",O.length,O),O})(),U=N=>["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Tutor Together//Calendar Export//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",N.map(v=>{const Z=new Date(`${v.date}T${v.time}`),ue=v.duration||60,ge=new Date(Z.getTime()+ue*60*1e3),Ne=_e=>_e.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";return["BEGIN:VEVENT",`DTSTART:${Ne(Z)}`,`DTEND:${Ne(ge)}`,`SUMMARY:${v.title}`,`DESCRIPTION:${v.type==="session"?s?.role==="tutor"?`Tutoring session with ${v.student} - ${v.subject}: ${v.topic||"General tutoring"}`:`Tutoring session with ${v.tutor} - ${v.subject}${v.meetingType?` (${v.meetingType==="virtual"?"Virtual":"In-Person"})`:""}${v.location?` - Location: ${v.location}`:""}`:v.type==="task"?`Priority: ${v.priority}`:`Location: ${v.location||"TBD"}`}`,`UID:${v.id}@tutortogether.com`,"STATUS:CONFIRMED","END:VEVENT"].join(`\r
`)}).join(`\r
`),"END:VCALENDAR"].join(`\r
`),ae=async()=>{h(!0);try{await new Promise(ue=>setTimeout(ue,1500));const N=U(M),O=new Blob([N],{type:"text/calendar;charset=utf-8"}),v=window.URL.createObjectURL(O),Z=document.createElement("a");Z.href=v,Z.download=`tutor-together-calendar-${new Date().toISOString().split("T")[0]}.ics`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),window.URL.revokeObjectURL(v),p("Calendar exported successfully as iCal!"),setTimeout(()=>p(null),3e3)}catch(N){console.error("Export failed:",N),p("Export failed. Please try again."),setTimeout(()=>p(null),3e3)}finally{h(!1)}},pe=N=>{const O=N.getFullYear(),v=N.getMonth(),Z=new Date(O,v,1),ge=new Date(O,v+1,0).getDate(),Ne=Z.getDay(),_e=[];for(let Ee=0;Ee<Ne;Ee++)_e.push(null);for(let Ee=1;Ee<=ge;Ee++)_e.push(Ee);return _e},Y=N=>N.toLocaleDateString("en-US",{year:"numeric",month:"long"}),q=N=>{if(!N)return[];const O=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(N).padStart(2,"0")}`,v=M.filter(Z=>Z.date===O);return console.log(`Events for ${O} (day ${N}):`,v),v},me=()=>{if(!o)return[];const N=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(o).padStart(2,"0")}`;return M.filter(O=>O.date===N)},de=N=>{const O=new Date(a);O.setMonth(a.getMonth()+N),i(O),O.getMonth()===new Date().getMonth()&&O.getFullYear()===new Date().getFullYear()?u(new Date().getDate()):u(1)},F=()=>{const N=new Date;i(N),u(N.getDate())},E=(N="00:00")=>{const[O="0",v="0"]=N.split(":"),Z=new Date;return Z.setHours(parseInt(O,10),parseInt(v,10)),Z.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},X=(N="00:00")=>{const[O="0",v="00"]=N.split(":"),Z=(parseInt(O,10)+1)%24;return`${String(Z).padStart(2,"0")}:${v||"00"}`},se=s?.role==="tutor"?"/tutor-dashboard":"/student-dashboard",L=[{id:"overview",label:"Overview",to:se,state:{activeTab:"overview"}},{id:"sessions",label:"Sessions",to:se,state:{activeTab:"sessions"}},{id:"calendar",label:"Calendar",to:null},{id:"tasks",label:"Tasks",to:se,state:{activeTab:"tasks"}},{id:"progress",label:"Progress",to:se,state:{activeTab:"progress"}}],le=[{id:"book-session",label:"Book Session",description:"Browse tutors and lock in a time",to:"/tutors",gradient:"from-blue-500/20 via-cyan-500/10 to-cyan-500/20",border:"border-blue-500/30"},{id:"ai-assistant",label:"AI Assistant",description:"Get instant answers or study help",to:"/chatbot",gradient:"from-emerald-500/20 via-teal-500/10 to-teal-500/20",border:"border-emerald-500/30"},{id:"add-task",label:"Add Task",description:"Capture homework or study goals",to:"/tasks",gradient:"from-rose-500/20 via-pink-500/10 to-pink-500/20",border:"border-rose-500/30"},{id:"messages",label:"Messages",description:"Continue conversations with tutors",to:"/messages",gradient:"from-amber-500/20 via-orange-500/10 to-orange-500/20",border:"border-amber-500/30"}],$=(s?.urgentTasks||[]).slice(0,2),ne=N=>N.type==="session"?"bg-blue-500/10 border-blue-500/40 text-blue-200":N.priority==="high"?"bg-red-500/10 border-red-500/40 text-red-200":N.priority==="low"?"bg-emerald-500/10 border-emerald-500/40 text-emerald-200":"bg-amber-500/10 border-amber-500/40 text-amber-200",ye=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ke=o?new Date(a.getFullYear(),a.getMonth(),o).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Select a day",A=o?me():[];return y||C?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-8",children:t.jsxs("div",{className:"animate-pulse text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto mb-12 text-slate-400",children:"Loading calendar data..."})]})})}):t.jsxs("div",{className:"min-h-screen bg-slate-950",children:[t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:t.jsxs("div",{className:"flex flex-col xl:flex-row gap-8",children:[t.jsxs("div",{className:"flex-1 space-y-8",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:s?.role==="tutor"?"Tutor availability & sessions":"Student study schedule"}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white flex items-center space-x-2",children:t.jsx("span",{children:" Calendar"})})]}),t.jsx("button",{onClick:ae,className:"px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-2xl font-semibold transition-all duration-200 flex items-center space-x-2 disabled:opacity-70",disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export Calendar"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-3 bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Monthly overview"}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:Y(a)})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>de(-1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800",children:""}),t.jsx("button",{onClick:F,className:"px-4 py-2 rounded-xl border border-slate-700 text-slate-200 hover:border-blue-500/60 hover:text-white transition-colors",children:"Today"}),t.jsx("button",{onClick:()=>de(1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800",children:""})]})]}),t.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-slate-400 text-xs font-semibold uppercase tracking-wider mb-2",children:ye.map(N=>t.jsx("div",{children:N},N))}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:pe(a).map((N,O)=>{if(!N)return t.jsx("div",{className:"min-h-[110px] rounded-xl border border-dashed border-slate-800/70"},`empty-${O}`);const v=q(N),Z=N===new Date().getDate()&&a.getMonth()===new Date().getMonth()&&a.getFullYear()===new Date().getFullYear(),ue=o===N;return t.jsxs("button",{onClick:()=>u(N),className:`min-h-[110px] rounded-2xl border text-left p-3 transition-all duration-200 ${ue?"border-blue-500 bg-blue-500/10 shadow-lg shadow-blue-500/20":"border-slate-800/70 bg-slate-900/30 hover:border-blue-500/60"}`,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold",children:[t.jsx("span",{className:"text-white",children:N}),Z&&t.jsx("span",{className:"text-emerald-400 text-xs",children:"Today"})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[v.slice(0,2).map(ge=>t.jsx("div",{className:`text-xs px-2 py-1 rounded-full border ${ne(ge)} whitespace-nowrap overflow-hidden text-ellipsis`,title:ge.title,children:ge.title||(ge.subject??"Event")},ge.id)),v.length>2&&t.jsxs("div",{className:"text-[10px] text-slate-400",children:["+",v.length-2," more"]})]})]},`day-${N}`)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-6",children:t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:ke})]})}),A.length===0?t.jsx("div",{className:"text-center text-slate-400 py-8",children:"No sessions or tasks scheduled for this day."}):t.jsx("div",{className:"space-y-4",children:A.map(N=>t.jsxs("div",{className:"p-4 rounded-2xl border border-slate-800/70 bg-slate-900/40",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-semibold text-lg line-clamp-1",children:N.title}),t.jsx("p",{className:"text-slate-400 text-sm",children:N.type==="session"?`${N.subject} with ${s?.role==="tutor"?N.student:N.tutor||"your tutor"}`:N.subject||"Personal study task"})]}),t.jsx("span",{className:`text-xs px-3 py-1 rounded-full border ${ne(N)}`,children:N.type==="session"?N.status||"Session":"Task"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-slate-400",children:[t.jsxs("span",{children:[" ",E(N.time)]}),N.type==="session"?t.jsxs("span",{children:[" ",N.meetingType==="virtual"?"Virtual session":"In-person"]}):t.jsxs("span",{children:[" Status: ",N.status]})]}),N.type==="session"&&t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[N.status&&t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N.status==="completed"?"bg-emerald-500/20 text-emerald-300":"bg-blue-500/10 text-blue-200 border border-blue-500/30"}`,children:N.status}),(N.status==="scheduled"||N.status==="confirmed")&&t.jsx(cd,{booking:{...N,endTime:N.endTime||X(N.time),tutorName:s?.role==="student"?N.tutor:null,studentName:s?.role==="tutor"?N.student:null},onCompleted:O=>{g(v=>v.map(Z=>Z.id===O.id?{...Z,status:"completed"}:Z))},className:"text-xs px-3 py-1"})]}),N.type==="task"&&t.jsxs("div",{className:"mt-3 text-xs text-slate-400",children:["Progress: ",N.progress||0,"%"]})]},N.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Event Types"}),t.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-blue-500"}),t.jsx("span",{children:" Tutoring Sessions"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500"}),t.jsx("span",{children:" High Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-amber-500"}),t.jsx("span",{children:" Medium Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-emerald-500"}),t.jsx("span",{children:" Low Priority Tasks"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Quick Actions"}),t.jsx(qe,{to:"/tutors",className:"w-full flex items-center justify-center px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold hover:opacity-90 transition",children:"Schedule Session"})]})]})]})]}),t.jsxs("div",{className:"w-full xl:w-80 space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Dashboard"}),t.jsx("div",{className:"space-y-1",children:L.map(N=>{const v=`w-full px-3 py-2 rounded-lg flex items-center transition-all duration-200 ${N.id==="calendar"?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`;return N.to?t.jsx(qe,{to:N.to,state:N.state,className:v,children:t.jsx("span",{className:"text-sm font-medium",children:N.label})},N.id):t.jsx("button",{className:v,disabled:!0,children:t.jsx("span",{className:"text-sm font-medium",children:N.label})},N.id)})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Key Actions"}),t.jsx("div",{className:"space-y-2",children:le.map(N=>t.jsxs(qe,{to:N.to,className:`block w-full p-3 rounded-xl border bg-gradient-to-r ${N.gradient} ${N.border} transition-all duration-200 hover:border-white/40`,children:[t.jsx("div",{className:"text-white text-sm font-semibold",children:N.label}),t.jsx("div",{className:"text-slate-200 text-xs",children:N.description})]},N.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 rounded-2xl p-4 border border-red-500/20",children:[t.jsxs("h3",{className:"text-sm font-semibold text-red-300 mb-3 uppercase tracking-wide flex items-center space-x-2",children:[t.jsx("span",{className:"text-red-400",children:""}),t.jsx("span",{children:"Urgent Tasks"})]}),t.jsx("div",{className:"space-y-3",children:$.length>0?$.map((N,O)=>t.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/50 border border-slate-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("div",{className:"text-white text-xs font-medium line-clamp-2",children:N.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.priority==="high"?"bg-red-500/20 text-red-400":N.priority==="medium"?"bg-amber-500/20 text-amber-400":"bg-green-500/20 text-green-400"}`,children:N.priority})]}),t.jsx("div",{className:"text-slate-400 text-xs mb-1",children:N.subject}),t.jsxs("div",{className:"text-slate-500 text-xs",children:["Due: ",N.due]})]},N.id||`${N.title}-${O}`)):t.jsx("div",{className:"text-slate-400 text-xs",children:"No urgent tasks right now."})}),t.jsx(qe,{to:"/tasks",className:"block text-center mt-3 text-xs text-blue-400 hover:text-blue-300 font-medium",children:"View All Tasks "})]})]})]})}),x&&t.jsx("div",{className:"fixed top-4 right-4 z-50 bg-emerald-500/20 border border-emerald-500/30 text-emerald-400 px-6 py-3 rounded-lg backdrop-blur-sm shadow-lg",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:x})]})})]})},ku="http://localhost:5000/api",Bv=()=>{const{user:s}=Mt(),a=wn(),[i,o]=T.useState([]),[u,d]=T.useState([]),[h,x]=T.useState(null),[p,f]=T.useState([]),[g,y]=T.useState(""),[S,j]=T.useState(""),[B,C]=T.useState(!0),[H,k]=T.useState(!1),M=T.useRef(null);T.useEffect(()=>{ae()},[]),T.useEffect(()=>{if(a.state?.selectedUser){const F=a.state.selectedUser;x(F),o(E=>E.some(se=>se.id===F.id)?E:[...E,F])}},[a.state]),T.useEffect(()=>{if(S.trim()==="")d(i);else{const F=i.filter(E=>E.full_name?.toLowerCase().includes(S.toLowerCase())||E.email?.toLowerCase().includes(S.toLowerCase())||E.user_role?.toLowerCase().includes(S.toLowerCase()));d(F)}},[S,i]),T.useEffect(()=>{h&&pe(h.id)},[h]),T.useEffect(()=>{U()},[p]);const U=()=>{M.current?.scrollIntoView({behavior:"smooth"})},ae=async()=>{try{const F=localStorage.getItem("token"),E=await fetch(`${ku}/messages/users`,{headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}});if(E.ok){const X=await E.json();o(X.data||[])}else console.error("Failed to fetch users")}catch(F){console.error("Error fetching users:",F)}finally{C(!1)}},pe=async F=>{try{const E=localStorage.getItem("token"),X=await fetch(`${ku}/messages/${F}`,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(X.ok){const se=await X.json();f(se.data||[])}else console.error("Failed to fetch messages")}catch(E){console.error("Error fetching messages:",E)}},Y=async()=>{if(g.trim()&&h&&!H){k(!0);const F=g.trim();y("");try{const E=localStorage.getItem("token");(await fetch(`${ku}/messages/send`,{method:"POST",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({recipientId:h.id,content:F})})).ok?pe(h.id):(console.error("Failed to send message"),y(F))}catch(E){console.error("Error sending message:",E),y(F)}finally{k(!1)}}},q=F=>F?F.split(" ").map(E=>E[0]).join("").toUpperCase():"U",me=F=>{const E=new Date(F),se=Math.floor((new Date-E)/(1e3*60));return se<1?"Just now":se<60?`${se}m ago`:se<1440?E.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):E.toLocaleDateString()},de=F=>{const E=F.user_role||F.role||"user";return E.charAt(0).toUpperCase()+E.slice(1)};return B?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-lg",children:"Loading..."})}):t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:" Messages"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Connect with tutors and students."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-200px)]",children:[t.jsxs("div",{className:"lg:col-span-4 bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b border-slate-800/50",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"People"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:S,onChange:F=>j(F.target.value),placeholder:"Search people...",className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50"}),t.jsx("span",{className:"absolute right-3 top-2.5 text-slate-400",children:""})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:u.length===0?t.jsx("div",{className:"p-6 text-center text-slate-400",children:S?"No people found":"No users available"}):u.map(F=>t.jsx("div",{onClick:()=>x(F),className:`p-4 border-b border-slate-800/30 cursor-pointer hover:bg-slate-800/30 transition-colors ${h?.id===F.id?"bg-slate-800/50 border-l-4 border-l-blue-500":""}`,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:q(F.full_name)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-white font-medium truncate",children:F.full_name||F.email}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${F.user_role==="tutor"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:de(F)})}),F.subjects_taught&&t.jsxs("p",{className:"text-slate-400 text-xs mt-1 truncate",children:["Subjects: ",F.subjects_taught]}),F.current_school&&t.jsxs("p",{className:"text-slate-400 text-xs mt-1 truncate",children:["School: ",F.current_school]}),F.location_city&&t.jsxs("p",{className:"text-slate-400 text-xs mt-1 truncate",children:[" ",F.location_city]})]})]})},F.id))})]}),t.jsx("div",{className:"lg:col-span-8 bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm flex flex-col overflow-hidden",children:h?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-slate-800/50 flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:q(h.full_name)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:h.full_name||h.email}),t.jsxs("p",{className:"text-slate-400 text-sm",children:[de(h),h.subjects_taught&&`  ${h.subjects_taught}`]})]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:p.length===0?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["Start a conversation with ",h.full_name||h.email]})]})}):t.jsxs("div",{className:"relative",children:[p.map((F,E)=>{const X=F.sender_id===s?.id,se=new Date(F.created_at),L=E===0||new Date(p[E-1].created_at).toDateString()!==se.toDateString();return t.jsxs("div",{className:"relative",children:[L&&t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"px-3 py-1 bg-slate-800/50 rounded-full border border-slate-700/50",children:t.jsx("span",{className:"text-xs text-slate-400",children:se.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})})}),t.jsxs("div",{className:`flex items-end gap-3 mb-6 ${X?"justify-end":"justify-start"}`,children:[!X&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-emerald-400 to-blue-500 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 mb-1",children:q(h.full_name)}),t.jsxs("div",{className:`relative max-w-xs lg:max-w-md ${X?"order-1":"order-2"}`,children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-lg ${X?"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-br-md":"bg-slate-800/70 border border-slate-700/50 text-white rounded-bl-md backdrop-blur-sm"}`,children:t.jsx("p",{className:"text-sm leading-relaxed",children:F.content})}),t.jsxs("div",{className:`flex items-center gap-1 mt-1 ${X?"justify-end":"justify-start"}`,children:[t.jsx("span",{className:"text-xs text-slate-500",children:me(F.created_at)}),X&&t.jsx("span",{className:"text-xs text-slate-500",children:""})]}),t.jsx("div",{className:`absolute top-3 w-0 h-0 ${X?"right-0 translate-x-1 border-l-8 border-l-blue-500 border-t-8 border-t-transparent border-b-8 border-b-transparent":"left-0 -translate-x-1 border-r-8 border-r-slate-800 border-t-8 border-t-transparent border-b-8 border-b-transparent"}`})]}),X&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 mb-1",children:q(s?.name)})]})]},F.id)}),t.jsx("div",{ref:M})]})}),t.jsxs("div",{className:"p-6 border-t border-slate-800/50 bg-slate-900/30 backdrop-blur-sm",children:[t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",value:g,onChange:F=>y(F.target.value),onKeyPress:F=>F.key==="Enter"&&Y(),placeholder:`Message ${h.full_name||h.email}...`,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 pr-12 transition-all"}),t.jsx("button",{onClick:Y,className:`absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-lg transition-all ${g.trim()&&!H?"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10":"text-slate-600 cursor-not-allowed"}`,disabled:!g.trim()||H,children:H?t.jsx("div",{className:"w-5 h-5 border-2 border-slate-600 border-t-blue-400 rounded-full animate-spin"}):t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M2.94 6.412A2 2 0 004.414 5h11.172a2 2 0 001.474 1.412L12 10l5.06 3.588A2 2 0 0015.586 15H4.414a2 2 0 00-1.474-1.412L8 10 2.94 6.412z"})})})]})}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Press Enter to send"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${h?"bg-green-400":"bg-slate-600"}`}),t.jsx("span",{className:"text-xs text-slate-500",children:h?"Online":"Offline"})]})]})]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h3",{className:"text-white font-medium mb-2",children:"Select a person to chat"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Choose someone from the list to start messaging"})]})})})]})]})})};function Uv(s,a){const i={};return(s[s.length-1]===""?[...s,""]:s).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const Hv=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qv=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$v={};function zf(s,a){return($v.jsx?qv:Hv).test(s)}const Yv=/[ \t\n\f\r]/g;function Vv(s){return typeof s=="object"?s.type==="text"?Lf(s.value):!1:Lf(s)}function Lf(s){return s.replace(Yv,"")===""}class Ar{constructor(a,i,o){this.normal=i,this.property=a,o&&(this.space=o)}}Ar.prototype.normal={};Ar.prototype.property={};Ar.prototype.space=void 0;function Hx(s,a){const i={},o={};for(const u of s)Object.assign(i,u.property),Object.assign(o,u.normal);return new Ar(i,o,a)}function Fu(s){return s.toLowerCase()}class un{constructor(a,i){this.attribute=i,this.property=a}}un.prototype.attribute="";un.prototype.booleanish=!1;un.prototype.boolean=!1;un.prototype.commaOrSpaceSeparated=!1;un.prototype.commaSeparated=!1;un.prototype.defined=!1;un.prototype.mustUseProperty=!1;un.prototype.number=!1;un.prototype.overloadedBoolean=!1;un.prototype.property="";un.prototype.spaceSeparated=!1;un.prototype.space=void 0;let Fv=0;const Be=Ml(),At=Ml(),Gu=Ml(),xe=Ml(),rt=Ml(),va=Ml(),vn=Ml();function Ml(){return 2**++Fv}const Pu=Object.freeze(Object.defineProperty({__proto__:null,boolean:Be,booleanish:At,commaOrSpaceSeparated:vn,commaSeparated:va,number:xe,overloadedBoolean:Gu,spaceSeparated:rt},Symbol.toStringTag,{value:"Module"})),Cu=Object.keys(Pu);class ud extends un{constructor(a,i,o,u){let d=-1;if(super(a,i),Of(this,"space",u),typeof o=="number")for(;++d<Cu.length;){const h=Cu[d];Of(this,Cu[d],(o&Pu[h])===Pu[h])}}}ud.prototype.defined=!0;function Of(s,a,i){i&&(s[a]=i)}function Ta(s){const a={},i={};for(const[o,u]of Object.entries(s.properties)){const d=new ud(o,s.transform(s.attributes||{},o),u,s.space);s.mustUseProperty&&s.mustUseProperty.includes(o)&&(d.mustUseProperty=!0),a[o]=d,i[Fu(o)]=o,i[Fu(d.attribute)]=o}return new Ar(a,i,s.space)}const qx=Ta({properties:{ariaActiveDescendant:null,ariaAtomic:At,ariaAutoComplete:null,ariaBusy:At,ariaChecked:At,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:rt,ariaCurrent:null,ariaDescribedBy:rt,ariaDetails:null,ariaDisabled:At,ariaDropEffect:rt,ariaErrorMessage:null,ariaExpanded:At,ariaFlowTo:rt,ariaGrabbed:At,ariaHasPopup:null,ariaHidden:At,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rt,ariaLevel:xe,ariaLive:null,ariaModal:At,ariaMultiLine:At,ariaMultiSelectable:At,ariaOrientation:null,ariaOwns:rt,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:At,ariaReadOnly:At,ariaRelevant:null,ariaRequired:At,ariaRoleDescription:rt,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:At,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(s,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()}});function $x(s,a){return a in s?s[a]:a}function Yx(s,a){return $x(s,a.toLowerCase())}const Gv=Ta({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:va,acceptCharset:rt,accessKey:rt,action:null,allow:null,allowFullScreen:Be,allowPaymentRequest:Be,allowUserMedia:Be,alt:null,as:null,async:Be,autoCapitalize:null,autoComplete:rt,autoFocus:Be,autoPlay:Be,blocking:rt,capture:null,charSet:null,checked:Be,cite:null,className:rt,cols:xe,colSpan:null,content:null,contentEditable:At,controls:Be,controlsList:rt,coords:xe|va,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Be,defer:Be,dir:null,dirName:null,disabled:Be,download:Gu,draggable:At,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Be,formTarget:null,headers:rt,height:xe,hidden:Gu,high:xe,href:null,hrefLang:null,htmlFor:rt,httpEquiv:rt,id:null,imageSizes:null,imageSrcSet:null,inert:Be,inputMode:null,integrity:null,is:null,isMap:Be,itemId:null,itemProp:rt,itemRef:rt,itemScope:Be,itemType:rt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Be,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:Be,muted:Be,name:null,nonce:null,noModule:Be,noValidate:Be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Be,optimum:xe,pattern:null,ping:rt,placeholder:null,playsInline:Be,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Be,referrerPolicy:null,rel:rt,required:Be,reversed:Be,rows:xe,rowSpan:xe,sandbox:rt,scope:null,scoped:Be,seamless:Be,selected:Be,shadowRootClonable:Be,shadowRootDelegatesFocus:Be,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:At,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:Be,useMap:null,value:At,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rt,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Be,declare:Be,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:Be,noHref:Be,noShade:Be,noWrap:Be,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:At,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Be,disableRemotePlayback:Be,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:Yx}),Pv=Ta({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vn,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:rt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:Be,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:va,g2:va,glyphName:va,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vn,rev:vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vn,requiredFeatures:vn,requiredFonts:vn,requiredFormats:vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vn,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:$x}),Vx=Ta({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(s,a){return"xlink:"+a.slice(5).toLowerCase()}}),Fx=Ta({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Yx}),Gx=Ta({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(s,a){return"xml:"+a.slice(3).toLowerCase()}}),Qv={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Xv=/[A-Z]/g,Bf=/-[a-z]/g,Iv=/^data[-\w.:]+$/i;function Zv(s,a){const i=Fu(a);let o=a,u=un;if(i in s.normal)return s.property[s.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&Iv.test(a)){if(a.charAt(4)==="-"){const d=a.slice(5).replace(Bf,Kv);o="data"+d.charAt(0).toUpperCase()+d.slice(1)}else{const d=a.slice(4);if(!Bf.test(d)){let h=d.replace(Xv,Jv);h.charAt(0)!=="-"&&(h="-"+h),a="data"+h}}u=ud}return new u(o,a)}function Jv(s){return"-"+s.toLowerCase()}function Kv(s){return s.charAt(1).toUpperCase()}const Wv=Hx([qx,Gv,Vx,Fx,Gx],"html"),dd=Hx([qx,Pv,Vx,Fx,Gx],"svg");function ej(s){return s.join(" ").trim()}var ga={},Eu,Uf;function tj(){if(Uf)return Eu;Uf=1;var s=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,i=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,u=/^:\s*/,d=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,h=/^[;\s]*/,x=/^\s+|\s+$/g,p=`
`,f="/",g="*",y="",S="comment",j="declaration";function B(H,k){if(typeof H!="string")throw new TypeError("First argument must be a string");if(!H)return[];k=k||{};var M=1,U=1;function ae(L){var le=L.match(a);le&&(M+=le.length);var $=L.lastIndexOf(p);U=~$?L.length-$:U+L.length}function pe(){var L={line:M,column:U};return function(le){return le.position=new Y(L),de(),le}}function Y(L){this.start=L,this.end={line:M,column:U},this.source=k.source}Y.prototype.content=H;function q(L){var le=new Error(k.source+":"+M+":"+U+": "+L);if(le.reason=L,le.filename=k.source,le.line=M,le.column=U,le.source=H,!k.silent)throw le}function me(L){var le=L.exec(H);if(le){var $=le[0];return ae($),H=H.slice($.length),le}}function de(){me(i)}function F(L){var le;for(L=L||[];le=E();)le!==!1&&L.push(le);return L}function E(){var L=pe();if(!(f!=H.charAt(0)||g!=H.charAt(1))){for(var le=2;y!=H.charAt(le)&&(g!=H.charAt(le)||f!=H.charAt(le+1));)++le;if(le+=2,y===H.charAt(le-1))return q("End of comment missing");var $=H.slice(2,le-2);return U+=2,ae($),H=H.slice(le),U+=2,L({type:S,comment:$})}}function X(){var L=pe(),le=me(o);if(le){if(E(),!me(u))return q("property missing ':'");var $=me(d),ne=L({type:j,property:C(le[0].replace(s,y)),value:$?C($[0].replace(s,y)):y});return me(h),ne}}function se(){var L=[];F(L);for(var le;le=X();)le!==!1&&(L.push(le),F(L));return L}return de(),se()}function C(H){return H?H.replace(x,y):y}return Eu=B,Eu}var Hf;function nj(){if(Hf)return ga;Hf=1;var s=ga&&ga.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ga,"__esModule",{value:!0}),ga.default=i;const a=s(tj());function i(o,u){let d=null;if(!o||typeof o!="string")return d;const h=(0,a.default)(o),x=typeof u=="function";return h.forEach(p=>{if(p.type!=="declaration")return;const{property:f,value:g}=p;x?u(f,g,p):g&&(d=d||{},d[f]=g)}),d}return ga}var br={},qf;function sj(){if(qf)return br;qf=1,Object.defineProperty(br,"__esModule",{value:!0}),br.camelCase=void 0;var s=/^--[a-zA-Z0-9_-]+$/,a=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,u=/^-(ms)-/,d=function(f){return!f||i.test(f)||s.test(f)},h=function(f,g){return g.toUpperCase()},x=function(f,g){return"".concat(g,"-")},p=function(f,g){return g===void 0&&(g={}),d(f)?f:(f=f.toLowerCase(),g.reactCompat?f=f.replace(u,x):f=f.replace(o,x),f.replace(a,h))};return br.camelCase=p,br}var yr,$f;function lj(){if($f)return yr;$f=1;var s=yr&&yr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},a=s(nj()),i=sj();function o(u,d){var h={};return!u||typeof u!="string"||(0,a.default)(u,function(x,p){x&&p&&(h[(0,i.camelCase)(x,d)]=p)}),h}return o.default=o,yr=o,yr}var aj=lj();const rj=so(aj),Px=Qx("end"),md=Qx("start");function Qx(s){return a;function a(i){const o=i&&i.position&&i.position[s]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function ij(s){const a=md(s),i=Px(s);if(a&&i)return{start:a,end:i}}function Nr(s){return!s||typeof s!="object"?"":"position"in s||"type"in s?Yf(s.position):"start"in s||"end"in s?Yf(s):"line"in s||"column"in s?Qu(s):""}function Qu(s){return Vf(s&&s.line)+":"+Vf(s&&s.column)}function Yf(s){return Qu(s&&s.start)+"-"+Qu(s&&s.end)}function Vf(s){return s&&typeof s=="number"?s:1}class Xt extends Error{constructor(a,i,o){super(),typeof i=="string"&&(o=i,i=void 0);let u="",d={},h=!1;if(i&&("line"in i&&"column"in i?d={place:i}:"start"in i&&"end"in i?d={place:i}:"type"in i?d={ancestors:[i],place:i.position}:d={...i}),typeof a=="string"?u=a:!d.cause&&a&&(h=!0,u=a.message,d.cause=a),!d.ruleId&&!d.source&&typeof o=="string"){const p=o.indexOf(":");p===-1?d.ruleId=o:(d.source=o.slice(0,p),d.ruleId=o.slice(p+1))}if(!d.place&&d.ancestors&&d.ancestors){const p=d.ancestors[d.ancestors.length-1];p&&(d.place=p.position)}const x=d.place&&"start"in d.place?d.place.start:d.place;this.ancestors=d.ancestors||void 0,this.cause=d.cause||void 0,this.column=x?x.column:void 0,this.fatal=void 0,this.file="",this.message=u,this.line=x?x.line:void 0,this.name=Nr(d.place)||"1:1",this.place=d.place||void 0,this.reason=this.message,this.ruleId=d.ruleId||void 0,this.source=d.source||void 0,this.stack=h&&d.cause&&typeof d.cause.stack=="string"?d.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Xt.prototype.file="";Xt.prototype.name="";Xt.prototype.reason="";Xt.prototype.message="";Xt.prototype.stack="";Xt.prototype.column=void 0;Xt.prototype.line=void 0;Xt.prototype.ancestors=void 0;Xt.prototype.cause=void 0;Xt.prototype.fatal=void 0;Xt.prototype.place=void 0;Xt.prototype.ruleId=void 0;Xt.prototype.source=void 0;const hd={}.hasOwnProperty,oj=new Map,cj=/[A-Z]/g,uj=new Set(["table","tbody","thead","tfoot","tr"]),dj=new Set(["td","th"]),Xx="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function mj(s,a){if(!a||a.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=a.filePath||void 0;let o;if(a.development){if(typeof a.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=vj(i,a.jsxDEV)}else{if(typeof a.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof a.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=yj(i,a.jsx,a.jsxs)}const u={Fragment:a.Fragment,ancestors:[],components:a.components||{},create:o,elementAttributeNameCase:a.elementAttributeNameCase||"react",evaluater:a.createEvaluater?a.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:a.ignoreInvalidStyle||!1,passKeys:a.passKeys!==!1,passNode:a.passNode||!1,schema:a.space==="svg"?dd:Wv,stylePropertyNameCase:a.stylePropertyNameCase||"dom",tableCellAlignToStyle:a.tableCellAlignToStyle!==!1},d=Ix(u,s,void 0);return d&&typeof d!="string"?d:u.create(s,u.Fragment,{children:d||void 0},void 0)}function Ix(s,a,i){if(a.type==="element")return hj(s,a,i);if(a.type==="mdxFlowExpression"||a.type==="mdxTextExpression")return fj(s,a);if(a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement")return pj(s,a,i);if(a.type==="mdxjsEsm")return xj(s,a);if(a.type==="root")return gj(s,a,i);if(a.type==="text")return bj(s,a)}function hj(s,a,i){const o=s.schema;let u=o;a.tagName.toLowerCase()==="svg"&&o.space==="html"&&(u=dd,s.schema=u),s.ancestors.push(a);const d=Jx(s,a.tagName,!1),h=jj(s,a);let x=xd(s,a);return uj.has(a.tagName)&&(x=x.filter(function(p){return typeof p=="string"?!Vv(p):!0})),Zx(s,h,d,a),fd(h,x),s.ancestors.pop(),s.schema=o,s.create(a,d,h,i)}function fj(s,a){if(a.data&&a.data.estree&&s.evaluater){const o=a.data.estree.body[0];return o.type,s.evaluater.evaluateExpression(o.expression)}kr(s,a.position)}function xj(s,a){if(a.data&&a.data.estree&&s.evaluater)return s.evaluater.evaluateProgram(a.data.estree);kr(s,a.position)}function pj(s,a,i){const o=s.schema;let u=o;a.name==="svg"&&o.space==="html"&&(u=dd,s.schema=u),s.ancestors.push(a);const d=a.name===null?s.Fragment:Jx(s,a.name,!0),h=Nj(s,a),x=xd(s,a);return Zx(s,h,d,a),fd(h,x),s.ancestors.pop(),s.schema=o,s.create(a,d,h,i)}function gj(s,a,i){const o={};return fd(o,xd(s,a)),s.create(a,s.Fragment,o,i)}function bj(s,a){return a.value}function Zx(s,a,i,o){typeof i!="string"&&i!==s.Fragment&&s.passNode&&(a.node=o)}function fd(s,a){if(a.length>0){const i=a.length>1?a:a[0];i&&(s.children=i)}}function yj(s,a,i){return o;function o(u,d,h,x){const f=Array.isArray(h.children)?i:a;return x?f(d,h,x):f(d,h)}}function vj(s,a){return i;function i(o,u,d,h){const x=Array.isArray(d.children),p=md(o);return a(u,d,h,x,{columnNumber:p?p.column-1:void 0,fileName:s,lineNumber:p?p.line:void 0},void 0)}}function jj(s,a){const i={};let o,u;for(u in a.properties)if(u!=="children"&&hd.call(a.properties,u)){const d=wj(s,u,a.properties[u]);if(d){const[h,x]=d;s.tableCellAlignToStyle&&h==="align"&&typeof x=="string"&&dj.has(a.tagName)?o=x:i[h]=x}}if(o){const d=i.style||(i.style={});d[s.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return i}function Nj(s,a){const i={};for(const o of a.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&s.evaluater){const d=o.data.estree.body[0];d.type;const h=d.expression;h.type;const x=h.properties[0];x.type,Object.assign(i,s.evaluater.evaluateExpression(x.argument))}else kr(s,a.position);else{const u=o.name;let d;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&s.evaluater){const x=o.value.data.estree.body[0];x.type,d=s.evaluater.evaluateExpression(x.expression)}else kr(s,a.position);else d=o.value===null?!0:o.value;i[u]=d}return i}function xd(s,a){const i=[];let o=-1;const u=s.passKeys?new Map:oj;for(;++o<a.children.length;){const d=a.children[o];let h;if(s.passKeys){const p=d.type==="element"?d.tagName:d.type==="mdxJsxFlowElement"||d.type==="mdxJsxTextElement"?d.name:void 0;if(p){const f=u.get(p)||0;h=p+"-"+f,u.set(p,f+1)}}const x=Ix(s,d,h);x!==void 0&&i.push(x)}return i}function wj(s,a,i){const o=Zv(s.schema,a);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=o.commaSeparated?Uv(i):ej(i)),o.property==="style"){let u=typeof i=="object"?i:Sj(s,String(i));return s.stylePropertyNameCase==="css"&&(u=Tj(u)),["style",u]}return[s.elementAttributeNameCase==="react"&&o.space?Qv[o.property]||o.property:o.attribute,i]}}function Sj(s,a){try{return rj(a,{reactCompat:!0})}catch(i){if(s.ignoreInvalidStyle)return{};const o=i,u=new Xt("Cannot parse `style` attribute",{ancestors:s.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw u.file=s.filePath||void 0,u.url=Xx+"#cannot-parse-style-attribute",u}}function Jx(s,a,i){let o;if(!i)o={type:"Literal",value:a};else if(a.includes(".")){const u=a.split(".");let d=-1,h;for(;++d<u.length;){const x=zf(u[d])?{type:"Identifier",name:u[d]}:{type:"Literal",value:u[d]};h=h?{type:"MemberExpression",object:h,property:x,computed:!!(d&&x.type==="Literal"),optional:!1}:x}o=h}else o=zf(a)&&!/^[a-z]/.test(a)?{type:"Identifier",name:a}:{type:"Literal",value:a};if(o.type==="Literal"){const u=o.value;return hd.call(s.components,u)?s.components[u]:u}if(s.evaluater)return s.evaluater.evaluateExpression(o);kr(s)}function kr(s,a){const i=new Xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:s.ancestors,place:a,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=s.filePath||void 0,i.url=Xx+"#cannot-handle-mdx-estrees-without-createevaluater",i}function Tj(s){const a={};let i;for(i in s)hd.call(s,i)&&(a[kj(i)]=s[i]);return a}function kj(s){let a=s.replace(cj,Cj);return a.slice(0,3)==="ms-"&&(a="-"+a),a}function Cj(s){return"-"+s.toLowerCase()}const Au={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ej={};function Aj(s,a){const i=Ej,o=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,u=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return Kx(s,o,u)}function Kx(s,a,i){if(_j(s)){if("value"in s)return s.type==="html"&&!i?"":s.value;if(a&&"alt"in s&&s.alt)return s.alt;if("children"in s)return Ff(s.children,a,i)}return Array.isArray(s)?Ff(s,a,i):""}function Ff(s,a,i){const o=[];let u=-1;for(;++u<s.length;)o[u]=Kx(s[u],a,i);return o.join("")}function _j(s){return!!(s&&typeof s=="object")}const Gf=document.createElement("i");function pd(s){const a="&"+s+";";Gf.innerHTML=a;const i=Gf.textContent;return i.charCodeAt(i.length-1)===59&&s!=="semi"||i===a?!1:i}function rs(s,a,i,o){const u=s.length;let d=0,h;if(a<0?a=-a>u?0:u+a:a=a>u?u:a,i=i>0?i:0,o.length<1e4)h=Array.from(o),h.unshift(a,i),s.splice(...h);else for(i&&s.splice(a,i);d<o.length;)h=o.slice(d,d+1e4),h.unshift(a,0),s.splice(...h),d+=1e4,a+=1e4}function Hn(s,a){return s.length>0?(rs(s,s.length,0,a),s):a}const Pf={}.hasOwnProperty;function Dj(s){const a={};let i=-1;for(;++i<s.length;)Rj(a,s[i]);return a}function Rj(s,a){let i;for(i in a){const u=(Pf.call(s,i)?s[i]:void 0)||(s[i]={}),d=a[i];let h;if(d)for(h in d){Pf.call(u,h)||(u[h]=[]);const x=d[h];Mj(u[h],Array.isArray(x)?x:x?[x]:[])}}}function Mj(s,a){let i=-1;const o=[];for(;++i<a.length;)(a[i].add==="after"?s:o).push(a[i]);rs(s,0,0,o)}function Wx(s,a){const i=Number.parseInt(s,a);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function ja(s){return s.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const as=ol(/[A-Za-z]/),jn=ol(/[\dA-Za-z]/),zj=ol(/[#-'*+\--9=?A-Z^-~]/);function Xu(s){return s!==null&&(s<32||s===127)}const Iu=ol(/\d/),Lj=ol(/[\dA-Fa-f]/),Oj=ol(/[!-/:-@[-`{-~]/);function Ae(s){return s!==null&&s<-2}function cn(s){return s!==null&&(s<0||s===32)}function Je(s){return s===-2||s===-1||s===32}const Bj=ol(new RegExp("\\p{P}|\\p{S}","u")),Uj=ol(/\s/);function ol(s){return a;function a(i){return i!==null&&i>-1&&s.test(String.fromCharCode(i))}}function ka(s){const a=[];let i=-1,o=0,u=0;for(;++i<s.length;){const d=s.charCodeAt(i);let h="";if(d===37&&jn(s.charCodeAt(i+1))&&jn(s.charCodeAt(i+2)))u=2;else if(d<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(d))||(h=String.fromCharCode(d));else if(d>55295&&d<57344){const x=s.charCodeAt(i+1);d<56320&&x>56319&&x<57344?(h=String.fromCharCode(d,x),u=1):h=""}else h=String.fromCharCode(d);h&&(a.push(s.slice(o,i),encodeURIComponent(h)),o=i+u+1,h=""),u&&(i+=u,u=0)}return a.join("")+s.slice(o)}function ot(s,a,i,o){const u=o?o-1:Number.POSITIVE_INFINITY;let d=0;return h;function h(p){return Je(p)?(s.enter(i),x(p)):a(p)}function x(p){return Je(p)&&d++<u?(s.consume(p),x):(s.exit(i),a(p))}}const Hj={tokenize:qj};function qj(s){const a=s.attempt(this.parser.constructs.contentInitial,o,u);let i;return a;function o(x){if(x===null){s.consume(x);return}return s.enter("lineEnding"),s.consume(x),s.exit("lineEnding"),ot(s,a,"linePrefix")}function u(x){return s.enter("paragraph"),d(x)}function d(x){const p=s.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,h(x)}function h(x){if(x===null){s.exit("chunkText"),s.exit("paragraph"),s.consume(x);return}return Ae(x)?(s.consume(x),s.exit("chunkText"),d):(s.consume(x),h)}}const $j={tokenize:Yj},Qf={tokenize:Vj};function Yj(s){const a=this,i=[];let o=0,u,d,h;return x;function x(U){if(o<i.length){const ae=i[o];return a.containerState=ae[1],s.attempt(ae[0].continuation,p,f)(U)}return f(U)}function p(U){if(o++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,u&&M();const ae=a.events.length;let pe=ae,Y;for(;pe--;)if(a.events[pe][0]==="exit"&&a.events[pe][1].type==="chunkFlow"){Y=a.events[pe][1].end;break}k(o);let q=ae;for(;q<a.events.length;)a.events[q][1].end={...Y},q++;return rs(a.events,pe+1,0,a.events.slice(ae)),a.events.length=q,f(U)}return x(U)}function f(U){if(o===i.length){if(!u)return S(U);if(u.currentConstruct&&u.currentConstruct.concrete)return B(U);a.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return a.containerState={},s.check(Qf,g,y)(U)}function g(U){return u&&M(),k(o),S(U)}function y(U){return a.parser.lazy[a.now().line]=o!==i.length,h=a.now().offset,B(U)}function S(U){return a.containerState={},s.attempt(Qf,j,B)(U)}function j(U){return o++,i.push([a.currentConstruct,a.containerState]),S(U)}function B(U){if(U===null){u&&M(),k(0),s.consume(U);return}return u=u||a.parser.flow(a.now()),s.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:d}),C(U)}function C(U){if(U===null){H(s.exit("chunkFlow"),!0),k(0),s.consume(U);return}return Ae(U)?(s.consume(U),H(s.exit("chunkFlow")),o=0,a.interrupt=void 0,x):(s.consume(U),C)}function H(U,ae){const pe=a.sliceStream(U);if(ae&&pe.push(null),U.previous=d,d&&(d.next=U),d=U,u.defineSkip(U.start),u.write(pe),a.parser.lazy[U.start.line]){let Y=u.events.length;for(;Y--;)if(u.events[Y][1].start.offset<h&&(!u.events[Y][1].end||u.events[Y][1].end.offset>h))return;const q=a.events.length;let me=q,de,F;for(;me--;)if(a.events[me][0]==="exit"&&a.events[me][1].type==="chunkFlow"){if(de){F=a.events[me][1].end;break}de=!0}for(k(o),Y=q;Y<a.events.length;)a.events[Y][1].end={...F},Y++;rs(a.events,me+1,0,a.events.slice(q)),a.events.length=Y}}function k(U){let ae=i.length;for(;ae-- >U;){const pe=i[ae];a.containerState=pe[1],pe[0].exit.call(a,s)}i.length=U}function M(){u.write([null]),d=void 0,u=void 0,a.containerState._closeFlow=void 0}}function Vj(s,a,i){return ot(s,s.attempt(this.parser.constructs.document,a,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Xf(s){if(s===null||cn(s)||Uj(s))return 1;if(Bj(s))return 2}function gd(s,a,i){const o=[];let u=-1;for(;++u<s.length;){const d=s[u].resolveAll;d&&!o.includes(d)&&(a=d(a,i),o.push(d))}return a}const Zu={name:"attention",resolveAll:Fj,tokenize:Gj};function Fj(s,a){let i=-1,o,u,d,h,x,p,f,g;for(;++i<s.length;)if(s[i][0]==="enter"&&s[i][1].type==="attentionSequence"&&s[i][1]._close){for(o=i;o--;)if(s[o][0]==="exit"&&s[o][1].type==="attentionSequence"&&s[o][1]._open&&a.sliceSerialize(s[o][1]).charCodeAt(0)===a.sliceSerialize(s[i][1]).charCodeAt(0)){if((s[o][1]._close||s[i][1]._open)&&(s[i][1].end.offset-s[i][1].start.offset)%3&&!((s[o][1].end.offset-s[o][1].start.offset+s[i][1].end.offset-s[i][1].start.offset)%3))continue;p=s[o][1].end.offset-s[o][1].start.offset>1&&s[i][1].end.offset-s[i][1].start.offset>1?2:1;const y={...s[o][1].end},S={...s[i][1].start};If(y,-p),If(S,p),h={type:p>1?"strongSequence":"emphasisSequence",start:y,end:{...s[o][1].end}},x={type:p>1?"strongSequence":"emphasisSequence",start:{...s[i][1].start},end:S},d={type:p>1?"strongText":"emphasisText",start:{...s[o][1].end},end:{...s[i][1].start}},u={type:p>1?"strong":"emphasis",start:{...h.start},end:{...x.end}},s[o][1].end={...h.start},s[i][1].start={...x.end},f=[],s[o][1].end.offset-s[o][1].start.offset&&(f=Hn(f,[["enter",s[o][1],a],["exit",s[o][1],a]])),f=Hn(f,[["enter",u,a],["enter",h,a],["exit",h,a],["enter",d,a]]),f=Hn(f,gd(a.parser.constructs.insideSpan.null,s.slice(o+1,i),a)),f=Hn(f,[["exit",d,a],["enter",x,a],["exit",x,a],["exit",u,a]]),s[i][1].end.offset-s[i][1].start.offset?(g=2,f=Hn(f,[["enter",s[i][1],a],["exit",s[i][1],a]])):g=0,rs(s,o-1,i-o+3,f),i=o+f.length-g-2;break}}for(i=-1;++i<s.length;)s[i][1].type==="attentionSequence"&&(s[i][1].type="data");return s}function Gj(s,a){const i=this.parser.constructs.attentionMarkers.null,o=this.previous,u=Xf(o);let d;return h;function h(p){return d=p,s.enter("attentionSequence"),x(p)}function x(p){if(p===d)return s.consume(p),x;const f=s.exit("attentionSequence"),g=Xf(p),y=!g||g===2&&u||i.includes(p),S=!u||u===2&&g||i.includes(o);return f._open=!!(d===42?y:y&&(u||!S)),f._close=!!(d===42?S:S&&(g||!y)),a(p)}}function If(s,a){s.column+=a,s.offset+=a,s._bufferIndex+=a}const Pj={name:"autolink",tokenize:Qj};function Qj(s,a,i){let o=0;return u;function u(j){return s.enter("autolink"),s.enter("autolinkMarker"),s.consume(j),s.exit("autolinkMarker"),s.enter("autolinkProtocol"),d}function d(j){return as(j)?(s.consume(j),h):j===64?i(j):f(j)}function h(j){return j===43||j===45||j===46||jn(j)?(o=1,x(j)):f(j)}function x(j){return j===58?(s.consume(j),o=0,p):(j===43||j===45||j===46||jn(j))&&o++<32?(s.consume(j),x):(o=0,f(j))}function p(j){return j===62?(s.exit("autolinkProtocol"),s.enter("autolinkMarker"),s.consume(j),s.exit("autolinkMarker"),s.exit("autolink"),a):j===null||j===32||j===60||Xu(j)?i(j):(s.consume(j),p)}function f(j){return j===64?(s.consume(j),g):zj(j)?(s.consume(j),f):i(j)}function g(j){return jn(j)?y(j):i(j)}function y(j){return j===46?(s.consume(j),o=0,g):j===62?(s.exit("autolinkProtocol").type="autolinkEmail",s.enter("autolinkMarker"),s.consume(j),s.exit("autolinkMarker"),s.exit("autolink"),a):S(j)}function S(j){if((j===45||jn(j))&&o++<63){const B=j===45?S:y;return s.consume(j),B}return i(j)}}const io={partial:!0,tokenize:Xj};function Xj(s,a,i){return o;function o(d){return Je(d)?ot(s,u,"linePrefix")(d):u(d)}function u(d){return d===null||Ae(d)?a(d):i(d)}}const ep={continuation:{tokenize:Zj},exit:Jj,name:"blockQuote",tokenize:Ij};function Ij(s,a,i){const o=this;return u;function u(h){if(h===62){const x=o.containerState;return x.open||(s.enter("blockQuote",{_container:!0}),x.open=!0),s.enter("blockQuotePrefix"),s.enter("blockQuoteMarker"),s.consume(h),s.exit("blockQuoteMarker"),d}return i(h)}function d(h){return Je(h)?(s.enter("blockQuotePrefixWhitespace"),s.consume(h),s.exit("blockQuotePrefixWhitespace"),s.exit("blockQuotePrefix"),a):(s.exit("blockQuotePrefix"),a(h))}}function Zj(s,a,i){const o=this;return u;function u(h){return Je(h)?ot(s,d,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):d(h)}function d(h){return s.attempt(ep,a,i)(h)}}function Jj(s){s.exit("blockQuote")}const tp={name:"characterEscape",tokenize:Kj};function Kj(s,a,i){return o;function o(d){return s.enter("characterEscape"),s.enter("escapeMarker"),s.consume(d),s.exit("escapeMarker"),u}function u(d){return Oj(d)?(s.enter("characterEscapeValue"),s.consume(d),s.exit("characterEscapeValue"),s.exit("characterEscape"),a):i(d)}}const np={name:"characterReference",tokenize:Wj};function Wj(s,a,i){const o=this;let u=0,d,h;return x;function x(y){return s.enter("characterReference"),s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),p}function p(y){return y===35?(s.enter("characterReferenceMarkerNumeric"),s.consume(y),s.exit("characterReferenceMarkerNumeric"),f):(s.enter("characterReferenceValue"),d=31,h=jn,g(y))}function f(y){return y===88||y===120?(s.enter("characterReferenceMarkerHexadecimal"),s.consume(y),s.exit("characterReferenceMarkerHexadecimal"),s.enter("characterReferenceValue"),d=6,h=Lj,g):(s.enter("characterReferenceValue"),d=7,h=Iu,g(y))}function g(y){if(y===59&&u){const S=s.exit("characterReferenceValue");return h===jn&&!pd(o.sliceSerialize(S))?i(y):(s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),s.exit("characterReference"),a)}return h(y)&&u++<d?(s.consume(y),g):i(y)}}const Zf={partial:!0,tokenize:t1},Jf={concrete:!0,name:"codeFenced",tokenize:e1};function e1(s,a,i){const o=this,u={partial:!0,tokenize:pe};let d=0,h=0,x;return p;function p(Y){return f(Y)}function f(Y){const q=o.events[o.events.length-1];return d=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,x=Y,s.enter("codeFenced"),s.enter("codeFencedFence"),s.enter("codeFencedFenceSequence"),g(Y)}function g(Y){return Y===x?(h++,s.consume(Y),g):h<3?i(Y):(s.exit("codeFencedFenceSequence"),Je(Y)?ot(s,y,"whitespace")(Y):y(Y))}function y(Y){return Y===null||Ae(Y)?(s.exit("codeFencedFence"),o.interrupt?a(Y):s.check(Zf,C,ae)(Y)):(s.enter("codeFencedFenceInfo"),s.enter("chunkString",{contentType:"string"}),S(Y))}function S(Y){return Y===null||Ae(Y)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),y(Y)):Je(Y)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),ot(s,j,"whitespace")(Y)):Y===96&&Y===x?i(Y):(s.consume(Y),S)}function j(Y){return Y===null||Ae(Y)?y(Y):(s.enter("codeFencedFenceMeta"),s.enter("chunkString",{contentType:"string"}),B(Y))}function B(Y){return Y===null||Ae(Y)?(s.exit("chunkString"),s.exit("codeFencedFenceMeta"),y(Y)):Y===96&&Y===x?i(Y):(s.consume(Y),B)}function C(Y){return s.attempt(u,ae,H)(Y)}function H(Y){return s.enter("lineEnding"),s.consume(Y),s.exit("lineEnding"),k}function k(Y){return d>0&&Je(Y)?ot(s,M,"linePrefix",d+1)(Y):M(Y)}function M(Y){return Y===null||Ae(Y)?s.check(Zf,C,ae)(Y):(s.enter("codeFlowValue"),U(Y))}function U(Y){return Y===null||Ae(Y)?(s.exit("codeFlowValue"),M(Y)):(s.consume(Y),U)}function ae(Y){return s.exit("codeFenced"),a(Y)}function pe(Y,q,me){let de=0;return F;function F(le){return Y.enter("lineEnding"),Y.consume(le),Y.exit("lineEnding"),E}function E(le){return Y.enter("codeFencedFence"),Je(le)?ot(Y,X,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):X(le)}function X(le){return le===x?(Y.enter("codeFencedFenceSequence"),se(le)):me(le)}function se(le){return le===x?(de++,Y.consume(le),se):de>=h?(Y.exit("codeFencedFenceSequence"),Je(le)?ot(Y,L,"whitespace")(le):L(le)):me(le)}function L(le){return le===null||Ae(le)?(Y.exit("codeFencedFence"),q(le)):me(le)}}}function t1(s,a,i){const o=this;return u;function u(h){return h===null?i(h):(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),d)}function d(h){return o.parser.lazy[o.now().line]?i(h):a(h)}}const _u={name:"codeIndented",tokenize:s1},n1={partial:!0,tokenize:l1};function s1(s,a,i){const o=this;return u;function u(f){return s.enter("codeIndented"),ot(s,d,"linePrefix",5)(f)}function d(f){const g=o.events[o.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?h(f):i(f)}function h(f){return f===null?p(f):Ae(f)?s.attempt(n1,h,p)(f):(s.enter("codeFlowValue"),x(f))}function x(f){return f===null||Ae(f)?(s.exit("codeFlowValue"),h(f)):(s.consume(f),x)}function p(f){return s.exit("codeIndented"),a(f)}}function l1(s,a,i){const o=this;return u;function u(h){return o.parser.lazy[o.now().line]?i(h):Ae(h)?(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),u):ot(s,d,"linePrefix",5)(h)}function d(h){const x=o.events[o.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?a(h):Ae(h)?u(h):i(h)}}const a1={name:"codeText",previous:i1,resolve:r1,tokenize:o1};function r1(s){let a=s.length-4,i=3,o,u;if((s[i][1].type==="lineEnding"||s[i][1].type==="space")&&(s[a][1].type==="lineEnding"||s[a][1].type==="space")){for(o=i;++o<a;)if(s[o][1].type==="codeTextData"){s[i][1].type="codeTextPadding",s[a][1].type="codeTextPadding",i+=2,a-=2;break}}for(o=i-1,a++;++o<=a;)u===void 0?o!==a&&s[o][1].type!=="lineEnding"&&(u=o):(o===a||s[o][1].type==="lineEnding")&&(s[u][1].type="codeTextData",o!==u+2&&(s[u][1].end=s[o-1][1].end,s.splice(u+2,o-u-2),a-=o-u-2,o=u+2),u=void 0);return s}function i1(s){return s!==96||this.events[this.events.length-1][1].type==="characterEscape"}function o1(s,a,i){let o=0,u,d;return h;function h(y){return s.enter("codeText"),s.enter("codeTextSequence"),x(y)}function x(y){return y===96?(s.consume(y),o++,x):(s.exit("codeTextSequence"),p(y))}function p(y){return y===null?i(y):y===32?(s.enter("space"),s.consume(y),s.exit("space"),p):y===96?(d=s.enter("codeTextSequence"),u=0,g(y)):Ae(y)?(s.enter("lineEnding"),s.consume(y),s.exit("lineEnding"),p):(s.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||Ae(y)?(s.exit("codeTextData"),p(y)):(s.consume(y),f)}function g(y){return y===96?(s.consume(y),u++,g):u===o?(s.exit("codeTextSequence"),s.exit("codeText"),a(y)):(d.type="codeTextData",f(y))}}class c1{constructor(a){this.left=a?[...a]:[],this.right=[]}get(a){if(a<0||a>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+a+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return a<this.left.length?this.left[a]:this.right[this.right.length-a+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(a,i){const o=i??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(a,o):a>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-a+this.left.length).reverse():this.left.slice(a).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(a,i,o){const u=i||0;this.setCursor(Math.trunc(a));const d=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return o&&vr(this.left,o),d.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(a){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(a)}pushMany(a){this.setCursor(Number.POSITIVE_INFINITY),vr(this.left,a)}unshift(a){this.setCursor(0),this.right.push(a)}unshiftMany(a){this.setCursor(0),vr(this.right,a.reverse())}setCursor(a){if(!(a===this.left.length||a>this.left.length&&this.right.length===0||a<0&&this.left.length===0))if(a<this.left.length){const i=this.left.splice(a,Number.POSITIVE_INFINITY);vr(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-a,Number.POSITIVE_INFINITY);vr(this.left,i.reverse())}}}function vr(s,a){let i=0;if(a.length<1e4)s.push(...a);else for(;i<a.length;)s.push(...a.slice(i,i+1e4)),i+=1e4}function sp(s){const a={};let i=-1,o,u,d,h,x,p,f;const g=new c1(s);for(;++i<g.length;){for(;i in a;)i=a[i];if(o=g.get(i),i&&o[1].type==="chunkFlow"&&g.get(i-1)[1].type==="listItemPrefix"&&(p=o[1]._tokenizer.events,d=0,d<p.length&&p[d][1].type==="lineEndingBlank"&&(d+=2),d<p.length&&p[d][1].type==="content"))for(;++d<p.length&&p[d][1].type!=="content";)p[d][1].type==="chunkText"&&(p[d][1]._isInFirstContentOfListItem=!0,d++);if(o[0]==="enter")o[1].contentType&&(Object.assign(a,u1(g,i)),i=a[i],f=!0);else if(o[1]._container){for(d=i,u=void 0;d--;)if(h=g.get(d),h[1].type==="lineEnding"||h[1].type==="lineEndingBlank")h[0]==="enter"&&(u&&(g.get(u)[1].type="lineEndingBlank"),h[1].type="lineEnding",u=d);else if(!(h[1].type==="linePrefix"||h[1].type==="listItemIndent"))break;u&&(o[1].end={...g.get(u)[1].start},x=g.slice(u,i),x.unshift(o),g.splice(u,i-u+1,x))}}return rs(s,0,Number.POSITIVE_INFINITY,g.slice(0)),!f}function u1(s,a){const i=s.get(a)[1],o=s.get(a)[2];let u=a-1;const d=[];let h=i._tokenizer;h||(h=o.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(h._contentTypeTextTrailing=!0));const x=h.events,p=[],f={};let g,y,S=-1,j=i,B=0,C=0;const H=[C];for(;j;){for(;s.get(++u)[1]!==j;);d.push(u),j._tokenizer||(g=o.sliceStream(j),j.next||g.push(null),y&&h.defineSkip(j.start),j._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(g),j._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),y=j,j=j.next}for(j=i;++S<x.length;)x[S][0]==="exit"&&x[S-1][0]==="enter"&&x[S][1].type===x[S-1][1].type&&x[S][1].start.line!==x[S][1].end.line&&(C=S+1,H.push(C),j._tokenizer=void 0,j.previous=void 0,j=j.next);for(h.events=[],j?(j._tokenizer=void 0,j.previous=void 0):H.pop(),S=H.length;S--;){const k=x.slice(H[S],H[S+1]),M=d.pop();p.push([M,M+k.length-1]),s.splice(M,2,k)}for(p.reverse(),S=-1;++S<p.length;)f[B+p[S][0]]=B+p[S][1],B+=p[S][1]-p[S][0]-1;return f}const d1={resolve:h1,tokenize:f1},m1={partial:!0,tokenize:x1};function h1(s){return sp(s),s}function f1(s,a){let i;return o;function o(x){return s.enter("content"),i=s.enter("chunkContent",{contentType:"content"}),u(x)}function u(x){return x===null?d(x):Ae(x)?s.check(m1,h,d)(x):(s.consume(x),u)}function d(x){return s.exit("chunkContent"),s.exit("content"),a(x)}function h(x){return s.consume(x),s.exit("chunkContent"),i.next=s.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,u}}function x1(s,a,i){const o=this;return u;function u(h){return s.exit("chunkContent"),s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),ot(s,d,"linePrefix")}function d(h){if(h===null||Ae(h))return i(h);const x=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?a(h):s.interrupt(o.parser.constructs.flow,i,a)(h)}}function lp(s,a,i,o,u,d,h,x,p){const f=p||Number.POSITIVE_INFINITY;let g=0;return y;function y(k){return k===60?(s.enter(o),s.enter(u),s.enter(d),s.consume(k),s.exit(d),S):k===null||k===32||k===41||Xu(k)?i(k):(s.enter(o),s.enter(h),s.enter(x),s.enter("chunkString",{contentType:"string"}),C(k))}function S(k){return k===62?(s.enter(d),s.consume(k),s.exit(d),s.exit(u),s.exit(o),a):(s.enter(x),s.enter("chunkString",{contentType:"string"}),j(k))}function j(k){return k===62?(s.exit("chunkString"),s.exit(x),S(k)):k===null||k===60||Ae(k)?i(k):(s.consume(k),k===92?B:j)}function B(k){return k===60||k===62||k===92?(s.consume(k),j):j(k)}function C(k){return!g&&(k===null||k===41||cn(k))?(s.exit("chunkString"),s.exit(x),s.exit(h),s.exit(o),a(k)):g<f&&k===40?(s.consume(k),g++,C):k===41?(s.consume(k),g--,C):k===null||k===32||k===40||Xu(k)?i(k):(s.consume(k),k===92?H:C)}function H(k){return k===40||k===41||k===92?(s.consume(k),C):C(k)}}function ap(s,a,i,o,u,d){const h=this;let x=0,p;return f;function f(j){return s.enter(o),s.enter(u),s.consume(j),s.exit(u),s.enter(d),g}function g(j){return x>999||j===null||j===91||j===93&&!p||j===94&&!x&&"_hiddenFootnoteSupport"in h.parser.constructs?i(j):j===93?(s.exit(d),s.enter(u),s.consume(j),s.exit(u),s.exit(o),a):Ae(j)?(s.enter("lineEnding"),s.consume(j),s.exit("lineEnding"),g):(s.enter("chunkString",{contentType:"string"}),y(j))}function y(j){return j===null||j===91||j===93||Ae(j)||x++>999?(s.exit("chunkString"),g(j)):(s.consume(j),p||(p=!Je(j)),j===92?S:y)}function S(j){return j===91||j===92||j===93?(s.consume(j),x++,y):y(j)}}function rp(s,a,i,o,u,d){let h;return x;function x(S){return S===34||S===39||S===40?(s.enter(o),s.enter(u),s.consume(S),s.exit(u),h=S===40?41:S,p):i(S)}function p(S){return S===h?(s.enter(u),s.consume(S),s.exit(u),s.exit(o),a):(s.enter(d),f(S))}function f(S){return S===h?(s.exit(d),p(h)):S===null?i(S):Ae(S)?(s.enter("lineEnding"),s.consume(S),s.exit("lineEnding"),ot(s,f,"linePrefix")):(s.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===h||S===null||Ae(S)?(s.exit("chunkString"),f(S)):(s.consume(S),S===92?y:g)}function y(S){return S===h||S===92?(s.consume(S),g):g(S)}}function wr(s,a){let i;return o;function o(u){return Ae(u)?(s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),i=!0,o):Je(u)?ot(s,o,i?"linePrefix":"lineSuffix")(u):a(u)}}const p1={name:"definition",tokenize:b1},g1={partial:!0,tokenize:y1};function b1(s,a,i){const o=this;let u;return d;function d(j){return s.enter("definition"),h(j)}function h(j){return ap.call(o,s,x,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(j)}function x(j){return u=ja(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),j===58?(s.enter("definitionMarker"),s.consume(j),s.exit("definitionMarker"),p):i(j)}function p(j){return cn(j)?wr(s,f)(j):f(j)}function f(j){return lp(s,g,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(j)}function g(j){return s.attempt(g1,y,y)(j)}function y(j){return Je(j)?ot(s,S,"whitespace")(j):S(j)}function S(j){return j===null||Ae(j)?(s.exit("definition"),o.parser.defined.push(u),a(j)):i(j)}}function y1(s,a,i){return o;function o(x){return cn(x)?wr(s,u)(x):i(x)}function u(x){return rp(s,d,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(x)}function d(x){return Je(x)?ot(s,h,"whitespace")(x):h(x)}function h(x){return x===null||Ae(x)?a(x):i(x)}}const v1={name:"hardBreakEscape",tokenize:j1};function j1(s,a,i){return o;function o(d){return s.enter("hardBreakEscape"),s.consume(d),u}function u(d){return Ae(d)?(s.exit("hardBreakEscape"),a(d)):i(d)}}const N1={name:"headingAtx",resolve:w1,tokenize:S1};function w1(s,a){let i=s.length-2,o=3,u,d;return s[o][1].type==="whitespace"&&(o+=2),i-2>o&&s[i][1].type==="whitespace"&&(i-=2),s[i][1].type==="atxHeadingSequence"&&(o===i-1||i-4>o&&s[i-2][1].type==="whitespace")&&(i-=o+1===i?2:4),i>o&&(u={type:"atxHeadingText",start:s[o][1].start,end:s[i][1].end},d={type:"chunkText",start:s[o][1].start,end:s[i][1].end,contentType:"text"},rs(s,o,i-o+1,[["enter",u,a],["enter",d,a],["exit",d,a],["exit",u,a]])),s}function S1(s,a,i){let o=0;return u;function u(g){return s.enter("atxHeading"),d(g)}function d(g){return s.enter("atxHeadingSequence"),h(g)}function h(g){return g===35&&o++<6?(s.consume(g),h):g===null||cn(g)?(s.exit("atxHeadingSequence"),x(g)):i(g)}function x(g){return g===35?(s.enter("atxHeadingSequence"),p(g)):g===null||Ae(g)?(s.exit("atxHeading"),a(g)):Je(g)?ot(s,x,"whitespace")(g):(s.enter("atxHeadingText"),f(g))}function p(g){return g===35?(s.consume(g),p):(s.exit("atxHeadingSequence"),x(g))}function f(g){return g===null||g===35||cn(g)?(s.exit("atxHeadingText"),x(g)):(s.consume(g),f)}}const T1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Kf=["pre","script","style","textarea"],k1={concrete:!0,name:"htmlFlow",resolveTo:A1,tokenize:_1},C1={partial:!0,tokenize:R1},E1={partial:!0,tokenize:D1};function A1(s){let a=s.length;for(;a--&&!(s[a][0]==="enter"&&s[a][1].type==="htmlFlow"););return a>1&&s[a-2][1].type==="linePrefix"&&(s[a][1].start=s[a-2][1].start,s[a+1][1].start=s[a-2][1].start,s.splice(a-2,2)),s}function _1(s,a,i){const o=this;let u,d,h,x,p;return f;function f(v){return g(v)}function g(v){return s.enter("htmlFlow"),s.enter("htmlFlowData"),s.consume(v),y}function y(v){return v===33?(s.consume(v),S):v===47?(s.consume(v),d=!0,C):v===63?(s.consume(v),u=3,o.interrupt?a:A):as(v)?(s.consume(v),h=String.fromCharCode(v),H):i(v)}function S(v){return v===45?(s.consume(v),u=2,j):v===91?(s.consume(v),u=5,x=0,B):as(v)?(s.consume(v),u=4,o.interrupt?a:A):i(v)}function j(v){return v===45?(s.consume(v),o.interrupt?a:A):i(v)}function B(v){const Z="CDATA[";return v===Z.charCodeAt(x++)?(s.consume(v),x===Z.length?o.interrupt?a:X:B):i(v)}function C(v){return as(v)?(s.consume(v),h=String.fromCharCode(v),H):i(v)}function H(v){if(v===null||v===47||v===62||cn(v)){const Z=v===47,ue=h.toLowerCase();return!Z&&!d&&Kf.includes(ue)?(u=1,o.interrupt?a(v):X(v)):T1.includes(h.toLowerCase())?(u=6,Z?(s.consume(v),k):o.interrupt?a(v):X(v)):(u=7,o.interrupt&&!o.parser.lazy[o.now().line]?i(v):d?M(v):U(v))}return v===45||jn(v)?(s.consume(v),h+=String.fromCharCode(v),H):i(v)}function k(v){return v===62?(s.consume(v),o.interrupt?a:X):i(v)}function M(v){return Je(v)?(s.consume(v),M):F(v)}function U(v){return v===47?(s.consume(v),F):v===58||v===95||as(v)?(s.consume(v),ae):Je(v)?(s.consume(v),U):F(v)}function ae(v){return v===45||v===46||v===58||v===95||jn(v)?(s.consume(v),ae):pe(v)}function pe(v){return v===61?(s.consume(v),Y):Je(v)?(s.consume(v),pe):U(v)}function Y(v){return v===null||v===60||v===61||v===62||v===96?i(v):v===34||v===39?(s.consume(v),p=v,q):Je(v)?(s.consume(v),Y):me(v)}function q(v){return v===p?(s.consume(v),p=null,de):v===null||Ae(v)?i(v):(s.consume(v),q)}function me(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||cn(v)?pe(v):(s.consume(v),me)}function de(v){return v===47||v===62||Je(v)?U(v):i(v)}function F(v){return v===62?(s.consume(v),E):i(v)}function E(v){return v===null||Ae(v)?X(v):Je(v)?(s.consume(v),E):i(v)}function X(v){return v===45&&u===2?(s.consume(v),$):v===60&&u===1?(s.consume(v),ne):v===62&&u===4?(s.consume(v),N):v===63&&u===3?(s.consume(v),A):v===93&&u===5?(s.consume(v),ke):Ae(v)&&(u===6||u===7)?(s.exit("htmlFlowData"),s.check(C1,O,se)(v)):v===null||Ae(v)?(s.exit("htmlFlowData"),se(v)):(s.consume(v),X)}function se(v){return s.check(E1,L,O)(v)}function L(v){return s.enter("lineEnding"),s.consume(v),s.exit("lineEnding"),le}function le(v){return v===null||Ae(v)?se(v):(s.enter("htmlFlowData"),X(v))}function $(v){return v===45?(s.consume(v),A):X(v)}function ne(v){return v===47?(s.consume(v),h="",ye):X(v)}function ye(v){if(v===62){const Z=h.toLowerCase();return Kf.includes(Z)?(s.consume(v),N):X(v)}return as(v)&&h.length<8?(s.consume(v),h+=String.fromCharCode(v),ye):X(v)}function ke(v){return v===93?(s.consume(v),A):X(v)}function A(v){return v===62?(s.consume(v),N):v===45&&u===2?(s.consume(v),A):X(v)}function N(v){return v===null||Ae(v)?(s.exit("htmlFlowData"),O(v)):(s.consume(v),N)}function O(v){return s.exit("htmlFlow"),a(v)}}function D1(s,a,i){const o=this;return u;function u(h){return Ae(h)?(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),d):i(h)}function d(h){return o.parser.lazy[o.now().line]?i(h):a(h)}}function R1(s,a,i){return o;function o(u){return s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),s.attempt(io,a,i)}}const M1={name:"htmlText",tokenize:z1};function z1(s,a,i){const o=this;let u,d,h;return x;function x(A){return s.enter("htmlText"),s.enter("htmlTextData"),s.consume(A),p}function p(A){return A===33?(s.consume(A),f):A===47?(s.consume(A),pe):A===63?(s.consume(A),U):as(A)?(s.consume(A),me):i(A)}function f(A){return A===45?(s.consume(A),g):A===91?(s.consume(A),d=0,B):as(A)?(s.consume(A),M):i(A)}function g(A){return A===45?(s.consume(A),j):i(A)}function y(A){return A===null?i(A):A===45?(s.consume(A),S):Ae(A)?(h=y,ne(A)):(s.consume(A),y)}function S(A){return A===45?(s.consume(A),j):y(A)}function j(A){return A===62?$(A):A===45?S(A):y(A)}function B(A){const N="CDATA[";return A===N.charCodeAt(d++)?(s.consume(A),d===N.length?C:B):i(A)}function C(A){return A===null?i(A):A===93?(s.consume(A),H):Ae(A)?(h=C,ne(A)):(s.consume(A),C)}function H(A){return A===93?(s.consume(A),k):C(A)}function k(A){return A===62?$(A):A===93?(s.consume(A),k):C(A)}function M(A){return A===null||A===62?$(A):Ae(A)?(h=M,ne(A)):(s.consume(A),M)}function U(A){return A===null?i(A):A===63?(s.consume(A),ae):Ae(A)?(h=U,ne(A)):(s.consume(A),U)}function ae(A){return A===62?$(A):U(A)}function pe(A){return as(A)?(s.consume(A),Y):i(A)}function Y(A){return A===45||jn(A)?(s.consume(A),Y):q(A)}function q(A){return Ae(A)?(h=q,ne(A)):Je(A)?(s.consume(A),q):$(A)}function me(A){return A===45||jn(A)?(s.consume(A),me):A===47||A===62||cn(A)?de(A):i(A)}function de(A){return A===47?(s.consume(A),$):A===58||A===95||as(A)?(s.consume(A),F):Ae(A)?(h=de,ne(A)):Je(A)?(s.consume(A),de):$(A)}function F(A){return A===45||A===46||A===58||A===95||jn(A)?(s.consume(A),F):E(A)}function E(A){return A===61?(s.consume(A),X):Ae(A)?(h=E,ne(A)):Je(A)?(s.consume(A),E):de(A)}function X(A){return A===null||A===60||A===61||A===62||A===96?i(A):A===34||A===39?(s.consume(A),u=A,se):Ae(A)?(h=X,ne(A)):Je(A)?(s.consume(A),X):(s.consume(A),L)}function se(A){return A===u?(s.consume(A),u=void 0,le):A===null?i(A):Ae(A)?(h=se,ne(A)):(s.consume(A),se)}function L(A){return A===null||A===34||A===39||A===60||A===61||A===96?i(A):A===47||A===62||cn(A)?de(A):(s.consume(A),L)}function le(A){return A===47||A===62||cn(A)?de(A):i(A)}function $(A){return A===62?(s.consume(A),s.exit("htmlTextData"),s.exit("htmlText"),a):i(A)}function ne(A){return s.exit("htmlTextData"),s.enter("lineEnding"),s.consume(A),s.exit("lineEnding"),ye}function ye(A){return Je(A)?ot(s,ke,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):ke(A)}function ke(A){return s.enter("htmlTextData"),h(A)}}const bd={name:"labelEnd",resolveAll:U1,resolveTo:H1,tokenize:q1},L1={tokenize:$1},O1={tokenize:Y1},B1={tokenize:V1};function U1(s){let a=-1;const i=[];for(;++a<s.length;){const o=s[a][1];if(i.push(s[a]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const u=o.type==="labelImage"?4:2;o.type="data",a+=u}}return s.length!==i.length&&rs(s,0,s.length,i),s}function H1(s,a){let i=s.length,o=0,u,d,h,x;for(;i--;)if(u=s[i][1],d){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;s[i][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(h){if(s[i][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(d=i,u.type!=="labelLink")){o=2;break}}else u.type==="labelEnd"&&(h=i);const p={type:s[d][1].type==="labelLink"?"link":"image",start:{...s[d][1].start},end:{...s[s.length-1][1].end}},f={type:"label",start:{...s[d][1].start},end:{...s[h][1].end}},g={type:"labelText",start:{...s[d+o+2][1].end},end:{...s[h-2][1].start}};return x=[["enter",p,a],["enter",f,a]],x=Hn(x,s.slice(d+1,d+o+3)),x=Hn(x,[["enter",g,a]]),x=Hn(x,gd(a.parser.constructs.insideSpan.null,s.slice(d+o+4,h-3),a)),x=Hn(x,[["exit",g,a],s[h-2],s[h-1],["exit",f,a]]),x=Hn(x,s.slice(h+1)),x=Hn(x,[["exit",p,a]]),rs(s,d,s.length,x),s}function q1(s,a,i){const o=this;let u=o.events.length,d,h;for(;u--;)if((o.events[u][1].type==="labelImage"||o.events[u][1].type==="labelLink")&&!o.events[u][1]._balanced){d=o.events[u][1];break}return x;function x(S){return d?d._inactive?y(S):(h=o.parser.defined.includes(ja(o.sliceSerialize({start:d.end,end:o.now()}))),s.enter("labelEnd"),s.enter("labelMarker"),s.consume(S),s.exit("labelMarker"),s.exit("labelEnd"),p):i(S)}function p(S){return S===40?s.attempt(L1,g,h?g:y)(S):S===91?s.attempt(O1,g,h?f:y)(S):h?g(S):y(S)}function f(S){return s.attempt(B1,g,y)(S)}function g(S){return a(S)}function y(S){return d._balanced=!0,i(S)}}function $1(s,a,i){return o;function o(y){return s.enter("resource"),s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),u}function u(y){return cn(y)?wr(s,d)(y):d(y)}function d(y){return y===41?g(y):lp(s,h,x,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function h(y){return cn(y)?wr(s,p)(y):g(y)}function x(y){return i(y)}function p(y){return y===34||y===39||y===40?rp(s,f,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function f(y){return cn(y)?wr(s,g)(y):g(y)}function g(y){return y===41?(s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),s.exit("resource"),a):i(y)}}function Y1(s,a,i){const o=this;return u;function u(x){return ap.call(o,s,d,h,"reference","referenceMarker","referenceString")(x)}function d(x){return o.parser.defined.includes(ja(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?a(x):i(x)}function h(x){return i(x)}}function V1(s,a,i){return o;function o(d){return s.enter("reference"),s.enter("referenceMarker"),s.consume(d),s.exit("referenceMarker"),u}function u(d){return d===93?(s.enter("referenceMarker"),s.consume(d),s.exit("referenceMarker"),s.exit("reference"),a):i(d)}}const F1={name:"labelStartImage",resolveAll:bd.resolveAll,tokenize:G1};function G1(s,a,i){const o=this;return u;function u(x){return s.enter("labelImage"),s.enter("labelImageMarker"),s.consume(x),s.exit("labelImageMarker"),d}function d(x){return x===91?(s.enter("labelMarker"),s.consume(x),s.exit("labelMarker"),s.exit("labelImage"),h):i(x)}function h(x){return x===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(x):a(x)}}const P1={name:"labelStartLink",resolveAll:bd.resolveAll,tokenize:Q1};function Q1(s,a,i){const o=this;return u;function u(h){return s.enter("labelLink"),s.enter("labelMarker"),s.consume(h),s.exit("labelMarker"),s.exit("labelLink"),d}function d(h){return h===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(h):a(h)}}const Du={name:"lineEnding",tokenize:X1};function X1(s,a){return i;function i(o){return s.enter("lineEnding"),s.consume(o),s.exit("lineEnding"),ot(s,a,"linePrefix")}}const Ki={name:"thematicBreak",tokenize:I1};function I1(s,a,i){let o=0,u;return d;function d(f){return s.enter("thematicBreak"),h(f)}function h(f){return u=f,x(f)}function x(f){return f===u?(s.enter("thematicBreakSequence"),p(f)):o>=3&&(f===null||Ae(f))?(s.exit("thematicBreak"),a(f)):i(f)}function p(f){return f===u?(s.consume(f),o++,p):(s.exit("thematicBreakSequence"),Je(f)?ot(s,x,"whitespace")(f):x(f))}}const on={continuation:{tokenize:W1},exit:tN,name:"list",tokenize:K1},Z1={partial:!0,tokenize:nN},J1={partial:!0,tokenize:eN};function K1(s,a,i){const o=this,u=o.events[o.events.length-1];let d=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,h=0;return x;function x(j){const B=o.containerState.type||(j===42||j===43||j===45?"listUnordered":"listOrdered");if(B==="listUnordered"?!o.containerState.marker||j===o.containerState.marker:Iu(j)){if(o.containerState.type||(o.containerState.type=B,s.enter(B,{_container:!0})),B==="listUnordered")return s.enter("listItemPrefix"),j===42||j===45?s.check(Ki,i,f)(j):f(j);if(!o.interrupt||j===49)return s.enter("listItemPrefix"),s.enter("listItemValue"),p(j)}return i(j)}function p(j){return Iu(j)&&++h<10?(s.consume(j),p):(!o.interrupt||h<2)&&(o.containerState.marker?j===o.containerState.marker:j===41||j===46)?(s.exit("listItemValue"),f(j)):i(j)}function f(j){return s.enter("listItemMarker"),s.consume(j),s.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||j,s.check(io,o.interrupt?i:g,s.attempt(Z1,S,y))}function g(j){return o.containerState.initialBlankLine=!0,d++,S(j)}function y(j){return Je(j)?(s.enter("listItemPrefixWhitespace"),s.consume(j),s.exit("listItemPrefixWhitespace"),S):i(j)}function S(j){return o.containerState.size=d+o.sliceSerialize(s.exit("listItemPrefix"),!0).length,a(j)}}function W1(s,a,i){const o=this;return o.containerState._closeFlow=void 0,s.check(io,u,d);function u(x){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,ot(s,a,"listItemIndent",o.containerState.size+1)(x)}function d(x){return o.containerState.furtherBlankLines||!Je(x)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,h(x)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,s.attempt(J1,a,h)(x))}function h(x){return o.containerState._closeFlow=!0,o.interrupt=void 0,ot(s,s.attempt(on,a,i),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x)}}function eN(s,a,i){const o=this;return ot(s,u,"listItemIndent",o.containerState.size+1);function u(d){const h=o.events[o.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===o.containerState.size?a(d):i(d)}}function tN(s){s.exit(this.containerState.type)}function nN(s,a,i){const o=this;return ot(s,u,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(d){const h=o.events[o.events.length-1];return!Je(d)&&h&&h[1].type==="listItemPrefixWhitespace"?a(d):i(d)}}const Wf={name:"setextUnderline",resolveTo:sN,tokenize:lN};function sN(s,a){let i=s.length,o,u,d;for(;i--;)if(s[i][0]==="enter"){if(s[i][1].type==="content"){o=i;break}s[i][1].type==="paragraph"&&(u=i)}else s[i][1].type==="content"&&s.splice(i,1),!d&&s[i][1].type==="definition"&&(d=i);const h={type:"setextHeading",start:{...s[o][1].start},end:{...s[s.length-1][1].end}};return s[u][1].type="setextHeadingText",d?(s.splice(u,0,["enter",h,a]),s.splice(d+1,0,["exit",s[o][1],a]),s[o][1].end={...s[d][1].end}):s[o][1]=h,s.push(["exit",h,a]),s}function lN(s,a,i){const o=this;let u;return d;function d(f){let g=o.events.length,y;for(;g--;)if(o.events[g][1].type!=="lineEnding"&&o.events[g][1].type!=="linePrefix"&&o.events[g][1].type!=="content"){y=o.events[g][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||y)?(s.enter("setextHeadingLine"),u=f,h(f)):i(f)}function h(f){return s.enter("setextHeadingLineSequence"),x(f)}function x(f){return f===u?(s.consume(f),x):(s.exit("setextHeadingLineSequence"),Je(f)?ot(s,p,"lineSuffix")(f):p(f))}function p(f){return f===null||Ae(f)?(s.exit("setextHeadingLine"),a(f)):i(f)}}const aN={tokenize:rN};function rN(s){const a=this,i=s.attempt(io,o,s.attempt(this.parser.constructs.flowInitial,u,ot(s,s.attempt(this.parser.constructs.flow,u,s.attempt(d1,u)),"linePrefix")));return i;function o(d){if(d===null){s.consume(d);return}return s.enter("lineEndingBlank"),s.consume(d),s.exit("lineEndingBlank"),a.currentConstruct=void 0,i}function u(d){if(d===null){s.consume(d);return}return s.enter("lineEnding"),s.consume(d),s.exit("lineEnding"),a.currentConstruct=void 0,i}}const iN={resolveAll:op()},oN=ip("string"),cN=ip("text");function ip(s){return{resolveAll:op(s==="text"?uN:void 0),tokenize:a};function a(i){const o=this,u=this.parser.constructs[s],d=i.attempt(u,h,x);return h;function h(g){return f(g)?d(g):x(g)}function x(g){if(g===null){i.consume(g);return}return i.enter("data"),i.consume(g),p}function p(g){return f(g)?(i.exit("data"),d(g)):(i.consume(g),p)}function f(g){if(g===null)return!0;const y=u[g];let S=-1;if(y)for(;++S<y.length;){const j=y[S];if(!j.previous||j.previous.call(o,o.previous))return!0}return!1}}}function op(s){return a;function a(i,o){let u=-1,d;for(;++u<=i.length;)d===void 0?i[u]&&i[u][1].type==="data"&&(d=u,u++):(!i[u]||i[u][1].type!=="data")&&(u!==d+2&&(i[d][1].end=i[u-1][1].end,i.splice(d+2,u-d-2),u=d+2),d=void 0);return s?s(i,o):i}}function uN(s,a){let i=0;for(;++i<=s.length;)if((i===s.length||s[i][1].type==="lineEnding")&&s[i-1][1].type==="data"){const o=s[i-1][1],u=a.sliceStream(o);let d=u.length,h=-1,x=0,p;for(;d--;){const f=u[d];if(typeof f=="string"){for(h=f.length;f.charCodeAt(h-1)===32;)x++,h--;if(h)break;h=-1}else if(f===-2)p=!0,x++;else if(f!==-1){d++;break}}if(a._contentTypeTextTrailing&&i===s.length&&(x=0),x){const f={type:i===s.length||p||x<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:d?h:o.start._bufferIndex+h,_index:o.start._index+d,line:o.end.line,column:o.end.column-x,offset:o.end.offset-x},end:{...o.end}};o.end={...f.start},o.start.offset===o.end.offset?Object.assign(o,f):(s.splice(i,0,["enter",f,a],["exit",f,a]),i+=2)}i++}return s}const dN={42:on,43:on,45:on,48:on,49:on,50:on,51:on,52:on,53:on,54:on,55:on,56:on,57:on,62:ep},mN={91:p1},hN={[-2]:_u,[-1]:_u,32:_u},fN={35:N1,42:Ki,45:[Wf,Ki],60:k1,61:Wf,95:Ki,96:Jf,126:Jf},xN={38:np,92:tp},pN={[-5]:Du,[-4]:Du,[-3]:Du,33:F1,38:np,42:Zu,60:[Pj,M1],91:P1,92:[v1,tp],93:bd,95:Zu,96:a1},gN={null:[Zu,iN]},bN={null:[42,95]},yN={null:[]},vN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bN,contentInitial:mN,disable:yN,document:dN,flow:fN,flowInitial:hN,insideSpan:gN,string:xN,text:pN},Symbol.toStringTag,{value:"Module"}));function jN(s,a,i){let o={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const u={},d=[];let h=[],x=[];const p={attempt:q(pe),check:q(Y),consume:M,enter:U,exit:ae,interrupt:q(Y,{interrupt:!0})},f={code:null,containerState:{},defineSkip:C,events:[],now:B,parser:s,previous:null,sliceSerialize:S,sliceStream:j,write:y};let g=a.tokenize.call(f,p);return a.resolveAll&&d.push(a),f;function y(E){return h=Hn(h,E),H(),h[h.length-1]!==null?[]:(me(a,0),f.events=gd(d,f.events,f),f.events)}function S(E,X){return wN(j(E),X)}function j(E){return NN(h,E)}function B(){const{_bufferIndex:E,_index:X,line:se,column:L,offset:le}=o;return{_bufferIndex:E,_index:X,line:se,column:L,offset:le}}function C(E){u[E.line]=E.column,F()}function H(){let E;for(;o._index<h.length;){const X=h[o._index];if(typeof X=="string")for(E=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===E&&o._bufferIndex<X.length;)k(X.charCodeAt(o._bufferIndex));else k(X)}}function k(E){g=g(E)}function M(E){Ae(E)?(o.line++,o.column=1,o.offset+=E===-3?2:1,F()):E!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===h[o._index].length&&(o._bufferIndex=-1,o._index++)),f.previous=E}function U(E,X){const se=X||{};return se.type=E,se.start=B(),f.events.push(["enter",se,f]),x.push(se),se}function ae(E){const X=x.pop();return X.end=B(),f.events.push(["exit",X,f]),X}function pe(E,X){me(E,X.from)}function Y(E,X){X.restore()}function q(E,X){return se;function se(L,le,$){let ne,ye,ke,A;return Array.isArray(L)?O(L):"tokenize"in L?O([L]):N(L);function N(ge){return Ne;function Ne(_e){const Ee=_e!==null&&ge[_e],zt=_e!==null&&ge.null,_t=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(zt)?zt:zt?[zt]:[]];return O(_t)(_e)}}function O(ge){return ne=ge,ye=0,ge.length===0?$:v(ge[ye])}function v(ge){return Ne;function Ne(_e){return A=de(),ke=ge,ge.partial||(f.currentConstruct=ge),ge.name&&f.parser.constructs.disable.null.includes(ge.name)?ue():ge.tokenize.call(X?Object.assign(Object.create(f),X):f,p,Z,ue)(_e)}}function Z(ge){return E(ke,A),le}function ue(ge){return A.restore(),++ye<ne.length?v(ne[ye]):$}}}function me(E,X){E.resolveAll&&!d.includes(E)&&d.push(E),E.resolve&&rs(f.events,X,f.events.length-X,E.resolve(f.events.slice(X),f)),E.resolveTo&&(f.events=E.resolveTo(f.events,f))}function de(){const E=B(),X=f.previous,se=f.currentConstruct,L=f.events.length,le=Array.from(x);return{from:L,restore:$};function $(){o=E,f.previous=X,f.currentConstruct=se,f.events.length=L,x=le,F()}}function F(){o.line in u&&o.column<2&&(o.column=u[o.line],o.offset+=u[o.line]-1)}}function NN(s,a){const i=a.start._index,o=a.start._bufferIndex,u=a.end._index,d=a.end._bufferIndex;let h;if(i===u)h=[s[i].slice(o,d)];else{if(h=s.slice(i,u),o>-1){const x=h[0];typeof x=="string"?h[0]=x.slice(o):h.shift()}d>0&&h.push(s[u].slice(0,d))}return h}function wN(s,a){let i=-1;const o=[];let u;for(;++i<s.length;){const d=s[i];let h;if(typeof d=="string")h=d;else switch(d){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=a?" ":"	";break}case-1:{if(!a&&u)continue;h=" ";break}default:h=String.fromCharCode(d)}u=d===-2,o.push(h)}return o.join("")}function SN(s){const o={constructs:Dj([vN,...(s||{}).extensions||[]]),content:u(Hj),defined:[],document:u($j),flow:u(aN),lazy:{},string:u(oN),text:u(cN)};return o;function u(d){return h;function h(x){return jN(o,d,x)}}}function TN(s){for(;!sp(s););return s}const ex=/[\0\t\n\r]/g;function kN(){let s=1,a="",i=!0,o;return u;function u(d,h,x){const p=[];let f,g,y,S,j;for(d=a+(typeof d=="string"?d.toString():new TextDecoder(h||void 0).decode(d)),y=0,a="",i&&(d.charCodeAt(0)===65279&&y++,i=void 0);y<d.length;){if(ex.lastIndex=y,f=ex.exec(d),S=f&&f.index!==void 0?f.index:d.length,j=d.charCodeAt(S),!f){a=d.slice(y);break}if(j===10&&y===S&&o)p.push(-3),o=void 0;else switch(o&&(p.push(-5),o=void 0),y<S&&(p.push(d.slice(y,S)),s+=S-y),j){case 0:{p.push(65533),s++;break}case 9:{for(g=Math.ceil(s/4)*4,p.push(-2);s++<g;)p.push(-1);break}case 10:{p.push(-4),s=1;break}default:o=!0,s=1}y=S+1}return x&&(o&&p.push(-5),a&&p.push(a),p.push(null)),p}}const CN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function EN(s){return s.replace(CN,AN)}function AN(s,a,i){if(a)return a;if(i.charCodeAt(0)===35){const u=i.charCodeAt(1),d=u===120||u===88;return Wx(i.slice(d?2:1),d?16:10)}return pd(i)||s}const cp={}.hasOwnProperty;function _N(s,a,i){return typeof a!="string"&&(i=a,a=void 0),DN(i)(TN(SN(i).document().write(kN()(s,a,!0))))}function DN(s){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(vt),autolinkProtocol:de,autolinkEmail:de,atxHeading:d(Sn),blockQuote:d(zt),characterEscape:de,characterReference:de,codeFenced:d(_t),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:d(_t,h),codeText:d(qn,h),codeTextData:de,data:de,codeFlowValue:de,definition:d(yt),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:d(Ft),hardBreakEscape:d(xt),hardBreakTrailing:d(xt),htmlFlow:d(Wt,h),htmlFlowData:de,htmlText:d(Wt,h),htmlTextData:de,image:d(Xn),label:h,link:d(vt),listItem:d(In),listItemValue:S,listOrdered:d($n,y),listUnordered:d($n),paragraph:d(Gt),reference:v,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:d(Sn),strong:d(dn),thematicBreak:d(mn)},exit:{atxHeading:p(),atxHeadingSequence:pe,autolink:p(),autolinkEmail:Ee,autolinkProtocol:_e,blockQuote:p(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:ge,characterReference:Ne,codeFenced:p(H),codeFencedFence:C,codeFencedFenceInfo:j,codeFencedFenceMeta:B,codeFlowValue:F,codeIndented:p(k),codeText:p(le),codeTextData:F,data:F,definition:p(),definitionDestinationString:ae,definitionLabelString:M,definitionTitleString:U,emphasis:p(),hardBreakEscape:p(X),hardBreakTrailing:p(X),htmlFlow:p(se),htmlFlowData:F,htmlText:p(L),htmlTextData:F,image:p(ne),label:ke,labelText:ye,lineEnding:E,link:p($),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:Z,resourceDestinationString:A,resourceTitleString:N,resource:O,setextHeading:p(me),setextHeadingLineSequence:q,setextHeadingText:Y,strong:p(),thematicBreak:p()}};up(a,(s||{}).mdastExtensions||[]);const i={};return o;function o(K){let be={type:"root",children:[]};const Te={stack:[be],tokenStack:[],config:a,enter:x,exit:f,buffer:h,resume:g,data:i},Me=[];let $e=-1;for(;++$e<K.length;)if(K[$e][1].type==="listOrdered"||K[$e][1].type==="listUnordered")if(K[$e][0]==="enter")Me.push($e);else{const Ot=Me.pop();$e=u(K,Ot,$e)}for($e=-1;++$e<K.length;){const Ot=a[K[$e][0]];cp.call(Ot,K[$e][1].type)&&Ot[K[$e][1].type].call(Object.assign({sliceSerialize:K[$e][2].sliceSerialize},Te),K[$e][1])}if(Te.tokenStack.length>0){const Ot=Te.tokenStack[Te.tokenStack.length-1];(Ot[1]||tx).call(Te,void 0,Ot[0])}for(be.position={start:il(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:il(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<a.transforms.length;)be=a.transforms[$e](be)||be;return be}function u(K,be,Te){let Me=be-1,$e=-1,Ot=!1,en,mt,pt,Dt;for(;++Me<=Te;){const Ue=K[Me];switch(Ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ue[0]==="enter"?$e++:$e--,Dt=void 0;break}case"lineEndingBlank":{Ue[0]==="enter"&&(en&&!Dt&&!$e&&!pt&&(pt=Me),Dt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dt=void 0}if(!$e&&Ue[0]==="enter"&&Ue[1].type==="listItemPrefix"||$e===-1&&Ue[0]==="exit"&&(Ue[1].type==="listUnordered"||Ue[1].type==="listOrdered")){if(en){let Pt=Me;for(mt=void 0;Pt--;){const It=K[Pt];if(It[1].type==="lineEnding"||It[1].type==="lineEndingBlank"){if(It[0]==="exit")continue;mt&&(K[mt][1].type="lineEndingBlank",Ot=!0),It[1].type="lineEnding",mt=Pt}else if(!(It[1].type==="linePrefix"||It[1].type==="blockQuotePrefix"||It[1].type==="blockQuotePrefixWhitespace"||It[1].type==="blockQuoteMarker"||It[1].type==="listItemIndent"))break}pt&&(!mt||pt<mt)&&(en._spread=!0),en.end=Object.assign({},mt?K[mt][1].start:Ue[1].end),K.splice(mt||Me,0,["exit",en,Ue[2]]),Me++,Te++}if(Ue[1].type==="listItemPrefix"){const Pt={type:"listItem",_spread:!1,start:Object.assign({},Ue[1].start),end:void 0};en=Pt,K.splice(Me,0,["enter",Pt,Ue[2]]),Me++,Te++,pt=void 0,Dt=!0}}}return K[be][1]._spread=Ot,Te}function d(K,be){return Te;function Te(Me){x.call(this,K(Me),Me),be&&be.call(this,Me)}}function h(){this.stack.push({type:"fragment",children:[]})}function x(K,be,Te){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([be,Te||void 0]),K.position={start:il(be.start),end:void 0}}function p(K){return be;function be(Te){K&&K.call(this,Te),f.call(this,Te)}}function f(K,be){const Te=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==K.type&&(be?be.call(this,K,Me[0]):(Me[1]||tx).call(this,K,Me[0]));else throw new Error("Cannot close `"+K.type+"` ("+Nr({start:K.start,end:K.end})+"): its not open");Te.position.end=il(K.end)}function g(){return Aj(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function S(K){if(this.data.expectingFirstListItemValue){const be=this.stack[this.stack.length-2];be.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function j(){const K=this.resume(),be=this.stack[this.stack.length-1];be.lang=K}function B(){const K=this.resume(),be=this.stack[this.stack.length-1];be.meta=K}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function H(){const K=this.resume(),be=this.stack[this.stack.length-1];be.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const K=this.resume(),be=this.stack[this.stack.length-1];be.value=K.replace(/(\r?\n|\r)$/g,"")}function M(K){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.label=be,Te.identifier=ja(this.sliceSerialize(K)).toLowerCase()}function U(){const K=this.resume(),be=this.stack[this.stack.length-1];be.title=K}function ae(){const K=this.resume(),be=this.stack[this.stack.length-1];be.url=K}function pe(K){const be=this.stack[this.stack.length-1];if(!be.depth){const Te=this.sliceSerialize(K).length;be.depth=Te}}function Y(){this.data.setextHeadingSlurpLineEnding=!0}function q(K){const be=this.stack[this.stack.length-1];be.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function me(){this.data.setextHeadingSlurpLineEnding=void 0}function de(K){const Te=this.stack[this.stack.length-1].children;let Me=Te[Te.length-1];(!Me||Me.type!=="text")&&(Me=St(),Me.position={start:il(K.start),end:void 0},Te.push(Me)),this.stack.push(Me)}function F(K){const be=this.stack.pop();be.value+=this.sliceSerialize(K),be.position.end=il(K.end)}function E(K){const be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=be.children[be.children.length-1];Te.position.end=il(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&a.canContainEols.includes(be.type)&&(de.call(this,K),F.call(this,K))}function X(){this.data.atHardBreak=!0}function se(){const K=this.resume(),be=this.stack[this.stack.length-1];be.value=K}function L(){const K=this.resume(),be=this.stack[this.stack.length-1];be.value=K}function le(){const K=this.resume(),be=this.stack[this.stack.length-1];be.value=K}function $(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=be,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function ne(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const be=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=be,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function ye(K){const be=this.sliceSerialize(K),Te=this.stack[this.stack.length-2];Te.label=EN(be),Te.identifier=ja(be).toLowerCase()}function ke(){const K=this.stack[this.stack.length-1],be=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const Me=K.children;Te.children=Me}else Te.alt=be}function A(){const K=this.resume(),be=this.stack[this.stack.length-1];be.url=K}function N(){const K=this.resume(),be=this.stack[this.stack.length-1];be.title=K}function O(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function Z(K){const be=this.resume(),Te=this.stack[this.stack.length-1];Te.label=be,Te.identifier=ja(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function ue(K){this.data.characterReferenceType=K.type}function ge(K){const be=this.sliceSerialize(K),Te=this.data.characterReferenceType;let Me;Te?(Me=Wx(be,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=pd(be);const $e=this.stack[this.stack.length-1];$e.value+=Me}function Ne(K){const be=this.stack.pop();be.position.end=il(K.end)}function _e(K){F.call(this,K);const be=this.stack[this.stack.length-1];be.url=this.sliceSerialize(K)}function Ee(K){F.call(this,K);const be=this.stack[this.stack.length-1];be.url="mailto:"+this.sliceSerialize(K)}function zt(){return{type:"blockquote",children:[]}}function _t(){return{type:"code",lang:null,meta:null,value:""}}function qn(){return{type:"inlineCode",value:""}}function yt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ft(){return{type:"emphasis",children:[]}}function Sn(){return{type:"heading",depth:0,children:[]}}function xt(){return{type:"break"}}function Wt(){return{type:"html",value:""}}function Xn(){return{type:"image",title:null,url:"",alt:null}}function vt(){return{type:"link",title:null,url:"",children:[]}}function $n(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function In(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function Gt(){return{type:"paragraph",children:[]}}function dn(){return{type:"strong",children:[]}}function St(){return{type:"text",value:""}}function mn(){return{type:"thematicBreak"}}}function il(s){return{line:s.line,column:s.column,offset:s.offset}}function up(s,a){let i=-1;for(;++i<a.length;){const o=a[i];Array.isArray(o)?up(s,o):RN(s,o)}}function RN(s,a){let i;for(i in a)if(cp.call(a,i))switch(i){case"canContainEols":{const o=a[i];o&&s[i].push(...o);break}case"transforms":{const o=a[i];o&&s[i].push(...o);break}case"enter":case"exit":{const o=a[i];o&&Object.assign(s[i],o);break}}}function tx(s,a){throw s?new Error("Cannot close `"+s.type+"` ("+Nr({start:s.start,end:s.end})+"): a different token (`"+a.type+"`, "+Nr({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+Nr({start:a.start,end:a.end})+") is still open")}function MN(s){const a=this;a.parser=i;function i(o){return _N(o,{...a.data("settings"),...s,extensions:a.data("micromarkExtensions")||[],mdastExtensions:a.data("fromMarkdownExtensions")||[]})}}function zN(s,a){const i={type:"element",tagName:"blockquote",properties:{},children:s.wrap(s.all(a),!0)};return s.patch(a,i),s.applyData(a,i)}function LN(s,a){const i={type:"element",tagName:"br",properties:{},children:[]};return s.patch(a,i),[s.applyData(a,i),{type:"text",value:`
`}]}function ON(s,a){const i=a.value?a.value+`
`:"",o={},u=a.lang?a.lang.split(/\s+/):[];u.length>0&&(o.className=["language-"+u[0]]);let d={type:"element",tagName:"code",properties:o,children:[{type:"text",value:i}]};return a.meta&&(d.data={meta:a.meta}),s.patch(a,d),d=s.applyData(a,d),d={type:"element",tagName:"pre",properties:{},children:[d]},s.patch(a,d),d}function BN(s,a){const i={type:"element",tagName:"del",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function UN(s,a){const i={type:"element",tagName:"em",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function HN(s,a){const i=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",o=String(a.identifier).toUpperCase(),u=ka(o.toLowerCase()),d=s.footnoteOrder.indexOf(o);let h,x=s.footnoteCounts.get(o);x===void 0?(x=0,s.footnoteOrder.push(o),h=s.footnoteOrder.length):h=d+1,x+=1,s.footnoteCounts.set(o,x);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+u,id:i+"fnref-"+u+(x>1?"-"+x:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(h)}]};s.patch(a,p);const f={type:"element",tagName:"sup",properties:{},children:[p]};return s.patch(a,f),s.applyData(a,f)}function qN(s,a){const i={type:"element",tagName:"h"+a.depth,properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function $N(s,a){if(s.options.allowDangerousHtml){const i={type:"raw",value:a.value};return s.patch(a,i),s.applyData(a,i)}}function dp(s,a){const i=a.referenceType;let o="]";if(i==="collapsed"?o+="[]":i==="full"&&(o+="["+(a.label||a.identifier)+"]"),a.type==="imageReference")return[{type:"text",value:"!["+a.alt+o}];const u=s.all(a),d=u[0];d&&d.type==="text"?d.value="["+d.value:u.unshift({type:"text",value:"["});const h=u[u.length-1];return h&&h.type==="text"?h.value+=o:u.push({type:"text",value:o}),u}function YN(s,a){const i=String(a.identifier).toUpperCase(),o=s.definitionById.get(i);if(!o)return dp(s,a);const u={src:ka(o.url||""),alt:a.alt};o.title!==null&&o.title!==void 0&&(u.title=o.title);const d={type:"element",tagName:"img",properties:u,children:[]};return s.patch(a,d),s.applyData(a,d)}function VN(s,a){const i={src:ka(a.url)};a.alt!==null&&a.alt!==void 0&&(i.alt=a.alt),a.title!==null&&a.title!==void 0&&(i.title=a.title);const o={type:"element",tagName:"img",properties:i,children:[]};return s.patch(a,o),s.applyData(a,o)}function FN(s,a){const i={type:"text",value:a.value.replace(/\r?\n|\r/g," ")};s.patch(a,i);const o={type:"element",tagName:"code",properties:{},children:[i]};return s.patch(a,o),s.applyData(a,o)}function GN(s,a){const i=String(a.identifier).toUpperCase(),o=s.definitionById.get(i);if(!o)return dp(s,a);const u={href:ka(o.url||"")};o.title!==null&&o.title!==void 0&&(u.title=o.title);const d={type:"element",tagName:"a",properties:u,children:s.all(a)};return s.patch(a,d),s.applyData(a,d)}function PN(s,a){const i={href:ka(a.url)};a.title!==null&&a.title!==void 0&&(i.title=a.title);const o={type:"element",tagName:"a",properties:i,children:s.all(a)};return s.patch(a,o),s.applyData(a,o)}function QN(s,a,i){const o=s.all(a),u=i?XN(i):mp(a),d={},h=[];if(typeof a.checked=="boolean"){const g=o[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},o.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:a.checked,disabled:!0},children:[]}),d.className=["task-list-item"]}let x=-1;for(;++x<o.length;){const g=o[x];(u||x!==0||g.type!=="element"||g.tagName!=="p")&&h.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!u?h.push(...g.children):h.push(g)}const p=o[o.length-1];p&&(u||p.type!=="element"||p.tagName!=="p")&&h.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:d,children:h};return s.patch(a,f),s.applyData(a,f)}function XN(s){let a=!1;if(s.type==="list"){a=s.spread||!1;const i=s.children;let o=-1;for(;!a&&++o<i.length;)a=mp(i[o])}return a}function mp(s){const a=s.spread;return a??s.children.length>1}function IN(s,a){const i={},o=s.all(a);let u=-1;for(typeof a.start=="number"&&a.start!==1&&(i.start=a.start);++u<o.length;){const h=o[u];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const d={type:"element",tagName:a.ordered?"ol":"ul",properties:i,children:s.wrap(o,!0)};return s.patch(a,d),s.applyData(a,d)}function ZN(s,a){const i={type:"element",tagName:"p",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function JN(s,a){const i={type:"root",children:s.wrap(s.all(a))};return s.patch(a,i),s.applyData(a,i)}function KN(s,a){const i={type:"element",tagName:"strong",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function WN(s,a){const i=s.all(a),o=i.shift(),u=[];if(o){const h={type:"element",tagName:"thead",properties:{},children:s.wrap([o],!0)};s.patch(a.children[0],h),u.push(h)}if(i.length>0){const h={type:"element",tagName:"tbody",properties:{},children:s.wrap(i,!0)},x=md(a.children[1]),p=Px(a.children[a.children.length-1]);x&&p&&(h.position={start:x,end:p}),u.push(h)}const d={type:"element",tagName:"table",properties:{},children:s.wrap(u,!0)};return s.patch(a,d),s.applyData(a,d)}function e2(s,a,i){const o=i?i.children:void 0,d=(o?o.indexOf(a):1)===0?"th":"td",h=i&&i.type==="table"?i.align:void 0,x=h?h.length:a.children.length;let p=-1;const f=[];for(;++p<x;){const y=a.children[p],S={},j=h?h[p]:void 0;j&&(S.align=j);let B={type:"element",tagName:d,properties:S,children:[]};y&&(B.children=s.all(y),s.patch(y,B),B=s.applyData(y,B)),f.push(B)}const g={type:"element",tagName:"tr",properties:{},children:s.wrap(f,!0)};return s.patch(a,g),s.applyData(a,g)}function t2(s,a){const i={type:"element",tagName:"td",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}const nx=9,sx=32;function n2(s){const a=String(s),i=/\r?\n|\r/g;let o=i.exec(a),u=0;const d=[];for(;o;)d.push(lx(a.slice(u,o.index),u>0,!0),o[0]),u=o.index+o[0].length,o=i.exec(a);return d.push(lx(a.slice(u),u>0,!1)),d.join("")}function lx(s,a,i){let o=0,u=s.length;if(a){let d=s.codePointAt(o);for(;d===nx||d===sx;)o++,d=s.codePointAt(o)}if(i){let d=s.codePointAt(u-1);for(;d===nx||d===sx;)u--,d=s.codePointAt(u-1)}return u>o?s.slice(o,u):""}function s2(s,a){const i={type:"text",value:n2(String(a.value))};return s.patch(a,i),s.applyData(a,i)}function l2(s,a){const i={type:"element",tagName:"hr",properties:{},children:[]};return s.patch(a,i),s.applyData(a,i)}const a2={blockquote:zN,break:LN,code:ON,delete:BN,emphasis:UN,footnoteReference:HN,heading:qN,html:$N,imageReference:YN,image:VN,inlineCode:FN,linkReference:GN,link:PN,listItem:QN,list:IN,paragraph:ZN,root:JN,strong:KN,table:WN,tableCell:t2,tableRow:e2,text:s2,thematicBreak:l2,toml:Qi,yaml:Qi,definition:Qi,footnoteDefinition:Qi};function Qi(){}const hp=-1,oo=0,Sr=1,to=2,yd=3,vd=4,jd=5,Nd=6,fp=7,xp=8,ax=typeof self=="object"?self:globalThis,r2=(s,a)=>{const i=(u,d)=>(s.set(d,u),u),o=u=>{if(s.has(u))return s.get(u);const[d,h]=a[u];switch(d){case oo:case hp:return i(h,u);case Sr:{const x=i([],u);for(const p of h)x.push(o(p));return x}case to:{const x=i({},u);for(const[p,f]of h)x[o(p)]=o(f);return x}case yd:return i(new Date(h),u);case vd:{const{source:x,flags:p}=h;return i(new RegExp(x,p),u)}case jd:{const x=i(new Map,u);for(const[p,f]of h)x.set(o(p),o(f));return x}case Nd:{const x=i(new Set,u);for(const p of h)x.add(o(p));return x}case fp:{const{name:x,message:p}=h;return i(new ax[x](p),u)}case xp:return i(BigInt(h),u);case"BigInt":return i(Object(BigInt(h)),u);case"ArrayBuffer":return i(new Uint8Array(h).buffer,h);case"DataView":{const{buffer:x}=new Uint8Array(h);return i(new DataView(x),h)}}return i(new ax[d](h),u)};return o},rx=s=>r2(new Map,s)(0),ba="",{toString:i2}={},{keys:o2}=Object,jr=s=>{const a=typeof s;if(a!=="object"||!s)return[oo,a];const i=i2.call(s).slice(8,-1);switch(i){case"Array":return[Sr,ba];case"Object":return[to,ba];case"Date":return[yd,ba];case"RegExp":return[vd,ba];case"Map":return[jd,ba];case"Set":return[Nd,ba];case"DataView":return[Sr,i]}return i.includes("Array")?[Sr,i]:i.includes("Error")?[fp,i]:[to,i]},Xi=([s,a])=>s===oo&&(a==="function"||a==="symbol"),c2=(s,a,i,o)=>{const u=(h,x)=>{const p=o.push(h)-1;return i.set(x,p),p},d=h=>{if(i.has(h))return i.get(h);let[x,p]=jr(h);switch(x){case oo:{let g=h;switch(p){case"bigint":x=xp,g=h.toString();break;case"function":case"symbol":if(s)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return u([hp],h)}return u([x,g],h)}case Sr:{if(p){let S=h;return p==="DataView"?S=new Uint8Array(h.buffer):p==="ArrayBuffer"&&(S=new Uint8Array(h)),u([p,[...S]],h)}const g=[],y=u([x,g],h);for(const S of h)g.push(d(S));return y}case to:{if(p)switch(p){case"BigInt":return u([p,h.toString()],h);case"Boolean":case"Number":case"String":return u([p,h.valueOf()],h)}if(a&&"toJSON"in h)return d(h.toJSON());const g=[],y=u([x,g],h);for(const S of o2(h))(s||!Xi(jr(h[S])))&&g.push([d(S),d(h[S])]);return y}case yd:return u([x,h.toISOString()],h);case vd:{const{source:g,flags:y}=h;return u([x,{source:g,flags:y}],h)}case jd:{const g=[],y=u([x,g],h);for(const[S,j]of h)(s||!(Xi(jr(S))||Xi(jr(j))))&&g.push([d(S),d(j)]);return y}case Nd:{const g=[],y=u([x,g],h);for(const S of h)(s||!Xi(jr(S)))&&g.push(d(S));return y}}const{message:f}=h;return u([x,{name:p,message:f}],h)};return d},ix=(s,{json:a,lossy:i}={})=>{const o=[];return c2(!(a||i),!!a,new Map,o)(s),o},no=typeof structuredClone=="function"?(s,a)=>a&&("json"in a||"lossy"in a)?rx(ix(s,a)):structuredClone(s):(s,a)=>rx(ix(s,a));function u2(s,a){const i=[{type:"text",value:""}];return a>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(a)}]}),i}function d2(s,a){return"Back to reference "+(s+1)+(a>1?"-"+a:"")}function m2(s){const a=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",i=s.options.footnoteBackContent||u2,o=s.options.footnoteBackLabel||d2,u=s.options.footnoteLabel||"Footnotes",d=s.options.footnoteLabelTagName||"h2",h=s.options.footnoteLabelProperties||{className:["sr-only"]},x=[];let p=-1;for(;++p<s.footnoteOrder.length;){const f=s.footnoteById.get(s.footnoteOrder[p]);if(!f)continue;const g=s.all(f),y=String(f.identifier).toUpperCase(),S=ka(y.toLowerCase());let j=0;const B=[],C=s.footnoteCounts.get(y);for(;C!==void 0&&++j<=C;){B.length>0&&B.push({type:"text",value:" "});let M=typeof i=="string"?i:i(p,j);typeof M=="string"&&(M={type:"text",value:M}),B.push({type:"element",tagName:"a",properties:{href:"#"+a+"fnref-"+S+(j>1?"-"+j:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(p,j),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const H=g[g.length-1];if(H&&H.type==="element"&&H.tagName==="p"){const M=H.children[H.children.length-1];M&&M.type==="text"?M.value+=" ":H.children.push({type:"text",value:" "}),H.children.push(...B)}else g.push(...B);const k={type:"element",tagName:"li",properties:{id:a+"fn-"+S},children:s.wrap(g,!0)};s.patch(f,k),x.push(k)}if(x.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:d,properties:{...no(h),id:"footnote-label"},children:[{type:"text",value:u}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:s.wrap(x,!0)},{type:"text",value:`
`}]}}const pp=(function(s){if(s==null)return p2;if(typeof s=="function")return co(s);if(typeof s=="object")return Array.isArray(s)?h2(s):f2(s);if(typeof s=="string")return x2(s);throw new Error("Expected function, string, or object as test")});function h2(s){const a=[];let i=-1;for(;++i<s.length;)a[i]=pp(s[i]);return co(o);function o(...u){let d=-1;for(;++d<a.length;)if(a[d].apply(this,u))return!0;return!1}}function f2(s){const a=s;return co(i);function i(o){const u=o;let d;for(d in s)if(u[d]!==a[d])return!1;return!0}}function x2(s){return co(a);function a(i){return i&&i.type===s}}function co(s){return a;function a(i,o,u){return!!(g2(i)&&s.call(this,i,typeof o=="number"?o:void 0,u||void 0))}}function p2(){return!0}function g2(s){return s!==null&&typeof s=="object"&&"type"in s}const gp=[],b2=!0,ox=!1,y2="skip";function v2(s,a,i,o){let u;typeof a=="function"&&typeof i!="function"?(o=i,i=a):u=a;const d=pp(u),h=o?-1:1;x(s,void 0,[])();function x(p,f,g){const y=p&&typeof p=="object"?p:{};if(typeof y.type=="string"){const j=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(S,"name",{value:"node ("+(p.type+(j?"<"+j+">":""))+")"})}return S;function S(){let j=gp,B,C,H;if((!a||d(p,f,g[g.length-1]||void 0))&&(j=j2(i(p,g)),j[0]===ox))return j;if("children"in p&&p.children){const k=p;if(k.children&&j[0]!==y2)for(C=(o?k.children.length:-1)+h,H=g.concat(k);C>-1&&C<k.children.length;){const M=k.children[C];if(B=x(M,C,H)(),B[0]===ox)return B;C=typeof B[1]=="number"?B[1]:C+h}}return j}}}function j2(s){return Array.isArray(s)?s:typeof s=="number"?[b2,s]:s==null?gp:[s]}function bp(s,a,i,o){let u,d,h;typeof a=="function"&&typeof i!="function"?(d=void 0,h=a,u=i):(d=a,h=i,u=o),v2(s,d,x,u);function x(p,f){const g=f[f.length-1],y=g?g.children.indexOf(p):void 0;return h(p,y,g)}}const Ju={}.hasOwnProperty,N2={};function w2(s,a){const i=a||N2,o=new Map,u=new Map,d=new Map,h={...a2,...i.handlers},x={all:f,applyData:T2,definitionById:o,footnoteById:u,footnoteCounts:d,footnoteOrder:[],handlers:h,one:p,options:i,patch:S2,wrap:C2};return bp(s,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?o:u,S=String(g.identifier).toUpperCase();y.has(S)||y.set(S,g)}}),x;function p(g,y){const S=g.type,j=x.handlers[S];if(Ju.call(x.handlers,S)&&j)return j(x,g,y);if(x.options.passThrough&&x.options.passThrough.includes(S)){if("children"in g){const{children:C,...H}=g,k=no(H);return k.children=x.all(g),k}return no(g)}return(x.options.unknownHandler||k2)(x,g,y)}function f(g){const y=[];if("children"in g){const S=g.children;let j=-1;for(;++j<S.length;){const B=x.one(S[j],g);if(B){if(j&&S[j-1].type==="break"&&(!Array.isArray(B)&&B.type==="text"&&(B.value=cx(B.value)),!Array.isArray(B)&&B.type==="element")){const C=B.children[0];C&&C.type==="text"&&(C.value=cx(C.value))}Array.isArray(B)?y.push(...B):y.push(B)}}}return y}}function S2(s,a){s.position&&(a.position=ij(s))}function T2(s,a){let i=a;if(s&&s.data){const o=s.data.hName,u=s.data.hChildren,d=s.data.hProperties;if(typeof o=="string")if(i.type==="element")i.tagName=o;else{const h="children"in i?i.children:[i];i={type:"element",tagName:o,properties:{},children:h}}i.type==="element"&&d&&Object.assign(i.properties,no(d)),"children"in i&&i.children&&u!==null&&u!==void 0&&(i.children=u)}return i}function k2(s,a){const i=a.data||{},o="value"in a&&!(Ju.call(i,"hProperties")||Ju.call(i,"hChildren"))?{type:"text",value:a.value}:{type:"element",tagName:"div",properties:{},children:s.all(a)};return s.patch(a,o),s.applyData(a,o)}function C2(s,a){const i=[];let o=-1;for(a&&i.push({type:"text",value:`
`});++o<s.length;)o&&i.push({type:"text",value:`
`}),i.push(s[o]);return a&&s.length>0&&i.push({type:"text",value:`
`}),i}function cx(s){let a=0,i=s.charCodeAt(a);for(;i===9||i===32;)a++,i=s.charCodeAt(a);return s.slice(a)}function ux(s,a){const i=w2(s,a),o=i.one(s,void 0),u=m2(i),d=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return u&&d.children.push({type:"text",value:`
`},u),d}function E2(s,a){return s&&"run"in s?async function(i,o){const u=ux(i,{file:o,...a});await s.run(u,o)}:function(i,o){return ux(i,{file:o,...s||a})}}function dx(s){if(s)throw s}var Ru,mx;function A2(){if(mx)return Ru;mx=1;var s=Object.prototype.hasOwnProperty,a=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u=function(f){return typeof Array.isArray=="function"?Array.isArray(f):a.call(f)==="[object Array]"},d=function(f){if(!f||a.call(f)!=="[object Object]")return!1;var g=s.call(f,"constructor"),y=f.constructor&&f.constructor.prototype&&s.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!y)return!1;var S;for(S in f);return typeof S>"u"||s.call(f,S)},h=function(f,g){i&&g.name==="__proto__"?i(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},x=function(f,g){if(g==="__proto__")if(s.call(f,g)){if(o)return o(f,g).value}else return;return f[g]};return Ru=function p(){var f,g,y,S,j,B,C=arguments[0],H=1,k=arguments.length,M=!1;for(typeof C=="boolean"&&(M=C,C=arguments[1]||{},H=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});H<k;++H)if(f=arguments[H],f!=null)for(g in f)y=x(C,g),S=x(f,g),C!==S&&(M&&S&&(d(S)||(j=u(S)))?(j?(j=!1,B=y&&u(y)?y:[]):B=y&&d(y)?y:{},h(C,{name:g,newValue:p(M,B,S)})):typeof S<"u"&&h(C,{name:g,newValue:S}));return C},Ru}var _2=A2();const Mu=so(_2);function Ku(s){if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)}function D2(){const s=[],a={run:i,use:o};return a;function i(...u){let d=-1;const h=u.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);x(null,...u);function x(p,...f){const g=s[++d];let y=-1;if(p){h(p);return}for(;++y<u.length;)(f[y]===null||f[y]===void 0)&&(f[y]=u[y]);u=f,g?R2(g,x)(...f):h(null,...f)}}function o(u){if(typeof u!="function")throw new TypeError("Expected `middelware` to be a function, not "+u);return s.push(u),a}}function R2(s,a){let i;return o;function o(...h){const x=s.length>h.length;let p;x&&h.push(u);try{p=s.apply(this,h)}catch(f){const g=f;if(x&&i)throw g;return u(g)}x||(p&&p.then&&typeof p.then=="function"?p.then(d,u):p instanceof Error?u(p):d(p))}function u(h,...x){i||(i=!0,a(h,...x))}function d(h){u(null,h)}}const ls={basename:M2,dirname:z2,extname:L2,join:O2,sep:"/"};function M2(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');_r(s);let i=0,o=-1,u=s.length,d;if(a===void 0||a.length===0||a.length>s.length){for(;u--;)if(s.codePointAt(u)===47){if(d){i=u+1;break}}else o<0&&(d=!0,o=u+1);return o<0?"":s.slice(i,o)}if(a===s)return"";let h=-1,x=a.length-1;for(;u--;)if(s.codePointAt(u)===47){if(d){i=u+1;break}}else h<0&&(d=!0,h=u+1),x>-1&&(s.codePointAt(u)===a.codePointAt(x--)?x<0&&(o=u):(x=-1,o=h));return i===o?o=h:o<0&&(o=s.length),s.slice(i,o)}function z2(s){if(_r(s),s.length===0)return".";let a=-1,i=s.length,o;for(;--i;)if(s.codePointAt(i)===47){if(o){a=i;break}}else o||(o=!0);return a<0?s.codePointAt(0)===47?"/":".":a===1&&s.codePointAt(0)===47?"//":s.slice(0,a)}function L2(s){_r(s);let a=s.length,i=-1,o=0,u=-1,d=0,h;for(;a--;){const x=s.codePointAt(a);if(x===47){if(h){o=a+1;break}continue}i<0&&(h=!0,i=a+1),x===46?u<0?u=a:d!==1&&(d=1):u>-1&&(d=-1)}return u<0||i<0||d===0||d===1&&u===i-1&&u===o+1?"":s.slice(u,i)}function O2(...s){let a=-1,i;for(;++a<s.length;)_r(s[a]),s[a]&&(i=i===void 0?s[a]:i+"/"+s[a]);return i===void 0?".":B2(i)}function B2(s){_r(s);const a=s.codePointAt(0)===47;let i=U2(s,!a);return i.length===0&&!a&&(i="."),i.length>0&&s.codePointAt(s.length-1)===47&&(i+="/"),a?"/"+i:i}function U2(s,a){let i="",o=0,u=-1,d=0,h=-1,x,p;for(;++h<=s.length;){if(h<s.length)x=s.codePointAt(h);else{if(x===47)break;x=47}if(x===47){if(!(u===h-1||d===1))if(u!==h-1&&d===2){if(i.length<2||o!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",o=0):(i=i.slice(0,p),o=i.length-1-i.lastIndexOf("/")),u=h,d=0;continue}}else if(i.length>0){i="",o=0,u=h,d=0;continue}}a&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+s.slice(u+1,h):i=s.slice(u+1,h),o=h-u-1;u=h,d=0}else x===46&&d>-1?d++:d=-1}return i}function _r(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}const H2={cwd:q2};function q2(){return"/"}function Wu(s){return!!(s!==null&&typeof s=="object"&&"href"in s&&s.href&&"protocol"in s&&s.protocol&&s.auth===void 0)}function $2(s){if(typeof s=="string")s=new URL(s);else if(!Wu(s)){const a=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+s+"`");throw a.code="ERR_INVALID_ARG_TYPE",a}if(s.protocol!=="file:"){const a=new TypeError("The URL must be of scheme file");throw a.code="ERR_INVALID_URL_SCHEME",a}return Y2(s)}function Y2(s){if(s.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const a=s.pathname;let i=-1;for(;++i<a.length;)if(a.codePointAt(i)===37&&a.codePointAt(i+1)===50){const o=a.codePointAt(i+2);if(o===70||o===102){const u=new TypeError("File URL path must not include encoded / characters");throw u.code="ERR_INVALID_FILE_URL_PATH",u}}return decodeURIComponent(a)}const zu=["history","path","basename","stem","extname","dirname"];class yp{constructor(a){let i;a?Wu(a)?i={path:a}:typeof a=="string"||V2(a)?i={value:a}:i=a:i={},this.cwd="cwd"in i?"":H2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<zu.length;){const d=zu[o];d in i&&i[d]!==void 0&&i[d]!==null&&(this[d]=d==="history"?[...i[d]]:i[d])}let u;for(u in i)zu.includes(u)||(this[u]=i[u])}get basename(){return typeof this.path=="string"?ls.basename(this.path):void 0}set basename(a){Ou(a,"basename"),Lu(a,"basename"),this.path=ls.join(this.dirname||"",a)}get dirname(){return typeof this.path=="string"?ls.dirname(this.path):void 0}set dirname(a){hx(this.basename,"dirname"),this.path=ls.join(a||"",this.basename)}get extname(){return typeof this.path=="string"?ls.extname(this.path):void 0}set extname(a){if(Lu(a,"extname"),hx(this.dirname,"extname"),a){if(a.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(a.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ls.join(this.dirname,this.stem+(a||""))}get path(){return this.history[this.history.length-1]}set path(a){Wu(a)&&(a=$2(a)),Ou(a,"path"),this.path!==a&&this.history.push(a)}get stem(){return typeof this.path=="string"?ls.basename(this.path,this.extname):void 0}set stem(a){Ou(a,"stem"),Lu(a,"stem"),this.path=ls.join(this.dirname||"",a+(this.extname||""))}fail(a,i,o){const u=this.message(a,i,o);throw u.fatal=!0,u}info(a,i,o){const u=this.message(a,i,o);return u.fatal=void 0,u}message(a,i,o){const u=new Xt(a,i,o);return this.path&&(u.name=this.path+":"+u.name,u.file=this.path),u.fatal=!1,this.messages.push(u),u}toString(a){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(a||void 0).decode(this.value)}}function Lu(s,a){if(s&&s.includes(ls.sep))throw new Error("`"+a+"` cannot be a path: did not expect `"+ls.sep+"`")}function Ou(s,a){if(!s)throw new Error("`"+a+"` cannot be empty")}function hx(s,a){if(!s)throw new Error("Setting `"+a+"` requires `path` to be set too")}function V2(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const F2=(function(s){const o=this.constructor.prototype,u=o[s],d=function(){return u.apply(d,arguments)};return Object.setPrototypeOf(d,o),d}),G2={}.hasOwnProperty;class wd extends F2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=D2()}copy(){const a=new wd;let i=-1;for(;++i<this.attachers.length;){const o=this.attachers[i];a.use(...o)}return a.data(Mu(!0,{},this.namespace)),a}data(a,i){return typeof a=="string"?arguments.length===2?(Hu("data",this.frozen),this.namespace[a]=i,this):G2.call(this.namespace,a)&&this.namespace[a]||void 0:a?(Hu("data",this.frozen),this.namespace=a,this):this.namespace}freeze(){if(this.frozen)return this;const a=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const u=i.call(a,...o);typeof u=="function"&&this.transformers.use(u)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(a){this.freeze();const i=Ii(a),o=this.parser||this.Parser;return Bu("parse",o),o(String(i),i)}process(a,i){const o=this;return this.freeze(),Bu("process",this.parser||this.Parser),Uu("process",this.compiler||this.Compiler),i?u(void 0,i):new Promise(u);function u(d,h){const x=Ii(a),p=o.parse(x);o.run(p,x,function(g,y,S){if(g||!y||!S)return f(g);const j=y,B=o.stringify(j,S);X2(B)?S.value=B:S.result=B,f(g,S)});function f(g,y){g||!y?h(g):d?d(y):i(void 0,y)}}}processSync(a){let i=!1,o;return this.freeze(),Bu("processSync",this.parser||this.Parser),Uu("processSync",this.compiler||this.Compiler),this.process(a,u),xx("processSync","process",i),o;function u(d,h){i=!0,dx(d),o=h}}run(a,i,o){fx(a),this.freeze();const u=this.transformers;return!o&&typeof i=="function"&&(o=i,i=void 0),o?d(void 0,o):new Promise(d);function d(h,x){const p=Ii(i);u.run(a,p,f);function f(g,y,S){const j=y||a;g?x(g):h?h(j):o(void 0,j,S)}}}runSync(a,i){let o=!1,u;return this.run(a,i,d),xx("runSync","run",o),u;function d(h,x){dx(h),u=x,o=!0}}stringify(a,i){this.freeze();const o=Ii(i),u=this.compiler||this.Compiler;return Uu("stringify",u),fx(a),u(a,o)}use(a,...i){const o=this.attachers,u=this.namespace;if(Hu("use",this.frozen),a!=null)if(typeof a=="function")p(a,i);else if(typeof a=="object")Array.isArray(a)?x(a):h(a);else throw new TypeError("Expected usable value, not `"+a+"`");return this;function d(f){if(typeof f=="function")p(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[g,...y]=f;p(g,y)}else h(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function h(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");x(f.plugins),f.settings&&(u.settings=Mu(!0,u.settings,f.settings))}function x(f){let g=-1;if(f!=null)if(Array.isArray(f))for(;++g<f.length;){const y=f[g];d(y)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function p(f,g){let y=-1,S=-1;for(;++y<o.length;)if(o[y][0]===f){S=y;break}if(S===-1)o.push([f,...g]);else if(g.length>0){let[j,...B]=g;const C=o[S][1];Ku(C)&&Ku(j)&&(j=Mu(!0,C,j)),o[S]=[f,j,...B]}}}}const P2=new wd().freeze();function Bu(s,a){if(typeof a!="function")throw new TypeError("Cannot `"+s+"` without `parser`")}function Uu(s,a){if(typeof a!="function")throw new TypeError("Cannot `"+s+"` without `compiler`")}function Hu(s,a){if(a)throw new Error("Cannot call `"+s+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function fx(s){if(!Ku(s)||typeof s.type!="string")throw new TypeError("Expected node, got `"+s+"`")}function xx(s,a,i){if(!i)throw new Error("`"+s+"` finished async. Use `"+a+"` instead")}function Ii(s){return Q2(s)?s:new yp(s)}function Q2(s){return!!(s&&typeof s=="object"&&"message"in s&&"messages"in s)}function X2(s){return typeof s=="string"||I2(s)}function I2(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const Z2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",px=[],gx={allowDangerousHtml:!0},J2=/^(https?|ircs?|mailto|xmpp)$/i,K2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function W2(s){const a=ew(s),i=tw(s);return nw(a.runSync(a.parse(i),i),s)}function ew(s){const a=s.rehypePlugins||px,i=s.remarkPlugins||px,o=s.remarkRehypeOptions?{...s.remarkRehypeOptions,...gx}:gx;return P2().use(MN).use(i).use(E2,o).use(a)}function tw(s){const a=s.children||"",i=new yp;return typeof a=="string"&&(i.value=a),i}function nw(s,a){const i=a.allowedElements,o=a.allowElement,u=a.components,d=a.disallowedElements,h=a.skipHtml,x=a.unwrapDisallowed,p=a.urlTransform||sw;for(const g of K2)Object.hasOwn(a,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+Z2+g.id,void 0);return bp(s,f),mj(s,{Fragment:t.Fragment,components:u,ignoreInvalidStyle:!0,jsx:t.jsx,jsxs:t.jsxs,passKeys:!0,passNode:!0});function f(g,y,S){if(g.type==="raw"&&S&&typeof y=="number")return h?S.children.splice(y,1):S.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let j;for(j in Au)if(Object.hasOwn(Au,j)&&Object.hasOwn(g.properties,j)){const B=g.properties[j],C=Au[j];(C===null||C.includes(g.tagName))&&(g.properties[j]=p(String(B||""),j,g))}}if(g.type==="element"){let j=i?!i.includes(g.tagName):d?d.includes(g.tagName):!1;if(!j&&o&&typeof y=="number"&&(j=!o(g,y,S)),j&&S&&typeof y=="number")return x&&g.children?S.children.splice(y,1,...g.children):S.children.splice(y,1),y}}}function sw(s){const a=s.indexOf(":"),i=s.indexOf("?"),o=s.indexOf("#"),u=s.indexOf("/");return a===-1||u!==-1&&a>u||i!==-1&&a>i||o!==-1&&a>o||J2.test(s.slice(0,a))?s:""}const lw=()=>{const{user:s}=Mt(),[a,i]=T.useState([]),[o,u]=T.useState(""),[d,h]=T.useState(!1),[x,p]=T.useState(!0),[f,g]=T.useState(null),y=T.useRef(null),S=()=>{y.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{S()},[a]),T.useEffect(()=>{j()},[]);const j=async()=>{try{p(!0);const M=localStorage.getItem("token"),U=await fetch("http://localhost:5000/api/ai-chat/history?limit=50",{headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}}),ae=await U.json();if(U.ok&&ae.success){const pe=ae.data.map((Y,q)=>({id:q+1,type:Y.role==="user"?"user":"bot",text:Y.message,timestamp:new Date(Y.created_at).toLocaleTimeString()}));i(pe),pe.length===0&&i([{id:1,type:"bot",text:`Hello ${s?.full_name||s?.name||"there"}!  I'm your AI assistant powered by Grok. I can help you with tutoring questions, learning strategies, scheduling help, and much more. How can I assist you today?`,timestamp:new Date().toLocaleTimeString()}])}else g("Failed to load chat history")}catch(M){console.error("Error fetching chat history:",M),g("Failed to connect to AI service"),i([{id:1,type:"bot",text:`Hello ${s?.full_name||s?.name||"there"}!  I'm your AI assistant. How can I help you today?`,timestamp:new Date().toLocaleTimeString()}])}finally{p(!1)}},B=async()=>{if(!o.trim()||d)return;const M=o.trim(),U={id:a.length+1,type:"user",text:M,timestamp:new Date().toLocaleTimeString()};i(ae=>[...ae,U]),u(""),h(!0),g(null);try{const ae=localStorage.getItem("token"),pe=await fetch("http://localhost:5000/api/ai-chat/message",{method:"POST",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify({message:M})}),Y=await pe.json();if(pe.ok&&Y.success){const q={id:a.length+2,type:"bot",text:Y.data.aiResponse.message,timestamp:new Date(Y.data.aiResponse.created_at).toLocaleTimeString()};i(me=>[...me,q])}else g(Y.message||"Failed to get AI response"),i(q=>q.filter(me=>me.id!==U.id))}catch(ae){console.error("Error sending message:",ae),g("Failed to send message. Please try again."),i(pe=>pe.filter(Y=>Y.id!==U.id))}finally{h(!1)}},C=s?.account_type==="tutor"?["How can I improve my teaching methods?","Tips for managing my tutoring schedule","How to prepare lesson materials?","Strategies for engaging students","Help with responding to reviews","Growing my tutoring business"]:["Help me understand a concept","Study tips for my exams","How to find the right tutor?","Prepare for a tutoring session","Explain a difficult topic","Time management strategies"],H=M=>{u(M)},k=async()=>{if(confirm("Are you sure you want to clear all chat history? This cannot be undone."))try{const M=localStorage.getItem("token"),U=await fetch("http://localhost:5000/api/ai-chat/history",{method:"DELETE",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}}),ae=await U.json();U.ok&&ae.success?i([{id:1,type:"bot",text:`Hello ${s?.full_name||s?.name||"there"}!  I'm your AI assistant. How can I help you today?`,timestamp:new Date().toLocaleTimeString()}]):g("Failed to clear chat history")}catch(M){console.error("Error clearing chat history:",M),g("Failed to clear chat history")}};return x?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center mx-auto mb-4 animate-pulse",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("p",{className:"text-slate-400",children:"Loading your AI assistant..."})]})}):t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center justify-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsx("span",{children:"AI Assistant"})]}),t.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[t.jsx("p",{className:"text-slate-400 text-lg",children:"Powered by Grok AI"}),a.length>1&&t.jsx("button",{onClick:k,className:"text-sm text-slate-500 hover:text-red-400 transition-colors",children:"Clear History"})]})]}),f&&t.jsx("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/50 rounded-lg text-red-400 text-sm",children:f}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm overflow-hidden",style:{height:"calc(100vh - 280px)"},children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",style:{height:"calc(100% - 140px)"},children:[a.map(M=>t.jsx("div",{className:`flex ${M.type==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-3xl flex items-start space-x-3 ${M.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${M.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-purple-500 to-pink-600"}`,children:t.jsx("span",{className:"text-white text-sm",children:M.type==="user"?"":""})}),t.jsxs("div",{className:`px-4 py-3 rounded-2xl ${M.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-slate-800/50 border border-slate-700/50 text-white"}`,children:[t.jsx("div",{className:"text-sm leading-relaxed prose prose-invert prose-sm max-w-none prose-p:my-2 prose-ul:my-2 prose-ol:my-2 prose-li:my-1 prose-strong:text-white prose-code:text-purple-300 prose-code:bg-slate-900/50 prose-code:px-1 prose-code:py-0.5 prose-code:rounded",children:t.jsx(W2,{children:M.text})}),t.jsx("p",{className:`text-xs mt-2 ${M.type==="user"?"text-blue-100":"text-slate-400"}`,children:M.timestamp})]})]})},M.id)),t.jsx("div",{ref:y}),d&&t.jsx("div",{className:"flex justify-start",children:t.jsxs("div",{className:"max-w-3xl flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-600 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white text-sm",children:""})}),t.jsx("div",{className:"px-4 py-3 rounded-2xl bg-slate-800/50 border border-slate-700/50",children:t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})]}),a.length<=1&&t.jsxs("div",{className:"px-6 py-4 border-t border-slate-800/50",children:[t.jsx("h3",{className:"text-slate-300 text-sm font-medium mb-3",children:"Quick questions to get started:"}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:C.map((M,U)=>t.jsx("button",{onClick:()=>H(M),className:"px-3 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-slate-300 text-sm hover:bg-slate-700/50 transition-colors text-left",children:M},U))})]}),t.jsxs("div",{className:"p-6 border-t border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800/50 transition-colors",children:t.jsx("span",{className:"text-xl",children:""})}),t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",value:o,onChange:M=>u(M.target.value),onKeyPress:M=>M.key==="Enter"&&B(),placeholder:"Ask me anything...",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-purple-500/50 pr-12",disabled:d}),t.jsx("button",{onClick:B,disabled:!o.trim()||d,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-purple-400 hover:text-purple-300 transition-colors disabled:text-slate-500 disabled:cursor-not-allowed",children:t.jsx("span",{className:"text-xl",children:""})})]}),t.jsx("button",{className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800/50 transition-colors",children:t.jsx("span",{className:"text-xl",children:""})})]}),t.jsx("div",{className:"mt-2 text-center",children:t.jsx("p",{className:"text-slate-500 text-xs",children:"AI can make mistakes. Please verify important information and use your judgment."})})]})]})]})})};const aw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,o)=>o?o.toUpperCase():i.toLowerCase()),bx=s=>{const a=rw(s);return a.charAt(0).toUpperCase()+a.slice(1)},vp=(...s)=>s.filter((a,i,o)=>!!a&&a.trim()!==""&&o.indexOf(a)===i).join(" ").trim(),iw=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var ow={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const cw=T.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:h,...x},p)=>T.createElement("svg",{ref:p,...ow,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:vp("lucide",u),...!d&&!iw(x)&&{"aria-hidden":"true"},...x},[...h.map(([f,g])=>T.createElement(f,g)),...Array.isArray(d)?d:[d]]));const cl=(s,a)=>{const i=T.forwardRef(({className:o,...u},d)=>T.createElement(cw,{ref:d,iconNode:a,className:vp(`lucide-${aw(bx(s))}`,`lucide-${s}`,o),...u}));return i.displayName=bx(s),i};const uw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dw=cl("calendar",uw);const mw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hw=cl("circle-check",mw);const fw=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yx=cl("circle-play",fw);const xw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ed=cl("clock",xw);const pw=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],gw=cl("ellipsis",pw);const bw=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yw=cl("pen-line",bw);const vw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jw=cl("plus",vw);const Nw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ww=cl("trash-2",Nw),Sw=()=>{const{user:s}=Mt(),[a,i]=T.useState([]),[o,u]=T.useState([]),[d,h]=T.useState([]),[x,p]=T.useState(!0),[f,g]=T.useState(!1),[y,S]=T.useState(null),[j,B]=T.useState("all"),[C,H]=T.useState("due_date"),[k,M]=T.useState(""),[U,ae]=T.useState({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",dueDate:"",status:"pending",progress:0}),[pe,Y]=T.useState({});T.useEffect(()=>{q(),me()},[]),T.useEffect(()=>{de()},[a,j,C,k]);const q=async()=>{try{p(!0);const v=await Dl.getTasks();v.success&&i(v.data)}catch(v){console.error("Error fetching tasks:",v)}finally{p(!1)}},me=async()=>{try{const v=await ro.getSubjects();v.success&&h(v.data)}catch(v){console.error("Error fetching subjects:",v),h([{name:"Mathematics"},{name:"Physics"},{name:"Chemistry"},{name:"Biology"},{name:"Computer Science"},{name:"English"},{name:"History"},{name:"Other"}])}},de=()=>{let v=[...a];k&&(v=v.filter(Z=>Z.title.toLowerCase().includes(k.toLowerCase())||Z.subject.toLowerCase().includes(k.toLowerCase())||Z.description?.toLowerCase().includes(k.toLowerCase()))),j!=="all"&&(v=v.filter(Z=>Z.status===j)),v.sort((Z,ue)=>{switch(C){case"due_date":return new Date(Z.due_date)-new Date(ue.due_date);case"priority":const ge={high:3,medium:2,low:1};return ge[ue.priority]-ge[Z.priority];case"created_at":return new Date(ue.created_at)-new Date(Z.created_at);case"progress":return ue.progress-Z.progress;default:return 0}}),u(v)},F=async()=>{try{Y({});const v={};if(U.title.trim()||(v.title="Title is required"),U.subject.trim()||(v.subject="Subject is required"),U.dueDate||(v.dueDate="Due date is required"),Object.keys(v).length>0){Y(v);return}(await Dl.createTask({...U,due:U.dueDate})).success&&(await q(),g(!1),$())}catch(v){console.error("Error creating task:",v),Y({general:"Failed to create task. Please try again."})}},E=async()=>{try{Y({}),(await Dl.updateTask(y.id,{...U,due:U.dueDate})).success&&(await q(),g(!1),S(null),$())}catch(v){console.error("Error updating task:",v),Y({general:"Failed to update task. Please try again."})}},X=async v=>{if(window.confirm("Are you sure you want to delete this task?"))try{(await Dl.deleteTask(v)).success&&await q()}catch(Z){console.error("Error deleting task:",Z)}},se=async(v,Z,ue=null)=>{try{const ge={status:Z};ue!==null&&(ge.progress=ue),(await Dl.updateTask(v,ge)).success&&await q()}catch(ge){console.error("Error updating task status:",ge)}},L=async(v,Z)=>{try{const ue=Z===100?"completed":Z>0?"in-progress":"pending";(await Dl.updateTask(v,{progress:Z,status:ue})).success&&await q()}catch(ue){console.error("Error updating task progress:",ue)}},le=(v=null)=>{v?(S(v),ae({title:v.title,description:v.description||"",subject:v.subject,priority:v.priority,estimatedTime:v.estimated_time||"",dueDate:v.due_date,status:v.status,progress:v.progress})):(S(null),$()),g(!0),Y({})},$=()=>{ae({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",dueDate:"",status:"pending",progress:0})},ne=v=>{switch(v){case"high":return"text-red-400 bg-red-500/20";case"medium":return"text-yellow-400 bg-yellow-500/20";case"low":return"text-green-400 bg-green-500/20";default:return"text-gray-400 bg-gray-500/20"}},ye=v=>{switch(v){case"completed":return"text-green-400 bg-green-500/20";case"in-progress":return"text-blue-400 bg-blue-500/20";case"started":return"text-yellow-400 bg-yellow-500/20";case"pending":return"text-gray-400 bg-gray-500/20";default:return"text-gray-400 bg-gray-500/20"}},ke=v=>{switch(v){case"completed":return t.jsx(hw,{className:"w-4 h-4"});case"in-progress":return t.jsx(yx,{className:"w-4 h-4"});case"started":return t.jsx(yx,{className:"w-4 h-4"});case"pending":return t.jsx(ed,{className:"w-4 h-4"});default:return t.jsx(ed,{className:"w-4 h-4"})}},A=v=>new Date(v)<new Date&&new Date(v).toDateString()!==new Date().toDateString(),O=(()=>{const v=a.length,Z=a.filter(Ne=>Ne.status==="completed").length,ue=a.filter(Ne=>Ne.status==="in-progress"||Ne.status==="started").length,ge=a.filter(Ne=>A(Ne.due_date)&&Ne.status!=="completed").length;return{total:v,completed:Z,inProgress:ue,overdue:ge}})();return x?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-lg",children:"Loading tasks..."})}):t.jsxs("div",{className:"min-h-screen bg-slate-950",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:" Tasks"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Manage your academic tasks and track progress"})]}),t.jsxs("button",{onClick:()=>le(),className:"mt-4 md:mt-0 flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[t.jsx(jw,{className:"w-5 h-5"}),t.jsx("span",{children:"Add Task"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:O.total}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Tasks"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 mb-1",children:O.completed}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:O.inProgress}),t.jsx("div",{className:"text-slate-400 text-sm",children:"In Progress"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-red-400 mb-1",children:O.overdue}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Overdue"})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",placeholder:"Search tasks...",value:k,onChange:v=>M(v.target.value),className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-800/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500"})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{value:j,onChange:v=>B(v.target.value),className:"px-4 py-3 bg-slate-900/50 border border-slate-800/50 rounded-xl text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsxs("select",{value:C,onChange:v=>H(v.target.value),className:"px-4 py-3 bg-slate-900/50 border border-slate-800/50 rounded-xl text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"due_date",children:"Due Date"}),t.jsx("option",{value:"priority",children:"Priority"}),t.jsx("option",{value:"created_at",children:"Created Date"}),t.jsx("option",{value:"progress",children:"Progress"})]})]})]}),t.jsx("div",{className:"space-y-4",children:o.length===0?t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-12 text-center border border-slate-800/50",children:[t.jsx("div",{className:"text-slate-400 text-lg mb-4",children:"No tasks found"}),t.jsx("button",{onClick:()=>le(),className:"text-blue-400 hover:text-blue-300 font-medium",children:"Create your first task"})]}):o.map(v=>t.jsx(Tw,{task:v,onEdit:()=>le(v),onDelete:()=>X(v.id),onStatusUpdate:se,onProgressUpdate:L,getPriorityColor:ne,getStatusColor:ye,getStatusIcon:ke,isOverdue:A},v.id))})]}),f&&t.jsx(kw,{isOpen:f,onClose:()=>{g(!1),S(null),$()},taskForm:U,setTaskForm:ae,errors:pe,isEditing:!!y,onSubmit:y?E:F,subjects:d.map(v=>v.name)})]})},Tw=({task:s,onEdit:a,onDelete:i,onStatusUpdate:o,onProgressUpdate:u,getPriorityColor:d,getStatusColor:h,getStatusIcon:x,isOverdue:p})=>{const[f,g]=T.useState(!1),[y,S]=T.useState(s.progress),j=H=>{const k=parseInt(H.target.value);S(k),u(s.id,k)},B=new Date(s.due_date).toLocaleDateString(),C=p(s.due_date);return t.jsxs("div",{className:`bg-slate-900/50 rounded-xl p-6 border transition-all duration-200 hover:bg-slate-900/70 ${C?"border-red-500/50":"border-slate-800/50"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-white font-semibold text-lg",children:s.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(s.priority)}`,children:s.priority}),t.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${h(s.status)}`,children:[x(s.status),s.status]})]}),s.description&&t.jsx("p",{className:"text-slate-400 mb-3",children:s.description}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(dw,{className:"w-4 h-4"}),t.jsxs("span",{className:C?"text-red-400":"",children:[B,C&&" (Overdue)"]})]}),t.jsxs("span",{children:[" ",s.subject]}),s.estimated_time&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ed,{className:"w-4 h-4"}),s.estimated_time]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>g(!f),className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Toggle progress",children:t.jsx(gw,{className:"w-4 h-4"})}),t.jsx("button",{onClick:a,className:"p-2 text-slate-400 hover:text-blue-400 transition-colors",title:"Edit task",children:t.jsx(yw,{className:"w-4 h-4"})}),t.jsx("button",{onClick:i,className:"p-2 text-slate-400 hover:text-red-400 transition-colors",title:"Delete task",children:t.jsx(ww,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-400 text-sm",children:"Progress"}),t.jsxs("span",{className:"text-white font-medium",children:[s.progress,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${s.progress}%`}})}),f&&t.jsxs("div",{className:"pt-2",children:[t.jsx("input",{type:"range",min:"0",max:"100",value:y,onChange:j,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[t.jsx("span",{children:"0%"}),t.jsx("span",{children:"50%"}),t.jsx("span",{children:"100%"})]})]})]}),t.jsxs("div",{className:"flex gap-2 mt-4",children:[s.status==="pending"&&t.jsx("button",{onClick:()=>o(s.id,"started",Math.max(1,s.progress)),className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Start Task"}),(s.status==="started"||s.status==="in-progress")&&s.progress<100&&t.jsx("button",{onClick:()=>o(s.id,"completed",100),className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Mark Complete"}),s.status==="completed"&&t.jsx("button",{onClick:()=>o(s.id,"in-progress",Math.min(99,s.progress)),className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-lg text-sm hover:bg-yellow-500/30 transition-colors",children:"Reopen Task"})]})]})},kw=({isOpen:s,onClose:a,taskForm:i,setTaskForm:o,errors:u,isEditing:d,onSubmit:h,subjects:x=[]})=>{if(!s)return null;const p=(f,g)=>{o(y=>({...y,[f]:g}))};return t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:d?"Edit Task":"Create New Task"}),t.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white transition-colors",children:""})]}),u.general&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 mb-4",children:t.jsx("p",{className:"text-red-400 text-sm",children:u.general})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:i.title,onChange:f=>p("title",f.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${u.title?"border-red-500":"border-slate-700"}`,placeholder:"Enter task title"}),u.title&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),t.jsx("textarea",{value:i.description,onChange:f=>p("description",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"Enter task description",rows:"3"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject *"}),t.jsxs("select",{value:i.subject,onChange:f=>p("subject",f.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${u.subject?"border-red-500":"border-slate-700"}`,children:[t.jsx("option",{value:"",children:"Select Subject"}),x.map(f=>t.jsx("option",{value:f,children:f},f))]}),u.subject&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:i.priority,onChange:f=>p("priority",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Estimated Time"}),t.jsx("input",{type:"text",value:i.estimatedTime,onChange:f=>p("estimatedTime",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"e.g. 2 hours, 30 minutes"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date *"}),t.jsx("input",{type:"date",value:i.dueDate,onChange:f=>p("dueDate",f.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${u.dueDate?"border-red-500":"border-slate-700"}`}),u.dueDate&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.dueDate})]})]}),d&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),t.jsxs("select",{value:i.status,onChange:f=>p("status",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Progress (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:i.progress,onChange:f=>p("progress",parseInt(f.target.value)||0),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500"})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[t.jsx("button",{onClick:a,className:"px-6 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),t.jsx("button",{onClick:h,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg font-medium transition-all duration-200",children:d?"Update Task":"Create Task"})]})]})})},Cw=()=>t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:" Tutor Availability & Booking Flow"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Complete workflow from tutor setup to student booking"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:" Tutor Side (Dr. Johnson)"}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm",children:"1"}),t.jsx("h3",{className:"text-white font-semibold",children:"Access Dashboard"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Tutor logs in and sees dashboard with navigation tabs"}),t.jsx("div",{className:"bg-slate-800/30 rounded-lg p-3",children:t.jsx("div",{className:"text-slate-300 text-xs font-mono",children:"Dashboard  Session Management Tab"})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-sm",children:"2"}),t.jsx("h3",{className:"text-white font-semibold",children:"Set Available Time Slots"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Use TutorAvailabilityManager to create time slots"}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:"Monday"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"9:00-10:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"14:00-15:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"16:00-17:00"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:"Tuesday"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"10:00-11:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"15:00-16:00"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:"Wednesday"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"9:00-10:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"17:00-18:00"})]})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white font-bold text-sm",children:"3"}),t.jsx("h3",{className:"text-white font-semibold",children:"Receive Booking Requests"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:`Notifications appear under "Today's Sessions"`}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-lg p-3 border border-blue-500/30",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/30 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xs",children:"3"})}),t.jsx("h4",{className:"text-white font-medium text-sm",children:"New Booking Requests"})]}),t.jsx("div",{className:"space-y-2",children:t.jsx("div",{className:"bg-white/10 rounded-lg p-2",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium text-sm",children:"Alice Johnson"}),t.jsx("p",{className:"text-blue-200 text-xs",children:"Mathematics  Mon, Jan 15, 2024"})]}),t.jsx("div",{className:"text-white text-xs",children:"2:00 PM"})]})})})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold text-sm",children:"4"}),t.jsx("h3",{className:"text-white font-semibold",children:"Accept/Decline Requests"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Click on request to view details and respond"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-3 py-1 bg-red-600/20 text-red-400 border border-red-500/30 rounded text-xs",children:"Decline"}),t.jsx("button",{className:"px-3 py-1 bg-emerald-600/20 text-emerald-400 border border-emerald-500/30 rounded text-xs",children:"Accept & Schedule"})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:" Student Side (Alice)"}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm",children:"1"}),t.jsx("h3",{className:"text-white font-semibold",children:"Browse Tutors"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Student searches for tutors and sees available sessions"}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-slate-300 text-xs font-mono",children:"Find Tutors  Dr. Johnson  Available Sessions Preview"}),t.jsxs("div",{className:"mt-2 space-y-1",children:[t.jsxs("div",{className:"flex justify-between bg-slate-700/30 rounded p-2",children:[t.jsx("span",{className:"text-slate-300 text-xs",children:"Mon, Jan 15"}),t.jsx("span",{className:"text-white text-xs",children:"14:00 - 15:00"})]}),t.jsxs("div",{className:"flex justify-between bg-slate-700/30 rounded p-2",children:[t.jsx("span",{className:"text-slate-300 text-xs",children:"Mon, Jan 15"}),t.jsx("span",{className:"text-white text-xs",children:"16:00 - 17:00"})]})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-sm",children:"2"}),t.jsx("h3",{className:"text-white font-semibold",children:"Book Session"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:'Click "Book Session" to see full availability calendar'}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-white text-sm font-medium mb-2",children:"Select Date & Time"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[t.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-blue-300 text-xs font-medium",children:"Mon 15"})}),t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-slate-300 text-xs",children:"Tue 16"})}),t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-slate-300 text-xs",children:"Wed 17"})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-blue-300 text-xs",children:"14:00 - 15:00"})}),t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-slate-300 text-xs",children:"16:00 - 17:00"})})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white font-bold text-sm",children:"3"}),t.jsx("h3",{className:"text-white font-semibold",children:"Send Booking Request"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Add notes and submit request to tutor"}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3",children:[t.jsx("textarea",{className:"w-full bg-slate-700/50 border border-slate-600/50 rounded p-2 text-white text-xs",rows:"3",placeholder:"Need help with calculus derivatives...",disabled:!0}),t.jsxs("div",{className:"mt-2 flex space-x-2",children:[t.jsx("button",{className:"px-3 py-1 bg-slate-700/50 text-slate-300 rounded text-xs",children:"Cancel"}),t.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded text-xs",children:"Send Request"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold text-sm",children:"4"}),t.jsx("h3",{className:"text-white font-semibold",children:"Receive Confirmation"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Get notification when tutor accepts the request"}),t.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-green-400 font-medium text-sm",children:" Session Confirmed!"}),t.jsx("div",{className:"text-green-200 text-xs mt-1",children:"Dr. Johnson accepted your booking request for Monday, Jan 15 at 2:00 PM"})]})]})]})]}),t.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl p-6 border border-blue-500/20",children:[t.jsx("h3",{className:"text-white font-semibold mb-4 text-center",children:" Navigation Guide"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"For Tutors:"}),t.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[t.jsxs("li",{children:[" Login  Dashboard  ",t.jsx("span",{className:"text-white font-medium",children:'"Session Management"'})," tab"]}),t.jsx("li",{children:" Use TutorAvailabilityManager to set time slots"}),t.jsx("li",{children:` Check notifications under "Today's Sessions"`}),t.jsx("li",{children:" Accept/decline requests via notification modal"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-purple-300 font-medium mb-2",children:"For Students:"}),t.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[t.jsxs("li",{children:[" Navigation: ",t.jsx("span",{className:"text-white font-medium",children:'"Find Tutors"'}),'  Select Tutor  "Book Session"']}),t.jsx("li",{children:" See available slots in tutor preview cards"}),t.jsx("li",{children:" Full calendar view in booking page"}),t.jsx("li",{children:" Submit request with notes"})]})]})]})]})]})}),Ew=({children:s})=>(console.log(" Layout rendering with children:",!!s),t.jsxs("div",{className:"min-h-screen bg-black",children:[t.jsx(hv,{}),s,t.jsx(fv,{})]}));function Aw(){console.log(" App component rendering");const s="/Sunke_Vasan_Varpe_Varadaraju/";return console.log(" Router basename:",s),t.jsx(Ux,{children:t.jsx(zx,{basename:s,children:t.jsx(Ew,{children:t.jsxs(_x,{children:[t.jsx(dt,{path:"/test",element:t.jsx("div",{style:{color:"white",padding:"20px"},children:" Test Route Working!"})}),t.jsx(dt,{path:"/",element:t.jsx(gv,{})}),t.jsx(dt,{path:"/about",element:t.jsx(zv,{})}),t.jsx(dt,{path:"/login",element:t.jsx(Fi,{children:t.jsx(bv,{})})}),t.jsx(dt,{path:"/register",element:t.jsx(Fi,{children:t.jsx(yv,{})})}),t.jsx(dt,{path:"/forgot-password",element:t.jsx(Fi,{children:t.jsx(vv,{})})}),t.jsx(dt,{path:"/reset-password",element:t.jsx(Fi,{children:t.jsx(jv,{})})}),t.jsx(dt,{path:"/student-dashboard",element:t.jsx(Bn,{requiredRole:"student",children:t.jsx(Rf,{})})}),t.jsx(dt,{path:"/tutor-dashboard",element:t.jsx(Bn,{requiredRole:"tutor",children:t.jsx(Tv,{})})}),t.jsx(dt,{path:"/admin-dashboard",element:t.jsx(Bn,{requiredRole:"admin",children:t.jsx(Cv,{})})}),t.jsx(dt,{path:"/tutors",element:t.jsx(Bn,{children:t.jsx(Ev,{})})}),t.jsx(dt,{path:"/booking/:tutorId",element:t.jsx(Bn,{children:t.jsx(_v,{})})}),t.jsx(dt,{path:"/profile",element:t.jsx(Bn,{children:t.jsx(Dv,{})})}),t.jsx(dt,{path:"/tutor-profile",element:t.jsx(Bn,{requiredRole:"tutor",children:t.jsx(Rv,{})})}),t.jsx(dt,{path:"/calendar",element:t.jsx(Bn,{children:t.jsx(Ov,{})})}),t.jsx(dt,{path:"/messages",element:t.jsx(Bn,{children:t.jsx(Bv,{})})}),t.jsx(dt,{path:"/chatbot",element:t.jsx(Bn,{children:t.jsx(lw,{})})}),t.jsx(dt,{path:"/tasks",element:t.jsx(Bn,{children:t.jsx(Sw,{})})}),t.jsx(dt,{path:"/demo/availability-flow",element:t.jsx(Cw,{})}),t.jsx(dt,{path:"/dashboard",element:t.jsx(Bn,{children:t.jsx(Rf,{})})}),t.jsx(dt,{path:"/unauthorized",element:t.jsx(Lv,{})}),t.jsx(dt,{path:"*",element:t.jsx(Mv,{})})]})})})})}const _w=()=>(console.log(" SimpleApp rendering"),t.jsxs("div",{style:{minHeight:"100vh",background:"black",color:"white",padding:"20px"},children:[t.jsx("h1",{children:" Simple App Test"}),t.jsx("p",{children:"If you see this, the basic React structure is working."}),t.jsxs(Ux,{children:[t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h2",{children:" Auth Provider Test"}),t.jsx(xv,{})]}),t.jsx(zx,{children:t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h2",{children:" Router Test"}),t.jsxs(_x,{children:[t.jsx(dt,{path:"/",element:t.jsx("div",{children:" Route is working!"})}),t.jsx(dt,{path:"*",element:t.jsx("div",{children:" Unknown route"})})]})]})})]}),t.jsx(pv,{})]})),Dw=()=>{const s=()=>{console.log("Button clicked - JavaScript is working"),alert("JavaScript is working in this browser!")};return t.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif",backgroundColor:"#f0f0f0",minHeight:"100vh"},children:[t.jsx("h1",{children:"Tutor Together - Basic Mode"}),t.jsx("p",{children:"This is a minimal fallback version to test browser compatibility."}),t.jsx("button",{onClick:s,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Test JavaScript"}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h2",{children:"Debug Information"}),t.jsxs("p",{children:["Current URL: ",window.location.href]}),t.jsxs("p",{children:["User Agent: ",navigator.userAgent]}),t.jsxs("p",{children:["Current Time: ",new Date().toLocaleString()]}),t.jsxs("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"#e6f3ff"},children:[t.jsx("h3",{children:"Chrome Troubleshooting Steps:"}),t.jsxs("ol",{children:[t.jsx("li",{children:"Open Chrome DevTools (F12)"}),t.jsx("li",{children:"Check Console tab for errors (red text)"}),t.jsx("li",{children:"Check Network tab for failed requests"}),t.jsx("li",{children:"Try opening in Incognito mode"}),t.jsx("li",{children:"Clear browser cache and cookies"}),t.jsx("li",{children:"Disable browser extensions"})]})]})]})]})},Rw=()=>{const[s,a]=T.useState([]),i=(d,h="info")=>{a(x=>[...x,{message:d,status:h,timestamp:new Date().toLocaleTimeString()}])};T.useEffect(()=>{console.log(" Starting comprehensive diagnostic..."),i(" Diagnostic component mounted","success");try{i(" React hooks working","success")}catch(d){i(` React hooks error: ${d.message}`,"error")}i(` User Agent: ${navigator.userAgent.substring(0,50)}...`,"info"),i(` Location: ${window.location.href}`,"info");try{console.log("Testing console access"),i(" Console access working","success")}catch(d){i(` Console error: ${d.message}`,"error")}try{localStorage.setItem("diagnostic_test","working"),localStorage.removeItem("diagnostic_test"),i(" LocalStorage working","success")}catch(d){i(` LocalStorage error: ${d.message}`,"error")}fetch("http://localhost:5000/api/health").then(d=>{d.ok?i(" Backend connection successful","success"):i(` Backend responded with ${d.status}`,"warning")}).catch(d=>{i(` Backend connection failed: ${d.message}`,"error")});try{i(` Current path: ${window.location.pathname}`,"info"),i(" Router path accessible","success")}catch(d){i(` Router error: ${d.message}`,"error")}},[]);const o={position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.9)",color:"white",padding:"20px",borderRadius:"8px",fontSize:"12px",zIndex:1e5,maxWidth:"80vw",maxHeight:"80vh",overflow:"auto",border:"2px solid #00ff00",fontFamily:"monospace"},u=d=>{switch(d){case"success":return"#00ff00";case"error":return"#ff0000";case"warning":return"#ffaa00";default:return"#ffffff"}};return t.jsxs("div",{style:o,children:[t.jsxs("div",{style:{marginBottom:"15px",textAlign:"center"},children:[t.jsx("strong",{children:" STARTUP DIAGNOSTIC"}),t.jsxs("div",{children:["Total checks: ",s.length]})]}),t.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:s.map((d,h)=>t.jsxs("div",{style:{color:u(d.status),marginBottom:"5px",padding:"2px 0"},children:["[",d.timestamp,"] ",d.message]},h))}),t.jsx("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"10px"},children:"Close this by refreshing without ?diagnostic in URL"})]})};console.log(" main.jsx loading");const Sd=new URLSearchParams(window.location.search),Mw=Sd.has("simple"),zw=Sd.has("diagnostic"),Lw=Sd.has("basic");let Wi=Aw;Lw?Wi=Dw:Mw?Wi=_w:zw&&(Wi=()=>t.jsx(Rw,{}));qb.createRoot(document.getElementById("root")).render(t.jsx(vx.StrictMode,{children:t.jsx(Wi,{})}));
