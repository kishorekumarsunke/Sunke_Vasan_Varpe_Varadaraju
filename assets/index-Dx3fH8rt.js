(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function io(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nu={exports:{}},gr={};var vf;function Ub(){if(vf)return gr;vf=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(o,u,d){var h=null;if(d!==void 0&&(h=""+d),u.key!==void 0&&(h=""+u.key),"key"in u){d={};for(var x in u)x!=="key"&&(d[x]=u[x])}else d=u;return u=d.ref,{$$typeof:s,type:o,key:h,ref:u!==void 0?u:null,props:d}}return gr.Fragment=a,gr.jsx=i,gr.jsxs=i,gr}var jf;function Hb(){return jf||(jf=1,Nu.exports=Ub()),Nu.exports}var t=Hb(),wu={exports:{}},_e={};var Nf;function qb(){if(Nf)return _e;Nf=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function j(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,U={};function k(N,B,v){this.props=N,this.context=B,this.refs=U,this.updater=v||O}k.prototype.isReactComponent={},k.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function z(){}z.prototype=k.prototype;function H(N,B,v){this.props=N,this.context=B,this.refs=U,this.updater=v||O}var ne=H.prototype=new z;ne.constructor=H,E(ne,k.prototype),ne.isPureReactComponent=!0;var ye=Array.isArray;function F(){}var q={H:null,A:null,T:null,S:null},xe=Object.prototype.hasOwnProperty;function ue(N,B,v){var I=v.ref;return{$$typeof:s,type:N,key:B,ref:I!==void 0?I:null,props:v}}function Y(N,B){return ue(N.type,B,N.props)}function _(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function P(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(v){return B[v]})}var se=/\/+/g;function ae(N,B){return typeof N=="object"&&N!==null&&N.key!=null?P(""+N.key):B.toString(36)}function ce(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(F,F):(N.status="pending",N.then(function(B){N.status==="pending"&&(N.status="fulfilled",N.value=B)},function(B){N.status==="pending"&&(N.status="rejected",N.reason=B)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function A(N,B,v,I,oe){var me=typeof N;(me==="undefined"||me==="boolean")&&(N=null);var ve=!1;if(N===null)ve=!0;else switch(me){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(N.$$typeof){case s:case a:ve=!0;break;case g:return ve=N._init,A(ve(N._payload),B,v,I,oe)}}if(ve)return oe=oe(N),ve=I===""?"."+ae(N,0):I,ye(oe)?(v="",ve!=null&&(v=ve.replace(se,"$&/")+"/"),A(oe,B,v,"",function(kt){return kt})):oe!=null&&(_(oe)&&(oe=Y(oe,v+(oe.key==null||N&&N.key===oe.key?"":(""+oe.key).replace(se,"$&/")+"/")+ve)),B.push(oe)),1;ve=0;var Ae=I===""?".":I+":";if(ye(N))for(var Re=0;Re<N.length;Re++)I=N[Re],me=Ae+ae(I,Re),ve+=A(I,B,v,me,oe);else if(Re=j(N),typeof Re=="function")for(N=Re.call(N),Re=0;!(I=N.next()).done;)I=I.value,me=Ae+ae(I,Re++),ve+=A(I,B,v,me,oe);else if(me==="object"){if(typeof N.then=="function")return A(ce(N),B,v,I,oe);throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ve}function ee(N,B,v){if(N==null)return N;var I=[],oe=0;return A(N,I,"","",function(me){return B.call(v,me,oe++)}),I}function pe(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(v){(N._status===0||N._status===-1)&&(N._status=1,N._result=v)},function(v){(N._status===0||N._status===-1)&&(N._status=2,N._result=v)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var je=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},D={map:ee,forEach:function(N,B,v){ee(N,function(){B.apply(this,arguments)},v)},count:function(N){var B=0;return ee(N,function(){B++}),B},toArray:function(N){return ee(N,function(B){return B})||[]},only:function(N){if(!_(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return _e.Activity=y,_e.Children=D,_e.Component=k,_e.Fragment=i,_e.Profiler=u,_e.PureComponent=H,_e.StrictMode=o,_e.Suspense=p,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,_e.__COMPILER_RUNTIME={__proto__:null,c:function(N){return q.H.useMemoCache(N)}},_e.cache=function(N){return function(){return N.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(N,B,v){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var I=E({},N.props),oe=N.key;if(B!=null)for(me in B.key!==void 0&&(oe=""+B.key),B)!xe.call(B,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&B.ref===void 0||(I[me]=B[me]);var me=arguments.length-2;if(me===1)I.children=v;else if(1<me){for(var ve=Array(me),Ae=0;Ae<me;Ae++)ve[Ae]=arguments[Ae+2];I.children=ve}return ue(N.type,oe,I)},_e.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:d,_context:N},N},_e.createElement=function(N,B,v){var I,oe={},me=null;if(B!=null)for(I in B.key!==void 0&&(me=""+B.key),B)xe.call(B,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(oe[I]=B[I]);var ve=arguments.length-2;if(ve===1)oe.children=v;else if(1<ve){for(var Ae=Array(ve),Re=0;Re<ve;Re++)Ae[Re]=arguments[Re+2];oe.children=Ae}if(N&&N.defaultProps)for(I in ve=N.defaultProps,ve)oe[I]===void 0&&(oe[I]=ve[I]);return ue(N,me,oe)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(N){return{$$typeof:x,render:N}},_e.isValidElement=_,_e.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:pe}},_e.memo=function(N,B){return{$$typeof:f,type:N,compare:B===void 0?null:B}},_e.startTransition=function(N){var B=q.T,v={};q.T=v;try{var I=N(),oe=q.S;oe!==null&&oe(v,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(F,je)}catch(me){je(me)}finally{B!==null&&v.types!==null&&(B.types=v.types),q.T=B}},_e.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},_e.use=function(N){return q.H.use(N)},_e.useActionState=function(N,B,v){return q.H.useActionState(N,B,v)},_e.useCallback=function(N,B){return q.H.useCallback(N,B)},_e.useContext=function(N){return q.H.useContext(N)},_e.useDebugValue=function(){},_e.useDeferredValue=function(N,B){return q.H.useDeferredValue(N,B)},_e.useEffect=function(N,B){return q.H.useEffect(N,B)},_e.useEffectEvent=function(N){return q.H.useEffectEvent(N)},_e.useId=function(){return q.H.useId()},_e.useImperativeHandle=function(N,B,v){return q.H.useImperativeHandle(N,B,v)},_e.useInsertionEffect=function(N,B){return q.H.useInsertionEffect(N,B)},_e.useLayoutEffect=function(N,B){return q.H.useLayoutEffect(N,B)},_e.useMemo=function(N,B){return q.H.useMemo(N,B)},_e.useOptimistic=function(N,B){return q.H.useOptimistic(N,B)},_e.useReducer=function(N,B,v){return q.H.useReducer(N,B,v)},_e.useRef=function(N){return q.H.useRef(N)},_e.useState=function(N){return q.H.useState(N)},_e.useSyncExternalStore=function(N,B,v){return q.H.useSyncExternalStore(N,B,v)},_e.useTransition=function(){return q.H.useTransition()},_e.version="19.2.0",_e}var wf;function od(){return wf||(wf=1,wu.exports=qb()),wu.exports}var T=od();const Ax=io(T);var Su={exports:{}},br={},Tu={exports:{}},ku={};var Sf;function $b(){return Sf||(Sf=1,(function(s){function a(A,ee){var pe=A.length;A.push(ee);e:for(;0<pe;){var je=pe-1>>>1,D=A[je];if(0<u(D,ee))A[je]=ee,A[pe]=D,pe=je;else break e}}function i(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var ee=A[0],pe=A.pop();if(pe!==ee){A[0]=pe;e:for(var je=0,D=A.length,N=D>>>1;je<N;){var B=2*(je+1)-1,v=A[B],I=B+1,oe=A[I];if(0>u(v,pe))I<D&&0>u(oe,v)?(A[je]=oe,A[I]=pe,je=I):(A[je]=v,A[B]=pe,je=B);else if(I<D&&0>u(oe,pe))A[je]=oe,A[I]=pe,je=I;else break e}}return ee}function u(A,ee){var pe=A.sortIndex-ee.sortIndex;return pe!==0?pe:A.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,x=h.now();s.unstable_now=function(){return h.now()-x}}var p=[],f=[],g=1,y=null,S=3,j=!1,O=!1,E=!1,U=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ne(A){for(var ee=i(f);ee!==null;){if(ee.callback===null)o(f);else if(ee.startTime<=A)o(f),ee.sortIndex=ee.expirationTime,a(p,ee);else break;ee=i(f)}}function ye(A){if(E=!1,ne(A),!O)if(i(p)!==null)O=!0,F||(F=!0,P());else{var ee=i(f);ee!==null&&ce(ye,ee.startTime-A)}}var F=!1,q=-1,xe=5,ue=-1;function Y(){return U?!0:!(s.unstable_now()-ue<xe)}function _(){if(U=!1,F){var A=s.unstable_now();ue=A;var ee=!0;try{e:{O=!1,E&&(E=!1,z(q),q=-1),j=!0;var pe=S;try{t:{for(ne(A),y=i(p);y!==null&&!(y.expirationTime>A&&Y());){var je=y.callback;if(typeof je=="function"){y.callback=null,S=y.priorityLevel;var D=je(y.expirationTime<=A);if(A=s.unstable_now(),typeof D=="function"){y.callback=D,ne(A),ee=!0;break t}y===i(p)&&o(p),ne(A)}else o(p);y=i(p)}if(y!==null)ee=!0;else{var N=i(f);N!==null&&ce(ye,N.startTime-A),ee=!1}}break e}finally{y=null,S=pe,j=!1}ee=void 0}}finally{ee?P():F=!1}}}var P;if(typeof H=="function")P=function(){H(_)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ae=se.port2;se.port1.onmessage=_,P=function(){ae.postMessage(null)}}else P=function(){k(_,0)};function ce(A,ee){q=k(function(){A(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(A){A.callback=null},s.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<A?Math.floor(1e3/A):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(A){switch(S){case 1:case 2:case 3:var ee=3;break;default:ee=S}var pe=S;S=ee;try{return A()}finally{S=pe}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(A,ee){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var pe=S;S=A;try{return ee()}finally{S=pe}},s.unstable_scheduleCallback=function(A,ee,pe){var je=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,A){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,A={id:g++,callback:ee,priorityLevel:A,startTime:pe,expirationTime:D,sortIndex:-1},pe>je?(A.sortIndex=pe,a(f,A),i(p)===null&&A===i(f)&&(E?(z(q),q=-1):E=!0,ce(ye,pe-je))):(A.sortIndex=D,a(p,A),O||j||(O=!0,F||(F=!0,P()))),A},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(A){var ee=S;return function(){var pe=S;S=ee;try{return A.apply(this,arguments)}finally{S=pe}}}})(ku)),ku}var Tf;function Yb(){return Tf||(Tf=1,Tu.exports=$b()),Tu.exports}var Cu={exports:{}},Pt={};var kf;function Fb(){if(kf)return Pt;kf=1;var s=od();function a(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(p,f,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:p,containerInfo:f,implementation:g}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Pt.createPortal=function(p,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(a(299));return d(p,f,null,g)},Pt.flushSync=function(p){var f=h.T,g=o.p;try{if(h.T=null,o.p=2,p)return p()}finally{h.T=f,o.p=g,o.d.f()}},Pt.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(p,f))},Pt.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},Pt.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var g=f.as,y=x(g,f.crossOrigin),S=typeof f.integrity=="string"?f.integrity:void 0,j=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?o.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:j}):g==="script"&&o.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:j,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Pt.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=x(f.as,f.crossOrigin);o.d.M(p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(p)},Pt.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,y=x(g,f.crossOrigin);o.d.L(p,g,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Pt.preloadModule=function(p,f){if(typeof p=="string")if(f){var g=x(f.as,f.crossOrigin);o.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(p)},Pt.requestFormReset=function(p){o.d.r(p)},Pt.unstable_batchedUpdates=function(p,f){return p(f)},Pt.useFormState=function(p,f,g){return h.H.useFormState(p,f,g)},Pt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Pt.version="19.2.0",Pt}var Cf;function Gb(){if(Cf)return Cu.exports;Cf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Cu.exports=Fb(),Cu.exports}var Ef;function Vb(){if(Ef)return br;Ef=1;var s=Yb(),a=od(),i=Gb();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function x(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(o(188))}function f(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(o(188));return n!==e?null:e}for(var l=e,r=n;;){var c=l.return;if(c===null)break;var m=c.alternate;if(m===null){if(r=c.return,r!==null){l=r;continue}break}if(c.child===m.child){for(m=c.child;m;){if(m===l)return p(c),e;if(m===r)return p(c),n;m=m.sibling}throw Error(o(188))}if(l.return!==r.return)l=c,r=m;else{for(var b=!1,w=c.child;w;){if(w===l){b=!0,l=c,r=m;break}if(w===r){b=!0,r=c,l=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===l){b=!0,l=m,r=c;break}if(w===r){b=!0,r=m,l=c;break}w=w.sibling}if(!b)throw Error(o(189))}}if(l.alternate!==r)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=_&&e[_]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case k:return"Profiler";case U:return"StrictMode";case ye:return"Suspense";case F:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case H:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case xe:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var ce=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],D=-1;function N(e){return{current:e}}function B(e){0>D||(e.current=je[D],je[D]=null,D--)}function v(e,n){D++,je[D]=e.current,e.current=n}var I=N(null),oe=N(null),me=N(null),ve=N(null);function Ae(e,n){switch(v(me,n),v(oe,e),v(I,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Y0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Y0(n),e=F0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(I),v(I,e)}function Re(){B(I),B(oe),B(me)}function kt(e){e.memoizedState!==null&&v(ve,e);var n=I.current,l=F0(n,e.type);n!==l&&(v(oe,e),v(I,l))}function xt(e){oe.current===e&&(B(I),B(oe)),ve.current===e&&(B(ve),hr._currentValue=pe)}var Xn,Vt;function Xt(e){if(Xn===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Xn=n&&n[1]||"",Vt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xn+e+Vt}var bt=!1;function pt(e,n){if(!e||bt)return"";bt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(J){var Z=J}Reflect.construct(e,[],re)}else{try{re.call()}catch(J){Z=J}e.call(re.prototype)}}else{try{throw Error()}catch(J){Z=J}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=r.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var M=b.split(`
`),V=w.split(`
`);for(c=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;if(r===M.length||c===V.length)for(r=M.length-1,c=V.length-1;1<=r&&0<=c&&M[r]!==V[c];)c--;for(;1<=r&&0<=c;r--,c--)if(M[r]!==V[c]){if(r!==1||c!==1)do if(r--,c--,0>c||M[r]!==V[c]){var te=`
`+M[r].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=r&&0<=c);break}}}finally{bt=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Xt(l):""}function Ls(e,n){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return e.child!==n&&n!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return pt(e.type,!1);case 11:return pt(e.type.render,!1);case 1:return pt(e.type,!0);case 31:return Xt("Activity");default:return""}}function In(e){try{var n="",l=null;do n+=Ls(e,l),l=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Un=Object.prototype.hasOwnProperty,Wt=s.unstable_scheduleCallback,It=s.unstable_cancelCallback,Ht=s.unstable_shouldYield,mt=s.unstable_requestPaint,Ct=s.unstable_now,dn=s.unstable_getCurrentPriorityLevel,W=s.unstable_ImmediatePriority,ge=s.unstable_UserBlockingPriority,Te=s.unstable_NormalPriority,Me=s.unstable_LowPriority,Ye=s.unstable_IdlePriority,Mt=s.log,en=s.unstable_setDisableYieldValue,zt=null,it=null;function gt(e){if(typeof Mt=="function"&&en(e),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(zt,e)}catch{}}var Qe=Math.clz32?Math.clz32:Os,mn=Math.log,yt=Math.LN2;function Os(e){return e>>>=0,e===0?32:31-(mn(e)/yt|0)|0}var is=256,Zn=262144,dl=4194304;function vt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jn(e,n,l){var r=e.pendingLanes;if(r===0)return 0;var c=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=r&134217727;return w!==0?(r=w&~m,r!==0?c=vt(r):(b&=w,b!==0?c=vt(b):l||(l=w&~e,l!==0&&(c=vt(l))))):(w=r&~m,w!==0?c=vt(w):b!==0?c=vt(b):l||(l=r&~e,l!==0&&(c=vt(l)))),c===0?0:n!==0&&n!==c&&(n&m)===0&&(m=c&-c,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:c}function os(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Aa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cs(){var e=dl;return dl<<=1,(dl&62914560)===0&&(dl=4194304),e}function ml(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Zt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hn(e,n,l,r,c,m){var b=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var w=e.entanglements,M=e.expirationTimes,V=e.hiddenUpdates;for(l=b&~l;0<l;){var te=31-Qe(l),re=1<<te;w[te]=0,M[te]=-1;var Z=V[te];if(Z!==null)for(V[te]=null,te=0;te<Z.length;te++){var J=Z[te];J!==null&&(J.lane&=-536870913)}l&=~re}r!==0&&hl(e,r,0),m!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~n))}function hl(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Qe(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|l&261930}function fl(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var r=31-Qe(l),c=1<<r;c&n|e[r]&n&&(e[r]|=n),l&=~c}}function Ol(e,n){var l=n&-n;return l=(l&42)!==0?1:Bs(l),(l&(e.suspendedLanes|n))!==0?0:l}function Bs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Us(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Bl(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:hf(e.type))}function us(e,n){var l=ee.p;try{return ee.p=e,n()}finally{ee.p=l}}var hn=Math.random().toString(36).slice(2),ot="__reactFiber$"+hn,Bt="__reactProps$"+hn,Kn="__reactContainer$"+hn,xl="__reactEvents$"+hn,R="__reactListeners$"+hn,he="__reactHandles$"+hn,C="__reactResources$"+hn,K="__reactMarker$"+hn;function Q(e){delete e[ot],delete e[Bt],delete e[xl],delete e[R],delete e[he]}function ie(e){var n=e[ot];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Kn]||l[ot]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Z0(e);e!==null;){if(l=e[ot])return l;e=Z0(e)}return n}e=l,l=e.parentNode}return null}function be(e){if(e=e[ot]||e[Kn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function X(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function Ce(e){var n=e[C];return n||(n=e[C]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ze(e){e[K]=!0}var de=new Set,He={};function Pe(e,n){qn(e,n),qn(e+"Capture",n)}function qn(e,n){for(He[e]=n,e=0;e<n.length;e++)de.add(n[e])}var $n=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rd={},Md={};function _p(e){return Un.call(Md,e)?!0:Un.call(Rd,e)?!1:$n.test(e)?Md[e]=!0:(Rd[e]=!0,!1)}function zr(e,n,l){if(_p(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Lr(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function ds(e,n,l,r){if(r===null)e.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+r)}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dp(e,n,l){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,m=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function xo(e){if(!e._valueTracker){var n=zd(e)?"checked":"value";e._valueTracker=Dp(e,n,""+e[n])}}function Ld(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),r="";return e&&(r=zd(e)?e.checked?"true":"false":e.value),e=r,e!==l?(n.setValue(e),!0):!1}function Or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rp=/[\n"\\]/g;function kn(e){return e.replace(Rp,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function po(e,n,l,r,c,m,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Tn(n)):e.value!==""+Tn(n)&&(e.value=""+Tn(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?go(e,b,Tn(n)):l!=null?go(e,b,Tn(l)):r!=null&&e.removeAttribute("value"),c==null&&m!=null&&(e.defaultChecked=!!m),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Tn(w):e.removeAttribute("name")}function Od(e,n,l,r,c,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){xo(e);return}l=l!=null?""+Tn(l):"",n=n!=null?""+Tn(n):l,w||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=w?e.checked:!!r,e.defaultChecked=!!r,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),xo(e)}function go(e,n,l){n==="number"&&Or(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ul(e,n,l,r){if(e=e.options,n){n={};for(var c=0;c<l.length;c++)n["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=n.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&r&&(e[l].defaultSelected=!0)}else{for(l=""+Tn(l),n=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Bd(e,n,l){if(n!=null&&(n=""+Tn(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Tn(l):""}function Ud(e,n,l,r){if(n==null){if(r!=null){if(l!=null)throw Error(o(92));if(ce(r)){if(1<r.length)throw Error(o(93));r=r[0]}l=r}l==null&&(l=""),n=l}l=Tn(n),e.defaultValue=l,r=e.textContent,r===l&&r!==""&&r!==null&&(e.value=r),xo(e)}function Hl(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(e,n,l){var r=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,l):typeof l!="number"||l===0||Mp.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function qd(e,n,l){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&l[c]!==r&&Hd(e,c,r)}else for(var m in n)n.hasOwnProperty(m)&&Hd(e,m,n[m])}function bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Br(e){return Lp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ms(){}var yo=null;function vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,$l=null;function $d(e){var n=be(e);if(n&&(e=n.stateNode)){var l=e[Bt]||null;e:switch(e=n.stateNode,n.type){case"input":if(po(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+kn(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var r=l[n];if(r!==e&&r.form===e.form){var c=r[Bt]||null;if(!c)throw Error(o(90));po(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<l.length;n++)r=l[n],r.form===e.form&&Ld(r)}break e;case"textarea":Bd(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ul(e,!!l.multiple,n,!1)}}}var jo=!1;function Yd(e,n,l){if(jo)return e(n,l);jo=!0;try{var r=e(n);return r}finally{if(jo=!1,(ql!==null||$l!==null)&&(Si(),ql&&(n=ql,e=$l,$l=ql=null,$d(n),e)))for(n=0;n<e.length;n++)$d(e[n])}}function _a(e,n){var l=e.stateNode;if(l===null)return null;var r=l[Bt]||null;if(r===null)return null;l=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,n,typeof l));return l}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=!1;if(hs)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){No=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{No=!1}var Hs=null,wo=null,Ur=null;function Fd(){if(Ur)return Ur;var e,n=wo,l=n.length,r,c="value"in Hs?Hs.value:Hs.textContent,m=c.length;for(e=0;e<l&&n[e]===c[e];e++);var b=l-e;for(r=1;r<=b&&n[l-r]===c[m-r];r++);return Ur=c.slice(e,1<r?1-r:void 0)}function Hr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function qr(){return!0}function Gd(){return!1}function tn(e){function n(l,r,c,m,b){this._reactName=l,this._targetInst=c,this.type=r,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(l=e[w],this[w]=l?l(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?qr:Gd,this.isPropagationStopped=Gd,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),n}var pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=tn(pl),Ra=y({},pl,{view:0,detail:0}),Op=tn(Ra),So,To,Ma,Yr=y({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ma&&(Ma&&e.type==="mousemove"?(So=e.screenX-Ma.screenX,To=e.screenY-Ma.screenY):To=So=0,Ma=e),So)},movementY:function(e){return"movementY"in e?e.movementY:To}}),Vd=tn(Yr),Bp=y({},Yr,{dataTransfer:0}),Up=tn(Bp),Hp=y({},Ra,{relatedTarget:0}),ko=tn(Hp),qp=y({},pl,{animationName:0,elapsedTime:0,pseudoElement:0}),$p=tn(qp),Yp=y({},pl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=tn(Yp),Gp=y({},pl,{data:0}),Pd=tn(Gp),Vp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Qp[e])?!!n[e]:!1}function Co(){return Xp}var Ip=y({},Ra,{key:function(e){if(e.key){var n=Vp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Hr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(e){return e.type==="keypress"?Hr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zp=tn(Ip),Jp=y({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qd=tn(Jp),Kp=y({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),Wp=tn(Kp),eg=y({},pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),tg=tn(eg),ng=y({},Yr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sg=tn(ng),lg=y({},pl,{newState:0,oldState:0}),ag=tn(lg),rg=[9,13,27,32],Eo=hs&&"CompositionEvent"in window,za=null;hs&&"documentMode"in document&&(za=document.documentMode);var ig=hs&&"TextEvent"in window&&!za,Xd=hs&&(!Eo||za&&8<za&&11>=za),Id=" ",Zd=!1;function Jd(e,n){switch(e){case"keyup":return rg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yl=!1;function og(e,n){switch(e){case"compositionend":return Kd(n);case"keypress":return n.which!==32?null:(Zd=!0,Id);case"textInput":return e=n.data,e===Id&&Zd?null:e;default:return null}}function cg(e,n){if(Yl)return e==="compositionend"||!Eo&&Jd(e,n)?(e=Fd(),Ur=wo=Hs=null,Yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Xd&&n.locale!=="ko"?null:n.data;default:return null}}var ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ug[e.type]:n==="textarea"}function em(e,n,l,r){ql?$l?$l.push(r):$l=[r]:ql=r,n=Di(n,"onChange"),0<n.length&&(l=new $r("onChange","change",null,l,r),e.push({event:l,listeners:n}))}var La=null,Oa=null;function dg(e){O0(e,0)}function Fr(e){var n=X(e);if(Ld(n))return e}function tm(e,n){if(e==="change")return n}var nm=!1;if(hs){var Ao;if(hs){var _o="oninput"in document;if(!_o){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),_o=typeof sm.oninput=="function"}Ao=_o}else Ao=!1;nm=Ao&&(!document.documentMode||9<document.documentMode)}function lm(){La&&(La.detachEvent("onpropertychange",am),Oa=La=null)}function am(e){if(e.propertyName==="value"&&Fr(Oa)){var n=[];em(n,Oa,e,vo(e)),Yd(dg,n)}}function mg(e,n,l){e==="focusin"?(lm(),La=n,Oa=l,La.attachEvent("onpropertychange",am)):e==="focusout"&&lm()}function hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fr(Oa)}function fg(e,n){if(e==="click")return Fr(n)}function xg(e,n){if(e==="input"||e==="change")return Fr(n)}function pg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:pg;function Ba(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),r=Object.keys(n);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var c=l[r];if(!Un.call(n,c)||!fn(e[c],n[c]))return!1}return!0}function rm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function im(e,n){var l=rm(e);e=0;for(var r;l;){if(l.nodeType===3){if(r=e+l.textContent.length,e<=n&&r>=n)return{node:l,offset:n-e};e=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=rm(l)}}function om(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?om(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function cm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Or(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Or(e.document)}return n}function Do(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var gg=hs&&"documentMode"in document&&11>=document.documentMode,Fl=null,Ro=null,Ua=null,Mo=!1;function um(e,n,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Mo||Fl==null||Fl!==Or(r)||(r=Fl,"selectionStart"in r&&Do(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ua&&Ba(Ua,r)||(Ua=r,r=Di(Ro,"onSelect"),0<r.length&&(n=new $r("onSelect","select",null,n,l),e.push({event:n,listeners:r}),n.target=Fl)))}function gl(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Gl={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionrun:gl("Transition","TransitionRun"),transitionstart:gl("Transition","TransitionStart"),transitioncancel:gl("Transition","TransitionCancel"),transitionend:gl("Transition","TransitionEnd")},zo={},dm={};hs&&(dm=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function bl(e){if(zo[e])return zo[e];if(!Gl[e])return e;var n=Gl[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in dm)return zo[e]=n[l];return e}var mm=bl("animationend"),hm=bl("animationiteration"),fm=bl("animationstart"),bg=bl("transitionrun"),yg=bl("transitionstart"),vg=bl("transitioncancel"),xm=bl("transitionend"),pm=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function Yn(e,n){pm.set(e,n),Pe(n,[e])}var Gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],Vl=0,Oo=0;function Vr(){for(var e=Vl,n=Oo=Vl=0;n<e;){var l=Cn[n];Cn[n++]=null;var r=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var m=Cn[n];if(Cn[n++]=null,r!==null&&c!==null){var b=r.pending;b===null?c.next=c:(c.next=b.next,b.next=c),r.pending=c}m!==0&&gm(l,c,m)}}function Pr(e,n,l,r){Cn[Vl++]=e,Cn[Vl++]=n,Cn[Vl++]=l,Cn[Vl++]=r,Oo|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Bo(e,n,l,r){return Pr(e,n,l,r),Qr(e)}function yl(e,n){return Pr(e,null,null,n),Qr(e)}function gm(e,n,l){e.lanes|=l;var r=e.alternate;r!==null&&(r.lanes|=l);for(var c=!1,m=e.return;m!==null;)m.childLanes|=l,r=m.alternate,r!==null&&(r.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(c=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,c&&n!==null&&(c=31-Qe(l),e=m.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=l|536870912),m):null}function Qr(e){if(50<rr)throw rr=0,Pc=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pl={};function jg(e,n,l,r){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,l,r){return new jg(e,n,l,r)}function Uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fs(e,n){var l=e.alternate;return l===null?(l=xn(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function bm(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Xr(e,n,l,r,c,m){var b=0;if(r=e,typeof e=="function")Uo(e)&&(b=1);else if(typeof e=="string")b=kb(e,l,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=xn(31,l,n,c),e.elementType=ue,e.lanes=m,e;case E:return vl(l.children,c,m,n);case U:b=8,c|=24;break;case k:return e=xn(12,l,n,c|2),e.elementType=k,e.lanes=m,e;case ye:return e=xn(13,l,n,c),e.elementType=ye,e.lanes=m,e;case F:return e=xn(19,l,n,c),e.elementType=F,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:b=10;break e;case z:b=9;break e;case ne:b=11;break e;case q:b=14;break e;case xe:b=16,r=null;break e}b=29,l=Error(o(130,e===null?"null":typeof e,"")),r=null}return n=xn(b,l,n,c),n.elementType=e,n.type=r,n.lanes=m,n}function vl(e,n,l,r){return e=xn(7,e,r,n),e.lanes=l,e}function Ho(e,n,l){return e=xn(6,e,null,n),e.lanes=l,e}function ym(e){var n=xn(18,null,null,0);return n.stateNode=e,n}function qo(e,n,l){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vm=new WeakMap;function En(e,n){if(typeof e=="object"&&e!==null){var l=vm.get(e);return l!==void 0?l:(n={value:e,source:n,stack:In(n)},vm.set(e,n),n)}return{value:e,source:n,stack:In(n)}}var Ql=[],Xl=0,Ir=null,Ha=0,An=[],_n=0,qs=null,Wn=1,es="";function xs(e,n){Ql[Xl++]=Ha,Ql[Xl++]=Ir,Ir=e,Ha=n}function jm(e,n,l){An[_n++]=Wn,An[_n++]=es,An[_n++]=qs,qs=e;var r=Wn;e=es;var c=32-Qe(r)-1;r&=~(1<<c),l+=1;var m=32-Qe(n)+c;if(30<m){var b=c-c%5;m=(r&(1<<b)-1).toString(32),r>>=b,c-=b,Wn=1<<32-Qe(n)+c|l<<c|r,es=m+e}else Wn=1<<m|l<<c|r,es=e}function $o(e){e.return!==null&&(xs(e,1),jm(e,1,0))}function Yo(e){for(;e===Ir;)Ir=Ql[--Xl],Ql[Xl]=null,Ha=Ql[--Xl],Ql[Xl]=null;for(;e===qs;)qs=An[--_n],An[_n]=null,es=An[--_n],An[_n]=null,Wn=An[--_n],An[_n]=null}function Nm(e,n){An[_n++]=Wn,An[_n++]=es,An[_n++]=qs,Wn=n.id,es=n.overflow,qs=e}var qt=null,ct=null,Ve=!1,$s=null,Dn=!1,Fo=Error(o(519));function Ys(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qa(En(n,e)),Fo}function wm(e){var n=e.stateNode,l=e.type,r=e.memoizedProps;switch(n[ot]=e,n[Bt]=r,l){case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":case"embed":$e("load",n);break;case"video":case"audio":for(l=0;l<or.length;l++)$e(or[l],n);break;case"source":$e("error",n);break;case"img":case"image":case"link":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"input":$e("invalid",n),Od(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$e("invalid",n);break;case"textarea":$e("invalid",n),Ud(n,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||r.suppressHydrationWarning===!0||q0(n.textContent,l)?(r.popover!=null&&($e("beforetoggle",n),$e("toggle",n)),r.onScroll!=null&&$e("scroll",n),r.onScrollEnd!=null&&$e("scrollend",n),r.onClick!=null&&(n.onclick=ms),n=!0):n=!1,n||Ys(e,!0)}function Sm(e){for(qt=e.return;qt;)switch(qt.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:qt=qt.return}}function Il(e){if(e!==qt)return!1;if(!Ve)return Sm(e),Ve=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||iu(e.type,e.memoizedProps)),l=!l),l&&ct&&Ys(e),Sm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ct=I0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ct=I0(e)}else n===27?(n=ct,nl(e.type)?(e=mu,mu=null,ct=e):ct=n):ct=qt?Mn(e.stateNode.nextSibling):null;return!0}function jl(){ct=qt=null,Ve=!1}function Go(){var e=$s;return e!==null&&(an===null?an=e:an.push.apply(an,e),$s=null),e}function qa(e){$s===null?$s=[e]:$s.push(e)}var Vo=N(null),Nl=null,ps=null;function Fs(e,n,l){v(Vo,n._currentValue),n._currentValue=l}function gs(e){e._currentValue=Vo.current,B(Vo)}function Po(e,n,l){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===l)break;e=e.return}}function Qo(e,n,l,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var m=c.dependencies;if(m!==null){var b=c.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=c;for(var M=0;M<n.length;M++)if(w.context===n[M]){m.lanes|=l,w=m.alternate,w!==null&&(w.lanes|=l),Po(m.return,l,e),r||(b=null);break e}m=w.next}}else if(c.tag===18){if(b=c.return,b===null)throw Error(o(341));b.lanes|=l,m=b.alternate,m!==null&&(m.lanes|=l),Po(b,l,e),b=null}else b=c.child;if(b!==null)b.return=c;else for(b=c;b!==null;){if(b===e){b=null;break}if(c=b.sibling,c!==null){c.return=b.return,b=c;break}b=b.return}c=b}}function Zl(e,n,l,r){e=null;for(var c=n,m=!1;c!==null;){if(!m){if((c.flags&524288)!==0)m=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var b=c.alternate;if(b===null)throw Error(o(387));if(b=b.memoizedProps,b!==null){var w=c.type;fn(c.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(c===ve.current){if(b=c.alternate,b===null)throw Error(o(387));b.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(hr):e=[hr])}c=c.return}e!==null&&Qo(n,e,l,r),n.flags|=262144}function Zr(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wl(e){Nl=e,ps=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $t(e){return Tm(Nl,e)}function Jr(e,n){return Nl===null&&wl(e),Tm(e,n)}function Tm(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},ps===null){if(e===null)throw Error(o(308));ps=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ps=ps.next=n;return l}var Ng=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},wg=s.unstable_scheduleCallback,Sg=s.unstable_NormalPriority,Et={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xo(){return{controller:new Ng,data:new Map,refCount:0}}function $a(e){e.refCount--,e.refCount===0&&wg(Sg,function(){e.controller.abort()})}var Ya=null,Io=0,Jl=0,Kl=null;function Tg(e,n){if(Ya===null){var l=Ya=[];Io=0,Jl=Kc(),Kl={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Io++,n.then(km,km),n}function km(){if(--Io===0&&Ya!==null){Kl!==null&&(Kl.status="fulfilled");var e=Ya;Ya=null,Jl=0,Kl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function kg(e,n){var l=[],r={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<l.length;c++)(0,l[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),r}var Cm=A.S;A.S=function(e,n){u0=Ct(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Tg(e,n),Cm!==null&&Cm(e,n)};var Sl=N(null);function Zo(){var e=Sl.current;return e!==null?e:st.pooledCache}function Kr(e,n){n===null?v(Sl,Sl.current):v(Sl,n.pool)}function Em(){var e=Zo();return e===null?null:{parent:Et._currentValue,pool:e}}var Wl=Error(o(460)),Jo=Error(o(474)),Wr=Error(o(542)),ei={then:function(){}};function Am(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _m(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(ms,ms),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rm(e),e;default:if(typeof n.status=="string")n.then(ms,ms);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rm(e),e}throw kl=n,Wl}}function Tl(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(kl=l,Wl):l}}var kl=null;function Dm(){if(kl===null)throw Error(o(459));var e=kl;return kl=null,e}function Rm(e){if(e===Wl||e===Wr)throw Error(o(483))}var ea=null,Fa=0;function ti(e){var n=Fa;return Fa+=1,ea===null&&(ea=[]),_m(ea,e,n)}function Ga(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ni(e,n){throw n.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mm(e){function n($,L){if(e){var G=$.deletions;G===null?($.deletions=[L],$.flags|=16):G.push(L)}}function l($,L){if(!e)return null;for(;L!==null;)n($,L),L=L.sibling;return null}function r($){for(var L=new Map;$!==null;)$.key!==null?L.set($.key,$):L.set($.index,$),$=$.sibling;return L}function c($,L){return $=fs($,L),$.index=0,$.sibling=null,$}function m($,L,G){return $.index=G,e?(G=$.alternate,G!==null?(G=G.index,G<L?($.flags|=67108866,L):G):($.flags|=67108866,L)):($.flags|=1048576,L)}function b($){return e&&$.alternate===null&&($.flags|=67108866),$}function w($,L,G,le){return L===null||L.tag!==6?(L=Ho(G,$.mode,le),L.return=$,L):(L=c(L,G),L.return=$,L)}function M($,L,G,le){var Se=G.type;return Se===E?te($,L,G.props.children,le,G.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===xe&&Tl(Se)===L.type)?(L=c(L,G.props),Ga(L,G),L.return=$,L):(L=Xr(G.type,G.key,G.props,null,$.mode,le),Ga(L,G),L.return=$,L)}function V($,L,G,le){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=qo(G,$.mode,le),L.return=$,L):(L=c(L,G.children||[]),L.return=$,L)}function te($,L,G,le,Se){return L===null||L.tag!==7?(L=vl(G,$.mode,le,Se),L.return=$,L):(L=c(L,G),L.return=$,L)}function re($,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ho(""+L,$.mode,G),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case j:return G=Xr(L.type,L.key,L.props,null,$.mode,G),Ga(G,L),G.return=$,G;case O:return L=qo(L,$.mode,G),L.return=$,L;case xe:return L=Tl(L),re($,L,G)}if(ce(L)||P(L))return L=vl(L,$.mode,G,null),L.return=$,L;if(typeof L.then=="function")return re($,ti(L),G);if(L.$$typeof===H)return re($,Jr($,L),G);ni($,L)}return null}function Z($,L,G,le){var Se=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Se!==null?null:w($,L,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return G.key===Se?M($,L,G,le):null;case O:return G.key===Se?V($,L,G,le):null;case xe:return G=Tl(G),Z($,L,G,le)}if(ce(G)||P(G))return Se!==null?null:te($,L,G,le,null);if(typeof G.then=="function")return Z($,L,ti(G),le);if(G.$$typeof===H)return Z($,L,Jr($,G),le);ni($,G)}return null}function J($,L,G,le,Se){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return $=$.get(G)||null,w(L,$,""+le,Se);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return $=$.get(le.key===null?G:le.key)||null,M(L,$,le,Se);case O:return $=$.get(le.key===null?G:le.key)||null,V(L,$,le,Se);case xe:return le=Tl(le),J($,L,G,le,Se)}if(ce(le)||P(le))return $=$.get(G)||null,te(L,$,le,Se,null);if(typeof le.then=="function")return J($,L,G,ti(le),Se);if(le.$$typeof===H)return J($,L,G,Jr(L,le),Se);ni(L,le)}return null}function Ne($,L,G,le){for(var Se=null,Xe=null,we=L,Oe=L=0,Ge=null;we!==null&&Oe<G.length;Oe++){we.index>Oe?(Ge=we,we=null):Ge=we.sibling;var Ie=Z($,we,G[Oe],le);if(Ie===null){we===null&&(we=Ge);break}e&&we&&Ie.alternate===null&&n($,we),L=m(Ie,L,Oe),Xe===null?Se=Ie:Xe.sibling=Ie,Xe=Ie,we=Ge}if(Oe===G.length)return l($,we),Ve&&xs($,Oe),Se;if(we===null){for(;Oe<G.length;Oe++)we=re($,G[Oe],le),we!==null&&(L=m(we,L,Oe),Xe===null?Se=we:Xe.sibling=we,Xe=we);return Ve&&xs($,Oe),Se}for(we=r(we);Oe<G.length;Oe++)Ge=J(we,$,Oe,G[Oe],le),Ge!==null&&(e&&Ge.alternate!==null&&we.delete(Ge.key===null?Oe:Ge.key),L=m(Ge,L,Oe),Xe===null?Se=Ge:Xe.sibling=Ge,Xe=Ge);return e&&we.forEach(function(il){return n($,il)}),Ve&&xs($,Oe),Se}function ke($,L,G,le){if(G==null)throw Error(o(151));for(var Se=null,Xe=null,we=L,Oe=L=0,Ge=null,Ie=G.next();we!==null&&!Ie.done;Oe++,Ie=G.next()){we.index>Oe?(Ge=we,we=null):Ge=we.sibling;var il=Z($,we,Ie.value,le);if(il===null){we===null&&(we=Ge);break}e&&we&&il.alternate===null&&n($,we),L=m(il,L,Oe),Xe===null?Se=il:Xe.sibling=il,Xe=il,we=Ge}if(Ie.done)return l($,we),Ve&&xs($,Oe),Se;if(we===null){for(;!Ie.done;Oe++,Ie=G.next())Ie=re($,Ie.value,le),Ie!==null&&(L=m(Ie,L,Oe),Xe===null?Se=Ie:Xe.sibling=Ie,Xe=Ie);return Ve&&xs($,Oe),Se}for(we=r(we);!Ie.done;Oe++,Ie=G.next())Ie=J(we,$,Oe,Ie.value,le),Ie!==null&&(e&&Ie.alternate!==null&&we.delete(Ie.key===null?Oe:Ie.key),L=m(Ie,L,Oe),Xe===null?Se=Ie:Xe.sibling=Ie,Xe=Ie);return e&&we.forEach(function(Bb){return n($,Bb)}),Ve&&xs($,Oe),Se}function nt($,L,G,le){if(typeof G=="object"&&G!==null&&G.type===E&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case j:e:{for(var Se=G.key;L!==null;){if(L.key===Se){if(Se=G.type,Se===E){if(L.tag===7){l($,L.sibling),le=c(L,G.props.children),le.return=$,$=le;break e}}else if(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===xe&&Tl(Se)===L.type){l($,L.sibling),le=c(L,G.props),Ga(le,G),le.return=$,$=le;break e}l($,L);break}else n($,L);L=L.sibling}G.type===E?(le=vl(G.props.children,$.mode,le,G.key),le.return=$,$=le):(le=Xr(G.type,G.key,G.props,null,$.mode,le),Ga(le,G),le.return=$,$=le)}return b($);case O:e:{for(Se=G.key;L!==null;){if(L.key===Se)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){l($,L.sibling),le=c(L,G.children||[]),le.return=$,$=le;break e}else{l($,L);break}else n($,L);L=L.sibling}le=qo(G,$.mode,le),le.return=$,$=le}return b($);case xe:return G=Tl(G),nt($,L,G,le)}if(ce(G))return Ne($,L,G,le);if(P(G)){if(Se=P(G),typeof Se!="function")throw Error(o(150));return G=Se.call(G),ke($,L,G,le)}if(typeof G.then=="function")return nt($,L,ti(G),le);if(G.$$typeof===H)return nt($,L,Jr($,G),le);ni($,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(l($,L.sibling),le=c(L,G),le.return=$,$=le):(l($,L),le=Ho(G,$.mode,le),le.return=$,$=le),b($)):l($,L)}return function($,L,G,le){try{Fa=0;var Se=nt($,L,G,le);return ea=null,Se}catch(we){if(we===Wl||we===Wr)throw we;var Xe=xn(29,we,null,$.mode);return Xe.lanes=le,Xe.return=$,Xe}finally{}}}var Cl=Mm(!0),zm=Mm(!1),Gs=!1;function Ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wo(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,n,l){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ze&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=Qr(e),gm(e,null,l),n}return Pr(e,r,n,l),Qr(e)}function Va(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,l|=r,n.lanes=l,fl(e,l)}}function ec(e,n){var l=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var c=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?c=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?c=m=n:m=m.next=n}else c=m=n;l={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:m,shared:r.shared,callbacks:r.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var tc=!1;function Pa(){if(tc){var e=Kl;if(e!==null)throw e}}function Qa(e,n,l,r){tc=!1;var c=e.updateQueue;Gs=!1;var m=c.firstBaseUpdate,b=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var M=w,V=M.next;M.next=null,b===null?m=V:b.next=V,b=M;var te=e.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==b&&(w===null?te.firstBaseUpdate=V:w.next=V,te.lastBaseUpdate=M))}if(m!==null){var re=c.baseState;b=0,te=V=M=null,w=m;do{var Z=w.lane&-536870913,J=Z!==w.lane;if(J?(Fe&Z)===Z:(r&Z)===Z){Z!==0&&Z===Jl&&(tc=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ne=e,ke=w;Z=n;var nt=l;switch(ke.tag){case 1:if(Ne=ke.payload,typeof Ne=="function"){re=Ne.call(nt,re,Z);break e}re=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=ke.payload,Z=typeof Ne=="function"?Ne.call(nt,re,Z):Ne,Z==null)break e;re=y({},re,Z);break e;case 2:Gs=!0}}Z=w.callback,Z!==null&&(e.flags|=64,J&&(e.flags|=8192),J=c.callbacks,J===null?c.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(V=te=J,M=re):te=te.next=J,b|=Z;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;J=w,w=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);te===null&&(M=re),c.baseState=M,c.firstBaseUpdate=V,c.lastBaseUpdate=te,m===null&&(c.shared.lanes=0),Js|=b,e.lanes=b,e.memoizedState=re}}function Lm(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function Om(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Lm(l[e],n)}var ta=N(null),si=N(0);function Bm(e,n){e=ks,v(si,e),v(ta,n),ks=e|n.baseLanes}function nc(){v(si,ks),v(ta,ta.current)}function sc(){ks=si.current,B(ta),B(si)}var pn=N(null),Rn=null;function Qs(e){var n=e.alternate;v(wt,wt.current&1),v(pn,e),Rn===null&&(n===null||ta.current!==null||n.memoizedState!==null)&&(Rn=e)}function lc(e){v(wt,wt.current),v(pn,e),Rn===null&&(Rn=e)}function Um(e){e.tag===22?(v(wt,wt.current),v(pn,e),Rn===null&&(Rn=e)):Xs()}function Xs(){v(wt,wt.current),v(pn,pn.current)}function gn(e){B(pn),Rn===e&&(Rn=null),B(wt)}var wt=N(0);function li(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||uu(l)||du(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bs=0,Le=null,et=null,At=null,ai=!1,na=!1,El=!1,ri=0,Xa=0,sa=null,Cg=0;function jt(){throw Error(o(321))}function ac(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!fn(e[l],n[l]))return!1;return!0}function rc(e,n,l,r,c,m){return bs=m,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?jh:jc,El=!1,m=l(r,c),El=!1,na&&(m=qm(n,l,r,c)),Hm(e),m}function Hm(e){A.H=Ja;var n=et!==null&&et.next!==null;if(bs=0,At=et=Le=null,ai=!1,Xa=0,sa=null,n)throw Error(o(300));e===null||_t||(e=e.dependencies,e!==null&&Zr(e)&&(_t=!0))}function qm(e,n,l,r){Le=e;var c=0;do{if(na&&(sa=null),Xa=0,na=!1,25<=c)throw Error(o(301));if(c+=1,At=et=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}A.H=Nh,m=n(l,r)}while(na);return m}function Eg(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?Ia(n):n,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Le.flags|=1024),n}function ic(){var e=ri!==0;return ri=0,e}function oc(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function cc(e){if(ai){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ai=!1}bs=0,At=et=Le=null,na=!1,Xa=ri=0,sa=null}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Le.memoizedState=At=e:At=At.next=e,At}function St(){if(et===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var n=At===null?Le.memoizedState:At.next;if(n!==null)At=n,et=e;else{if(e===null)throw Le.alternate===null?Error(o(467)):Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},At===null?Le.memoizedState=At=e:At=At.next=e}return At}function ii(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ia(e){var n=Xa;return Xa+=1,sa===null&&(sa=[]),e=_m(sa,e,n),n=Le,(At===null?n.memoizedState:At.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?jh:jc),e}function oi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ia(e);if(e.$$typeof===H)return $t(e)}throw Error(o(438,String(e)))}function uc(e){var n=null,l=Le.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var r=Le.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=ii(),Le.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),r=0;r<e;r++)l[r]=Y;return n.index++,l}function ys(e,n){return typeof n=="function"?n(e):n}function ci(e){var n=St();return dc(n,et,e)}function dc(e,n,l){var r=e.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=l;var c=e.baseQueue,m=r.pending;if(m!==null){if(c!==null){var b=c.next;c.next=m.next,m.next=b}n.baseQueue=c=m,r.pending=null}if(m=e.baseState,c===null)e.memoizedState=m;else{n=c.next;var w=b=null,M=null,V=n,te=!1;do{var re=V.lane&-536870913;if(re!==V.lane?(Fe&re)===re:(bs&re)===re){var Z=V.revertLane;if(Z===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),re===Jl&&(te=!0);else if((bs&Z)===Z){V=V.next,Z===Jl&&(te=!0);continue}else re={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(w=M=re,b=m):M=M.next=re,Le.lanes|=Z,Js|=Z;re=V.action,El&&l(m,re),m=V.hasEagerState?V.eagerState:l(m,re)}else Z={lane:re,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(w=M=Z,b=m):M=M.next=Z,Le.lanes|=re,Js|=re;V=V.next}while(V!==null&&V!==n);if(M===null?b=m:M.next=w,!fn(m,e.memoizedState)&&(_t=!0,te&&(l=Kl,l!==null)))throw l;e.memoizedState=m,e.baseState=b,e.baseQueue=M,r.lastRenderedState=m}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mc(e){var n=St(),l=n.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var r=l.dispatch,c=l.pending,m=n.memoizedState;if(c!==null){l.pending=null;var b=c=c.next;do m=e(m,b.action),b=b.next;while(b!==c);fn(m,n.memoizedState)||(_t=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,r]}function $m(e,n,l){var r=Le,c=St(),m=Ve;if(m){if(l===void 0)throw Error(o(407));l=l()}else l=n();var b=!fn((et||c).memoizedState,l);if(b&&(c.memoizedState=l,_t=!0),c=c.queue,xc(Gm.bind(null,r,c,e),[e]),c.getSnapshot!==n||b||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,la(9,{destroy:void 0},Fm.bind(null,r,c,l,n),null),st===null)throw Error(o(349));m||(bs&127)!==0||Ym(r,n,l)}return l}function Ym(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Le.updateQueue,n===null?(n=ii(),Le.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Fm(e,n,l,r){n.value=l,n.getSnapshot=r,Vm(n)&&Pm(e)}function Gm(e,n,l){return l(function(){Vm(n)&&Pm(e)})}function Vm(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!fn(e,l)}catch{return!0}}function Pm(e){var n=yl(e,2);n!==null&&rn(n,e,2)}function hc(e){var n=Jt();if(typeof e=="function"){var l=e;if(e=l(),El){gt(!0);try{l()}finally{gt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},n}function Qm(e,n,l,r){return e.baseState=l,dc(e,et,typeof r=="function"?r:ys)}function Ag(e,n,l,r,c){if(mi(e))throw Error(o(485));if(e=n.action,e!==null){var m={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};A.T!==null?l(!0):m.isTransition=!1,r(m),l=n.pending,l===null?(m.next=n.pending=m,Xm(n,m)):(m.next=l.next,n.pending=l.next=m)}}function Xm(e,n){var l=n.action,r=n.payload,c=e.state;if(n.isTransition){var m=A.T,b={};A.T=b;try{var w=l(c,r),M=A.S;M!==null&&M(b,w),Im(e,n,w)}catch(V){fc(e,n,V)}finally{m!==null&&b.types!==null&&(m.types=b.types),A.T=m}}else try{m=l(c,r),Im(e,n,m)}catch(V){fc(e,n,V)}}function Im(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){Zm(e,n,r)},function(r){return fc(e,n,r)}):Zm(e,n,l)}function Zm(e,n,l){n.status="fulfilled",n.value=l,Jm(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Xm(e,l)))}function fc(e,n,l){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=l,Jm(n),n=n.next;while(n!==r)}e.action=null}function Jm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Km(e,n){return n}function Wm(e,n){if(Ve){var l=st.formState;if(l!==null){e:{var r=Le;if(Ve){if(ct){t:{for(var c=ct,m=Dn;c.nodeType!==8;){if(!m){c=null;break t}if(c=Mn(c.nextSibling),c===null){c=null;break t}}m=c.data,c=m==="F!"||m==="F"?c:null}if(c){ct=Mn(c.nextSibling),r=c.data==="F!";break e}}Ys(r)}r=!1}r&&(n=l[0])}}return l=Jt(),l.memoizedState=l.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Km,lastRenderedState:n},l.queue=r,l=bh.bind(null,Le,r),r.dispatch=l,r=hc(!1),m=vc.bind(null,Le,!1,r.queue),r=Jt(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,l=Ag.bind(null,Le,c,m,l),c.dispatch=l,r.memoizedState=e,[n,l,!1]}function eh(e){var n=St();return th(n,et,e)}function th(e,n,l){if(n=dc(e,n,Km)[0],e=ci(ys)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Ia(n)}catch(b){throw b===Wl?Wr:b}else r=n;n=St();var c=n.queue,m=c.dispatch;return l!==n.memoizedState&&(Le.flags|=2048,la(9,{destroy:void 0},_g.bind(null,c,l),null)),[r,m,e]}function _g(e,n){e.action=n}function nh(e){var n=St(),l=et;if(l!==null)return th(n,l,e);St(),n=n.memoizedState,l=St();var r=l.queue.dispatch;return l.memoizedState=e,[n,r,!1]}function la(e,n,l,r){return e={tag:e,create:l,deps:r,inst:n,next:null},n=Le.updateQueue,n===null&&(n=ii(),Le.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(r=l.next,l.next=e,e.next=r,n.lastEffect=e),e}function sh(){return St().memoizedState}function ui(e,n,l,r){var c=Jt();Le.flags|=e,c.memoizedState=la(1|n,{destroy:void 0},l,r===void 0?null:r)}function di(e,n,l,r){var c=St();r=r===void 0?null:r;var m=c.memoizedState.inst;et!==null&&r!==null&&ac(r,et.memoizedState.deps)?c.memoizedState=la(n,m,l,r):(Le.flags|=e,c.memoizedState=la(1|n,m,l,r))}function lh(e,n){ui(8390656,8,e,n)}function xc(e,n){di(2048,8,e,n)}function Dg(e){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=ii(),Le.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function ah(e){var n=St().memoizedState;return Dg({ref:n,nextImpl:e}),function(){if((Ze&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function rh(e,n){return di(4,2,e,n)}function ih(e,n){return di(4,4,e,n)}function oh(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ch(e,n,l){l=l!=null?l.concat([e]):null,di(4,4,oh.bind(null,n,e),l)}function pc(){}function uh(e,n){var l=St();n=n===void 0?null:n;var r=l.memoizedState;return n!==null&&ac(n,r[1])?r[0]:(l.memoizedState=[e,n],e)}function dh(e,n){var l=St();n=n===void 0?null:n;var r=l.memoizedState;if(n!==null&&ac(n,r[1]))return r[0];if(r=e(),El){gt(!0);try{e()}finally{gt(!1)}}return l.memoizedState=[r,n],r}function gc(e,n,l){return l===void 0||(bs&1073741824)!==0&&(Fe&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=m0(),Le.lanes|=e,Js|=e,l)}function mh(e,n,l,r){return fn(l,n)?l:ta.current!==null?(e=gc(e,l,r),fn(e,n)||(_t=!0),e):(bs&42)===0||(bs&1073741824)!==0&&(Fe&261930)===0?(_t=!0,e.memoizedState=l):(e=m0(),Le.lanes|=e,Js|=e,n)}function hh(e,n,l,r,c){var m=ee.p;ee.p=m!==0&&8>m?m:8;var b=A.T,w={};A.T=w,vc(e,!1,n,l);try{var M=c(),V=A.S;if(V!==null&&V(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=kg(M,r);Za(e,n,te,vn(e))}else Za(e,n,r,vn(e))}catch(re){Za(e,n,{then:function(){},status:"rejected",reason:re},vn())}finally{ee.p=m,b!==null&&w.types!==null&&(b.types=w.types),A.T=b}}function Rg(){}function bc(e,n,l,r){if(e.tag!==5)throw Error(o(476));var c=fh(e).queue;hh(e,c,n,pe,l===null?Rg:function(){return xh(e),l(r)})}function fh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:pe},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xh(e){var n=fh(e);n.next===null&&(n=e.alternate.memoizedState),Za(e,n.next.queue,{},vn())}function yc(){return $t(hr)}function ph(){return St().memoizedState}function gh(){return St().memoizedState}function Mg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=vn();e=Vs(l);var r=Ps(n,e,l);r!==null&&(rn(r,n,l),Va(r,n,l)),n={cache:Xo()},e.payload=n;return}n=n.return}}function zg(e,n,l){var r=vn();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mi(e)?yh(n,l):(l=Bo(e,n,l,r),l!==null&&(rn(l,e,r),vh(l,n,r)))}function bh(e,n,l){var r=vn();Za(e,n,l,r)}function Za(e,n,l,r){var c={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(mi(e))yh(n,c);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,w=m(b,l);if(c.hasEagerState=!0,c.eagerState=w,fn(w,b))return Pr(e,n,c,0),st===null&&Vr(),!1}catch{}finally{}if(l=Bo(e,n,c,r),l!==null)return rn(l,e,r),vh(l,n,r),!0}return!1}function vc(e,n,l,r){if(r={lane:2,revertLane:Kc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},mi(e)){if(n)throw Error(o(479))}else n=Bo(e,l,r,2),n!==null&&rn(n,e,2)}function mi(e){var n=e.alternate;return e===Le||n!==null&&n===Le}function yh(e,n){na=ai=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function vh(e,n,l){if((l&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,l|=r,n.lanes=l,fl(e,l)}}var Ja={readContext:$t,use:oi,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Ja.useEffectEvent=jt;var jh={readContext:$t,use:oi,useCallback:function(e,n){return Jt().memoizedState=[e,n===void 0?null:n],e},useContext:$t,useEffect:lh,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,ui(4194308,4,oh.bind(null,n,e),l)},useLayoutEffect:function(e,n){return ui(4194308,4,e,n)},useInsertionEffect:function(e,n){ui(4,2,e,n)},useMemo:function(e,n){var l=Jt();n=n===void 0?null:n;var r=e();if(El){gt(!0);try{e()}finally{gt(!1)}}return l.memoizedState=[r,n],r},useReducer:function(e,n,l){var r=Jt();if(l!==void 0){var c=l(n);if(El){gt(!0);try{l(n)}finally{gt(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=zg.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var n=Jt();return e={current:e},n.memoizedState=e},useState:function(e){e=hc(e);var n=e.queue,l=bh.bind(null,Le,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:pc,useDeferredValue:function(e,n){var l=Jt();return gc(l,e,n)},useTransition:function(){var e=hc(!1);return e=hh.bind(null,Le,e.queue,!0,!1),Jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var r=Le,c=Jt();if(Ve){if(l===void 0)throw Error(o(407));l=l()}else{if(l=n(),st===null)throw Error(o(349));(Fe&127)!==0||Ym(r,n,l)}c.memoizedState=l;var m={value:l,getSnapshot:n};return c.queue=m,lh(Gm.bind(null,r,m,e),[e]),r.flags|=2048,la(9,{destroy:void 0},Fm.bind(null,r,m,l,n),null),l},useId:function(){var e=Jt(),n=st.identifierPrefix;if(Ve){var l=es,r=Wn;l=(r&~(1<<32-Qe(r)-1)).toString(32)+l,n="_"+n+"R_"+l,l=ri++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Cg++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yc,useFormState:Wm,useActionState:Wm,useOptimistic:function(e){var n=Jt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=vc.bind(null,Le,!0,l),l.dispatch=n,[e,n]},useMemoCache:uc,useCacheRefresh:function(){return Jt().memoizedState=Mg.bind(null,Le)},useEffectEvent:function(e){var n=Jt(),l={impl:e};return n.memoizedState=l,function(){if((Ze&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},jc={readContext:$t,use:oi,useCallback:uh,useContext:$t,useEffect:xc,useImperativeHandle:ch,useInsertionEffect:rh,useLayoutEffect:ih,useMemo:dh,useReducer:ci,useRef:sh,useState:function(){return ci(ys)},useDebugValue:pc,useDeferredValue:function(e,n){var l=St();return mh(l,et.memoizedState,e,n)},useTransition:function(){var e=ci(ys)[0],n=St().memoizedState;return[typeof e=="boolean"?e:Ia(e),n]},useSyncExternalStore:$m,useId:ph,useHostTransitionStatus:yc,useFormState:eh,useActionState:eh,useOptimistic:function(e,n){var l=St();return Qm(l,et,e,n)},useMemoCache:uc,useCacheRefresh:gh};jc.useEffectEvent=ah;var Nh={readContext:$t,use:oi,useCallback:uh,useContext:$t,useEffect:xc,useImperativeHandle:ch,useInsertionEffect:rh,useLayoutEffect:ih,useMemo:dh,useReducer:mc,useRef:sh,useState:function(){return mc(ys)},useDebugValue:pc,useDeferredValue:function(e,n){var l=St();return et===null?gc(l,e,n):mh(l,et.memoizedState,e,n)},useTransition:function(){var e=mc(ys)[0],n=St().memoizedState;return[typeof e=="boolean"?e:Ia(e),n]},useSyncExternalStore:$m,useId:ph,useHostTransitionStatus:yc,useFormState:nh,useActionState:nh,useOptimistic:function(e,n){var l=St();return et!==null?Qm(l,et,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:uc,useCacheRefresh:gh};Nh.useEffectEvent=ah;function Nc(e,n,l,r){n=e.memoizedState,l=l(r,n),l=l==null?n:y({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var wc={enqueueSetState:function(e,n,l){e=e._reactInternals;var r=vn(),c=Vs(r);c.payload=n,l!=null&&(c.callback=l),n=Ps(e,c,r),n!==null&&(rn(n,e,r),Va(n,e,r))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var r=vn(),c=Vs(r);c.tag=1,c.payload=n,l!=null&&(c.callback=l),n=Ps(e,c,r),n!==null&&(rn(n,e,r),Va(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=vn(),r=Vs(l);r.tag=2,n!=null&&(r.callback=n),n=Ps(e,r,l),n!==null&&(rn(n,e,l),Va(n,e,l))}};function wh(e,n,l,r,c,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,m,b):n.prototype&&n.prototype.isPureReactComponent?!Ba(l,r)||!Ba(c,m):!0}function Sh(e,n,l,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,r),n.state!==e&&wc.enqueueReplaceState(n,n.state,null)}function Al(e,n){var l=n;if("ref"in n){l={};for(var r in n)r!=="ref"&&(l[r]=n[r])}if(e=e.defaultProps){l===n&&(l=y({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}function Th(e){Gr(e)}function kh(e){console.error(e)}function Ch(e){Gr(e)}function hi(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function Eh(e,n,l){try{var r=e.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Sc(e,n,l){return l=Vs(l),l.tag=3,l.payload={element:null},l.callback=function(){hi(e,n)},l}function Ah(e){return e=Vs(e),e.tag=3,e}function _h(e,n,l,r){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var m=r.value;e.payload=function(){return c(m)},e.callback=function(){Eh(n,l,r)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Eh(n,l,r),typeof c!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function Lg(e,n,l,r,c){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=l.alternate,n!==null&&Zl(n,l,c,!0),l=pn.current,l!==null){switch(l.tag){case 31:case 13:return Rn===null?Ti():l.alternate===null&&Nt===0&&(Nt=3),l.flags&=-257,l.flags|=65536,l.lanes=c,r===ei?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([r]):n.add(r),Ic(e,r,c)),!1;case 22:return l.flags|=65536,r===ei?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([r]):l.add(r)),Ic(e,r,c)),!1}throw Error(o(435,l.tag))}return Ic(e,r,c),Ti(),!1}if(Ve)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==Fo&&(e=Error(o(422),{cause:r}),qa(En(e,l)))):(r!==Fo&&(n=Error(o(423),{cause:r}),qa(En(n,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=En(r,l),c=Sc(e.stateNode,r,c),ec(e,c),Nt!==4&&(Nt=2)),!1;var m=Error(o(520),{cause:r});if(m=En(m,l),ar===null?ar=[m]:ar.push(m),Nt!==4&&(Nt=2),n===null)return!0;r=En(r,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=Sc(l.stateNode,r,e),ec(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ks===null||!Ks.has(m))))return l.flags|=65536,c&=-c,l.lanes|=c,c=Ah(c),_h(c,e,l,r),ec(l,c),!1}l=l.return}while(l!==null);return!1}var Tc=Error(o(461)),_t=!1;function Yt(e,n,l,r){n.child=e===null?zm(n,null,l,r):Cl(n,e.child,l,r)}function Dh(e,n,l,r,c){l=l.render;var m=n.ref;if("ref"in r){var b={};for(var w in r)w!=="ref"&&(b[w]=r[w])}else b=r;return wl(n),r=rc(e,n,l,b,m,c),w=ic(),e!==null&&!_t?(oc(e,n,c),vs(e,n,c)):(Ve&&w&&$o(n),n.flags|=1,Yt(e,n,r,c),n.child)}function Rh(e,n,l,r,c){if(e===null){var m=l.type;return typeof m=="function"&&!Uo(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,Mh(e,n,m,r,c)):(e=Xr(l.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Mc(e,c)){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:Ba,l(b,r)&&e.ref===n.ref)return vs(e,n,c)}return n.flags|=1,e=fs(m,r),e.ref=n.ref,e.return=n,n.child=e}function Mh(e,n,l,r,c){if(e!==null){var m=e.memoizedProps;if(Ba(m,r)&&e.ref===n.ref)if(_t=!1,n.pendingProps=r=m,Mc(e,c))(e.flags&131072)!==0&&(_t=!0);else return n.lanes=e.lanes,vs(e,n,c)}return kc(e,n,l,r,c)}function zh(e,n,l,r){var c=r.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(r=n.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~m}else r=0,n.child=null;return Lh(e,n,m,l,r)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Kr(n,m!==null?m.cachePool:null),m!==null?Bm(n,m):nc(),Um(n);else return r=n.lanes=536870912,Lh(e,n,m!==null?m.baseLanes|l:l,l,r)}else m!==null?(Kr(n,m.cachePool),Bm(n,m),Xs(),n.memoizedState=null):(e!==null&&Kr(n,null),nc(),Xs());return Yt(e,n,c,l),n.child}function Ka(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Lh(e,n,l,r,c){var m=Zo();return m=m===null?null:{parent:Et._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Kr(n,null),nc(),Um(n),e!==null&&Zl(e,n,r,!0),n.childLanes=c,null}function fi(e,n){return n=pi({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Oh(e,n,l){return Cl(n,e.child,null,l),e=fi(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function Og(e,n,l){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ve){if(r.mode==="hidden")return e=fi(n,r),n.lanes=536870912,Ka(null,e);if(lc(n),(e=ct)?(e=X0(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qs!==null?{id:Wn,overflow:es}:null,retryLane:536870912,hydrationErrors:null},l=ym(e),l.return=n,n.child=l,qt=n,ct=null)):e=null,e===null)throw Ys(n);return n.lanes=536870912,null}return fi(n,r)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(lc(n),c)if(n.flags&256)n.flags&=-257,n=Oh(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(_t||Zl(e,n,l,!1),c=(l&e.childLanes)!==0,_t||c){if(r=st,r!==null&&(b=Ol(r,l),b!==0&&b!==m.retryLane))throw m.retryLane=b,yl(e,b),rn(r,e,b),Tc;Ti(),n=Oh(e,n,l)}else e=m.treeContext,ct=Mn(b.nextSibling),qt=n,Ve=!0,$s=null,Dn=!1,e!==null&&Nm(n,e),n=fi(n,r),n.flags|=4096;return n}return e=fs(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function xi(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function kc(e,n,l,r,c){return wl(n),l=rc(e,n,l,r,void 0,c),r=ic(),e!==null&&!_t?(oc(e,n,c),vs(e,n,c)):(Ve&&r&&$o(n),n.flags|=1,Yt(e,n,l,c),n.child)}function Bh(e,n,l,r,c,m){return wl(n),n.updateQueue=null,l=qm(n,r,l,c),Hm(e),r=ic(),e!==null&&!_t?(oc(e,n,m),vs(e,n,m)):(Ve&&r&&$o(n),n.flags|=1,Yt(e,n,l,m),n.child)}function Uh(e,n,l,r,c){if(wl(n),n.stateNode===null){var m=Pl,b=l.contextType;typeof b=="object"&&b!==null&&(m=$t(b)),m=new l(r,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wc,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=r,m.state=n.memoizedState,m.refs={},Ko(n),b=l.contextType,m.context=typeof b=="object"&&b!==null?$t(b):Pl,m.state=n.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Nc(n,l,b,r),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&wc.enqueueReplaceState(m,m.state,null),Qa(n,r,m,c),Pa(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){m=n.stateNode;var w=n.memoizedProps,M=Al(l,w);m.props=M;var V=m.context,te=l.contextType;b=Pl,typeof te=="object"&&te!==null&&(b=$t(te));var re=l.getDerivedStateFromProps;te=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||V!==b)&&Sh(n,m,r,b),Gs=!1;var Z=n.memoizedState;m.state=Z,Qa(n,r,m,c),Pa(),V=n.memoizedState,w||Z!==V||Gs?(typeof re=="function"&&(Nc(n,l,re,r),V=n.memoizedState),(M=Gs||wh(n,l,M,r,Z,V,b))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=V),m.props=r,m.state=V,m.context=b,r=M):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{m=n.stateNode,Wo(e,n),b=n.memoizedProps,te=Al(l,b),m.props=te,re=n.pendingProps,Z=m.context,V=l.contextType,M=Pl,typeof V=="object"&&V!==null&&(M=$t(V)),w=l.getDerivedStateFromProps,(V=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==re||Z!==M)&&Sh(n,m,r,M),Gs=!1,Z=n.memoizedState,m.state=Z,Qa(n,r,m,c),Pa();var J=n.memoizedState;b!==re||Z!==J||Gs||e!==null&&e.dependencies!==null&&Zr(e.dependencies)?(typeof w=="function"&&(Nc(n,l,w,r),J=n.memoizedState),(te=Gs||wh(n,l,te,r,Z,J,M)||e!==null&&e.dependencies!==null&&Zr(e.dependencies))?(V||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(r,J,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(r,J,M)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=J),m.props=r,m.state=J,m.context=M,r=te):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),r=!1)}return m=r,xi(e,n),r=(n.flags&128)!==0,m||r?(m=n.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&r?(n.child=Cl(n,e.child,null,c),n.child=Cl(n,null,l,c)):Yt(e,n,l,c),n.memoizedState=m.state,e=n.child):e=vs(e,n,c),e}function Hh(e,n,l,r){return jl(),n.flags|=256,Yt(e,n,l,r),n.child}var Cc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ec(e){return{baseLanes:e,cachePool:Em()}}function Ac(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=yn),e}function qh(e,n,l){var r=n.pendingProps,c=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(wt.current&2)!==0),b&&(c=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ve){if(c?Qs(n):Xs(),(e=ct)?(e=X0(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:qs!==null?{id:Wn,overflow:es}:null,retryLane:536870912,hydrationErrors:null},l=ym(e),l.return=n,n.child=l,qt=n,ct=null)):e=null,e===null)throw Ys(n);return du(e)?n.lanes=32:n.lanes=536870912,null}var w=r.children;return r=r.fallback,c?(Xs(),c=n.mode,w=pi({mode:"hidden",children:w},c),r=vl(r,c,l,null),w.return=n,r.return=n,w.sibling=r,n.child=w,r=n.child,r.memoizedState=Ec(l),r.childLanes=Ac(e,b,l),n.memoizedState=Cc,Ka(null,r)):(Qs(n),_c(n,w))}var M=e.memoizedState;if(M!==null&&(w=M.dehydrated,w!==null)){if(m)n.flags&256?(Qs(n),n.flags&=-257,n=Dc(e,n,l)):n.memoizedState!==null?(Xs(),n.child=e.child,n.flags|=128,n=null):(Xs(),w=r.fallback,c=n.mode,r=pi({mode:"visible",children:r.children},c),w=vl(w,c,l,null),w.flags|=2,r.return=n,w.return=n,r.sibling=w,n.child=r,Cl(n,e.child,null,l),r=n.child,r.memoizedState=Ec(l),r.childLanes=Ac(e,b,l),n.memoizedState=Cc,n=Ka(null,r));else if(Qs(n),du(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var V=b.dgst;b=V,r=Error(o(419)),r.stack="",r.digest=b,qa({value:r,source:null,stack:null}),n=Dc(e,n,l)}else if(_t||Zl(e,n,l,!1),b=(l&e.childLanes)!==0,_t||b){if(b=st,b!==null&&(r=Ol(b,l),r!==0&&r!==M.retryLane))throw M.retryLane=r,yl(e,r),rn(b,e,r),Tc;uu(w)||Ti(),n=Dc(e,n,l)}else uu(w)?(n.flags|=192,n.child=e.child,n=null):(e=M.treeContext,ct=Mn(w.nextSibling),qt=n,Ve=!0,$s=null,Dn=!1,e!==null&&Nm(n,e),n=_c(n,r.children),n.flags|=4096);return n}return c?(Xs(),w=r.fallback,c=n.mode,M=e.child,V=M.sibling,r=fs(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,V!==null?w=fs(V,w):(w=vl(w,c,l,null),w.flags|=2),w.return=n,r.return=n,r.sibling=w,n.child=r,Ka(null,r),r=n.child,w=e.child.memoizedState,w===null?w=Ec(l):(c=w.cachePool,c!==null?(M=Et._currentValue,c=c.parent!==M?{parent:M,pool:M}:c):c=Em(),w={baseLanes:w.baseLanes|l,cachePool:c}),r.memoizedState=w,r.childLanes=Ac(e,b,l),n.memoizedState=Cc,Ka(e.child,r)):(Qs(n),l=e.child,e=l.sibling,l=fs(l,{mode:"visible",children:r.children}),l.return=n,l.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=l,n.memoizedState=null,l)}function _c(e,n){return n=pi({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function pi(e,n){return e=xn(22,e,null,n),e.lanes=0,e}function Dc(e,n,l){return Cl(n,e.child,null,l),e=_c(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $h(e,n,l){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Po(e.return,n,l)}function Rc(e,n,l,r,c,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:c,treeForkCount:m}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=r,b.tail=l,b.tailMode=c,b.treeForkCount=m)}function Yh(e,n,l){var r=n.pendingProps,c=r.revealOrder,m=r.tail;r=r.children;var b=wt.current,w=(b&2)!==0;if(w?(b=b&1|2,n.flags|=128):b&=1,v(wt,b),Yt(e,n,r,l),r=Ve?Ha:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$h(e,l,n);else if(e.tag===19)$h(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(l=n.child,c=null;l!==null;)e=l.alternate,e!==null&&li(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=n.child,n.child=null):(c=l.sibling,l.sibling=null),Rc(n,!1,c,l,m,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&li(e)===null){n.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}Rc(n,!0,l,null,m,r);break;case"together":Rc(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function vs(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Js|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Zl(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,l=fs(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=fs(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Mc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Zr(e)))}function Bg(e,n,l){switch(n.tag){case 3:Ae(n,n.stateNode.containerInfo),Fs(n,Et,e.memoizedState.cache),jl();break;case 27:case 5:kt(n);break;case 4:Ae(n,n.stateNode.containerInfo);break;case 10:Fs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,lc(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(Qs(n),n.flags|=128,null):(l&n.child.childLanes)!==0?qh(e,n,l):(Qs(n),e=vs(e,n,l),e!==null?e.sibling:null);Qs(n);break;case 19:var c=(e.flags&128)!==0;if(r=(l&n.childLanes)!==0,r||(Zl(e,n,l,!1),r=(l&n.childLanes)!==0),c){if(r)return Yh(e,n,l);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),v(wt,wt.current),r)break;return null;case 22:return n.lanes=0,zh(e,n,l,n.pendingProps);case 24:Fs(n,Et,e.memoizedState.cache)}return vs(e,n,l)}function Fh(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)_t=!0;else{if(!Mc(e,l)&&(n.flags&128)===0)return _t=!1,Bg(e,n,l);_t=(e.flags&131072)!==0}else _t=!1,Ve&&(n.flags&1048576)!==0&&jm(n,Ha,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Tl(n.elementType),n.type=e,typeof e=="function")Uo(e)?(r=Al(e,r),n.tag=1,n=Uh(null,n,e,r,l)):(n.tag=0,n=kc(null,n,e,r,l));else{if(e!=null){var c=e.$$typeof;if(c===ne){n.tag=11,n=Dh(null,n,e,r,l);break e}else if(c===q){n.tag=14,n=Rh(null,n,e,r,l);break e}}throw n=ae(e)||e,Error(o(306,n,""))}}return n;case 0:return kc(e,n,n.type,n.pendingProps,l);case 1:return r=n.type,c=Al(r,n.pendingProps),Uh(e,n,r,c,l);case 3:e:{if(Ae(n,n.stateNode.containerInfo),e===null)throw Error(o(387));r=n.pendingProps;var m=n.memoizedState;c=m.element,Wo(e,n),Qa(n,r,null,l);var b=n.memoizedState;if(r=b.cache,Fs(n,Et,r),r!==m.cache&&Qo(n,[Et],l,!0),Pa(),r=b.element,m.isDehydrated)if(m={element:r,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Hh(e,n,r,l);break e}else if(r!==c){c=En(Error(o(424)),n),qa(c),n=Hh(e,n,r,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ct=Mn(e.firstChild),qt=n,Ve=!0,$s=null,Dn=!0,l=zm(n,null,r,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(jl(),r===c){n=vs(e,n,l);break e}Yt(e,n,r,l)}n=n.child}return n;case 26:return xi(e,n),e===null?(l=ef(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ve||(l=n.type,e=n.pendingProps,r=Ri(me.current).createElement(l),r[ot]=n,r[Bt]=e,Ft(r,l,e),ze(r),n.stateNode=r):n.memoizedState=ef(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return kt(n),e===null&&Ve&&(r=n.stateNode=J0(n.type,n.pendingProps,me.current),qt=n,Dn=!0,c=ct,nl(n.type)?(mu=c,ct=Mn(r.firstChild)):ct=c),Yt(e,n,n.pendingProps.children,l),xi(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ve&&((c=r=ct)&&(r=hb(r,n.type,n.pendingProps,Dn),r!==null?(n.stateNode=r,qt=n,ct=Mn(r.firstChild),Dn=!1,c=!0):c=!1),c||Ys(n)),kt(n),c=n.type,m=n.pendingProps,b=e!==null?e.memoizedProps:null,r=m.children,iu(c,m)?r=null:b!==null&&iu(c,b)&&(n.flags|=32),n.memoizedState!==null&&(c=rc(e,n,Eg,null,null,l),hr._currentValue=c),xi(e,n),Yt(e,n,r,l),n.child;case 6:return e===null&&Ve&&((e=l=ct)&&(l=fb(l,n.pendingProps,Dn),l!==null?(n.stateNode=l,qt=n,ct=null,e=!0):e=!1),e||Ys(n)),null;case 13:return qh(e,n,l);case 4:return Ae(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Cl(n,null,r,l):Yt(e,n,r,l),n.child;case 11:return Dh(e,n,n.type,n.pendingProps,l);case 7:return Yt(e,n,n.pendingProps,l),n.child;case 8:return Yt(e,n,n.pendingProps.children,l),n.child;case 12:return Yt(e,n,n.pendingProps.children,l),n.child;case 10:return r=n.pendingProps,Fs(n,n.type,r.value),Yt(e,n,r.children,l),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,wl(n),c=$t(c),r=r(c),n.flags|=1,Yt(e,n,r,l),n.child;case 14:return Rh(e,n,n.type,n.pendingProps,l);case 15:return Mh(e,n,n.type,n.pendingProps,l);case 19:return Yh(e,n,l);case 31:return Og(e,n,l);case 22:return zh(e,n,l,n.pendingProps);case 24:return wl(n),r=$t(Et),e===null?(c=Zo(),c===null&&(c=st,m=Xo(),c.pooledCache=m,m.refCount++,m!==null&&(c.pooledCacheLanes|=l),c=m),n.memoizedState={parent:r,cache:c},Ko(n),Fs(n,Et,c)):((e.lanes&l)!==0&&(Wo(e,n),Qa(n,null,null,l),Pa()),c=e.memoizedState,m=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Fs(n,Et,r)):(r=m.cache,Fs(n,Et,r),r!==c.cache&&Qo(n,[Et],l,!0))),Yt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function js(e){e.flags|=4}function zc(e,n,l,r,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(p0())e.flags|=8192;else throw kl=ei,Jo}else e.flags&=-16777217}function Gh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!af(n))if(p0())e.flags|=8192;else throw kl=ei,Jo}function gi(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?cs():536870912,e.lanes|=n,oa|=n)}function Wa(e,n){if(!Ve)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,r=0;if(n)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=l,n}function Ug(e,n,l){var r=n.pendingProps;switch(Yo(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return ut(n),null;case 3:return l=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),gs(Et),Re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Il(n)?js(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Go())),ut(n),null;case 26:var c=n.type,m=n.memoizedState;return e===null?(js(n),m!==null?(ut(n),Gh(n,m)):(ut(n),zc(n,c,null,r,l))):m?m!==e.memoizedState?(js(n),ut(n),Gh(n,m)):(ut(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&js(n),ut(n),zc(n,c,e,r,l)),null;case 27:if(xt(n),l=me.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&js(n);else{if(!r){if(n.stateNode===null)throw Error(o(166));return ut(n),null}e=I.current,Il(n)?wm(n):(e=J0(c,r,l),n.stateNode=e,js(n))}return ut(n),null;case 5:if(xt(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&js(n);else{if(!r){if(n.stateNode===null)throw Error(o(166));return ut(n),null}if(m=I.current,Il(n))wm(n);else{var b=Ri(me.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof r.is=="string"?b.createElement("select",{is:r.is}):b.createElement("select"),r.multiple?m.multiple=!0:r.size&&(m.size=r.size);break;default:m=typeof r.is=="string"?b.createElement(c,{is:r.is}):b.createElement(c)}}m[ot]=n,m[Bt]=r;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=m;e:switch(Ft(m,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&js(n)}}return ut(n),zc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&js(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(o(166));if(e=me.current,Il(n)){if(e=n.stateNode,l=n.memoizedProps,r=null,c=qt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[ot]=n,e=!!(e.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||q0(e.nodeValue,l)),e||Ys(n,!0)}else e=Ri(e).createTextNode(r),e[ot]=n,n.stateNode=e}return ut(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(r=Il(n),l!==null){if(e===null){if(!r)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[ot]=n}else jl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),e=!1}else l=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(o(558))}return ut(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Il(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[ot]=n}else jl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),c=!1}else c=Go(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=l,n):(l=r!==null,e=e!==null&&e.memoizedState!==null,l&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),m=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(m=r.memoizedState.cachePool.pool),m!==c&&(r.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),gi(n,n.updateQueue),ut(n),null);case 4:return Re(),e===null&&nu(n.stateNode.containerInfo),ut(n),null;case 10:return gs(n.type),ut(n),null;case 19:if(B(wt),r=n.memoizedState,r===null)return ut(n),null;if(c=(n.flags&128)!==0,m=r.rendering,m===null)if(c)Wa(r,!1);else{if(Nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=li(e),m!==null){for(n.flags|=128,Wa(r,!1),e=m.updateQueue,n.updateQueue=e,gi(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)bm(l,e),l=l.sibling;return v(wt,wt.current&1|2),Ve&&xs(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Ct()>Ni&&(n.flags|=128,c=!0,Wa(r,!1),n.lanes=4194304)}else{if(!c)if(e=li(m),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,gi(n,e),Wa(r,!0),r.tail===null&&r.tailMode==="hidden"&&!m.alternate&&!Ve)return ut(n),null}else 2*Ct()-r.renderingStartTime>Ni&&l!==536870912&&(n.flags|=128,c=!0,Wa(r,!1),n.lanes=4194304);r.isBackwards?(m.sibling=n.child,n.child=m):(e=r.last,e!==null?e.sibling=m:n.child=m,r.last=m)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ct(),e.sibling=null,l=wt.current,v(wt,c?l&1|2:l&1),Ve&&xs(n,r.treeForkCount),e):(ut(n),null);case 22:case 23:return gn(n),sc(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(l&536870912)!==0&&(n.flags&128)===0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),l=n.updateQueue,l!==null&&gi(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==l&&(n.flags|=2048),e!==null&&B(Sl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),gs(Et),ut(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function Hg(e,n){switch(Yo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return gs(Et),Re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return xt(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(o(340));jl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));jl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(wt),null;case 4:return Re(),null;case 10:return gs(n.type),null;case 22:case 23:return gn(n),sc(),e!==null&&B(Sl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return gs(Et),null;case 25:return null;default:return null}}function Vh(e,n){switch(Yo(n),n.tag){case 3:gs(Et),Re();break;case 26:case 27:case 5:xt(n);break;case 4:Re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:B(wt);break;case 10:gs(n.type);break;case 22:case 23:gn(n),sc(),e!==null&&B(Sl);break;case 24:gs(Et)}}function er(e,n){try{var l=n.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var c=r.next;l=c;do{if((l.tag&e)===e){r=void 0;var m=l.create,b=l.inst;r=m(),b.destroy=r}l=l.next}while(l!==c)}}catch(w){We(n,n.return,w)}}function Is(e,n,l){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var m=c.next;r=m;do{if((r.tag&e)===e){var b=r.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,c=n;var M=l,V=w;try{V()}catch(te){We(c,M,te)}}}r=r.next}while(r!==m)}}catch(te){We(n,n.return,te)}}function Ph(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Om(n,l)}catch(r){We(e,e.return,r)}}}function Qh(e,n,l){l.props=Al(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(r){We(e,n,r)}}function tr(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof l=="function"?e.refCleanup=l(r):l.current=r}}catch(c){We(e,n,c)}}function ts(e,n){var l=e.ref,r=e.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(c){We(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){We(e,n,c)}else l.current=null}function Xh(e){var n=e.type,l=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(c){We(e,e.return,c)}}function Lc(e,n,l){try{var r=e.stateNode;ib(r,e.type,l,n),r[Bt]=n}catch(c){We(e,e.return,c)}}function Ih(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nl(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ih(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bc(e,n,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=ms));else if(r!==4&&(r===27&&nl(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Bc(e,n,l),e=e.sibling;e!==null;)Bc(e,n,l),e=e.sibling}function bi(e,n,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(r!==4&&(r===27&&nl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(bi(e,n,l),e=e.sibling;e!==null;)bi(e,n,l),e=e.sibling}function Zh(e){var n=e.stateNode,l=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ft(n,r,l),n[ot]=e,n[Bt]=l}catch(m){We(e,e.return,m)}}var Ns=!1,Dt=!1,Uc=!1,Jh=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function qg(e,n){if(e=e.containerInfo,au=Hi,e=cm(e),Do(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var c=r.anchorOffset,m=r.focusNode;r=r.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var b=0,w=-1,M=-1,V=0,te=0,re=e,Z=null;t:for(;;){for(var J;re!==l||c!==0&&re.nodeType!==3||(w=b+c),re!==m||r!==0&&re.nodeType!==3||(M=b+r),re.nodeType===3&&(b+=re.nodeValue.length),(J=re.firstChild)!==null;)Z=re,re=J;for(;;){if(re===e)break t;if(Z===l&&++V===c&&(w=b),Z===m&&++te===r&&(M=b),(J=re.nextSibling)!==null)break;re=Z,Z=re.parentNode}re=J}l=w===-1||M===-1?null:{start:w,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(ru={focusedElem:e,selectionRange:l},Hi=!1,Ut=n;Ut!==null;)if(n=Ut,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ut=e;else for(;Ut!==null;){switch(n=Ut,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)c=e[l],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,c=m.memoizedProps,m=m.memoizedState,r=l.stateNode;try{var Ne=Al(l.type,c);e=r.getSnapshotBeforeUpdate(Ne,m),r.__reactInternalSnapshotBeforeUpdate=e}catch(ke){We(l,l.return,ke)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)cu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,Ut=e;break}Ut=n.return}}function Kh(e,n,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:Ss(e,l),r&4&&er(5,l);break;case 1:if(Ss(e,l),r&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(b){We(l,l.return,b)}else{var c=Al(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){We(l,l.return,b)}}r&64&&Ph(l),r&512&&tr(l,l.return);break;case 3:if(Ss(e,l),r&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Om(e,n)}catch(b){We(l,l.return,b)}}break;case 27:n===null&&r&4&&Zh(l);case 26:case 5:Ss(e,l),n===null&&r&4&&Xh(l),r&512&&tr(l,l.return);break;case 12:Ss(e,l);break;case 31:Ss(e,l),r&4&&t0(e,l);break;case 13:Ss(e,l),r&4&&n0(e,l),r&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Ig.bind(null,l),xb(e,l))));break;case 22:if(r=l.memoizedState!==null||Ns,!r){n=n!==null&&n.memoizedState!==null||Dt,c=Ns;var m=Dt;Ns=r,(Dt=n)&&!m?Ts(e,l,(l.subtreeFlags&8772)!==0):Ss(e,l),Ns=c,Dt=m}break;case 30:break;default:Ss(e,l)}}function Wh(e){var n=e.alternate;n!==null&&(e.alternate=null,Wh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Q(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,nn=!1;function ws(e,n,l){for(l=l.child;l!==null;)e0(e,n,l),l=l.sibling}function e0(e,n,l){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(zt,l)}catch{}switch(l.tag){case 26:Dt||ts(l,n),ws(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Dt||ts(l,n);var r=ht,c=nn;nl(l.type)&&(ht=l.stateNode,nn=!1),ws(e,n,l),ur(l.stateNode),ht=r,nn=c;break;case 5:Dt||ts(l,n);case 6:if(r=ht,c=nn,ht=null,ws(e,n,l),ht=r,nn=c,ht!==null)if(nn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(l.stateNode)}catch(m){We(l,n,m)}else try{ht.removeChild(l.stateNode)}catch(m){We(l,n,m)}break;case 18:ht!==null&&(nn?(e=ht,P0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),pa(e)):P0(ht,l.stateNode));break;case 4:r=ht,c=nn,ht=l.stateNode.containerInfo,nn=!0,ws(e,n,l),ht=r,nn=c;break;case 0:case 11:case 14:case 15:Is(2,l,n),Dt||Is(4,l,n),ws(e,n,l);break;case 1:Dt||(ts(l,n),r=l.stateNode,typeof r.componentWillUnmount=="function"&&Qh(l,n,r)),ws(e,n,l);break;case 21:ws(e,n,l);break;case 22:Dt=(r=Dt)||l.memoizedState!==null,ws(e,n,l),Dt=r;break;default:ws(e,n,l)}}function t0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{pa(e)}catch(l){We(n,n.return,l)}}}function n0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pa(e)}catch(l){We(n,n.return,l)}}function $g(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Jh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Jh),n;default:throw Error(o(435,e.tag))}}function yi(e,n){var l=$g(e);n.forEach(function(r){if(!l.has(r)){l.add(r);var c=Zg.bind(null,e,r);r.then(c,c)}})}function sn(e,n){var l=n.deletions;if(l!==null)for(var r=0;r<l.length;r++){var c=l[r],m=e,b=n,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(nl(w.type)){ht=w.stateNode,nn=!1;break e}break;case 5:ht=w.stateNode,nn=!1;break e;case 3:case 4:ht=w.stateNode.containerInfo,nn=!0;break e}w=w.return}if(ht===null)throw Error(o(160));e0(m,b,c),ht=null,nn=!1,m=c.alternate,m!==null&&(m.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)s0(n,e),n=n.sibling}var Fn=null;function s0(e,n){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),ln(e),r&4&&(Is(3,e,e.return),er(3,e),Is(5,e,e.return));break;case 1:sn(n,e),ln(e),r&512&&(Dt||l===null||ts(l,l.return)),r&64&&Ns&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var c=Fn;if(sn(n,e),ln(e),r&512&&(Dt||l===null||ts(l,l.return)),r&4){var m=l!==null?l.memoizedState:null;if(r=e.memoizedState,l===null)if(r===null)if(e.stateNode===null){e:{r=e.type,l=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":m=c.getElementsByTagName("title")[0],(!m||m[K]||m[ot]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=c.createElement(r),c.head.insertBefore(m,c.querySelector("head > title"))),Ft(m,r,l),m[ot]=e,ze(m),r=m;break e;case"link":var b=sf("link","href",c).get(r+(l.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(w,1);break t}}m=c.createElement(r),Ft(m,r,l),c.head.appendChild(m);break;case"meta":if(b=sf("meta","content",c).get(r+(l.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(w,1);break t}}m=c.createElement(r),Ft(m,r,l),c.head.appendChild(m);break;default:throw Error(o(468,r))}m[ot]=e,ze(m),r=m}e.stateNode=r}else lf(c,e.type,e.stateNode);else e.stateNode=nf(c,r,e.memoizedProps);else m!==r?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,r===null?lf(c,e.type,e.stateNode):nf(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Lc(e,e.memoizedProps,l.memoizedProps)}break;case 27:sn(n,e),ln(e),r&512&&(Dt||l===null||ts(l,l.return)),l!==null&&r&4&&Lc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(sn(n,e),ln(e),r&512&&(Dt||l===null||ts(l,l.return)),e.flags&32){c=e.stateNode;try{Hl(c,"")}catch(Ne){We(e,e.return,Ne)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Lc(e,c,l!==null?l.memoizedProps:c)),r&1024&&(Uc=!0);break;case 6:if(sn(n,e),ln(e),r&4){if(e.stateNode===null)throw Error(o(162));r=e.memoizedProps,l=e.stateNode;try{l.nodeValue=r}catch(Ne){We(e,e.return,Ne)}}break;case 3:if(Li=null,c=Fn,Fn=Mi(n.containerInfo),sn(n,e),Fn=c,ln(e),r&4&&l!==null&&l.memoizedState.isDehydrated)try{pa(n.containerInfo)}catch(Ne){We(e,e.return,Ne)}Uc&&(Uc=!1,l0(e));break;case 4:r=Fn,Fn=Mi(e.stateNode.containerInfo),sn(n,e),ln(e),Fn=r;break;case 12:sn(n,e),ln(e);break;case 31:sn(n,e),ln(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yi(e,r)));break;case 13:sn(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ji=Ct()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yi(e,r)));break;case 22:c=e.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,V=Ns,te=Dt;if(Ns=V||c,Dt=te||M,sn(n,e),Dt=te,Ns=V,ln(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(l===null||M||Ns||Dt||_l(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){M=l=n;try{if(m=M.stateNode,c)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=M.stateNode;var re=M.memoizedProps.style,Z=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ne){We(M,M.return,Ne)}}}else if(n.tag===6){if(l===null){M=n;try{M.stateNode.nodeValue=c?"":M.memoizedProps}catch(Ne){We(M,M.return,Ne)}}}else if(n.tag===18){if(l===null){M=n;try{var J=M.stateNode;c?Q0(J,!0):Q0(M.stateNode,!1)}catch(Ne){We(M,M.return,Ne)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,yi(e,l))));break;case 19:sn(n,e),ln(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,yi(e,r)));break;case 30:break;case 21:break;default:sn(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var l,r=e.return;r!==null;){if(Ih(r)){l=r;break}r=r.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var c=l.stateNode,m=Oc(e);bi(e,m,c);break;case 5:var b=l.stateNode;l.flags&32&&(Hl(b,""),l.flags&=-33);var w=Oc(e);bi(e,w,b);break;case 3:case 4:var M=l.stateNode.containerInfo,V=Oc(e);Bc(e,V,M);break;default:throw Error(o(161))}}catch(te){We(e,e.return,te)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function l0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;l0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ss(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Kh(e,n.alternate,n),n=n.sibling}function _l(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Is(4,n,n.return),_l(n);break;case 1:ts(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Qh(n,n.return,l),_l(n);break;case 27:ur(n.stateNode);case 26:case 5:ts(n,n.return),_l(n);break;case 22:n.memoizedState===null&&_l(n);break;case 30:_l(n);break;default:_l(n)}e=e.sibling}}function Ts(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ts(c,m,l),er(4,m);break;case 1:if(Ts(c,m,l),r=m,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(V){We(r,r.return,V)}if(r=m,c=r.updateQueue,c!==null){var w=r.stateNode;try{var M=c.shared.hiddenCallbacks;if(M!==null)for(c.shared.hiddenCallbacks=null,c=0;c<M.length;c++)Lm(M[c],w)}catch(V){We(r,r.return,V)}}l&&b&64&&Ph(m),tr(m,m.return);break;case 27:Zh(m);case 26:case 5:Ts(c,m,l),l&&r===null&&b&4&&Xh(m),tr(m,m.return);break;case 12:Ts(c,m,l);break;case 31:Ts(c,m,l),l&&b&4&&t0(c,m);break;case 13:Ts(c,m,l),l&&b&4&&n0(c,m);break;case 22:m.memoizedState===null&&Ts(c,m,l),tr(m,m.return);break;case 30:break;default:Ts(c,m,l)}n=n.sibling}}function Hc(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&$a(l))}function qc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$a(e))}function Gn(e,n,l,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)a0(e,n,l,r),n=n.sibling}function a0(e,n,l,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(e,n,l,r),c&2048&&er(9,n);break;case 1:Gn(e,n,l,r);break;case 3:Gn(e,n,l,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$a(e)));break;case 12:if(c&2048){Gn(e,n,l,r),e=n.stateNode;try{var m=n.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){We(n,n.return,M)}}else Gn(e,n,l,r);break;case 31:Gn(e,n,l,r);break;case 13:Gn(e,n,l,r);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?Gn(e,n,l,r):nr(e,n):m._visibility&2?Gn(e,n,l,r):(m._visibility|=2,aa(e,n,l,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Hc(b,n);break;case 24:Gn(e,n,l,r),c&2048&&qc(n.alternate,n);break;default:Gn(e,n,l,r)}}function aa(e,n,l,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,b=n,w=l,M=r,V=b.flags;switch(b.tag){case 0:case 11:case 15:aa(m,b,w,M,c),er(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?aa(m,b,w,M,c):nr(m,b):(te._visibility|=2,aa(m,b,w,M,c)),c&&V&2048&&Hc(b.alternate,b);break;case 24:aa(m,b,w,M,c),c&&V&2048&&qc(b.alternate,b);break;default:aa(m,b,w,M,c)}n=n.sibling}}function nr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,r=n,c=r.flags;switch(r.tag){case 22:nr(l,r),c&2048&&Hc(r.alternate,r);break;case 24:nr(l,r),c&2048&&qc(r.alternate,r);break;default:nr(l,r)}n=n.sibling}}var sr=8192;function ra(e,n,l){if(e.subtreeFlags&sr)for(e=e.child;e!==null;)r0(e,n,l),e=e.sibling}function r0(e,n,l){switch(e.tag){case 26:ra(e,n,l),e.flags&sr&&e.memoizedState!==null&&Cb(l,Fn,e.memoizedState,e.memoizedProps);break;case 5:ra(e,n,l);break;case 3:case 4:var r=Fn;Fn=Mi(e.stateNode.containerInfo),ra(e,n,l),Fn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=sr,sr=16777216,ra(e,n,l),sr=r):ra(e,n,l));break;default:ra(e,n,l)}}function i0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function lr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];Ut=r,c0(r,e)}i0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)o0(e),e=e.sibling}function o0(e){switch(e.tag){case 0:case 11:case 15:lr(e),e.flags&2048&&Is(9,e,e.return);break;case 3:lr(e);break;case 12:lr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,vi(e)):lr(e);break;default:lr(e)}}function vi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var r=n[l];Ut=r,c0(r,e)}i0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Is(8,n,n.return),vi(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,vi(n));break;default:vi(n)}e=e.sibling}}function c0(e,n){for(;Ut!==null;){var l=Ut;switch(l.tag){case 0:case 11:case 15:Is(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:$a(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,Ut=r;else e:for(l=e;Ut!==null;){r=Ut;var c=r.sibling,m=r.return;if(Wh(r),r===l){Ut=null;break e}if(c!==null){c.return=m,Ut=c;break e}Ut=m}}}var Yg={getCacheForType:function(e){var n=$t(Et),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return $t(Et).controller.signal}},Fg=typeof WeakMap=="function"?WeakMap:Map,Ze=0,st=null,qe=null,Fe=0,Ke=0,bn=null,Zs=!1,ia=!1,$c=!1,ks=0,Nt=0,Js=0,Dl=0,Yc=0,yn=0,oa=0,ar=null,an=null,Fc=!1,ji=0,u0=0,Ni=1/0,wi=null,Ks=null,Lt=0,Ws=null,ca=null,Cs=0,Gc=0,Vc=null,d0=null,rr=0,Pc=null;function vn(){return(Ze&2)!==0&&Fe!==0?Fe&-Fe:A.T!==null?Kc():Bl()}function m0(){if(yn===0)if((Fe&536870912)===0||Ve){var e=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),yn=e}else yn=536870912;return e=pn.current,e!==null&&(e.flags|=32),yn}function rn(e,n,l){(e===st&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)&&(ua(e,0),el(e,Fe,yn,!1)),Zt(e,l),((Ze&2)===0||e!==st)&&(e===st&&((Ze&2)===0&&(Dl|=l),Nt===4&&el(e,Fe,yn,!1)),ns(e))}function h0(e,n,l){if((Ze&6)!==0)throw Error(o(327));var r=!l&&(n&127)===0&&(n&e.expiredLanes)===0||os(e,n),c=r?Pg(e,n):Xc(e,n,!0),m=r;do{if(c===0){ia&&!r&&el(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!Gg(l)){c=Xc(e,n,!1),m=!1;continue}if(c===2){if(m=n,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var w=e;c=ar;var M=w.current.memoizedState.isDehydrated;if(M&&(ua(w,b).flags|=256),b=Xc(w,b,!1),b!==2){if($c&&!M){w.errorRecoveryDisabledLanes|=m,Dl|=m,c=4;break e}m=an,an=c,m!==null&&(an===null?an=m:an.push.apply(an,m))}c=b}if(m=!1,c!==2)continue}}if(c===1){ua(e,0),el(e,n,0,!0);break}e:{switch(r=e,m=c,m){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:el(r,n,yn,!Zs);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(c=ji+300-Ct(),10<c)){if(el(r,n,yn,!Zs),Jn(r,0,!0)!==0)break e;Cs=n,r.timeoutHandle=G0(f0.bind(null,r,l,an,wi,Fc,n,yn,Dl,oa,Zs,m,"Throttled",-0,0),c);break e}f0(r,l,an,wi,Fc,n,yn,Dl,oa,Zs,m,null,-0,0)}}break}while(!0);ns(e)}function f0(e,n,l,r,c,m,b,w,M,V,te,re,Z,J){if(e.timeoutHandle=-1,re=n.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ms},r0(n,m,re);var Ne=(m&62914560)===m?ji-Ct():(m&4194048)===m?u0-Ct():0;if(Ne=Eb(re,Ne),Ne!==null){Cs=m,e.cancelPendingCommit=Ne(N0.bind(null,e,n,m,l,r,c,b,w,M,te,re,null,Z,J)),el(e,m,b,!V);return}}N0(e,n,m,l,r,c,b,w,M)}function Gg(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var c=l[r],m=c.getSnapshot;c=c.value;try{if(!fn(m(),c))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function el(e,n,l,r){n&=~Yc,n&=~Dl,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var m=31-Qe(c),b=1<<m;r[m]=-1,c&=~b}l!==0&&hl(e,l,n)}function Si(){return(Ze&6)===0?(ir(0),!1):!0}function Qc(){if(qe!==null){if(Ke===0)var e=qe.return;else e=qe,ps=Nl=null,cc(e),ea=null,Fa=0,e=qe;for(;e!==null;)Vh(e.alternate,e),e=e.return;qe=null}}function ua(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,ub(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Cs=0,Qc(),st=e,qe=l=fs(e.current,null),Fe=n,Ke=0,bn=null,Zs=!1,ia=os(e,n),$c=!1,oa=yn=Yc=Dl=Js=Nt=0,an=ar=null,Fc=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-Qe(r),m=1<<c;n|=e[c],r&=~m}return ks=n,Vr(),l}function x0(e,n){Le=null,A.H=Ja,n===Wl||n===Wr?(n=Dm(),Ke=3):n===Jo?(n=Dm(),Ke=4):Ke=n===Tc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,qe===null&&(Nt=1,hi(e,En(n,e.current)))}function p0(){var e=pn.current;return e===null?!0:(Fe&4194048)===Fe?Rn===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?e===Rn:!1}function g0(){var e=A.H;return A.H=Ja,e===null?Ja:e}function b0(){var e=A.A;return A.A=Yg,e}function Ti(){Nt=4,Zs||(Fe&4194048)!==Fe&&pn.current!==null||(ia=!0),(Js&134217727)===0&&(Dl&134217727)===0||st===null||el(st,Fe,yn,!1)}function Xc(e,n,l){var r=Ze;Ze|=2;var c=g0(),m=b0();(st!==e||Fe!==n)&&(wi=null,ua(e,n)),n=!1;var b=Nt;e:do try{if(Ke!==0&&qe!==null){var w=qe,M=bn;switch(Ke){case 8:Qc(),b=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var V=Ke;if(Ke=0,bn=null,da(e,w,M,V),l&&ia){b=0;break e}break;default:V=Ke,Ke=0,bn=null,da(e,w,M,V)}}Vg(),b=Nt;break}catch(te){x0(e,te)}while(!0);return n&&e.shellSuspendCounter++,ps=Nl=null,Ze=r,A.H=c,A.A=m,qe===null&&(st=null,Fe=0,Vr()),b}function Vg(){for(;qe!==null;)y0(qe)}function Pg(e,n){var l=Ze;Ze|=2;var r=g0(),c=b0();st!==e||Fe!==n?(wi=null,Ni=Ct()+500,ua(e,n)):ia=os(e,n);e:do try{if(Ke!==0&&qe!==null){n=qe;var m=bn;t:switch(Ke){case 1:Ke=0,bn=null,da(e,n,m,1);break;case 2:case 9:if(Am(m)){Ke=0,bn=null,v0(n);break}n=function(){Ke!==2&&Ke!==9||st!==e||(Ke=7),ns(e)},m.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Am(m)?(Ke=0,bn=null,v0(n)):(Ke=0,bn=null,da(e,n,m,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var w=qe;if(b?af(b):w.stateNode.complete){Ke=0,bn=null;var M=w.sibling;if(M!==null)qe=M;else{var V=w.return;V!==null?(qe=V,ki(V)):qe=null}break t}}Ke=0,bn=null,da(e,n,m,5);break;case 6:Ke=0,bn=null,da(e,n,m,6);break;case 8:Qc(),Nt=6;break e;default:throw Error(o(462))}}Qg();break}catch(te){x0(e,te)}while(!0);return ps=Nl=null,A.H=r,A.A=c,Ze=l,qe!==null?0:(st=null,Fe=0,Vr(),Nt)}function Qg(){for(;qe!==null&&!Ht();)y0(qe)}function y0(e){var n=Fh(e.alternate,e,ks);e.memoizedProps=e.pendingProps,n===null?ki(e):qe=n}function v0(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Bh(l,n,n.pendingProps,n.type,void 0,Fe);break;case 11:n=Bh(l,n,n.pendingProps,n.type.render,n.ref,Fe);break;case 5:cc(n);default:Vh(l,n),n=qe=bm(n,ks),n=Fh(l,n,ks)}e.memoizedProps=e.pendingProps,n===null?ki(e):qe=n}function da(e,n,l,r){ps=Nl=null,cc(n),ea=null,Fa=0;var c=n.return;try{if(Lg(e,c,n,l,Fe)){Nt=1,hi(e,En(l,e.current)),qe=null;return}}catch(m){if(c!==null)throw qe=c,m;Nt=1,hi(e,En(l,e.current)),qe=null;return}n.flags&32768?(Ve||r===1?e=!0:ia||(Fe&536870912)!==0?e=!1:(Zs=e=!0,(r===2||r===9||r===3||r===6)&&(r=pn.current,r!==null&&r.tag===13&&(r.flags|=16384))),j0(n,e)):ki(n)}function ki(e){var n=e;do{if((n.flags&32768)!==0){j0(n,Zs);return}e=n.return;var l=Ug(n.alternate,n,ks);if(l!==null){qe=l;return}if(n=n.sibling,n!==null){qe=n;return}qe=n=e}while(n!==null);Nt===0&&(Nt=5)}function j0(e,n){do{var l=Hg(e.alternate,e);if(l!==null){l.flags&=32767,qe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){qe=e;return}qe=e=l}while(e!==null);Nt=6,qe=null}function N0(e,n,l,r,c,m,b,w,M){e.cancelPendingCommit=null;do Ci();while(Lt!==0);if((Ze&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(m=n.lanes|n.childLanes,m|=Oo,Hn(e,l,m,b,w,M),e===st&&(qe=st=null,Fe=0),ca=n,Ws=e,Cs=l,Gc=m,Vc=c,d0=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jg(Te,function(){return C0(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=A.T,A.T=null,c=ee.p,ee.p=2,b=Ze,Ze|=4;try{qg(e,n,l)}finally{Ze=b,ee.p=c,A.T=r}}Lt=1,w0(),S0(),T0()}}function w0(){if(Lt===1){Lt=0;var e=Ws,n=ca,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=A.T,A.T=null;var r=ee.p;ee.p=2;var c=Ze;Ze|=4;try{s0(n,e);var m=ru,b=cm(e.containerInfo),w=m.focusedElem,M=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&om(w.ownerDocument.documentElement,w)){if(M!==null&&Do(w)){var V=M.start,te=M.end;if(te===void 0&&(te=V),"selectionStart"in w)w.selectionStart=V,w.selectionEnd=Math.min(te,w.value.length);else{var re=w.ownerDocument||document,Z=re&&re.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Ne=w.textContent.length,ke=Math.min(M.start,Ne),nt=M.end===void 0?ke:Math.min(M.end,Ne);!J.extend&&ke>nt&&(b=nt,nt=ke,ke=b);var $=im(w,ke),L=im(w,nt);if($&&L&&(J.rangeCount!==1||J.anchorNode!==$.node||J.anchorOffset!==$.offset||J.focusNode!==L.node||J.focusOffset!==L.offset)){var G=re.createRange();G.setStart($.node,$.offset),J.removeAllRanges(),ke>nt?(J.addRange(G),J.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),J.addRange(G))}}}}for(re=[],J=w;J=J.parentNode;)J.nodeType===1&&re.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var le=re[w];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Hi=!!au,ru=au=null}finally{Ze=c,ee.p=r,A.T=l}}e.current=n,Lt=2}}function S0(){if(Lt===2){Lt=0;var e=Ws,n=ca,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=A.T,A.T=null;var r=ee.p;ee.p=2;var c=Ze;Ze|=4;try{Kh(e,n.alternate,n)}finally{Ze=c,ee.p=r,A.T=l}}Lt=3}}function T0(){if(Lt===4||Lt===3){Lt=0,mt();var e=Ws,n=ca,l=Cs,r=d0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Lt=5:(Lt=0,ca=Ws=null,k0(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ks=null),Us(l),n=n.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(zt,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=A.T,c=ee.p,ee.p=2,A.T=null;try{for(var m=e.onRecoverableError,b=0;b<r.length;b++){var w=r[b];m(w.value,{componentStack:w.stack})}}finally{A.T=n,ee.p=c}}(Cs&3)!==0&&Ci(),ns(e),c=e.pendingLanes,(l&261930)!==0&&(c&42)!==0?e===Pc?rr++:(rr=0,Pc=e):rr=0,ir(0)}}function k0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,$a(n)))}function Ci(){return w0(),S0(),T0(),C0()}function C0(){if(Lt!==5)return!1;var e=Ws,n=Gc;Gc=0;var l=Us(Cs),r=A.T,c=ee.p;try{ee.p=32>l?32:l,A.T=null,l=Vc,Vc=null;var m=Ws,b=Cs;if(Lt=0,ca=Ws=null,Cs=0,(Ze&6)!==0)throw Error(o(331));var w=Ze;if(Ze|=4,o0(m.current),a0(m,m.current,b,l),Ze=w,ir(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(zt,m)}catch{}return!0}finally{ee.p=c,A.T=r,k0(e,n)}}function E0(e,n,l){n=En(l,n),n=Sc(e.stateNode,n,2),e=Ps(e,n,2),e!==null&&(Zt(e,2),ns(e))}function We(e,n,l){if(e.tag===3)E0(e,e,l);else for(;n!==null;){if(n.tag===3){E0(n,e,l);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ks===null||!Ks.has(r))){e=En(l,e),l=Ah(2),r=Ps(n,l,2),r!==null&&(_h(l,r,n,e),Zt(r,2),ns(r));break}}n=n.return}}function Ic(e,n,l){var r=e.pingCache;if(r===null){r=e.pingCache=new Fg;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(l)||($c=!0,c.add(l),e=Xg.bind(null,e,n,l),n.then(e,e))}function Xg(e,n,l){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,st===e&&(Fe&l)===l&&(Nt===4||Nt===3&&(Fe&62914560)===Fe&&300>Ct()-ji?(Ze&2)===0&&ua(e,0):Yc|=l,oa===Fe&&(oa=0)),ns(e)}function A0(e,n){n===0&&(n=cs()),e=yl(e,n),e!==null&&(Zt(e,n),ns(e))}function Ig(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),A0(e,l)}function Zg(e,n){var l=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(n),A0(e,l)}function Jg(e,n){return Wt(e,n)}var Ei=null,ma=null,Zc=!1,Ai=!1,Jc=!1,tl=0;function ns(e){e!==ma&&e.next===null&&(ma===null?Ei=ma=e:ma=ma.next=e),Ai=!0,Zc||(Zc=!0,Wg())}function ir(e,n){if(!Jc&&Ai){Jc=!0;do for(var l=!1,r=Ei;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var m=0;else{var b=r.suspendedLanes,w=r.pingedLanes;m=(1<<31-Qe(42|e)+1)-1,m&=c&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,M0(r,m))}else m=Fe,m=Jn(r,r===st?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(m&3)===0||os(r,m)||(l=!0,M0(r,m));r=r.next}while(l);Jc=!1}}function Kg(){_0()}function _0(){Ai=Zc=!1;var e=0;tl!==0&&cb()&&(e=tl);for(var n=Ct(),l=null,r=Ei;r!==null;){var c=r.next,m=D0(r,n);m===0?(r.next=null,l===null?Ei=c:l.next=c,c===null&&(ma=l)):(l=r,(e!==0||(m&3)!==0)&&(Ai=!0)),r=c}Lt!==0&&Lt!==5||ir(e),tl!==0&&(tl=0)}function D0(e,n){for(var l=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-Qe(m),w=1<<b,M=c[b];M===-1?((w&l)===0||(w&r)!==0)&&(c[b]=Aa(w,n)):M<=n&&(e.expiredLanes|=w),m&=~w}if(n=st,l=Fe,l=Jn(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,l===0||e===n&&(Ke===2||Ke===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&It(r),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||os(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(r!==null&&It(r),Us(l)){case 2:case 8:l=ge;break;case 32:l=Te;break;case 268435456:l=Ye;break;default:l=Te}return r=R0.bind(null,e),l=Wt(l,r),e.callbackPriority=n,e.callbackNode=l,n}return r!==null&&r!==null&&It(r),e.callbackPriority=2,e.callbackNode=null,2}function R0(e,n){if(Lt!==0&&Lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ci()&&e.callbackNode!==l)return null;var r=Fe;return r=Jn(e,e===st?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(h0(e,r,n),D0(e,Ct()),e.callbackNode!=null&&e.callbackNode===l?R0.bind(null,e):null)}function M0(e,n){if(Ci())return null;h0(e,n,!0)}function Wg(){db(function(){(Ze&6)!==0?Wt(W,Kg):_0()})}function Kc(){if(tl===0){var e=Jl;e===0&&(e=is,is<<=1,(is&261888)===0&&(is=256)),tl=e}return tl}function z0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Br(""+e)}function L0(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function eb(e,n,l,r,c){if(n==="submit"&&l&&l.stateNode===c){var m=z0((c[Bt]||null).action),b=r.submitter;b&&(n=(n=b[Bt]||null)?z0(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var w=new $r("action","action",null,r,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(tl!==0){var M=b?L0(c,b):new FormData(c);bc(l,{pending:!0,data:M,method:c.method,action:m},null,M)}}else typeof m=="function"&&(w.preventDefault(),M=b?L0(c,b):new FormData(c),bc(l,{pending:!0,data:M,method:c.method,action:m},m,M))},currentTarget:c}]})}}for(var Wc=0;Wc<Lo.length;Wc++){var eu=Lo[Wc],tb=eu.toLowerCase(),nb=eu[0].toUpperCase()+eu.slice(1);Yn(tb,"on"+nb)}Yn(mm,"onAnimationEnd"),Yn(hm,"onAnimationIteration"),Yn(fm,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(bg,"onTransitionRun"),Yn(yg,"onTransitionStart"),Yn(vg,"onTransitionCancel"),Yn(xm,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),Pe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(or));function O0(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var r=e[l],c=r.event;r=r.listeners;e:{var m=void 0;if(n)for(var b=r.length-1;0<=b;b--){var w=r[b],M=w.instance,V=w.currentTarget;if(w=w.listener,M!==m&&c.isPropagationStopped())break e;m=w,c.currentTarget=V;try{m(c)}catch(te){Gr(te)}c.currentTarget=null,m=M}else for(b=0;b<r.length;b++){if(w=r[b],M=w.instance,V=w.currentTarget,w=w.listener,M!==m&&c.isPropagationStopped())break e;m=w,c.currentTarget=V;try{m(c)}catch(te){Gr(te)}c.currentTarget=null,m=M}}}}function $e(e,n){var l=n[xl];l===void 0&&(l=n[xl]=new Set);var r=e+"__bubble";l.has(r)||(B0(n,e,2,!1),l.add(r))}function tu(e,n,l){var r=0;n&&(r|=4),B0(l,e,r,n)}var _i="_reactListening"+Math.random().toString(36).slice(2);function nu(e){if(!e[_i]){e[_i]=!0,de.forEach(function(l){l!=="selectionchange"&&(sb.has(l)||tu(l,!1,e),tu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_i]||(n[_i]=!0,tu("selectionchange",!1,n))}}function B0(e,n,l,r){switch(hf(n)){case 2:var c=Db;break;case 8:c=Rb;break;default:c=gu}l=c.bind(null,n,l,e),c=void 0,!No||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,l,{capture:!0,passive:c}):e.addEventListener(n,l,!0):c!==void 0?e.addEventListener(n,l,{passive:c}):e.addEventListener(n,l,!1)}function su(e,n,l,r,c){var m=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var b=r.tag;if(b===3||b===4){var w=r.stateNode.containerInfo;if(w===c)break;if(b===4)for(b=r.return;b!==null;){var M=b.tag;if((M===3||M===4)&&b.stateNode.containerInfo===c)return;b=b.return}for(;w!==null;){if(b=ie(w),b===null)return;if(M=b.tag,M===5||M===6||M===26||M===27){r=m=b;continue e}w=w.parentNode}}r=r.return}Yd(function(){var V=m,te=vo(l),re=[];e:{var Z=pm.get(e);if(Z!==void 0){var J=$r,Ne=e;switch(e){case"keypress":if(Hr(l)===0)break e;case"keydown":case"keyup":J=Zp;break;case"focusin":Ne="focus",J=ko;break;case"focusout":Ne="blur",J=ko;break;case"beforeblur":case"afterblur":J=ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Up;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Wp;break;case mm:case hm:case fm:J=$p;break;case xm:J=tg;break;case"scroll":case"scrollend":J=Op;break;case"wheel":J=sg;break;case"copy":case"cut":case"paste":J=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Qd;break;case"toggle":case"beforetoggle":J=ag}var ke=(n&4)!==0,nt=!ke&&(e==="scroll"||e==="scrollend"),$=ke?Z!==null?Z+"Capture":null:Z;ke=[];for(var L=V,G;L!==null;){var le=L;if(G=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||G===null||$===null||(le=_a(L,$),le!=null&&ke.push(cr(L,le,G))),nt)break;L=L.return}0<ke.length&&(Z=new J(Z,Ne,null,l,te),re.push({event:Z,listeners:ke}))}}if((n&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",Z&&l!==yo&&(Ne=l.relatedTarget||l.fromElement)&&(ie(Ne)||Ne[Kn]))break e;if((J||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Ne=l.relatedTarget||l.toElement,J=V,Ne=Ne?ie(Ne):null,Ne!==null&&(nt=d(Ne),ke=Ne.tag,Ne!==nt||ke!==5&&ke!==27&&ke!==6)&&(Ne=null)):(J=null,Ne=V),J!==Ne)){if(ke=Vd,le="onMouseLeave",$="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(ke=Qd,le="onPointerLeave",$="onPointerEnter",L="pointer"),nt=J==null?Z:X(J),G=Ne==null?Z:X(Ne),Z=new ke(le,L+"leave",J,l,te),Z.target=nt,Z.relatedTarget=G,le=null,ie(te)===V&&(ke=new ke($,L+"enter",Ne,l,te),ke.target=G,ke.relatedTarget=nt,le=ke),nt=le,J&&Ne)t:{for(ke=lb,$=J,L=Ne,G=0,le=$;le;le=ke(le))G++;le=0;for(var Se=L;Se;Se=ke(Se))le++;for(;0<G-le;)$=ke($),G--;for(;0<le-G;)L=ke(L),le--;for(;G--;){if($===L||L!==null&&$===L.alternate){ke=$;break t}$=ke($),L=ke(L)}ke=null}else ke=null;J!==null&&U0(re,Z,J,ke,!1),Ne!==null&&nt!==null&&U0(re,nt,Ne,ke,!0)}}e:{if(Z=V?X(V):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var Xe=tm;else if(Wd(Z))if(nm)Xe=xg;else{Xe=hg;var we=mg}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?V&&bo(V.elementType)&&(Xe=tm):Xe=fg;if(Xe&&(Xe=Xe(e,V))){em(re,Xe,l,te);break e}we&&we(e,Z,V),e==="focusout"&&V&&Z.type==="number"&&V.memoizedProps.value!=null&&go(Z,"number",Z.value)}switch(we=V?X(V):window,e){case"focusin":(Wd(we)||we.contentEditable==="true")&&(Fl=we,Ro=V,Ua=null);break;case"focusout":Ua=Ro=Fl=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,um(re,l,te);break;case"selectionchange":if(gg)break;case"keydown":case"keyup":um(re,l,te)}var Oe;if(Eo)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Yl?Jd(e,l)&&(Ge="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(Xd&&l.locale!=="ko"&&(Yl||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Yl&&(Oe=Fd()):(Hs=te,wo="value"in Hs?Hs.value:Hs.textContent,Yl=!0)),we=Di(V,Ge),0<we.length&&(Ge=new Pd(Ge,e,null,l,te),re.push({event:Ge,listeners:we}),Oe?Ge.data=Oe:(Oe=Kd(l),Oe!==null&&(Ge.data=Oe)))),(Oe=ig?og(e,l):cg(e,l))&&(Ge=Di(V,"onBeforeInput"),0<Ge.length&&(we=new Pd("onBeforeInput","beforeinput",null,l,te),re.push({event:we,listeners:Ge}),we.data=Oe)),eb(re,e,V,l,te)}O0(re,n)})}function cr(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Di(e,n){for(var l=n+"Capture",r=[];e!==null;){var c=e,m=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||m===null||(c=_a(e,l),c!=null&&r.unshift(cr(e,c,m)),c=_a(e,n),c!=null&&r.push(cr(e,c,m))),e.tag===3)return r;e=e.return}return[]}function lb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function U0(e,n,l,r,c){for(var m=n._reactName,b=[];l!==null&&l!==r;){var w=l,M=w.alternate,V=w.stateNode;if(w=w.tag,M!==null&&M===r)break;w!==5&&w!==26&&w!==27||V===null||(M=V,c?(V=_a(l,m),V!=null&&b.unshift(cr(l,V,M))):c||(V=_a(l,m),V!=null&&b.push(cr(l,V,M)))),l=l.return}b.length!==0&&e.push({event:n,listeners:b})}var ab=/\r\n?/g,rb=/\u0000|\uFFFD/g;function H0(e){return(typeof e=="string"?e:""+e).replace(ab,`
`).replace(rb,"")}function q0(e,n){return n=H0(n),H0(e)===n}function tt(e,n,l,r,c,m){switch(l){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Hl(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Hl(e,""+r);break;case"className":Lr(e,"class",r);break;case"tabIndex":Lr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Lr(e,l,r);break;case"style":qd(e,r,m);break;case"data":if(n!=="object"){Lr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=Br(""+r),e.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&tt(e,n,"name",c.name,c,null),tt(e,n,"formEncType",c.formEncType,c,null),tt(e,n,"formMethod",c.formMethod,c,null),tt(e,n,"formTarget",c.formTarget,c,null)):(tt(e,n,"encType",c.encType,c,null),tt(e,n,"method",c.method,c,null),tt(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=Br(""+r),e.setAttribute(l,r);break;case"onClick":r!=null&&(e.onclick=ms);break;case"onScroll":r!=null&&$e("scroll",e);break;case"onScrollEnd":r!=null&&$e("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(l=r.__html,l!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}l=Br(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""+r):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":r===!0?e.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,r):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(l,r):e.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(l):e.setAttribute(l,r);break;case"popover":$e("beforetoggle",e),$e("toggle",e),zr(e,"popover",r);break;case"xlinkActuate":ds(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ds(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ds(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ds(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ds(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ds(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ds(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ds(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ds(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":zr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zp.get(l)||l,zr(e,l,r))}}function lu(e,n,l,r,c,m){switch(l){case"style":qd(e,r,m);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(l=r.__html,l!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof r=="string"?Hl(e,r):(typeof r=="number"||typeof r=="bigint")&&Hl(e,""+r);break;case"onScroll":r!=null&&$e("scroll",e);break;case"onScrollEnd":r!=null&&$e("scrollend",e);break;case"onClick":r!=null&&(e.onclick=ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!He.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),n=l.slice(2,c?l.length-7:void 0),m=e[Bt]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,c),typeof r=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,r,c);break e}l in e?e[l]=r:r===!0?e.setAttribute(l,""):zr(e,l,r)}}}function Ft(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",e),$e("load",e);var r=!1,c=!1,m;for(m in l)if(l.hasOwnProperty(m)){var b=l[m];if(b!=null)switch(m){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:tt(e,n,m,b,l,null)}}c&&tt(e,n,"srcSet",l.srcSet,l,null),r&&tt(e,n,"src",l.src,l,null);return;case"input":$e("invalid",e);var w=m=b=c=null,M=null,V=null;for(r in l)if(l.hasOwnProperty(r)){var te=l[r];if(te!=null)switch(r){case"name":c=te;break;case"type":b=te;break;case"checked":M=te;break;case"defaultChecked":V=te;break;case"value":m=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(o(137,n));break;default:tt(e,n,r,te,l,null)}}Od(e,m,w,M,V,b,c,!1);return;case"select":$e("invalid",e),r=b=m=null;for(c in l)if(l.hasOwnProperty(c)&&(w=l[c],w!=null))switch(c){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":r=w;default:tt(e,n,c,w,l,null)}n=m,l=b,e.multiple=!!r,n!=null?Ul(e,!!r,n,!1):l!=null&&Ul(e,!!r,l,!0);return;case"textarea":$e("invalid",e),m=c=r=null;for(b in l)if(l.hasOwnProperty(b)&&(w=l[b],w!=null))switch(b){case"value":r=w;break;case"defaultValue":c=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(o(91));break;default:tt(e,n,b,w,l,null)}Ud(e,r,c,m);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(r=l[M],r!=null))switch(M){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:tt(e,n,M,r,l,null)}return;case"dialog":$e("beforetoggle",e),$e("toggle",e),$e("cancel",e),$e("close",e);break;case"iframe":case"object":$e("load",e);break;case"video":case"audio":for(r=0;r<or.length;r++)$e(or[r],e);break;case"image":$e("error",e),$e("load",e);break;case"details":$e("toggle",e);break;case"embed":case"source":case"link":$e("error",e),$e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in l)if(l.hasOwnProperty(V)&&(r=l[V],r!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:tt(e,n,V,r,l,null)}return;default:if(bo(n)){for(te in l)l.hasOwnProperty(te)&&(r=l[te],r!==void 0&&lu(e,n,te,r,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(r=l[w],r!=null&&tt(e,n,w,r,l,null))}function ib(e,n,l,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,m=null,b=null,w=null,M=null,V=null,te=null;for(J in l){var re=l[J];if(l.hasOwnProperty(J)&&re!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=re;default:r.hasOwnProperty(J)||tt(e,n,J,null,r,re)}}for(var Z in r){var J=r[Z];if(re=l[Z],r.hasOwnProperty(Z)&&(J!=null||re!=null))switch(Z){case"type":m=J;break;case"name":c=J;break;case"checked":V=J;break;case"defaultChecked":te=J;break;case"value":b=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,n));break;default:J!==re&&tt(e,n,Z,J,r,re)}}po(e,b,w,M,V,te,m,c);return;case"select":J=b=w=Z=null;for(m in l)if(M=l[m],l.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":J=M;default:r.hasOwnProperty(m)||tt(e,n,m,null,r,M)}for(c in r)if(m=r[c],M=l[c],r.hasOwnProperty(c)&&(m!=null||M!=null))switch(c){case"value":Z=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==M&&tt(e,n,c,m,r,M)}n=w,l=b,r=J,Z!=null?Ul(e,!!l,Z,!1):!!r!=!!l&&(n!=null?Ul(e,!!l,n,!0):Ul(e,!!l,l?[]:"",!1));return;case"textarea":J=Z=null;for(w in l)if(c=l[w],l.hasOwnProperty(w)&&c!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(e,n,w,null,r,c)}for(b in r)if(c=r[b],m=l[b],r.hasOwnProperty(b)&&(c!=null||m!=null))switch(b){case"value":Z=c;break;case"defaultValue":J=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==m&&tt(e,n,b,c,r,m)}Bd(e,Z,J);return;case"option":for(var Ne in l)if(Z=l[Ne],l.hasOwnProperty(Ne)&&Z!=null&&!r.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:tt(e,n,Ne,null,r,Z)}for(M in r)if(Z=r[M],J=l[M],r.hasOwnProperty(M)&&Z!==J&&(Z!=null||J!=null))switch(M){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:tt(e,n,M,Z,r,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)Z=l[ke],l.hasOwnProperty(ke)&&Z!=null&&!r.hasOwnProperty(ke)&&tt(e,n,ke,null,r,Z);for(V in r)if(Z=r[V],J=l[V],r.hasOwnProperty(V)&&Z!==J&&(Z!=null||J!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(o(137,n));break;default:tt(e,n,V,Z,r,J)}return;default:if(bo(n)){for(var nt in l)Z=l[nt],l.hasOwnProperty(nt)&&Z!==void 0&&!r.hasOwnProperty(nt)&&lu(e,n,nt,void 0,r,Z);for(te in r)Z=r[te],J=l[te],!r.hasOwnProperty(te)||Z===J||Z===void 0&&J===void 0||lu(e,n,te,Z,r,J);return}}for(var $ in l)Z=l[$],l.hasOwnProperty($)&&Z!=null&&!r.hasOwnProperty($)&&tt(e,n,$,null,r,Z);for(re in r)Z=r[re],J=l[re],!r.hasOwnProperty(re)||Z===J||Z==null&&J==null||tt(e,n,re,Z,r,J)}function $0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ob(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var c=l[r],m=c.transferSize,b=c.initiatorType,w=c.duration;if(m&&w&&$0(b)){for(b=0,w=c.responseEnd,r+=1;r<l.length;r++){var M=l[r],V=M.startTime;if(V>w)break;var te=M.transferSize,re=M.initiatorType;te&&$0(re)&&(M=M.responseEnd,b+=te*(M<w?1:(w-V)/(M-V)))}if(--r,n+=8*(m+b)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var au=null,ru=null;function Ri(e){return e.nodeType===9?e:e.ownerDocument}function Y0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function iu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ou=null;function cb(){var e=window.event;return e&&e.type==="popstate"?e===ou?!1:(ou=e,!0):(ou=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(e){return V0.resolve(null).then(e).catch(mb)}:G0;function mb(e){setTimeout(function(){throw e})}function nl(e){return e==="head"}function P0(e,n){var l=n,r=0;do{var c=l.nextSibling;if(e.removeChild(l),c&&c.nodeType===8)if(l=c.data,l==="/$"||l==="/&"){if(r===0){e.removeChild(c),pa(n);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")ur(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ur(l);for(var m=l.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[K]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=b}}else l==="body"&&ur(e.ownerDocument.body);l=c}while(l);pa(n)}function Q0(e,n){var l=e;e=0;do{var r=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=r}while(l)}function cu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":cu(l),Q(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function hb(e,n,l,r){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[K])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function fb(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Mn(e.nextSibling),e===null))return null;return e}function X0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function uu(e){return e.data==="$?"||e.data==="$~"}function du(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xb(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var r=function(){n(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var mu=null;function I0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Mn(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Z0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function J0(e,n,l){switch(n=Ri(l),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function ur(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Q(e)}var zn=new Map,K0=new Set;function Mi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Es=ee.d;ee.d={f:pb,r:gb,D:bb,C:yb,L:vb,m:jb,X:wb,S:Nb,M:Sb};function pb(){var e=Es.f(),n=Si();return e||n}function gb(e){var n=be(e);n!==null&&n.tag===5&&n.type==="form"?xh(n):Es.r(e)}var ha=typeof document>"u"?null:document;function W0(e,n,l){var r=ha;if(r&&typeof n=="string"&&n){var c=kn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),K0.has(c)||(K0.add(c),e={rel:e,crossOrigin:l,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),Ft(n,"link",e),ze(n),r.head.appendChild(n)))}}function bb(e){Es.D(e),W0("dns-prefetch",e,null)}function yb(e,n){Es.C(e,n),W0("preconnect",e,n)}function vb(e,n,l){Es.L(e,n,l);var r=ha;if(r&&e&&n){var c='link[rel="preload"][as="'+kn(n)+'"]';n==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+kn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+kn(l.imageSizes)+'"]')):c+='[href="'+kn(e)+'"]';var m=c;switch(n){case"style":m=fa(e);break;case"script":m=xa(e)}zn.has(m)||(e=y({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),zn.set(m,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(dr(m))||n==="script"&&r.querySelector(mr(m))||(n=r.createElement("link"),Ft(n,"link",e),ze(n),r.head.appendChild(n)))}}function jb(e,n){Es.m(e,n);var l=ha;if(l&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+kn(r)+'"][href="'+kn(e)+'"]',m=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xa(e)}if(!zn.has(m)&&(e=y({rel:"modulepreload",href:e},n),zn.set(m,e),l.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(mr(m)))return}r=l.createElement("link"),Ft(r,"link",e),ze(r),l.head.appendChild(r)}}}function Nb(e,n,l){Es.S(e,n,l);var r=ha;if(r&&e){var c=Ce(r).hoistableStyles,m=fa(e);n=n||"default";var b=c.get(m);if(!b){var w={loading:0,preload:null};if(b=r.querySelector(dr(m)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},l),(l=zn.get(m))&&hu(e,l);var M=b=r.createElement("link");ze(M),Ft(M,"link",e),M._p=new Promise(function(V,te){M.onload=V,M.onerror=te}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,zi(b,n,r)}b={type:"stylesheet",instance:b,count:1,state:w},c.set(m,b)}}}function wb(e,n){Es.X(e,n);var l=ha;if(l&&e){var r=Ce(l).hoistableScripts,c=xa(e),m=r.get(c);m||(m=l.querySelector(mr(c)),m||(e=y({src:e,async:!0},n),(n=zn.get(c))&&fu(e,n),m=l.createElement("script"),ze(m),Ft(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(c,m))}}function Sb(e,n){Es.M(e,n);var l=ha;if(l&&e){var r=Ce(l).hoistableScripts,c=xa(e),m=r.get(c);m||(m=l.querySelector(mr(c)),m||(e=y({src:e,async:!0,type:"module"},n),(n=zn.get(c))&&fu(e,n),m=l.createElement("script"),ze(m),Ft(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},r.set(c,m))}}function ef(e,n,l,r){var c=(c=me.current)?Mi(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=fa(l.href),l=Ce(c).hoistableStyles,r=l.get(n),r||(r={type:"style",instance:null,count:0,state:null},l.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=fa(l.href);var m=Ce(c).hoistableStyles,b=m.get(e);if(b||(c=c.ownerDocument||c,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=c.querySelector(dr(e)))&&!m._p&&(b.instance=m,b.state.loading=5),zn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},zn.set(e,l),m||Tb(c,e,l,b.state))),n&&r===null)throw Error(o(528,""));return b}if(n&&r!==null)throw Error(o(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(l),l=Ce(c).hoistableScripts,r=l.get(n),r||(r={type:"script",instance:null,count:0,state:null},l.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function fa(e){return'href="'+kn(e)+'"'}function dr(e){return'link[rel="stylesheet"]['+e+"]"}function tf(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function Tb(e,n,l,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),Ft(n,"link",l),ze(n),e.head.appendChild(n))}function xa(e){return'[src="'+kn(e)+'"]'}function mr(e){return"script[async]"+e}function nf(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+kn(l.href)+'"]');if(r)return n.instance=r,ze(r),r;var c=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ze(r),Ft(r,"style",c),zi(r,l.precedence,e),n.instance=r;case"stylesheet":c=fa(l.href);var m=e.querySelector(dr(c));if(m)return n.state.loading|=4,n.instance=m,ze(m),m;r=tf(l),(c=zn.get(c))&&hu(r,c),m=(e.ownerDocument||e).createElement("link"),ze(m);var b=m;return b._p=new Promise(function(w,M){b.onload=w,b.onerror=M}),Ft(m,"link",r),n.state.loading|=4,zi(m,l.precedence,e),n.instance=m;case"script":return m=xa(l.src),(c=e.querySelector(mr(m)))?(n.instance=c,ze(c),c):(r=l,(c=zn.get(m))&&(r=y({},l),fu(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),ze(c),Ft(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,zi(r,l.precedence,e));return n.instance}function zi(e,n,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,m=c,b=0;b<r.length;b++){var w=r[b];if(w.dataset.precedence===n)m=w;else if(m!==c)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function hu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Li=null;function sf(e,n,l){if(Li===null){var r=new Map,c=Li=new Map;c.set(l,r)}else c=Li,r=c.get(l),r||(r=new Map,c.set(l,r));if(r.has(e))return r;for(r.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var m=l[c];if(!(m[K]||m[ot]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=e+b;var w=r.get(b);w?w.push(m):r.set(b,[m])}}return r}function lf(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function kb(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function af(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cb(e,n,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var c=fa(r.href),m=n.querySelector(dr(c));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Oi.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,ze(m);return}m=n.ownerDocument||n,r=tf(r),(c=zn.get(c))&&hu(r,c),m=m.createElement("link"),ze(m);var b=m;b._p=new Promise(function(w,M){b.onload=w,b.onerror=M}),Ft(m,"link",r),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Oi.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var xu=0;function Eb(e,n){return e.stylesheets&&e.count===0&&Ui(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var r=setTimeout(function(){if(e.stylesheets&&Ui(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&xu===0&&(xu=62500*ob());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ui(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>xu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Oi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ui(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bi=null;function Ui(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bi=new Map,n.forEach(Ab,e),Bi=null,Oi.call(e))}function Ab(e,n){if(!(n.state.loading&4)){var l=Bi.get(e);if(l)var r=l.get(null);else{l=new Map,Bi.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<c.length;m++){var b=c[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),r=b)}r&&l.set(null,r)}c=n.instance,b=c.getAttribute("data-precedence"),m=l.get(b)||r,m===r&&l.set(null,c),l.set(b,c),this.count++,r=Oi.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),m?m.parentNode.insertBefore(c,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var hr={$$typeof:H,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function _b(e,n,l,r,c,m,b,w,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.hiddenUpdates=ml(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function rf(e,n,l,r,c,m,b,w,M,V,te,re){return e=new _b(e,n,l,b,M,V,te,re,w),n=1,m===!0&&(n|=24),m=xn(3,null,null,n),e.current=m,m.stateNode=e,n=Xo(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:r,isDehydrated:l,cache:n},Ko(m),e}function of(e){return e?(e=Pl,e):Pl}function cf(e,n,l,r,c,m){c=of(c),r.context===null?r.context=c:r.pendingContext=c,r=Vs(n),r.payload={element:l},m=m===void 0?null:m,m!==null&&(r.callback=m),l=Ps(e,r,n),l!==null&&(rn(l,e,n),Va(l,e,n))}function uf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function pu(e,n){uf(e,n),(e=e.alternate)&&uf(e,n)}function df(e){if(e.tag===13||e.tag===31){var n=yl(e,67108864);n!==null&&rn(n,e,67108864),pu(e,67108864)}}function mf(e){if(e.tag===13||e.tag===31){var n=vn();n=Bs(n);var l=yl(e,n);l!==null&&rn(l,e,n),pu(e,n)}}var Hi=!0;function Db(e,n,l,r){var c=A.T;A.T=null;var m=ee.p;try{ee.p=2,gu(e,n,l,r)}finally{ee.p=m,A.T=c}}function Rb(e,n,l,r){var c=A.T;A.T=null;var m=ee.p;try{ee.p=8,gu(e,n,l,r)}finally{ee.p=m,A.T=c}}function gu(e,n,l,r){if(Hi){var c=bu(r);if(c===null)su(e,n,r,qi,l),ff(e,r);else if(zb(c,e,n,l,r))r.stopPropagation();else if(ff(e,r),n&4&&-1<Mb.indexOf(e)){for(;c!==null;){var m=be(c);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=vt(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var M=1<<31-Qe(b);w.entanglements[1]|=M,b&=~M}ns(m),(Ze&6)===0&&(Ni=Ct()+500,ir(0))}}break;case 31:case 13:w=yl(m,2),w!==null&&rn(w,m,2),Si(),pu(m,2)}if(m=bu(r),m===null&&su(e,n,r,qi,l),m===c)break;c=m}c!==null&&r.stopPropagation()}else su(e,n,r,null,l)}}function bu(e){return e=vo(e),yu(e)}var qi=null;function yu(e){if(qi=null,e=ie(e),e!==null){var n=d(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=h(n),e!==null)return e;e=null}else if(l===31){if(e=x(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return qi=e,null}function hf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dn()){case W:return 2;case ge:return 8;case Te:case Me:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var vu=!1,sl=null,ll=null,al=null,fr=new Map,xr=new Map,rl=[],Mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ff(e,n){switch(e){case"focusin":case"focusout":sl=null;break;case"dragenter":case"dragleave":ll=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":fr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(n.pointerId)}}function pr(e,n,l,r,c,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:r,nativeEvent:m,targetContainers:[c]},n!==null&&(n=be(n),n!==null&&df(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function zb(e,n,l,r,c){switch(n){case"focusin":return sl=pr(sl,e,n,l,r,c),!0;case"dragenter":return ll=pr(ll,e,n,l,r,c),!0;case"mouseover":return al=pr(al,e,n,l,r,c),!0;case"pointerover":var m=c.pointerId;return fr.set(m,pr(fr.get(m)||null,e,n,l,r,c)),!0;case"gotpointercapture":return m=c.pointerId,xr.set(m,pr(xr.get(m)||null,e,n,l,r,c)),!0}return!1}function xf(e){var n=ie(e.target);if(n!==null){var l=d(n);if(l!==null){if(n=l.tag,n===13){if(n=h(l),n!==null){e.blockedOn=n,us(e.priority,function(){mf(l)});return}}else if(n===31){if(n=x(l),n!==null){e.blockedOn=n,us(e.priority,function(){mf(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $i(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=bu(e.nativeEvent);if(l===null){l=e.nativeEvent;var r=new l.constructor(l.type,l);yo=r,l.target.dispatchEvent(r),yo=null}else return n=be(l),n!==null&&df(n),e.blockedOn=l,!1;n.shift()}return!0}function pf(e,n,l){$i(e)&&l.delete(n)}function Lb(){vu=!1,sl!==null&&$i(sl)&&(sl=null),ll!==null&&$i(ll)&&(ll=null),al!==null&&$i(al)&&(al=null),fr.forEach(pf),xr.forEach(pf)}function Yi(e,n){e.blockedOn===n&&(e.blockedOn=null,vu||(vu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lb)))}var Fi=null;function gf(e){Fi!==e&&(Fi=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Fi===e&&(Fi=null);for(var n=0;n<e.length;n+=3){var l=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(yu(r||l)===null)continue;break}var m=be(l);m!==null&&(e.splice(n,3),n-=3,bc(m,{pending:!0,data:c,method:l.method,action:r},r,c))}}))}function pa(e){function n(M){return Yi(M,e)}sl!==null&&Yi(sl,e),ll!==null&&Yi(ll,e),al!==null&&Yi(al,e),fr.forEach(n),xr.forEach(n);for(var l=0;l<rl.length;l++){var r=rl[l];r.blockedOn===e&&(r.blockedOn=null)}for(;0<rl.length&&(l=rl[0],l.blockedOn===null);)xf(l),l.blockedOn===null&&rl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var c=l[r],m=l[r+1],b=c[Bt]||null;if(typeof m=="function")b||gf(l);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(c=m,b=m[Bt]||null)w=b.formAction;else if(yu(c)!==null)continue}else w=b.action;typeof w=="function"?l[r+1]=w:(l.splice(r,3),r-=3),gf(l)}}}function bf(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return c=b})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function ju(e){this._internalRoot=e}Gi.prototype.render=ju.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var l=n.current,r=vn();cf(l,r,e,n,null,null)},Gi.prototype.unmount=ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;cf(e.current,2,null,e,null,null),Si(),n[Kn]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var n=Bl();e={blockedOn:null,target:e,priority:n};for(var l=0;l<rl.length&&n!==0&&n<rl[l].priority;l++);rl.splice(l,0,e),l===0&&xf(e)}};var yf=a.version;if(yf!=="19.2.0")throw Error(o(527,yf,"19.2.0"));ee.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=f(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Ob={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vi.isDisabled&&Vi.supportsFiber)try{zt=Vi.inject(Ob),it=Vi}catch{}}return br.createRoot=function(e,n){if(!u(e))throw Error(o(299));var l=!1,r="",c=Th,m=kh,b=Ch;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=rf(e,1,!1,null,null,l,r,null,c,m,b,bf),e[Kn]=n.current,nu(e),new ju(n)},br.hydrateRoot=function(e,n,l){if(!u(e))throw Error(o(299));var r=!1,c="",m=Th,b=kh,w=Ch,M=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(M=l.formState)),n=rf(e,1,!0,n,l??null,r,c,M,m,b,w,bf),n.context=of(null),l=n.current,r=vn(),r=Bs(r),c=Vs(r),c.callback=null,Ps(l,c,r),l=r,n.current.lanes=l,Zt(n,l),ns(n),e[Kn]=n.current,nu(e),new Gi(n)},br.version="19.2.0",br}var Af;function Pb(){if(Af)return Su.exports;Af=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Su.exports=Vb(),Su.exports}var Qb=Pb();const Xb=io(Qb);var _f="popstate";function Ib(s={}){function a(o,u){let{pathname:d,search:h,hash:x}=o.location;return Qu("",{pathname:d,search:h,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){return typeof u=="string"?u:Er(u)}return Jb(a,i,null,s)}function ft(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function wn(s,a){if(!s){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Zb(){return Math.random().toString(36).substring(2,10)}function Df(s,a){return{usr:s.state,key:s.key,idx:a}}function Qu(s,a,i=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof a=="string"?Sa(a):a,state:i,key:a&&a.key||o||Zb()}}function Er({pathname:s="/",search:a="",hash:i=""}){return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Sa(s){let a={};if(s){let i=s.indexOf("#");i>=0&&(a.hash=s.substring(i),s=s.substring(0,i));let o=s.indexOf("?");o>=0&&(a.search=s.substring(o),s=s.substring(0,o)),s&&(a.pathname=s)}return a}function Jb(s,a,i,o={}){let{window:u=document.defaultView,v5Compat:d=!1}=o,h=u.history,x="POP",p=null,f=g();f==null&&(f=0,h.replaceState({...h.state,idx:f},""));function g(){return(h.state||{idx:null}).idx}function y(){x="POP";let U=g(),k=U==null?null:U-f;f=U,p&&p({action:x,location:E.location,delta:k})}function S(U,k){x="PUSH";let z=Qu(E.location,U,k);f=g()+1;let H=Df(z,f),ne=E.createHref(z);try{h.pushState(H,"",ne)}catch(ye){if(ye instanceof DOMException&&ye.name==="DataCloneError")throw ye;u.location.assign(ne)}d&&p&&p({action:x,location:E.location,delta:1})}function j(U,k){x="REPLACE";let z=Qu(E.location,U,k);f=g();let H=Df(z,f),ne=E.createHref(z);h.replaceState(H,"",ne),d&&p&&p({action:x,location:E.location,delta:0})}function O(U){return Kb(U)}let E={get action(){return x},get location(){return s(u,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(_f,y),p=U,()=>{u.removeEventListener(_f,y),p=null}},createHref(U){return a(u,U)},createURL:O,encodeLocation(U){let k=O(U);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:S,replace:j,go(U){return h.go(U)}};return E}function Kb(s,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ft(i,"No window.location.(origin|href) available to create URL");let o=typeof s=="string"?s:Er(s);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function _x(s,a,i="/"){return Wb(s,a,i,!1)}function Wb(s,a,i,o){let u=typeof a=="string"?Sa(a):a,d=Ms(u.pathname||"/",i);if(d==null)return null;let h=Dx(s);ey(h);let x=null;for(let p=0;x==null&&p<h.length;++p){let f=dy(d);x=cy(h[p],f,o)}return x}function Dx(s,a=[],i=[],o="",u=!1){let d=(h,x,p=u,f)=>{let g={relativePath:f===void 0?h.path||"":f,caseSensitive:h.caseSensitive===!0,childrenIndex:x,route:h};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&p)return;ft(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let y=Rs([o,g.relativePath]),S=i.concat(g);h.children&&h.children.length>0&&(ft(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Dx(h.children,a,S,y,p)),!(h.path==null&&!h.index)&&a.push({path:y,score:iy(y,h.index),routesMeta:S})};return s.forEach((h,x)=>{if(h.path===""||!h.path?.includes("?"))d(h,x);else for(let p of Rx(h.path))d(h,x,!0,p)}),a}function Rx(s){let a=s.split("/");if(a.length===0)return[];let[i,...o]=a,u=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return u?[d,""]:[d];let h=Rx(o.join("/")),x=[];return x.push(...h.map(p=>p===""?d:[d,p].join("/"))),u&&x.push(...h),x.map(p=>s.startsWith("/")&&p===""?"/":p)}function ey(s){s.sort((a,i)=>a.score!==i.score?i.score-a.score:oy(a.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var ty=/^:[\w-]+$/,ny=3,sy=2,ly=1,ay=10,ry=-2,Rf=s=>s==="*";function iy(s,a){let i=s.split("/"),o=i.length;return i.some(Rf)&&(o+=ry),a&&(o+=sy),i.filter(u=>!Rf(u)).reduce((u,d)=>u+(ty.test(d)?ny:d===""?ly:ay),o)}function oy(s,a){return s.length===a.length&&s.slice(0,-1).every((o,u)=>o===a[u])?s[s.length-1]-a[a.length-1]:0}function cy(s,a,i=!1){let{routesMeta:o}=s,u={},d="/",h=[];for(let x=0;x<o.length;++x){let p=o[x],f=x===o.length-1,g=d==="/"?a:a.slice(d.length)||"/",y=lo({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},g),S=p.route;if(!y&&f&&i&&!o[o.length-1].route.index&&(y=lo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(u,y.params),h.push({params:u,pathname:Rs([d,y.pathname]),pathnameBase:py(Rs([d,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(d=Rs([d,y.pathnameBase]))}return h}function lo(s,a){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=uy(s.path,s.caseSensitive,s.end),u=a.match(i);if(!u)return null;let d=u[0],h=d.replace(/(.)\/+$/,"$1"),x=u.slice(1);return{params:o.reduce((f,{paramName:g,isOptional:y},S)=>{if(g==="*"){let O=x[S]||"";h=d.slice(0,d.length-O.length).replace(/(.)\/+$/,"$1")}const j=x[S];return y&&!j?f[g]=void 0:f[g]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:d,pathnameBase:h,pattern:s}}function uy(s,a=!1,i=!0){wn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,p)=>(o.push({paramName:x,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(o.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),o]}function dy(s){try{return s.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return wn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),s}}function Ms(s,a){if(a==="/")return s;if(!s.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}var my=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hy=s=>my.test(s);function fy(s,a="/"){let{pathname:i,search:o="",hash:u=""}=typeof s=="string"?Sa(s):s,d;if(i)if(hy(i))d=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?d=Mf(i.substring(1),"/"):d=Mf(i,a)}else d=a;return{pathname:d,search:gy(o),hash:by(u)}}function Mf(s,a){let i=a.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function Eu(s,a,i,o){return`Cannot include a '${s}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xy(s){return s.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function cd(s){let a=xy(s);return a.map((i,o)=>o===a.length-1?i.pathname:i.pathnameBase)}function ud(s,a,i,o=!1){let u;typeof s=="string"?u=Sa(s):(u={...s},ft(!u.pathname||!u.pathname.includes("?"),Eu("?","pathname","search",u)),ft(!u.pathname||!u.pathname.includes("#"),Eu("#","pathname","hash",u)),ft(!u.search||!u.search.includes("#"),Eu("#","search","hash",u)));let d=s===""||u.pathname==="",h=d?"/":u.pathname,x;if(h==null)x=i;else{let y=a.length-1;if(!o&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),y-=1;u.pathname=S.join("/")}x=y>=0?a[y]:"/"}let p=fy(u,x),f=h&&h!=="/"&&h.endsWith("/"),g=(d||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(f||g)&&(p.pathname+="/"),p}var Rs=s=>s.join("/").replace(/\/\/+/g,"/"),py=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),gy=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,by=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function yy(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Mx=["POST","PUT","PATCH","DELETE"];new Set(Mx);var vy=["GET",...Mx];new Set(vy);var Ta=T.createContext(null);Ta.displayName="DataRouter";var oo=T.createContext(null);oo.displayName="DataRouterState";T.createContext(!1);var zx=T.createContext({isTransitioning:!1});zx.displayName="ViewTransition";var jy=T.createContext(new Map);jy.displayName="Fetchers";var Ny=T.createContext(null);Ny.displayName="Await";var Vn=T.createContext(null);Vn.displayName="Navigation";var _r=T.createContext(null);_r.displayName="Location";var Pn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Pn.displayName="Route";var dd=T.createContext(null);dd.displayName="RouteError";function wy(s,{relative:a}={}){ft(ka(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=T.useContext(Vn),{hash:u,pathname:d,search:h}=Dr(s,{relative:a}),x=d;return i!=="/"&&(x=d==="/"?i:Rs([i,d])),o.createHref({pathname:x,search:h,hash:u})}function ka(){return T.useContext(_r)!=null}function Sn(){return ft(ka(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(_r).location}var Lx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ox(s){T.useContext(Vn).static||T.useLayoutEffect(s)}function Qn(){let{isDataRoute:s}=T.useContext(Pn);return s?By():Sy()}function Sy(){ft(ka(),"useNavigate() may be used only in the context of a <Router> component.");let s=T.useContext(Ta),{basename:a,navigator:i}=T.useContext(Vn),{matches:o}=T.useContext(Pn),{pathname:u}=Sn(),d=JSON.stringify(cd(o)),h=T.useRef(!1);return Ox(()=>{h.current=!0}),T.useCallback((p,f={})=>{if(wn(h.current,Lx),!h.current)return;if(typeof p=="number"){i.go(p);return}let g=ud(p,JSON.parse(d),u,f.relative==="path");s==null&&a!=="/"&&(g.pathname=g.pathname==="/"?a:Rs([a,g.pathname])),(f.replace?i.replace:i.push)(g,f.state,f)},[a,i,d,u,s])}T.createContext(null);function Ty(){let{matches:s}=T.useContext(Pn),a=s[s.length-1];return a?a.params:{}}function Dr(s,{relative:a}={}){let{matches:i}=T.useContext(Pn),{pathname:o}=Sn(),u=JSON.stringify(cd(i));return T.useMemo(()=>ud(s,JSON.parse(u),o,a==="path"),[s,u,o,a])}function ky(s,a){return Bx(s,a)}function Bx(s,a,i,o,u){ft(ka(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=T.useContext(Vn),{matches:h}=T.useContext(Pn),x=h[h.length-1],p=x?x.params:{},f=x?x.pathname:"/",g=x?x.pathnameBase:"/",y=x&&x.route;{let z=y&&y.path||"";Ux(f,!y||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=Sn(),j;if(a){let z=typeof a=="string"?Sa(a):a;ft(g==="/"||z.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),j=z}else j=S;let O=j.pathname||"/",E=O;if(g!=="/"){let z=g.replace(/^\//,"").split("/");E="/"+O.replace(/^\//,"").split("/").slice(z.length).join("/")}let U=_x(s,{pathname:E});wn(y||U!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),wn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Dy(U&&U.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Rs([g,d.encodeLocation?d.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:Rs([g,d.encodeLocation?d.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),h,i,o,u);return a&&k?T.createElement(_r.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},k):k}function Cy(){let s=Oy(),a=yy(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:d},"ErrorBoundary")," or"," ",T.createElement("code",{style:d},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},a),i?T.createElement("pre",{style:u},i):null,h)}var Ey=T.createElement(Cy,null),Ay=class extends T.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){this.props.onError?this.props.onError(s,a):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?T.createElement(Pn.Provider,{value:this.props.routeContext},T.createElement(dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _y({routeContext:s,match:a,children:i}){let o=T.useContext(Ta);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),T.createElement(Pn.Provider,{value:s},i)}function Dy(s,a=[],i=null,o=null,u=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let d=s,h=i?.errors;if(h!=null){let g=d.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);ft(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),d=d.slice(0,Math.min(d.length,g+1))}let x=!1,p=-1;if(i)for(let g=0;g<d.length;g++){let y=d[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:S,errors:j}=i,O=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!j||j[y.route.id]===void 0);if(y.route.lazy||O){x=!0,p>=0?d=d.slice(0,p+1):d=[d[0]];break}}}let f=i&&o?(g,y)=>{o(g,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:y})}:void 0;return d.reduceRight((g,y,S)=>{let j,O=!1,E=null,U=null;i&&(j=h&&y.route.id?h[y.route.id]:void 0,E=y.route.errorElement||Ey,x&&(p<0&&S===0?(Ux("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,U=null):p===S&&(O=!0,U=y.route.hydrateFallbackElement||null)));let k=a.concat(d.slice(0,S+1)),z=()=>{let H;return j?H=E:O?H=U:y.route.Component?H=T.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,T.createElement(_y,{match:y,routeContext:{outlet:g,matches:k,isDataRoute:i!=null},children:H})};return i&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?T.createElement(Ay,{location:i.location,revalidation:i.revalidation,component:E,error:j,children:z(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:f}):z()},null)}function md(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ry(s){let a=T.useContext(Ta);return ft(a,md(s)),a}function My(s){let a=T.useContext(oo);return ft(a,md(s)),a}function zy(s){let a=T.useContext(Pn);return ft(a,md(s)),a}function hd(s){let a=zy(s),i=a.matches[a.matches.length-1];return ft(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Ly(){return hd("useRouteId")}function Oy(){let s=T.useContext(dd),a=My("useRouteError"),i=hd("useRouteError");return s!==void 0?s:a.errors?.[i]}function By(){let{router:s}=Ry("useNavigate"),a=hd("useNavigate"),i=T.useRef(!1);return Ox(()=>{i.current=!0}),T.useCallback(async(u,d={})=>{wn(i.current,Lx),i.current&&(typeof u=="number"?s.navigate(u):await s.navigate(u,{fromRouteId:a,...d}))},[s,a])}var zf={};function Ux(s,a,i){!a&&!zf[s]&&(zf[s]=!0,wn(!1,i))}T.memo(Uy);function Uy({routes:s,future:a,state:i,unstable_onError:o}){return Bx(s,void 0,i,o,a)}function ja({to:s,replace:a,state:i,relative:o}){ft(ka(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=T.useContext(Vn);wn(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=T.useContext(Pn),{pathname:h}=Sn(),x=Qn(),p=ud(s,cd(d),h,o==="path"),f=JSON.stringify(p);return T.useEffect(()=>{x(JSON.parse(f),{replace:a,state:i,relative:o})},[x,f,o,a,i]),null}function dt(s){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hy({basename:s="/",children:a=null,location:i,navigationType:o="POP",navigator:u,static:d=!1}){ft(!ka(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),x=T.useMemo(()=>({basename:h,navigator:u,static:d,future:{}}),[h,u,d]);typeof i=="string"&&(i=Sa(i));let{pathname:p="/",search:f="",hash:g="",state:y=null,key:S="default"}=i,j=T.useMemo(()=>{let O=Ms(p,h);return O==null?null:{location:{pathname:O,search:f,hash:g,state:y,key:S},navigationType:o}},[h,p,f,g,y,S,o]);return wn(j!=null,`<Router basename="${h}"> is not able to match the URL "${p}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:T.createElement(Vn.Provider,{value:x},T.createElement(_r.Provider,{children:a,value:j}))}function Hx({children:s,location:a}){return ky(Xu(s),a)}function Xu(s,a=[]){let i=[];return T.Children.forEach(s,(o,u)=>{if(!T.isValidElement(o))return;let d=[...a,u];if(o.type===T.Fragment){i.push.apply(i,Xu(o.props.children,d));return}ft(o.type===dt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Xu(o.props.children,d)),i.push(h)}),i}var eo="get",to="application/x-www-form-urlencoded";function co(s){return s!=null&&typeof s.tagName=="string"}function qy(s){return co(s)&&s.tagName.toLowerCase()==="button"}function $y(s){return co(s)&&s.tagName.toLowerCase()==="form"}function Yy(s){return co(s)&&s.tagName.toLowerCase()==="input"}function Fy(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Gy(s,a){return s.button===0&&(!a||a==="_self")&&!Fy(s)}function Iu(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((a,i)=>{let o=s[i];return a.concat(Array.isArray(o)?o.map(u=>[i,u]):[[i,o]])},[]))}function Vy(s,a){let i=Iu(s);return a&&a.forEach((o,u)=>{i.has(u)||a.getAll(u).forEach(d=>{i.append(u,d)})}),i}var Pi=null;function Py(){if(Pi===null)try{new FormData(document.createElement("form"),0),Pi=!1}catch{Pi=!0}return Pi}var Qy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Au(s){return s!=null&&!Qy.has(s)?(wn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${to}"`),null):s}function Xy(s,a){let i,o,u,d,h;if($y(s)){let x=s.getAttribute("action");o=x?Ms(x,a):null,i=s.getAttribute("method")||eo,u=Au(s.getAttribute("enctype"))||to,d=new FormData(s)}else if(qy(s)||Yy(s)&&(s.type==="submit"||s.type==="image")){let x=s.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||x.getAttribute("action");if(o=p?Ms(p,a):null,i=s.getAttribute("formmethod")||x.getAttribute("method")||eo,u=Au(s.getAttribute("formenctype"))||Au(x.getAttribute("enctype"))||to,d=new FormData(x,s),!Py()){let{name:f,type:g,value:y}=s;if(g==="image"){let S=f?`${f}.`:"";d.append(`${S}x`,"0"),d.append(`${S}y`,"0")}else f&&d.append(f,y)}}else{if(co(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=eo,o=null,u=to,h=s}return d&&u==="text/plain"&&(h=d,d=void 0),{action:o,method:i.toLowerCase(),encType:u,formData:d,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fd(s,a){if(s===!1||s===null||typeof s>"u")throw new Error(a)}function Iy(s,a,i){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return o.pathname==="/"?o.pathname=`_root.${i}`:a&&Ms(o.pathname,a)==="/"?o.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Zy(s,a){if(s.id in a)return a[s.id];try{let i=await import(s.module);return a[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jy(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ky(s,a,i){let o=await Promise.all(s.map(async u=>{let d=a.routes[u.route.id];if(d){let h=await Zy(d,i);return h.links?h.links():[]}return[]}));return nv(o.flat(1).filter(Jy).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Lf(s,a,i,o,u,d){let h=(p,f)=>i[f]?p.route.id!==i[f].route.id:!0,x=(p,f)=>i[f].pathname!==p.pathname||i[f].route.path?.endsWith("*")&&i[f].params["*"]!==p.params["*"];return d==="assets"?a.filter((p,f)=>h(p,f)||x(p,f)):d==="data"?a.filter((p,f)=>{let g=o.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(h(p,f)||x(p,f))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Wy(s,a,{includeHydrateFallback:i}={}){return ev(s.map(o=>{let u=a.routes[o.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function ev(s){return[...new Set(s)]}function tv(s){let a={},i=Object.keys(s).sort();for(let o of i)a[o]=s[o];return a}function nv(s,a){let i=new Set;return new Set(a),s.reduce((o,u)=>{let d=JSON.stringify(tv(u));return i.has(d)||(i.add(d),o.push({key:d,link:u})),o},[])}function qx(){let s=T.useContext(Ta);return fd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function sv(){let s=T.useContext(oo);return fd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var xd=T.createContext(void 0);xd.displayName="FrameworkContext";function $x(){let s=T.useContext(xd);return fd(s,"You must render this element inside a <HydratedRouter> element"),s}function lv(s,a){let i=T.useContext(xd),[o,u]=T.useState(!1),[d,h]=T.useState(!1),{onFocus:x,onBlur:p,onMouseEnter:f,onMouseLeave:g,onTouchStart:y}=a,S=T.useRef(null);T.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let E=k=>{k.forEach(z=>{h(z.isIntersecting)})},U=new IntersectionObserver(E,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[s]),T.useEffect(()=>{if(o){let E=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(E)}}},[o]);let j=()=>{u(!0)},O=()=>{u(!1),h(!1)};return i?s!=="intent"?[d,S,{}]:[d,S,{onFocus:yr(x,j),onBlur:yr(p,O),onMouseEnter:yr(f,j),onMouseLeave:yr(g,O),onTouchStart:yr(y,j)}]:[!1,S,{}]}function yr(s,a){return i=>{s&&s(i),i.defaultPrevented||a(i)}}function av({page:s,...a}){let{router:i}=qx(),o=T.useMemo(()=>_x(i.routes,s,i.basename),[i.routes,s,i.basename]);return o?T.createElement(iv,{page:s,matches:o,...a}):null}function rv(s){let{manifest:a,routeModules:i}=$x(),[o,u]=T.useState([]);return T.useEffect(()=>{let d=!1;return Ky(s,a,i).then(h=>{d||u(h)}),()=>{d=!0}},[s,a,i]),o}function iv({page:s,matches:a,...i}){let o=Sn(),{manifest:u,routeModules:d}=$x(),{basename:h}=qx(),{loaderData:x,matches:p}=sv(),f=T.useMemo(()=>Lf(s,a,p,u,o,"data"),[s,a,p,u,o]),g=T.useMemo(()=>Lf(s,a,p,u,o,"assets"),[s,a,p,u,o]),y=T.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let O=new Set,E=!1;if(a.forEach(k=>{let z=u.routes[k.route.id];!z||!z.hasLoader||(!f.some(H=>H.route.id===k.route.id)&&k.route.id in x&&d[k.route.id]?.shouldRevalidate||z.hasClientLoader?E=!0:O.add(k.route.id))}),O.size===0)return[];let U=Iy(s,h,"data");return E&&O.size>0&&U.searchParams.set("_routes",a.filter(k=>O.has(k.route.id)).map(k=>k.route.id).join(",")),[U.pathname+U.search]},[h,x,o,u,f,a,s,d]),S=T.useMemo(()=>Wy(g,u),[g,u]),j=rv(g);return T.createElement(T.Fragment,null,y.map(O=>T.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...i})),S.map(O=>T.createElement("link",{key:O,rel:"modulepreload",href:O,...i})),j.map(({key:O,link:E})=>T.createElement("link",{key:O,nonce:i.nonce,...E})))}function ov(...s){return a=>{s.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var Yx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yx&&(window.__reactRouterVersion="7.9.6")}catch{}function Fx({basename:s,children:a,window:i}){let o=T.useRef();o.current==null&&(o.current=Ib({window:i,v5Compat:!0}));let u=o.current,[d,h]=T.useState({action:u.action,location:u.location}),x=T.useCallback(p=>{T.startTransition(()=>h(p))},[h]);return T.useLayoutEffect(()=>u.listen(x),[u,x]),T.createElement(Hy,{basename:s,children:a,location:d.location,navigationType:d.action,navigator:u})}var Gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=T.forwardRef(function({onClick:a,discover:i="render",prefetch:o="none",relative:u,reloadDocument:d,replace:h,state:x,target:p,to:f,preventScrollReset:g,viewTransition:y,...S},j){let{basename:O}=T.useContext(Vn),E=typeof f=="string"&&Gx.test(f),U,k=!1;if(typeof f=="string"&&E&&(U=f,Yx))try{let ue=new URL(window.location.href),Y=f.startsWith("//")?new URL(ue.protocol+f):new URL(f),_=Ms(Y.pathname,O);Y.origin===ue.origin&&_!=null?f=_+Y.search+Y.hash:k=!0}catch{wn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=wy(f,{relative:u}),[H,ne,ye]=lv(o,S),F=mv(f,{replace:h,state:x,target:p,preventScrollReset:g,relative:u,viewTransition:y});function q(ue){a&&a(ue),ue.defaultPrevented||F(ue)}let xe=T.createElement("a",{...S,...ye,href:U||z,onClick:k||d?a:q,ref:ov(j,ne),target:p,"data-discover":!E&&i==="render"?"true":void 0});return H&&!E?T.createElement(T.Fragment,null,xe,T.createElement(av,{page:z})):xe});Ue.displayName="Link";var cv=T.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:o="",end:u=!1,style:d,to:h,viewTransition:x,children:p,...f},g){let y=Dr(h,{relative:f.relative}),S=Sn(),j=T.useContext(oo),{navigator:O,basename:E}=T.useContext(Vn),U=j!=null&&bv(y)&&x===!0,k=O.encodeLocation?O.encodeLocation(y).pathname:y.pathname,z=S.pathname,H=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(z=z.toLowerCase(),H=H?H.toLowerCase():null,k=k.toLowerCase()),H&&E&&(H=Ms(H,E)||H);const ne=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let ye=z===k||!u&&z.startsWith(k)&&z.charAt(ne)==="/",F=H!=null&&(H===k||!u&&H.startsWith(k)&&H.charAt(k.length)==="/"),q={isActive:ye,isPending:F,isTransitioning:U},xe=ye?a:void 0,ue;typeof o=="function"?ue=o(q):ue=[o,ye?"active":null,F?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let Y=typeof d=="function"?d(q):d;return T.createElement(Ue,{...f,"aria-current":xe,className:ue,ref:g,style:Y,to:h,viewTransition:x},typeof p=="function"?p(q):p)});cv.displayName="NavLink";var uv=T.forwardRef(({discover:s="render",fetcherKey:a,navigate:i,reloadDocument:o,replace:u,state:d,method:h=eo,action:x,onSubmit:p,relative:f,preventScrollReset:g,viewTransition:y,...S},j)=>{let O=pv(),E=gv(x,{relative:f}),U=h.toLowerCase()==="get"?"get":"post",k=typeof x=="string"&&Gx.test(x),z=H=>{if(p&&p(H),H.defaultPrevented)return;H.preventDefault();let ne=H.nativeEvent.submitter,ye=ne?.getAttribute("formmethod")||h;O(ne||H.currentTarget,{fetcherKey:a,method:ye,navigate:i,replace:u,state:d,relative:f,preventScrollReset:g,viewTransition:y})};return T.createElement("form",{ref:j,method:U,action:E,onSubmit:o?p:z,...S,"data-discover":!k&&s==="render"?"true":void 0})});uv.displayName="Form";function dv(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vx(s){let a=T.useContext(Ta);return ft(a,dv(s)),a}function mv(s,{target:a,replace:i,state:o,preventScrollReset:u,relative:d,viewTransition:h}={}){let x=Qn(),p=Sn(),f=Dr(s,{relative:d});return T.useCallback(g=>{if(Gy(g,a)){g.preventDefault();let y=i!==void 0?i:Er(p)===Er(f);x(s,{replace:y,state:o,preventScrollReset:u,relative:d,viewTransition:h})}},[p,x,f,i,o,a,s,u,d,h])}function hv(s){wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=T.useRef(Iu(s)),i=T.useRef(!1),o=Sn(),u=T.useMemo(()=>Vy(o.search,i.current?null:a.current),[o.search]),d=Qn(),h=T.useCallback((x,p)=>{const f=Iu(typeof x=="function"?x(new URLSearchParams(u)):x);i.current=!0,d("?"+f,p)},[d,u]);return[u,h]}var fv=0,xv=()=>`__${String(++fv)}__`;function pv(){let{router:s}=Vx("useSubmit"),{basename:a}=T.useContext(Vn),i=Ly();return T.useCallback(async(o,u={})=>{let{action:d,method:h,encType:x,formData:p,body:f}=Xy(o,a);if(u.navigate===!1){let g=u.fetcherKey||xv();await s.fetch(g,i,u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:f,formMethod:u.method||h,formEncType:u.encType||x,flushSync:u.flushSync})}else await s.navigate(u.action||d,{preventScrollReset:u.preventScrollReset,formData:p,body:f,formMethod:u.method||h,formEncType:u.encType||x,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,i])}function gv(s,{relative:a}={}){let{basename:i}=T.useContext(Vn),o=T.useContext(Pn);ft(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),d={...Dr(s||".",{relative:a})},h=Sn();if(s==null){d.search=h.search;let x=new URLSearchParams(d.search),p=x.getAll("index");if(p.some(g=>g==="")){x.delete("index"),p.filter(y=>y).forEach(y=>x.append("index",y));let g=x.toString();d.search=g?`?${g}`:""}}return(!s||s===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Rs([i,d.pathname])),Er(d)}function bv(s,{relative:a}={}){let i=T.useContext(zx);ft(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Vx("useViewTransitionState"),u=Dr(s,{relative:a});if(!i.isTransitioning)return!1;let d=Ms(i.currentLocation.pathname,o)||i.currentLocation.pathname,h=Ms(i.nextLocation.pathname,o)||i.nextLocation.pathname;return lo(u.pathname,h)!=null||lo(u.pathname,d)!=null}const yv="https://sunke-vasan-varpe-varadaraju.onrender.com/api";class vv{constructor(){this.baseURL=yv}async request(a,i={}){const o=`${this.baseURL}${a}`,u={headers:{"Content-Type":"application/json",...i.headers},...i},d=localStorage.getItem("token");d&&(u.headers.Authorization=`Bearer ${d}`);try{const h=await fetch(o,u),x=await h.json();if(!h.ok){if(h.status===400&&x.errors)return{success:!1,message:x.message,errors:x.errors};throw new Error(x.message||`HTTP error! status: ${h.status}`)}return x}catch(h){if(h.name==="TypeError"&&h.message.includes("fetch"))return console.error("Network error:",h),{success:!1,message:"Network error. Please check your connection."};throw console.error("API request failed:",h),h}}get(a,i={}){return this.request(a,{method:"GET",...i})}post(a,i,o={}){return this.request(a,{method:"POST",body:JSON.stringify(i),...o})}put(a,i,o={}){return this.request(a,{method:"PUT",body:JSON.stringify(i),...o})}delete(a,i={}){return this.request(a,{method:"DELETE",...i})}}const vr=new vv,ga={async register(s){const a=await vr.post("/auth/register",s);return a.success&&a.data&&a.data.token?(localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),{success:!0,user:a.data.user,token:a.data.token,message:a.message}):a},async login(s){const a=await vr.post("/auth/login",s);return a.success&&a.data&&a.data.token?(localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user)),{success:!0,user:a.data.user,token:a.data.token,message:a.message}):a},async logout(){try{await vr.post("/auth/logout")}catch(s){console.error("Logout error:",s)}finally{localStorage.removeItem("token"),localStorage.removeItem("user")}},async getProfile(){return await vr.get("/auth/profile")},async updateProfile(s){return await vr.put("/auth/profile",s)},getCurrentUser(){const s=localStorage.getItem("user");return s?JSON.parse(s):null},getToken(){return localStorage.getItem("token")},isAuthenticated(){const s=this.getToken();if(!s)return!1;try{return JSON.parse(atob(s.split(".")[1])).exp*1e3>Date.now()}catch{return!1}}},Px=T.createContext(),Ot=()=>{const s=T.useContext(Px);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},Qx=({children:s})=>{const[a,i]=T.useState(null),[o,u]=T.useState(!0);console.log(" AuthProvider rendering, user:",a,"loading:",o),T.useEffect(()=>{(async()=>{console.log(" Initializing auth...");try{const y=ga.isAuthenticated();if(console.log(" Is authenticated:",y),y){const S=ga.getCurrentUser();console.log(" Current user from storage:",S),i(S)}else console.log(" Not authenticated, clearing storage"),localStorage.removeItem("token"),localStorage.removeItem("user")}catch(y){console.error(" Auth initialization error:",y)}finally{console.log(" Auth initialization complete, setting loading to false"),u(!1)}})()},[]);const f={user:a,register:async g=>{try{const y=await ga.register(g);return y.success&&i(y.user),y}catch(y){throw y}},login:async(g,y)=>{try{const S=await ga.login({email:g,password:y});if(S.success)return i(S.user),S;throw new Error(S.message||"Login failed")}catch(S){throw S}},logout:async()=>{try{await ga.logout(),i(null)}catch(g){console.error("Logout error:",g),i(null)}},updateProfile:async g=>{try{const y=await ga.updateProfile(g);if(y.success){const S={...a,...y.profile};return i(S),localStorage.setItem("user",JSON.stringify(S)),y}throw new Error(y.message||"Profile update failed")}catch(y){throw y}},isAuthenticated:!!a,loading:o};return t.jsx(Px.Provider,{value:f,children:s})},Ln=({children:s,requiredRole:a=null})=>{const{user:i,loading:o}=Ot();if(o)return t.jsx("div",{className:"protected-route-loading",children:t.jsx("div",{className:"protected-route-spinner"})});if(!i)return t.jsx(ja,{to:"/login",replace:!0});const u=i?.role||i?.account_type;return a&&u!==a?t.jsx(ja,{to:"/unauthorized",replace:!0}):s},Qi=({children:s})=>{const{user:a,loading:i}=Ot();if(i)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(a)switch(a?.role||a?.account_type){case"student":return t.jsx(ja,{to:"/student-dashboard",replace:!0});case"tutor":return t.jsx(ja,{to:"/tutor-dashboard",replace:!0});case"admin":return t.jsx(ja,{to:"/admin-dashboard",replace:!0});default:return t.jsx(ja,{to:"/",replace:!0})}return s},De=({variant:s="primary",size:a="md",children:i,loading:o=!1,className:u="",disabled:d,...h})=>{const x="button-base",p={primary:"button-primary",secondary:"button-secondary",outline:"button-outline"},f={sm:"button-sm",md:"button-md",lg:"button-lg"},g=`${x} ${p[s]} ${f[a]} ${u}`;return t.jsx("button",{className:g,disabled:d||o,...h,children:o?t.jsxs("div",{className:"button-loading",children:[t.jsx("div",{className:"button-spinner"}),"Loading..."]}):i})},jv=()=>{const[s,a]=T.useState(!1),[i,o]=T.useState(!1),[u,d]=T.useState(!1),h=Sn(),x=Qn(),{user:p,logout:f,isAuthenticated:g}=Ot(),y=T.useRef(null);T.useEffect(()=>{const z=H=>{y.current&&!y.current.contains(H.target)&&d(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]),T.useEffect(()=>{d(!1),a(!1)},[h]);const j=(()=>{const z=[{name:"Home",href:"/"},{name:"About",href:"/about"}];if(g){const H=[],ne=p?.role||p?.account_type;return ne==="student"&&H.push({name:"Find Tutors",href:"/tutors"}),ne==="student"?H.unshift({name:"Dashboard",href:"/student-dashboard"}):ne==="tutor"?H.unshift({name:"Dashboard",href:"/tutor-dashboard"}):ne==="admin"&&H.unshift({name:"Dashboard",href:"/admin-dashboard"}),[...z,...H]}return z})(),O=z=>h.pathname===z,E=async()=>{o(!0);try{await f(),a(!1),d(!1),x("/")}catch(z){console.error("Logout failed:",z)}finally{o(!1)}},U=()=>{d(!u)},k=()=>{x("/profile"),d(!1),a(!1)};return t.jsx("nav",{className:"navbar-container",children:t.jsxs("div",{className:"navbar-wrapper",children:[t.jsxs("div",{className:"navbar-content",children:[t.jsx("div",{className:"navbar-logo-container",children:t.jsxs(Ue,{to:"/",className:"navbar-logo-link",children:[t.jsx("div",{className:"navbar-logo-icon",children:t.jsx("span",{className:"navbar-logo-text",children:"T"})}),t.jsx("span",{className:"navbar-brand-text",children:"Tutor Together"})]})}),t.jsx("div",{className:"navbar-desktop-nav",children:t.jsx("div",{className:"navbar-nav-links",children:j.map(z=>t.jsx(Ue,{to:z.href,className:`navbar-link ${O(z.href)?"navbar-link-active":"navbar-link-inactive"}`,children:z.name},z.name))})}),t.jsx("div",{className:"navbar-desktop-auth",children:g?t.jsxs("div",{className:"navbar-profile-dropdown-container",ref:y,children:[t.jsx("div",{className:"navbar-profile-wrapper",children:t.jsxs("button",{onClick:U,className:"navbar-profile-button",children:[t.jsx("div",{className:"navbar-avatar",children:(p?.profile?.fullName||p?.full_name||p?.name||p?.username||"").split(" ").map(z=>z[0]).join("")||"U"}),t.jsx("span",{className:"navbar-username",children:p?.profile?.fullName||p?.full_name||p?.name||p?.username||"User"}),t.jsx("svg",{className:"navbar-chevron",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),u&&t.jsx("div",{className:"navbar-dropdown-menu",children:t.jsxs("div",{className:"navbar-dropdown-content",children:[t.jsxs("button",{onClick:k,className:"navbar-dropdown-item",children:[t.jsx("svg",{className:"navbar-dropdown-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"View Profile"]}),t.jsx("div",{className:"navbar-dropdown-divider"}),t.jsx("button",{onClick:E,disabled:i,className:"navbar-dropdown-item navbar-dropdown-item-logout",children:i?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"navbar-spinner"}),"Logging out..."]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"navbar-dropdown-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ue,{to:"/login",children:t.jsx(De,{variant:"outline",size:"sm",className:"whitespace-nowrap",children:"Login"})}),t.jsx(Ue,{to:"/register",children:t.jsx(De,{variant:"primary",size:"sm",children:"Register"})})]})}),t.jsx("div",{className:"navbar-mobile-toggle",children:t.jsx("button",{onClick:()=>a(!s),className:"navbar-toggle-button",children:t.jsx("svg",{className:"navbar-toggle-icon",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:s?t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]}),s&&t.jsx("div",{className:"navbar-mobile-nav",children:t.jsxs("div",{className:"navbar-mobile-content",children:[t.jsx("div",{className:"navbar-mobile-links",children:j.map(z=>t.jsx(Ue,{to:z.href,className:`navbar-item ${O(z.href)?"navbar-link-active":"navbar-link-inactive"}`,onClick:()=>a(!1),children:z.name},z.name))}),t.jsx("div",{className:"navbar-mobile-auth",children:g?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"navbar-mobile-profile",children:[t.jsx("div",{className:"navbar-mobile-avatar",children:(p?.profile?.fullName||p?.full_name||p?.name||p?.username||"").split(" ").map(z=>z[0]).join("")||"U"}),t.jsx("div",{className:"navbar-mobile-username",children:p?.profile?.fullName||p?.full_name||p?.name||p?.username||"User"})]}),t.jsxs("button",{onClick:k,className:"navbar-mobile-profile-button",children:[t.jsx("svg",{className:"navbar-mobile-profile-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),t.jsx("span",{children:"View Profile"})]}),t.jsx(De,{variant:"outline",size:"sm",className:"w-full",onClick:E,disabled:i,children:i?t.jsxs("div",{className:"navbar-mobile-logout-content",children:[t.jsx("div",{className:"navbar-mobile-spinner"}),t.jsx("span",{children:"Logging out..."})]}):"Logout"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ue,{to:"/login",onClick:()=>a(!1),children:t.jsx(De,{variant:"outline",size:"sm",className:"w-full",children:"Login"})}),t.jsx(Ue,{to:"/register",onClick:()=>a(!1),children:t.jsx(De,{variant:"primary",size:"sm",className:"w-full",children:"Register"})})]})})]})})]})})},Nv=()=>{const s=Qn();if(Sn().pathname==="/chatbot")return null;const i=()=>{s("/chatbot")};return t.jsxs("div",{className:"ai-chat-container",onClick:i,children:[t.jsxs("div",{className:"ai-chat-button",children:[t.jsx("svg",{className:"ai-chat-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),t.jsx("div",{className:"ai-indicator-outer"}),t.jsx("div",{className:"ai-indicator-inner"})]}),t.jsxs("div",{className:"ai-chat-tooltip",children:["AI Assistant",t.jsx("div",{className:"ai-chat-tooltip-arrow"})]})]})},wv=()=>{try{const{user:s,isAuthenticated:a,loading:i}=Ot();console.log(" AuthDebug render:",{user:s,isAuthenticated:a,loading:i});const o={position:"fixed",top:"10px",right:"10px",background:"red",color:"white",padding:"15px",borderRadius:"8px",fontSize:"14px",zIndex:99999,maxWidth:"400px",border:"2px solid white",fontFamily:"monospace"};return i?t.jsxs("div",{style:o,children:[t.jsx("div",{children:t.jsx("strong",{children:" AUTH DEBUG - LOADING"})}),t.jsx("div",{children:"State: Loading auth..."})]}):t.jsxs("div",{style:o,children:[t.jsx("div",{children:t.jsx("strong",{children:" AUTH DEBUG"})}),t.jsxs("div",{children:[" Authenticated: ",a?" YES":" NO"]}),t.jsxs("div",{children:[" User Object: ",s?"EXISTS":"NULL"]}),s&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[" Email: ",s.email||"N/A"]}),t.jsxs("div",{children:[" Role: ",s?.role||s?.account_type||"N/A"]}),t.jsxs("div",{children:[" Name: ",s?.name||s?.full_name||s?.username||"N/A"]}),t.jsxs("div",{children:[" ID: ",s.id||"N/A"]})]}),t.jsxs("div",{children:[" Token: ",localStorage.getItem("token")?"PRESENT":"MISSING"]}),t.jsxs("div",{children:[" Location: ",window.location.pathname]})]})}catch(s){return console.error(" AuthDebug Error:",s),t.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"red",color:"white",padding:"15px",borderRadius:"8px",fontSize:"14px",zIndex:99999,border:"2px solid white"},children:[t.jsx("div",{children:t.jsx("strong",{children:" AUTH DEBUG ERROR"})}),t.jsxs("div",{children:["Error: ",s.message]})]})}},Sv=()=>(console.log(" TestComponent is rendering"),t.jsxs("div",{style:{position:"fixed",top:"100px",left:"10px",background:"green",color:"white",padding:"20px",borderRadius:"8px",zIndex:99999,border:"3px solid yellow"},children:[t.jsx("h3",{children:" TEST COMPONENT"}),t.jsx("div",{children:"If you see this, React is working!"}),t.jsxs("div",{children:["Current Time: ",new Date().toLocaleTimeString()]})]}));class Iw extends Ax.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return console.log(" ErrorBoundary - getDerivedStateFromError:",a),{hasError:!0}}componentDidCatch(a,i){console.error(" ErrorBoundary caught an error:",a),console.error(" ErrorBoundary errorInfo:",i),this.setState({error:a||new Error("Unknown error"),errorInfo:i||{componentStack:"No stack trace available"}})}render(){return this.state.hasError?t.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"red",color:"white",padding:"20px",borderRadius:"8px",maxWidth:"80%",zIndex:99999,textAlign:"center"},children:[t.jsx("h2",{children:" Something went wrong!"}),t.jsxs("details",{children:[t.jsx("summary",{children:"Error Details (click to expand)"}),t.jsxs("div",{style:{textAlign:"left",marginTop:"10px"},children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Error:"})," ",this.state.error&&this.state.error.toString()]}),t.jsx("p",{children:t.jsx("strong",{children:"Component Stack:"})}),t.jsx("pre",{children:this.state.errorInfo&&this.state.errorInfo.componentStack?this.state.errorInfo.componentStack:"No component stack available"})]})]}),t.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"10px 20px",background:"white",color:"red",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const zs=({children:s,className:a="",hover:i=!0})=>t.jsx("div",{className:`card ${i?"card-hover":""} ${a}`,children:s}),Kt=({children:s,className:a="",maxWidth:i="lg"})=>{const o={sm:"container-sm",md:"container-md",lg:"container-lg",xl:"container-xl","2xl":"container-2xl",full:"container-full"};return t.jsx("div",{className:`container-base ${o[i]} ${a}`,children:s})},Tt=({label:s,error:a,helperText:i,className:o="",type:u="text",...d})=>{const[h,x]=T.useState(!1),p=u==="password",f=()=>{x(!h)};return t.jsxs("div",{className:"input-wrapper",children:[s&&t.jsx("label",{className:"input-label",children:s}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:p?h?"text":"password":u,className:`input-field input-field-base ${a?"input-error":""} ${p?"pr-12":""} ${o}`,...d}),p&&t.jsx("button",{type:"button",onClick:f,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200 focus:outline-none transition-colors",tabIndex:-1,children:h?t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),t.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]}),a&&t.jsx("p",{className:"input-error-text",children:a}),i&&!a&&t.jsx("p",{className:"input-helper-text",children:i})]})},Ds=({isOpen:s,onClose:a,title:i,children:o,size:u="md"})=>{if(!s)return null;const d={sm:"modal-sm",md:"modal-md",lg:"modal-lg",xl:"modal-xl"},h=x=>{x.target===x.currentTarget&&a()};return t.jsx("div",{className:"modal-backdrop",onClick:h,children:t.jsxs("div",{className:`modal-content ${d[u]}`,children:[i&&t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:i}),t.jsx("button",{onClick:a,className:"modal-close",children:t.jsx("svg",{className:"modal-close-icon",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),o]})})},Tv=()=>{const{user:s,isAuthenticated:a,loading:i}=Ot(),o=Qn();if(T.useEffect(()=>{if(!i&&a&&s){const h=s?.role||s?.account_type;h==="student"?o("/student-dashboard",{replace:!0}):h==="tutor"?o("/tutor-dashboard",{replace:!0}):h==="admin"&&o("/admin-dashboard",{replace:!0})}},[a,s,i,o]),i)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:t.jsx("div",{className:"text-white text-lg",children:"Loading..."})});if(a)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),t.jsx("p",{className:"text-white",children:"Redirecting to dashboard..."})]})});const u=[{icon:"",title:"Personalized Learning",description:"AI-powered matching connects you with tutors who understand your learning style and goals."},{icon:"",title:"AI Study Assistant",description:"Get instant help with homework, generate practice problems, and receive study recommendations."},{icon:"",title:"Progress Tracking",description:"Monitor your learning journey with detailed analytics and achievement milestones."},{icon:"",title:"Interactive Sessions",description:"Engage in live video sessions with screen sharing, whiteboards, and collaborative tools."},{icon:"",title:"Expert Tutors",description:"Learn from qualified educators with proven track records and positive student reviews."},{icon:"",title:"Flexible Scheduling",description:"Book sessions that fit your schedule with instant confirmations and easy rescheduling."}],d=[{name:"Emma Chen",role:"Computer Science Student",content:"Tutor Together helped me improve my programming skills dramatically. The AI assistant is incredibly helpful for debugging!",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=80&h=80&fit=crop"},{name:"Marcus Johnson",role:"High School Student",content:"My calculus grades went from C to A+ in just 3 months. The personalized learning approach really works!",avatar:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=80&h=80&fit=crop"},{name:"Sophia Rodriguez",role:"Physics Major",content:"The progress tracking feature keeps me motivated, and the tutors are amazing at explaining complex concepts.",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=80&h=80&fit=crop"}];return t.jsxs("div",{className:"min-h-screen",children:[t.jsx("section",{className:"bg-gradient-to-br from-black via-gray-900 to-black py-20 lg:py-32",children:t.jsx(Kt,{children:t.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[t.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:["Connect, Learn,",t.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-gray-300 bg-clip-text text-transparent",children:" Succeed"})]}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:"Accelerate your learning journey with AI-powered tutoring, personalized study plans, and expert guidance tailored to your goals."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(Ue,{to:"/register",children:t.jsx(De,{size:"lg",className:"w-full sm:w-auto",children:"Get Started Free"})}),t.jsx(Ue,{to:"/tutors",children:t.jsx(De,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"Find Tutors"})})]}),t.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"No credit card required  Cancel anytime  500+ expert tutors"})]})})}),t.jsx("section",{className:"py-20 bg-gray-900/50",children:t.jsxs(Kt,{children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Why Choose Tutor Together?"}),t.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Our platform combines cutting-edge AI technology with human expertise to create the most effective learning experience."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map((h,x)=>t.jsxs(zs,{className:"text-center",children:[t.jsx("div",{className:"text-4xl mb-4",children:h.icon}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:h.title}),t.jsx("p",{className:"text-gray-300 leading-relaxed",children:h.description})]},x))})]})}),t.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-gray-400",children:t.jsx(Kt,{children:t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"10K+"}),t.jsx("div",{className:"text-white/80",children:"Students Helped"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"500+"}),t.jsx("div",{className:"text-white/80",children:"Expert Tutors"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"50+"}),t.jsx("div",{className:"text-white/80",children:"Subjects Covered"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"4.9/5"}),t.jsx("div",{className:"text-white/80",children:"Average Rating"})]})]})})}),t.jsx("section",{className:"py-20 bg-black",children:t.jsxs(Kt,{children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"What Our Students Say"}),t.jsx("p",{className:"text-xl text-gray-300",children:"Real success stories from students who transformed their learning experience"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:d.map((h,x)=>t.jsxs(zs,{children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx("img",{src:h.avatar,alt:h.name,className:"w-12 h-12 rounded-full mr-4"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-white",children:h.name}),t.jsx("p",{className:"text-gray-400 text-sm",children:h.role})]})]}),t.jsxs("p",{className:"text-gray-300 italic leading-relaxed",children:['"',h.content,'"']}),t.jsx("div",{className:"flex text-yellow-400 mt-4",children:"".repeat(5)})]},x))})]})}),t.jsx("section",{className:"py-20 bg-gray-900/50",children:t.jsx(Kt,{children:t.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Learning?"}),t.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join thousands of students who have already accelerated their academic success with our AI-powered tutoring platform."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(Ue,{to:"/register",children:t.jsx(De,{size:"lg",className:"w-full sm:w-auto",children:"Start Learning Today"})}),t.jsx(Ue,{to:"/about",children:t.jsx(De,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"Learn More"})})]})]})})})]})},kv=()=>{const[s,a]=T.useState({email:"",password:"",rememberMe:!1}),[i,o]=T.useState({}),[u,d]=T.useState(!1),h=Qn(),{login:x}=Ot(),p=y=>{const{name:S,value:j,type:O,checked:E}=y.target;a(U=>({...U,[S]:O==="checkbox"?E:j})),i[S]&&o(U=>({...U,[S]:""}))},f=()=>{const y={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(y.email="Please enter a valid email address"):y.email="Email is required",s.password?s.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",o(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!f()){d(!0);try{const S=await x(s.email,s.password);switch(S.user.account_type||S.user.accountType){case"student":h("/student-dashboard");break;case"tutor":h("/tutor-dashboard");break;case"admin":h("/admin-dashboard");break;default:h("/")}}catch(S){o({submit:S.message||"Invalid email or password. Please try again."})}finally{d(!1)}}};return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs(Kt,{maxWidth:"sm",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-gray-400 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"T"})})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),t.jsx("p",{className:"text-gray-400",children:"Sign in to your account to continue learning"})]}),t.jsxs(zs,{children:[t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsx(Tt,{label:"Email Address",type:"email",name:"email",value:s.email,onChange:p,placeholder:"Enter your email",error:i.email,required:!0}),t.jsx(Tt,{label:"Password",type:"password",name:"password",value:s.password,onChange:p,placeholder:"Enter your password",error:i.password,required:!0}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"remember-me",name:"rememberMe",type:"checkbox",checked:s.rememberMe,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-600 bg-gray-800 rounded"}),t.jsx("label",{htmlFor:"remember-me",className:"ml-2 text-sm text-gray-300",children:"Remember me"})]}),t.jsx("div",{className:"text-sm",children:t.jsx(Ue,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Forgot your password?"})})]}),i.submit&&t.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-300 px-4 py-3 rounded-lg",children:i.submit}),t.jsx(De,{type:"submit",loading:u,className:"w-full",children:u?"Signing In...":"Sign In"})]}),t.jsx("div",{className:"mt-6"}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",t.jsx(Ue,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign up here"})]})})]})]})})},Cv=()=>{const[s,a]=T.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",userType:"student"}),[i,o]=T.useState({}),[u,d]=T.useState(!1),h=Qn(),{register:x}=Ot(),p=y=>{const{name:S,value:j,type:O,checked:E}=y.target;a(U=>({...U,[S]:O==="checkbox"?E:j})),i[S]&&o(U=>({...U,[S]:""}))},f=()=>{const y={};return s.firstName.trim()||(y.firstName="First name is required"),s.lastName.trim()||(y.lastName="Last name is required"),s.email?/\S+@\S+\.\S+/.test(s.email)||(y.email="Please enter a valid email address"):y.email="Email is required",s.password?s.password.length<8?y.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(s.password)||(y.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):y.password="Password is required",s.confirmPassword?s.password!==s.confirmPassword&&(y.confirmPassword="Passwords do not match"):y.confirmPassword="Please confirm your password",o(y),Object.keys(y).length===0},g=async y=>{if(y.preventDefault(),!!f()){d(!0);try{const S={firstName:s.firstName.trim(),lastName:s.lastName.trim(),email:s.email,password:s.password,confirmPassword:s.confirmPassword,userType:s.userType},j=await x(S);if(!j.success){if(j.errors&&Array.isArray(j.errors)){const O={};j.errors.forEach(E=>{O[E.param||"submit"]=E.msg}),o(O)}else o({submit:j.message||"Registration failed. Please try again."});return}if(s.userType==="tutor")o({submit:"success:Your tutor account has been created successfully! You can now log in and complete your profile."}),setTimeout(()=>{h("/login")},2e3);else switch(j.user.role||j.user.accountType){case"student":h("/student-dashboard");break;case"tutor":h("/tutor-dashboard");break;case"admin":h("/admin-dashboard");break;default:h("/")}}catch(S){o({submit:S.message||"Registration failed. This email may already be registered."})}finally{d(!1)}}};return t.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs(Kt,{maxWidth:"sm",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-gray-400 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"T"})})}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Your Account"}),t.jsx("p",{className:"text-gray-400",children:"Join thousands of learners and tutors today"})]}),t.jsxs(zs,{children:[t.jsxs("form",{onSubmit:g,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(Tt,{label:"First Name",type:"text",name:"firstName",value:s.firstName,onChange:p,placeholder:"Enter first name",error:i.firstName,required:!0}),t.jsx(Tt,{label:"Last Name",type:"text",name:"lastName",value:s.lastName,onChange:p,placeholder:"Enter last name",error:i.lastName,required:!0})]}),t.jsx(Tt,{label:"Email Address",type:"email",name:"email",value:s.email,onChange:p,placeholder:"Enter your email",error:i.email,required:!0}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"I want to join as a"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:`relative cursor-pointer rounded-lg border p-4 transition-colors ${s.userType==="student"?"border-blue-500 bg-blue-900/20":"border-gray-600 bg-gray-800 hover:bg-gray-700"}`,onClick:()=>a(y=>({...y,userType:"student"})),children:[t.jsx("input",{type:"radio",name:"userType",value:"student",checked:s.userType==="student",onChange:p,className:"sr-only"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium text-white",children:"Student"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Learn and grow"})]}),s.userType==="student"&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})]}),t.jsxs("div",{className:`relative cursor-pointer rounded-lg border p-4 transition-colors ${s.userType==="tutor"?"border-blue-500 bg-blue-900/20":"border-gray-600 bg-gray-800 hover:bg-gray-700"}`,onClick:()=>a(y=>({...y,userType:"tutor"})),children:[t.jsx("input",{type:"radio",name:"userType",value:"tutor",checked:s.userType==="tutor",onChange:p,className:"sr-only"}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium text-white",children:"Tutor"}),t.jsx("div",{className:"text-sm text-gray-400",children:"Teach and earn"})]}),s.userType==="tutor"&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})]})]})]}),t.jsx(Tt,{label:"Password",type:"password",name:"password",value:s.password,onChange:p,placeholder:"Create a strong password",error:i.password,help:"Must be at least 8 characters with uppercase, lowercase, and number",required:!0}),t.jsx(Tt,{label:"Confirm Password",type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:p,placeholder:"Confirm your password",error:i.confirmPassword,required:!0}),i.submit&&t.jsx("div",{className:`border px-4 py-3 rounded-lg ${i.submit.startsWith("success:")?"bg-green-900/50 border-green-500 text-green-300":"bg-red-900/50 border-red-500 text-red-300"}`,children:i.submit.startsWith("success:")?i.submit.replace("success:",""):i.submit}),t.jsx(De,{type:"submit",loading:u,className:"w-full",children:u?"Creating Account...":"Create Account"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-400",children:["Already have an account?"," ",t.jsx(Ue,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign in here"})]})})]})]})})},Ev="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Av=()=>{const[s,a]=T.useState({email:""}),[i,o]=T.useState({}),[u,d]=T.useState(!1),[h,x]=T.useState(!1),[p,f]=T.useState(""),[g,y]=T.useState(null),S=E=>{const{name:U,value:k}=E.target;a(z=>({...z,[U]:k})),i[U]&&o(z=>({...z,[U]:""}))},j=()=>{const E={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(E.email="Please enter a valid email address"):E.email="Email is required",o(E),Object.keys(E).length===0},O=async E=>{if(E.preventDefault(),!!j()){d(!0),o({});try{const k=await(await fetch(`${Ev}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email})})).json();if(k.success){x(!0),y(k);let z=k.message;k.debug&&k.debug.token&&(z+=`

Reset Token: ${k.debug.token}

Copy this token to reset your password.`),f(z)}else if(k.errors&&Array.isArray(k.errors)){const z={};k.errors.forEach(H=>{z[H.param||"submit"]=H.msg}),o(z)}else o({submit:k.message||"Failed to send reset email. Please try again."})}catch(U){console.error("Password reset error:",U),o({submit:"Network error. Please check your connection and try again."})}finally{d(!1)}}};return h?t.jsx(Kt,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsx(zs,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset"}),t.jsx("div",{className:"text-gray-300 mb-6 whitespace-pre-line text-sm",children:p}),t.jsxs("div",{className:"space-y-4",children:[g&&g.debug&&g.debug.token&&t.jsx(Ue,{to:`/reset-password?token=${g.debug.token}`,children:t.jsx(De,{variant:"primary",className:"w-full",children:"Reset Password with This Token"})}),t.jsx(De,{onClick:()=>{x(!1),a({email:""}),f(""),y(null)},variant:"outline",className:"w-full",children:"Send Another Email"}),t.jsx(Ue,{to:"/login",children:t.jsx(De,{variant:"secondary",className:"w-full",children:"Back to Login"})})]})]})})}):t.jsx(Kt,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsxs(zs,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Forgot Password"}),t.jsx("p",{className:"text-gray-300",children:"Enter your email address and we'll send you instructions to reset your password."})]}),t.jsxs("form",{onSubmit:O,className:"space-y-6",children:[t.jsx("div",{children:t.jsx(Tt,{label:"Email Address",type:"email",name:"email",value:s.email,onChange:S,placeholder:"Enter your email address",error:i.email,required:!0})}),i.submit&&t.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg",children:i.submit}),t.jsx(De,{type:"submit",isLoading:u,disabled:u,className:"w-full",variant:"primary",children:u?"Sending...":"Send Reset Instructions"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx(Ue,{to:"/login",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Back to Login"})})]})})},_v="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Dv=()=>{const s=Qn(),[a]=hv(),[i,o]=T.useState({token:"",password:"",confirmPassword:""}),[u,d]=T.useState({}),[h,x]=T.useState(!1),[p,f]=T.useState(!1),[g,y]=T.useState(!1),[S,j]=T.useState(!1);T.useEffect(()=>{const k=a.get("token");k&&o(z=>({...z,token:k}))},[a]);const O=k=>{const{name:z,value:H}=k.target;o(ne=>({...ne,[z]:H})),u[z]&&d(ne=>({...ne,[z]:""})),(z==="password"||z==="confirmPassword")&&u.confirmPassword&&d(ne=>({...ne,confirmPassword:""}))},E=()=>{const k={};return i.token?i.token.length<20&&(k.token="Invalid token format"):k.token="Reset token is required",i.password?i.password.length<8?k.password="Password must be at least 8 characters long":/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(i.password)||(k.password="Password must contain at least one lowercase letter, one uppercase letter, and one number"):k.password="Password is required",i.confirmPassword?i.password.trim()!==i.confirmPassword.trim()&&(k.confirmPassword="Passwords do not match"):k.confirmPassword="Please confirm your password",d(k),Object.keys(k).length===0},U=async k=>{if(k.preventDefault(),!!E()){x(!0),d({});try{const H=await(await fetch(`${_v}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:i.token,password:i.password,confirmPassword:i.confirmPassword})})).json();if(H.success)f(!0);else if(H.errors&&Array.isArray(H.errors)){const ne={};H.errors.forEach(ye=>{ne[ye.param||"submit"]=ye.msg}),d(ne)}else d({submit:H.message||"Failed to reset password. Please try again."})}catch(z){console.error("Password reset error:",z),d({submit:"Network error. Please check your connection and try again."})}finally{x(!1)}}};return p?t.jsx(Kt,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsx(zs,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successful"}),t.jsx("p",{className:"text-gray-300 mb-6",children:"Your password has been successfully reset. You can now login with your new password."}),t.jsx(De,{onClick:()=>s("/login"),variant:"primary",className:"w-full",children:"Continue to Login"})]})})}):t.jsx(Kt,{className:"flex items-center justify-center min-h-screen py-8",children:t.jsxs(zs,{className:"w-full max-w-md p-8 bg-gray-900 border border-gray-700",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),t.jsx("p",{className:"text-gray-300",children:"Enter your reset token and choose a new password."})]}),t.jsxs("form",{onSubmit:U,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(Tt,{label:"Reset Token",type:"text",name:"token",value:i.token,onChange:O,placeholder:"Enter your reset token",error:u.token,required:!0}),t.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Copy the token from your forgot password request"})]}),t.jsx("div",{children:t.jsxs("div",{className:"relative",children:[t.jsx(Tt,{label:"New Password",type:g?"text":"password",name:"password",value:i.password,onChange:O,placeholder:"Enter new password",error:u.password,required:!0}),t.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-300 focus:outline-none",children:g?t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})}),t.jsx("div",{children:t.jsxs("div",{className:"relative",children:[t.jsx(Tt,{label:"Confirm New Password",type:S?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:O,placeholder:"Confirm new password",error:u.confirmPassword,required:!0}),t.jsx("button",{type:"button",onClick:()=>j(!S),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-300 focus:outline-none",children:S?t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):t.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})}),u.submit&&t.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-400 px-4 py-3 rounded-lg",children:u.submit}),t.jsx(De,{type:"submit",isLoading:h,disabled:h,className:"w-full",variant:"primary",children:h?"Resetting...":"Reset Password"})]}),t.jsxs("div",{className:"mt-6 text-center space-y-2",children:[t.jsx(Ue,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors block",children:"Request New Token"}),t.jsx(Ue,{to:"/login",className:"text-gray-400 hover:text-gray-300 transition-colors block",children:"Back to Login"})]})]})})},Xi="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Ii=()=>localStorage.getItem("token"),at={async get(s){const a=Ii(),i=`${Xi}${s}`;console.log(` Making GET request to: ${i}`);const o=await fetch(i,{method:"GET",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}});if(console.log(" GET Response status:",o.status),!o.ok)throw console.error(" GET Response not ok:",o.status,o.statusText),{response:{data:await o.json().catch(()=>({message:"Unknown error"})),status:o.status}};const u=await o.json();return console.log(" GET Success response:",u),u},async post(s,a){const i=Ii(),o=`${Xi}${s}`;console.log(` Making POST request to: ${o}`),console.log(" Request data:",a);const u=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},body:JSON.stringify(a)});if(console.log(" Response status:",u.status),console.log(" Response ok:",u.ok),!u.ok)throw console.error(" Response not ok:",u.status,u.statusText),{response:{data:await u.json().catch(()=>({message:"Unknown error"})),status:u.status}};const d=await u.json();return console.log(" Success response:",d),d},async put(s,a){const i=Ii(),o=`${Xi}${s}`;console.log(` Making PUT request to: ${o}`),console.log(" Request data:",a);const u=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",...i&&{Authorization:`Bearer ${i}`}},body:JSON.stringify(a)});if(console.log(" PUT Response status:",u.status),!u.ok)throw console.error(" PUT Response not ok:",u.status,u.statusText),{response:{data:await u.json().catch(()=>({message:"Unknown error"})),status:u.status}};const d=await u.json();return console.log(" PUT Success response:",d),d},async delete(s){const a=Ii(),i=await fetch(`${Xi}${s}`,{method:"DELETE",headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`}}});if(!i.ok)throw{response:{data:await i.json()}};return{data:await i.json()}}},Gt={getTutorAvailability:async(s,a=null)=>{try{const i=a?`?date=${a}`:"";return await at.get(`/booking/tutors/${s}/availability${i}`)}catch(i){throw i.response?.data||i}},createBooking:async s=>{try{return await at.post("/booking/bookings",s)}catch(a){throw a||a}},getStudentBookings:async(s=null,a=10,i=0)=>{try{const o=new URLSearchParams;return s&&o.append("status",s),o.append("limit",a),o.append("offset",i),await at.get(`/booking/student/bookings?${o}`)}catch(o){console.error("Error fetching student bookings from API, using mock data:",o);const u=[{id:"1",tutorId:"a9efb1ee-dced-4c98-895a-a51c24270a5c",tutorName:"Dr. Johnson",tutorEmail:"dr.johnson@university.edu",date:"2025-11-21",startTime:"15:00",endTime:"16:00",duration:1,totalAmount:50,subject:"Mathematics",sessionType:"Mathematics",meetingType:"virtual",location:null,status:"confirmed",notes:"Calculus integration help session - accepted by tutor",createdAt:"2025-11-20T13:00:00Z"},{id:"2",tutorId:"b8f0c2ff-edef-5d09-906c-b62d35381a6d",tutorName:"Prof. Sarah Wilson",tutorEmail:"sarah.wilson@university.edu",date:"2025-11-25",startTime:"14:00",endTime:"15:30",duration:1.5,totalAmount:75,subject:"Physics",sessionType:"Physics",meetingType:"in_person",location:"University Library - Study Room 204",status:"confirmed",notes:"Quantum mechanics review - accepted by tutor",createdAt:"2025-11-20T10:30:00Z"},{id:"3",tutorId:"c7e1d3aa-f0e1-6e10-a17d-c73e46482b7e",tutorName:"Dr. Michael Chen",tutorEmail:"michael.chen@university.edu",date:"2025-11-23",startTime:"10:00",endTime:"11:00",duration:1,totalAmount:50,subject:"Computer Science",sessionType:"Computer Science",meetingType:"virtual",location:null,status:"pending",notes:"Data structures and algorithms help needed",createdAt:"2025-11-20T09:15:00Z"}];let d=u;return s&&s!=="all"&&(d=u.filter(h=>h.status===s)),{bookings:d,totalCount:d.length}}},getTutorBookings:async(s=null,a=10,i=0)=>{try{const o=new URLSearchParams;return s&&o.append("status",s),o.append("limit",a),o.append("offset",i),await at.get(`/booking/tutor/bookings?${o}`)}catch(o){throw o||o}},getTutorSessions:async()=>{try{console.log(" Making API call to /booking/tutor/sessions...");const s=await at.get("/booking/tutor/sessions");return console.log(" API response in getTutorSessions:",s),s}catch(s){console.error(" Error fetching tutor sessions from API:",s),console.error(" Error status:",s.response?.status),console.error(" Error message:",s.message),console.error(" Full error object:",s);const a=[{id:"session-1",studentId:"45c456fd-b7c4-4c2f-890b-ac636140ba8c",studentName:"Alex Rodriguez",studentAvatar:"/api/placeholder/40/40",subject:"Calculus",topic:"Integration by Parts",date:"2025-11-20",time:"14:00",duration:60,status:"scheduled",notes:"Focus on advanced integration techniques",meetingLink:"https://zoom.us/j/123456789",meetingType:"virtual"},{id:"session-2",studentId:"45c456fd-b7c4-4c2f-890b-ac636140ba8c",studentName:"Emma Wilson",studentAvatar:"/api/placeholder/40/40",subject:"Physics",topic:"Quantum Mechanics",date:"2025-11-21",time:"10:00",duration:60,status:"scheduled",notes:"Review quantum concepts",meetingLink:"https://meet.google.com/physics-session",meetingType:"virtual"},{id:"session-3",studentId:"45c456fd-b7c4-4c2f-890b-ac636140ba8c",studentName:"James Smith",studentAvatar:"/api/placeholder/40/40",subject:"Mathematics",topic:"Linear Algebra",date:"2025-11-19",time:"09:00",duration:60,status:"completed",notes:"Matrices and determinants",meetingLink:null,meetingType:"in_person",location:"Library Room 204"}];return{sessions:a,totalCount:a.length}}},updateBookingStatus:async(s,a,i=null)=>{try{return await at.put(`/booking/bookings/${s}/status`,{status:a,notes:i})}catch(o){throw o.response?.data||o}},markSessionComplete:async(s,a=null)=>{try{const i=s.toString().startsWith("session-")?s.replace("session-",""):s;console.log(" Marking session complete:",{originalId:s,numericId:i});const o="https://sunke-vasan-varpe-varadaraju.onrender.com/api",u=localStorage.getItem("token"),d=await fetch(`${o}/booking/bookings/${i}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({completionNotes:a})});if(!d.ok){const x=await d.json().catch(()=>({error:d.statusText}));throw console.error(" Mark complete API error:",x),x}const h=await d.json();return console.log(" Mark complete API success:",h),h}catch(i){throw console.error(" Mark complete service error:",i),i.response?.data||i}},canMarkComplete:s=>{if(!s||!["scheduled","confirmed"].includes(s.status))return!1;const a=new Date(`${s.date}T${s.endTime||s.end_time}`);return new Date>=a},getTimeUntilComplete:s=>{if(!s)return null;const a=new Date(`${s.date}T${s.endTime||s.end_time}`),i=new Date;return i>=a?0:Math.ceil((a-i)/(1e3*60))},setTutorAvailability:async s=>{try{return await at.post("/booking/tutors/availability",{availability:s})}catch(a){throw a.response?.data||a}},getAvailableTimeSlots:(s,a)=>s[a]||[],formatTime:s=>new Date(`2000-01-01 ${s}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),calculateDuration:(s,a)=>{const i=new Date(`2000-01-01 ${s}`);return(new Date(`2000-01-01 ${a}`)-i)/(1e3*60*60)},getDaysOfWeek:()=>["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],getPendingBookingRequests:async()=>{try{return(await at.get("/booking/requests/pending"))?.bookingRequests||[]}catch(s){return console.error("Error fetching pending booking requests:",s),[{id:1,studentId:1,studentName:"Alice Johnson",studentEmail:"alice.johnson@university.edu",subject:"Mathematics",date:"2024-01-15",time:"14:00",duration:60,notes:"Need help with calculus derivatives and chain rule. Preparing for upcoming exam.",status:"pending",createdAt:"2024-01-12T10:30:00Z"},{id:2,studentId:2,studentName:"Bob Smith",studentEmail:"bob.smith@university.edu",subject:"Physics",date:"2024-01-16",time:"16:30",duration:90,notes:"Struggling with quantum mechanics concepts, especially wave functions.",status:"pending",createdAt:"2024-01-12T11:15:00Z"},{id:3,studentId:3,studentName:"Carol Davis",studentEmail:"carol.davis@university.edu",subject:"Chemistry",date:"2024-01-17",time:"10:00",duration:60,notes:"Need help with organic chemistry reactions and mechanisms.",status:"pending",createdAt:"2024-01-12T12:00:00Z"}]}},respondToBookingRequest:async(s,a,i="")=>{try{return await at.put(`/booking/requests/${s}/respond`,{action:a,responseMessage:i})}catch(o){return console.error(`Error ${a}ing booking request:`,o),await new Promise(u=>setTimeout(u,1e3)),{success:!0,message:`Booking request ${a}ed successfully`,bookingId:a==="accept"?Math.floor(Math.random()*1e3):null}}},rescheduleBooking:async(s,a,i,o,u="")=>{try{return await at.put(`/booking/bookings/${s}/reschedule`,{newDate:a,newStartTime:i,newEndTime:o,reason:u})}catch(d){return console.error("Error rescheduling booking:",d),await new Promise(h=>setTimeout(h,1e3)),{success:!0,message:"Reschedule request sent to tutor successfully",booking:{id:s,newDate:a,newStartTime:i,newEndTime:o,status:"reschedule_pending"}}}},cancelBooking:async(s,a="")=>{try{return await at.put(`/booking/bookings/${s}/cancel`,{reason:a})}catch(i){throw console.error("Error canceling booking:",i),i.response?.data||i}},getAvailableRescheduleSlots:async(s,a,i=null)=>{try{const o=new URLSearchParams;return i&&o.append("date",i),a&&o.append("excludeBooking",a),await at.get(`/booking/tutors/${s}/available-slots?${o}`)}catch(o){console.error("Error fetching available reschedule slots:",o);let u=[];const d=new Date,h=[];for(let x=1;x<=7;x++){const p=new Date(d);p.setDate(d.getDate()+x),h.push(p.toISOString().split("T")[0])}return s==="tutor_001"?u=[{date:h[0],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"11:00",endTime:"12:00"},{startTime:"14:00",endTime:"15:00"}]},{date:h[1],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"16:00",endTime:"17:00"}]},{date:h[2],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"15:00",endTime:"16:00"}]}]:s==="tutor_002"?u=[{date:h[0],slots:[{startTime:"08:00",endTime:"09:00"},{startTime:"12:00",endTime:"13:00"},{startTime:"15:00",endTime:"16:00"}]},{date:h[1],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"14:00",endTime:"15:00"}]},{date:h[3],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"13:00",endTime:"14:00"},{startTime:"17:00",endTime:"18:00"}]}]:s==="tutor_003"?u=[{date:h[1],slots:[{startTime:"11:00",endTime:"12:00"},{startTime:"14:00",endTime:"15:00"},{startTime:"16:00",endTime:"17:00"}]},{date:h[2],slots:[{startTime:"09:00",endTime:"10:00"},{startTime:"13:00",endTime:"14:00"}]},{date:h[4],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"15:00",endTime:"16:00"},{startTime:"18:00",endTime:"19:00"}]}]:u=[{date:h[0],slots:[{startTime:"10:00",endTime:"11:00"},{startTime:"14:00",endTime:"15:00"}]},{date:h[2],slots:[{startTime:"11:00",endTime:"12:00"},{startTime:"16:00",endTime:"17:00"}]}],{tutorId:s,availableSlots:u}}}},Of=[{id:"1",name:"Rahul Varadaraju",email:"rahul.varadaraju@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1494790108755-2616b332e234?w=150",createdAt:"2024-01-15T10:00:00Z",rating:4.9,subjects:["Mathematics","Physics","Calculus"],hourlyRate:45,availability:{Monday:["09:00","10:00","11:00","14:00","15:00"],Tuesday:["09:00","10:00","13:00","14:00","15:00"],Wednesday:["10:00","11:00","14:00","15:00","16:00"],Thursday:["09:00","10:00","11:00","13:00","14:00"],Friday:["09:00","10:00","15:00","16:00"],Saturday:["10:00","11:00","12:00"],Sunday:[]},bio:"PhD in Mathematics with 8 years of teaching experience. Specializes in advanced calculus and physics problem-solving.",experience:8,totalSessions:342,responseTime:"< 2 hours"},{id:"2",name:"Chandrasekar Vasan",email:"chandrasekar.vasan@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150",createdAt:"2024-01-10T08:30:00Z",rating:4.8,subjects:["Computer Science","Programming","Data Structures"],hourlyRate:55,availability:{Monday:["13:00","14:00","15:00","16:00","17:00"],Tuesday:["13:00","14:00","15:00","16:00"],Wednesday:["14:00","15:00","16:00","17:00"],Thursday:["13:00","14:00","15:00","16:00","17:00"],Friday:["13:00","14:00","15:00"],Saturday:["09:00","10:00","11:00","12:00"],Sunday:["14:00","15:00","16:00"]},bio:"Senior software engineer turned educator with expertise in algorithms, data structures, and modern programming languages.",experience:6,totalSessions:287,responseTime:"< 1 hour"},{id:"3",name:"Kishore Kumar Sunke",email:"kishore.sunke@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150",createdAt:"2024-01-20T12:15:00Z",rating:4.7,subjects:["Chemistry","Biology","Organic Chemistry"],hourlyRate:42,availability:{Monday:["08:00","09:00","10:00","11:00"],Tuesday:["08:00","09:00","10:00","16:00","17:00"],Wednesday:["08:00","09:00","16:00","17:00"],Thursday:["08:00","09:00","10:00","11:00","16:00"],Friday:["08:00","09:00","10:00"],Saturday:[],Sunday:["15:00","16:00","17:00"]},bio:"Biochemistry PhD with a passion for making complex scientific concepts accessible and engaging for students.",experience:5,totalSessions:198,responseTime:"< 3 hours"},{id:"4",name:"Pranav Varpe",email:"pranav.varpe@example.com",role:"tutor",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150",createdAt:"2024-02-01T09:45:00Z",rating:4.6,subjects:["History","English Literature","Writing"],hourlyRate:38,availability:{Monday:["10:00","11:00","12:00","15:00","16:00"],Tuesday:["10:00","11:00","12:00","15:00"],Wednesday:["11:00","12:00","15:00","16:00","17:00"],Thursday:["10:00","11:00","12:00","15:00","16:00"],Friday:["10:00","11:00","12:00"],Saturday:["09:00","10:00","11:00"],Sunday:[]},bio:"Masters in English Literature with extensive experience in academic writing and historical research methods.",experience:4,totalSessions:156,responseTime:"< 4 hours"}],Bf=s=>new Promise(a=>setTimeout(a,s)),Rv="https://sunke-vasan-varpe-varadaraju.onrender.com/api",zl=async(s,a={})=>{try{const i=`${Rv}${s}`,o=localStorage.getItem("token"),u={headers:{"Content-Type":"application/json",...o&&{Authorization:`Bearer ${o}`},...a.headers},...a},d=await fetch(i,u),h=await d.json();if(!d.ok)throw new Error(h.message||`HTTP error! status: ${d.status}`);return h}catch(i){throw console.error("API call failed:",i),i}},Zu={async getAllTutors(s={}){const a=new URLSearchParams;s.search&&a.append("search",s.search),s.subject&&a.append("subject",s.subject),s.minPrice&&a.append("minPrice",s.minPrice),s.maxPrice&&a.append("maxPrice",s.maxPrice),s.sortBy&&a.append("sortBy",s.sortBy);const i=`/tutors${a.toString()?`?${a.toString()}`:""}`;return(await zl(i)).data||[]},async getTutorById(s){try{return(await zl(`/tutors/${s}`)).data}catch(a){return console.error("Failed to fetch tutor:",a),await Bf(300),Of.find(i=>i.id===s)||null}},async getTutorSubjects(){try{return(await zl("/tutors/subjects")).data||[]}catch(s){return console.error("Failed to fetch tutor subjects:",s),["Mathematics","Physics","Chemistry","Computer Science","Economics","English","Biology"]}},async searchTutors(s,a){await Bf(600);let i=Of;return s&&(i=i.filter(o=>o.subjects.some(u=>u.toLowerCase().includes(s.toLowerCase())))),i}},On={async getTasks(){return await zl("/tasks")},async createTask(s){return await zl("/tasks",{method:"POST",body:JSON.stringify({title:s.title,description:s.description,subject:s.subject,priority:s.priority,estimatedTime:s.estimatedTime,dueDate:s.due})})},async updateTask(s,a){return await zl(`/tasks/${s}`,{method:"PUT",body:JSON.stringify({title:a.title,description:a.description,subject:a.subject,priority:a.priority,estimatedTime:a.estimatedTime,dueDate:a.due,status:a.status,progress:a.progress})})},async deleteTask(s){return await zl(`/tasks/${s}`,{method:"DELETE"})}},Mv=({isOpen:s,onClose:a,booking:i,onCancelSuccess:o})=>{const[u,d]=T.useState(""),[h,x]=T.useState(!1),[p,f]=T.useState(""),g=async()=>{if(!u.trim()){f("Please provide a reason for cancellation");return}try{x(!0),f("");const E=await Gt.cancelBooking(i.id,u);E.success?(o(E.booking),a(),y()):f(E.message||"Failed to cancel booking")}catch{f("Failed to cancel booking")}finally{x(!1)}},y=()=>{d(""),f("")},S=()=>{y(),a()},j=E=>new Date(E).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),O=E=>new Date(`2000-01-01 ${E}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return i?t.jsx(Ds,{isOpen:s,onClose:S,className:"cancel-modal",children:t.jsxs("div",{className:"cancel-modal-content",children:[t.jsxs("div",{className:"cancel-header",children:[t.jsx("div",{className:"cancel-icon",children:""}),t.jsx("h2",{className:"cancel-title",children:"Cancel Session"}),t.jsx("button",{onClick:S,className:"close-button",children:""})]}),t.jsxs("div",{className:"cancel-warning",children:[t.jsx("p",{children:"Are you sure you want to cancel this tutoring session?"}),t.jsxs("div",{className:"warning-note",children:[t.jsx("strong",{children:"Note:"})," Your tutor will be notified immediately, and you may be subject to our cancellation policy."]})]}),t.jsxs("div",{className:"session-details",children:[t.jsx("h3",{children:"Session Details"}),t.jsxs("div",{className:"booking-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Tutor:"}),t.jsx("span",{className:"value",children:i.tutorName})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Subject:"}),t.jsx("span",{className:"value",children:i.subject})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Date:"}),t.jsx("span",{className:"value",children:j(i.date)})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Time:"}),t.jsxs("span",{className:"value",children:[O(i.startTime)," - ",O(i.endTime)]})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Duration:"}),t.jsxs("span",{className:"value",children:[i.duration," hour(s)"]})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{className:"label",children:"Amount:"}),t.jsxs("span",{className:"value",children:["$",i.totalAmount]})]})]})]}),t.jsxs("div",{className:"reason-section",children:[t.jsxs("label",{htmlFor:"cancel-reason",children:["Reason for Cancellation ",t.jsx("span",{className:"required",children:"*"})]}),t.jsx("textarea",{id:"cancel-reason",value:u,onChange:E=>d(E.target.value),placeholder:"Please explain why you need to cancel this session...",rows:"4",className:"reason-textarea",required:!0}),t.jsx("div",{className:"reason-options",children:t.jsxs("div",{className:"quick-reasons",children:[t.jsx("p",{children:"Quick reasons:"}),t.jsxs("div",{className:"reason-buttons",children:[t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("Schedule conflict - cannot attend at this time"),children:"Schedule Conflict"}),t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("Personal emergency - need to cancel"),children:"Emergency"}),t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("Illness - unable to attend session"),children:"Illness"}),t.jsx("button",{type:"button",className:"reason-btn",onClick:()=>d("No longer need tutoring for this subject"),children:"No Longer Needed"})]})]})})]}),p&&t.jsx("div",{className:"error-message",children:p}),t.jsxs("div",{className:"cancellation-policy",children:[t.jsx("h4",{children:"Cancellation Policy"}),t.jsxs("ul",{children:[t.jsx("li",{children:"Cancellations made 24+ hours in advance: Full refund"}),t.jsx("li",{children:"Cancellations made 4-24 hours in advance: 50% refund"}),t.jsx("li",{children:"Cancellations made less than 4 hours: No refund"}),t.jsx("li",{children:"Emergency cancellations will be reviewed case-by-case"})]})]}),t.jsxs("div",{className:"modal-actions",children:[t.jsx(De,{onClick:S,variant:"outline",disabled:h,children:"Keep Session"}),t.jsx(De,{onClick:g,disabled:h||!u.trim(),className:"cancel-btn",variant:"danger",children:h?"Cancelling...":"Cancel Session"})]})]})}):null},pd=({booking:s,onCompleted:a,className:i=""})=>{const[o,u]=T.useState(!1),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState(!1),[y,S]=T.useState("");T.useEffect(()=>{const E=()=>{console.log("MarkCompleteButton - checking status for booking:",{id:s.id,status:s.status,date:s.date,endTime:s.endTime||s.end_time});const k=Gt.canMarkComplete(s),z=Gt.getTimeUntilComplete(s);console.log("MarkCompleteButton - status check result:",{canMark:k,timeUntil:z}),h(k),p(z)};E();const U=setInterval(E,6e4);return()=>clearInterval(U)},[s]);const j=async()=>{try{u(!0),console.log("MarkCompleteButton - attempting to mark complete:",{bookingId:s.id,status:s.status,date:s.date,endTime:s.endTime||s.end_time,completionNotes:y});const E=await Gt.markSessionComplete(s.id,y);console.log("MarkCompleteButton - success:",E),g(!1),S(""),a&&a({...s,status:"completed",completedAt:E.booking.completedAt,sessionNotes:E.booking.sessionNotes})}catch(E){console.error("MarkCompleteButton - Error details:",E);const U=E?.message||E?.error||"Failed to mark session as complete";alert(`Error: ${U}

Booking ID: ${s.id}
Status: ${s.status}`)}finally{u(!1)}},O=E=>{if(E<=0)return"";const U=Math.floor(E/60),k=E%60;return U>0?`${U}h ${k}m`:`${k}m`};return s.status==="completed"?t.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.jsx("span",{className:"text-sm font-medium",children:"Completed"})]}):["scheduled","confirmed"].includes(s.status)?t.jsxs(t.Fragment,{children:[d?t.jsx("button",{onClick:()=>g(!0),disabled:o,className:`px-4 py-2 bg-green-500/20 border border-green-500/30 text-green-300 rounded-lg hover:bg-green-500/30 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed ${i}`,children:o?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-green-300 border-t-transparent rounded-full"}),t.jsx("span",{children:"Completing..."})]}):"Mark Complete"}):t.jsx("div",{className:"px-4 py-2 bg-gray-500/20 border border-gray-500/30 text-gray-400 rounded-lg text-sm font-medium cursor-not-allowed",children:x>0&&t.jsxs("span",{children:["Complete in ",O(x)]})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-900 rounded-2xl border border-slate-700 p-6 max-w-md w-full",children:[t.jsx("h3",{className:"text-white text-xl font-semibold mb-4",children:"Complete Session"}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:[s.subject||"Session"," with ",s.tutorName||s.studentName]}),t.jsxs("p",{className:"text-slate-400 text-sm",children:[new Date(s.date).toLocaleDateString()," at ",s.startTime," - ",s.endTime]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Session Notes (optional)"}),t.jsx("textarea",{value:y,onChange:E=>S(E.target.value),placeholder:"Add any notes about the session...",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:3})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>{g(!1),S("")},disabled:o,className:"flex-1 px-4 py-2 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-800 transition-colors disabled:opacity-50",children:"Cancel"}),t.jsx("button",{onClick:j,disabled:o,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:o?"Completing...":"Mark Complete"})]})]})})]}):null},_u="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Uf=({isOpen:s,onClose:a,isEdit:i=!1,newTask:o,setNewTask:u,errors:d,loading:h,onSubmit:x})=>{const p=(f,g)=>{u(y=>({...y,[f]:g}))};return t.jsx(Ds,{isOpen:s,onClose:a,children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:i?"Edit Task":"Add New Task"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:o.title||"",onChange:f=>p("title",f.target.value),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.title?"border-red-500":"border-slate-600"}`,placeholder:"Enter task title",disabled:h,autoComplete:"off"}),d.title&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),t.jsx("textarea",{value:o.description||"",onChange:f=>p("description",f.target.value),rows:"3",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none focus:outline-none focus:border-blue-500",placeholder:"Describe what needs to be done",disabled:h,autoComplete:"off"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject *"}),t.jsxs("select",{value:o.subject||"",onChange:f=>p("subject",f.target.value),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.subject?"border-red-500":"border-slate-600"}`,disabled:h,children:[t.jsx("option",{value:"",children:"Select subject"}),t.jsx("option",{value:"Mathematics",children:"Mathematics"}),t.jsx("option",{value:"Physics",children:"Physics"}),t.jsx("option",{value:"Chemistry",children:"Chemistry"}),t.jsx("option",{value:"Computer Science",children:"Computer Science"}),t.jsx("option",{value:"Biology",children:"Biology"}),t.jsx("option",{value:"History",children:"History"}),t.jsx("option",{value:"English",children:"English"})]}),d.subject&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:o.priority||"medium",onChange:f=>p("priority",f.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-blue-500",disabled:h,children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Estimated Time *"}),t.jsx("input",{type:"text",value:o.estimatedTime||"",onChange:f=>p("estimatedTime",f.target.value),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.estimatedTime?"border-red-500":"border-slate-600"}`,placeholder:"e.g., 2 hours",disabled:h,autoComplete:"off"}),d.estimatedTime&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.estimatedTime})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date *"}),t.jsx("input",{type:"date",value:o.due||"",onChange:f=>p("due",f.target.value),min:new Date().toISOString().split("T")[0],className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.due?"border-red-500":"border-slate-600"}`,disabled:h}),d.due&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.due})]})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(De,{variant:"secondary",onClick:a,className:"flex-1",disabled:h,children:"Cancel"}),t.jsx(De,{onClick:x,className:"flex-1",disabled:h,children:h?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:i?"Updating...":"Adding..."})]}):i?"Update Task":"Add Task"})]})]})})},Hf=()=>{const{user:s,loading:a}=Ot(),i=Sn(),[o,u]=T.useState(()=>i.state?.activeTab||"overview"),[d,h]=T.useState(!1),[x,p]=T.useState(!1),[f,g]=T.useState(!1),[y,S]=T.useState(!1),[j,O]=T.useState(!1),[E,U]=T.useState(null),[k,z]=T.useState(null),[H,ne]=T.useState(!1),[ye,F]=T.useState(""),[q,xe]=T.useState("success"),[ue,Y]=T.useState({}),[_,P]=T.useState(!1),[se,ae]=T.useState({rating:5,comment:"",wouldRecommend:!0}),[ce,A]=T.useState({date:"",time:"",reason:""}),[ee,pe]=T.useState({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),[je,D]=T.useState([]),[N,B]=T.useState(!0),[v,I]=T.useState([]),[oe,me]=T.useState(!0),[ve,Ae]=T.useState(null),[Re,kt]=T.useState(!0),[xt,Xn]=T.useState(new Date),[Vt,Xt]=T.useState(new Date().getDate()),[bt,pt]=T.useState(null),In=(()=>{const R=new Date().getHours();return R>=5&&R<12?{text:"Good Morning",emoji:""}:R>=12&&R<17?{text:"Good Afternoon",emoji:""}:R>=17&&R<21?{text:"Good Evening",emoji:""}:{text:"Good Night",emoji:""}})();if(a||!s)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),t.jsx("p",{className:"text-white",children:"Loading dashboard..."})]})});const Un=async()=>{try{kt(!0);const R=localStorage.getItem("token"),he=await fetch(`${_u}/booking/student/overview`,{headers:{Authorization:`Bearer ${R}`}});if(!he.ok)throw new Error("Failed to fetch overview data");const C=await he.json();console.log(" Loaded student overview data:",C),Ae(C)}catch(R){console.error(" Error loading overview data:",R)}finally{kt(!1)}};T.useEffect(()=>{Wt(),It(),Un()},[]),T.useEffect(()=>{i.state?.activeTab&&u(i.state.activeTab),i.state?.message&&(mt(i.state.message),window.history.replaceState({},document.title))},[i.state]);const Wt=async()=>{try{me(!0);const R=await Gt.getStudentBookings();console.log(" Loaded real bookings:",R.bookings);const he=R.bookings||[],C=new Date,K=[];for(const Q of he)if((Q.status==="scheduled"||Q.status==="confirmed")&&Q.date&&Q.endTime){const ie=new Date(`${Q.date.split("T")[0]}T${Q.endTime}`);if(C>ie){console.log(" Auto-completing past session:",Q.id);try{await fetch(`${_u}/booking/bookings/${Q.id}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({completionNotes:"Auto-completed after session end time"})}),K.push({...Q,status:"completed"})}catch(be){console.error("Failed to auto-complete session:",Q.id,be),K.push(Q)}}else K.push(Q)}else K.push(Q);I(K)}catch(R){console.error("Failed to load real bookings:",R),I([])}finally{me(!1)}},It=async()=>{try{B(!0);const R=await On.getTasks();console.log(" Loaded real tasks:",R.data);const he=R.data.map(C=>({id:C.id,title:C.title,description:C.description,subject:C.subject,priority:C.priority,status:C.status,progress:C.progress,due:C.due_date,estimatedTime:C.estimated_time,createdAt:C.created_at,updatedAt:C.updated_at}));D(he)}catch(R){console.error(" Error loading tasks:",R),D([])}finally{B(!1)}},Ht=()=>{const R={};if(ee.title.trim()||(R.title="Task title is required"),ee.subject||(R.subject="Subject is required"),!ee.due)R.due="Due date is required";else{const he=new Date(ee.due),C=new Date;C.setHours(0,0,0,0),he<C&&(R.due="Due date cannot be in the past")}return ee.estimatedTime||(R.estimatedTime="Estimated time is required"),Y(R),Object.keys(R).length===0},mt=R=>{F(R),xe("success"),setTimeout(()=>F(""),4e3)},Ct=R=>{F(R),xe("error"),setTimeout(()=>F(""),4e3)},dn=R=>{F(R),xe("warning"),setTimeout(()=>F(""),4e3)},W=async()=>{if(Ht()){ne(!0);try{const R=await On.createTask(ee);console.log(" Task created:",R.data),await It(),pe({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),Y({}),h(!1),mt("Task added successfully!")}catch{mt("Error adding task. Please try again.")}finally{ne(!1)}}},ge=R=>{U(R),pe({title:R.title||"",description:R.description||"",subject:R.subject||"",priority:R.priority||"medium",estimatedTime:R.estimatedTime||"",due:R.due||""}),Y({}),p(!0)},Te=async()=>{if(Ht()){ne(!0);try{const R=await On.updateTask(E.id,ee);console.log(" Task updated:",R.data),await It(),p(!1),U(null),pe({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),Y({}),mt("Task updated successfully!")}catch{mt("Error updating task. Please try again.")}finally{ne(!1)}}},Me=async(R,he)=>{ne(!0);try{const C=je.find(ie=>ie.id===R);if(!C)return;let K=0;switch(he){case"started":K=25;break;case"in-progress":K=50;break;case"completed":K=100;break;default:K=0}const Q={...C,status:he,progress:K};await On.updateTask(R,Q),console.log(" Task status changed:",R,he),await It(),mt(`Task status updated to ${he}!`)}catch(C){console.error("Error changing task status:",C),mt("Failed to update task status. Please try again.")}finally{ne(!1)}},Ye=async(R,he)=>{ne(!0);try{const C=je.find(Q=>Q.id===R);if(!C)return;const K={...C,priority:he};await On.updateTask(R,K),console.log(" Task priority changed:",R,he),await It(),mt(`Priority updated to ${he}!`)}catch(C){console.error("Error changing task priority:",C),mt("Failed to update task priority. Please try again.")}finally{ne(!1)}},Mt=async R=>{if(window.confirm("Are you sure you want to delete this task?")){ne(!0);try{await On.deleteTask(R),console.log(" Task deleted:",R),await It(),mt("Task deleted successfully!")}catch(he){console.error("Error deleting task:",he),mt("Failed to delete task. Please try again.")}finally{ne(!1)}}},en=async(R,he)=>{if(!k||!R||!he){Y(C=>({...C,reschedule:"Please select both date and time"}));return}ne(C=>({...C,rescheduleSession:!0})),Y(C=>({...C,reschedule:null}));try{if(await new Promise(C=>setTimeout(C,2e3)),Math.random()<.1)throw new Error("Failed to reschedule session. Please try again.");F(`Session rescheduled to ${R} at ${he}`),setTimeout(()=>F(null),3e3),g(!1),z(null),console.log("Session rescheduled:",k,{newDate:R,newTime:he})}catch(C){Y(K=>({...K,reschedule:C.message}))}finally{ne(C=>({...C,rescheduleSession:!1}))}},zt=R=>{pt(R),g(!0)},it=R=>{pt(R),S(!0)},gt=R=>{pt(R),ae({rating:5,comment:"",wouldRecommend:!0}),O(!0)},Qe=async()=>{if(bt){if(!se.comment.trim()){dn("Please write a review comment before submitting.");return}try{ne(!0),console.log("Submitting review for booking:",bt.id);const R=await fetch(`${_u}/reviews/bookings/${bt.id}/review`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({rating:se.rating,reviewText:se.comment,wouldRecommend:se.wouldRecommend})}),he=await R.json();if(!R.ok)throw new Error(he.error||"Failed to submit review");console.log("Review submitted successfully:",he),O(!1),pt(null),ae({rating:5,comment:"",wouldRecommend:!0}),F("Review submitted successfully! Thank you for your feedback."),setTimeout(()=>F(""),3e3),Wt()}catch(R){console.error("Error submitting review:",R),Ct("Failed to submit review. Please try again.")}finally{ne(!1)}}},mn=R=>{I(he=>he.map(C=>C.id===R.id?{...C,...R}:C)),F("Reschedule request sent to tutor successfully!"),setTimeout(()=>F(""),3e3),Wt()},yt=R=>{I(he=>he.map(C=>C.id===R.id?{...C,status:"cancelled"}:C)),F("Session cancelled successfully. Tutor has been notified."),setTimeout(()=>F(""),3e3),Wt()},Os=()=>{const R=()=>{en(ce.date,ce.time)},he=ce.date&&ce.time;return t.jsx(Ds,{isOpen:f,onClose:()=>{g(!1),A({date:"",time:"",reason:""}),Y(C=>({...C,reschedule:null}))},children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Reschedule Session"}),k&&t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 mb-6",children:[t.jsx("div",{className:"text-white font-medium",children:k.topic}),t.jsxs("div",{className:"text-slate-400 text-sm",children:["with ",k.tutorName]}),t.jsxs("div",{className:"text-slate-500 text-xs",children:["Current: ",Zt(k.date)," at ",Hn(k.time)]})]}),ue.reschedule&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/30 text-red-400 px-4 py-2 rounded-lg mb-4 text-sm",children:ue.reschedule}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"New Date *"}),t.jsx("input",{type:"date",value:ce.date,onChange:C=>A(K=>({...K,date:C.target.value})),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white ${!ce.date&&ue.reschedule?"border-red-500":"border-slate-600"}`,min:new Date().toISOString().split("T")[0]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"New Time *"}),t.jsxs("select",{value:ce.time,onChange:C=>A(K=>({...K,time:C.target.value})),className:`w-full px-3 py-2 bg-slate-700 border rounded-lg text-white ${!ce.time&&ue.reschedule?"border-red-500":"border-slate-600"}`,children:[t.jsx("option",{value:"",children:"Select time"}),t.jsx("option",{value:"09:00",children:"9:00 AM"}),t.jsx("option",{value:"10:00",children:"10:00 AM"}),t.jsx("option",{value:"11:00",children:"11:00 AM"}),t.jsx("option",{value:"14:00",children:"2:00 PM"}),t.jsx("option",{value:"15:00",children:"3:00 PM"}),t.jsx("option",{value:"16:00",children:"4:00 PM"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Reason for Reschedule"}),t.jsx("textarea",{rows:"3",value:ce.reason,onChange:C=>A(K=>({...K,reason:C.target.value})),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none",placeholder:"Optional: Explain why you need to reschedule"})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(De,{variant:"secondary",onClick:()=>{g(!1),A({date:"",time:"",reason:""}),Y(C=>({...C,reschedule:null}))},className:"flex-1",disabled:H.rescheduleSession,children:"Cancel"}),t.jsx(De,{onClick:R,className:"flex-1",disabled:!he||H.rescheduleSession,children:H.rescheduleSession?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Rescheduling..."})]}):"Reschedule Session"})]})]})})},is=T.useMemo(()=>j?t.jsx(Ds,{isOpen:j,onClose:()=>{O(!1),ae({rating:5,comment:"",wouldRecommend:!0})},children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Leave a Review"}),bt&&t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"text-white font-medium",children:bt?.sessionType||"Tutoring Session"}),t.jsxs("div",{className:"text-slate-400 text-sm",children:["with ",bt?.tutorName]}),t.jsxs("div",{className:"text-slate-500 text-sm mt-1",children:["Completed: ",bt?.date&&new Date(bt.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Rating"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(R=>t.jsx("button",{type:"button",onClick:()=>ae(he=>({...he,rating:R})),className:"focus:outline-none transition-all transform hover:scale-110",children:t.jsx("svg",{className:`w-10 h-10 ${R<=se.rating?"text-yellow-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},R)),t.jsxs("span",{className:"text-white font-medium ml-3",children:[se.rating," / 5"]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Your Review"}),t.jsx("textarea",{rows:"4",value:se.comment,onChange:R=>{const he=R.target.value;ae(C=>({...C,comment:he}))},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none focus:outline-none focus:border-blue-500",placeholder:"Share your experience with this tutor...",autoComplete:"off"},"review-textarea")]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Would you recommend this tutor?"}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:()=>ae(R=>({...R,wouldRecommend:!0})),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all ${se.wouldRecommend?"bg-emerald-500 text-white border-2 border-emerald-400 shadow-lg shadow-emerald-500/30":"bg-slate-700 text-slate-400 border-2 border-slate-600 hover:border-slate-500"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{children:"Yes"})]})}),t.jsx("button",{type:"button",onClick:()=>ae(R=>({...R,wouldRecommend:!1})),className:`flex-1 px-4 py-3 rounded-lg font-medium transition-all ${se.wouldRecommend?"bg-slate-700 text-slate-400 border-2 border-slate-600 hover:border-slate-500":"bg-red-500 text-white border-2 border-red-400 shadow-lg shadow-red-500/30"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsx("span",{children:"No"})]})})]})]})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(De,{variant:"secondary",onClick:()=>{O(!1),ae({rating:5,comment:"",wouldRecommend:!0})},className:"flex-1",disabled:H,children:"Cancel"}),t.jsx(De,{onClick:Qe,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",disabled:H,children:H?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Submitting..."})]}):"Submit Review"})]})]})}):null,[j,bt,se,H,Qe]),Zn=()=>{h(!1),p(!1),pe({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),Y({})},vt=(()=>{const R=je.filter(ie=>ie.status==="pending").length,he=je.filter(ie=>ie.status==="completed").length,C=je.filter(ie=>ie.status==="started").length,K=je.filter(ie=>ie.status==="in-progress").length,Q=je.filter(ie=>ie.status==="completed"||ie.status==="in-progress").reduce((ie,be)=>{const X=parseFloat(be.estimatedTime)||0;return ie+X},0);return{pending:R,completed:he,started:C,inProgress:K,studyHours:Q.toFixed(1)}})(),Jn=je.length;Jn>0&&(vt.completed/Jn*100).toFixed(1),v.filter(R=>(R.status==="confirmed"||R.status==="scheduled")&&new Date(R.date)>=new Date).length;const os=[{id:"overview",label:"Overview"},{id:"sessions",label:"Sessions"},{id:"calendar",label:"Calendar"},{id:"tasks",label:"Tasks"},{id:"progress",label:"Progress"}],Aa=[{id:"book-session",label:"Book Session",description:"Browse tutors and lock in a time",to:"/tutors",gradient:"from-blue-500/20 via-cyan-500/10 to-cyan-500/20",border:"border-blue-500/30"},{id:"ai-assistant",label:"AI Assistant",description:"Get instant answers or study help",to:"/chatbot",gradient:"from-emerald-500/20 via-teal-500/10 to-teal-500/20",border:"border-emerald-500/30"},{id:"add-task",label:"Add Task",description:"Capture homework or study goals",onClick:()=>h(!0),gradient:"from-rose-500/20 via-pink-500/10 to-pink-500/20",border:"border-rose-500/30"},{id:"messages",label:"Messages",description:"Continue conversations with tutors",to:"/messages",gradient:"from-amber-500/20 via-orange-500/10 to-orange-500/20",border:"border-amber-500/30"}],cs=R=>{switch(R){case"high":return"bg-red-500/20 text-red-400 border-red-500/30";case"medium":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"low":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},ml=R=>{switch(R){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in-progress":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"started":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"pending":return"bg-slate-500/20 text-slate-400 border-slate-500/30";case"scheduled":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},Zt=R=>new Date(R).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),Hn=R=>{const[he,C]=R.split(":"),K=new Date;return K.setHours(parseInt(he),parseInt(C)),K.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},hl=R=>{if(!R)return null;const he=new Date(R);if(isNaN(he.getTime()))return null;const C=he.getFullYear(),K=String(he.getMonth()+1).padStart(2,"0"),Q=String(he.getDate()).padStart(2,"0");return`${C}-${K}-${Q}`},fl=T.useMemo(()=>{const R=(v||[]).filter(C=>C?.date).map(C=>({id:`booking-${C.id}`,type:"session",title:C.sessionType||C.subject||"Tutoring Session",date:hl(C.date),time:C.startTime||C.start_time||"00:00",tutor:C.tutorName||C.tutor_name,status:C.status||"pending",meetingType:C.meetingType||C.meeting_type||"virtual",subject:C.subject||"General",duration:C.duration||60})).filter(C=>!!C.date),he=(je||[]).map(C=>({id:`task-${C.id}`,type:"task",title:C.title,date:hl(C.due||C.due_date),time:"23:59",priority:C.priority,status:C.status,subject:C.subject||"General"})).filter(C=>!!C.date);return[...R,...he]},[v,je]),Ol=R=>{const he=R.getFullYear(),C=R.getMonth(),K=new Date(he,C,1),Q=new Date(he,C+1,0),ie=[];for(let be=0;be<K.getDay();be++)ie.push(null);for(let be=1;be<=Q.getDate();be++)ie.push(be);return ie},Bs=R=>{if(!R)return[];const he=`${xt.getFullYear()}-${String(xt.getMonth()+1).padStart(2,"0")}-${String(R).padStart(2,"0")}`;return fl.filter(C=>C.date===he)},Us=R=>{const he=new Date(xt);he.setMonth(xt.getMonth()+R),Xn(he),Xt(new Date(he).getMonth()===new Date().getMonth()&&new Date(he).getFullYear()===new Date().getFullYear()?new Date().getDate():1)},Bl=()=>{const R=ve?.stats?.upcomingSessions||0,he=ve?.stats?.completedSessions||0,C=ve?.stats?.totalSpent||0,K=ve?.stats?.monthSessions||0;return ve?.stats?.totalTutors,ve?.stats?.reviewsGiven,t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Upcoming"}),t.jsx("span",{className:"text-blue-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:R}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Scheduled sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Completed"}),t.jsx("span",{className:"text-emerald-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:he}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Total sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"This Month"}),t.jsx("span",{className:"text-purple-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:K}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Sessions attended"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 rounded-2xl p-6 border border-amber-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Spent"}),t.jsx("span",{className:"text-amber-400 text-2xl",children:""})]}),t.jsxs("div",{className:"text-white text-3xl font-bold",children:["$",C.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"On tutoring"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"Upcoming Sessions"})]}),t.jsx(Ue,{to:"/tutors",className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"Book New "})]}),oe?t.jsx("div",{className:"space-y-4",children:[1,2,3].map(Q=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 animate-pulse",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mb-1"}),t.jsx("div",{className:"w-20 h-3 bg-slate-700 rounded"})]}),t.jsx("div",{className:"w-12 h-4 bg-slate-700 rounded"})]},Q))}):v.filter(Q=>Q.status==="confirmed"||Q.status==="scheduled").length>0?t.jsx("div",{className:"space-y-4",children:v.filter(Q=>Q.status==="confirmed"||Q.status==="scheduled").slice(0,3).map(Q=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-all duration-200",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:Q.tutorName?.charAt(0)||"T"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-white font-medium truncate",children:Q.sessionType||"Tutoring Session"}),t.jsxs("div",{className:"text-slate-400 text-sm truncate",children:["with ",Q.tutorName]}),t.jsxs("div",{className:"text-slate-500 text-xs",children:[Zt(Q.date)," at ",Hn(Q.startTime)]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded-full",children:Q.meetingType==="virtual"?" Virtual":" In-Person"}),t.jsxs("span",{className:"text-blue-400 text-xs font-medium",children:[Math.round(Q.duration*60),"min"]})]})]}),t.jsxs("div",{className:"flex flex-col space-y-2",children:[t.jsx("button",{onClick:()=>zt(Q),className:"px-3 py-1.5 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 hover:text-blue-300 text-xs font-medium rounded-lg transition-all duration-200 border border-blue-500/30",title:"Reschedule session",children:" Reschedule"}),t.jsx("button",{onClick:()=>it(Q),className:"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 hover:text-red-300 text-xs font-medium rounded-lg transition-all duration-200 border border-red-500/30",title:"Cancel session",children:" Cancel"})]})]},Q.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"No sessions scheduled"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Book your first tutoring session to get started"}),t.jsxs(Ue,{to:"/tutors",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx("span",{className:"mr-2",children:""}),"Find a Tutor"]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"Today's Tasks"})]}),t.jsx("button",{onClick:()=>u("tasks"),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All "})]}),N?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):je.filter(Q=>Q.status!=="completed").length>0?t.jsx("div",{className:"space-y-3",children:je.filter(Q=>Q.status!=="completed").slice(0,4).map(Q=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("div",{className:"text-white font-medium",children:Q.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${cs(Q.priority)}`,children:Q.priority})]}),t.jsx("div",{className:"text-slate-400 text-sm",children:Q.subject}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsxs("span",{className:"text-slate-500 text-xs",children:[" Due: ",Zt(Q.due)]}),t.jsxs("span",{className:"text-slate-500 text-xs",children:[" ",Q.estimatedTime]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Progress"}),t.jsxs("div",{className:"text-sm font-medium text-blue-400",children:[Q.progress||0,"%"]})]}),t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center relative",children:t.jsxs("svg",{className:"w-12 h-12 transform -rotate-90",children:[t.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-slate-600"}),t.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeDasharray:`${2*Math.PI*20}`,strokeDashoffset:`${2*Math.PI*20*(1-(Q.progress||0)/100)}`,className:"text-blue-500 transition-all duration-500"})]})})]})]},Q.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"No pending tasks"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Create a task to stay organized"}),t.jsxs("button",{onClick:()=>u("tasks"),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx("span",{className:"mr-2",children:""}),"Add Task"]})]})]})]})},us=()=>t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-slate-500/20 to-gray-500/20 rounded-2xl p-6 border border-slate-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:vt.pending}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:vt.started}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Started"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:vt.inProgress}),t.jsx("div",{className:"text-slate-400 text-sm",children:"In Progress"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-2xl p-6 border border-green-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:vt.completed}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:vt.studyHours}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Hours"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"All Tasks"})]}),t.jsx("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:"+ Add Task"})]}),t.jsx("div",{className:"space-y-4",children:N?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):je.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-400",children:"No tasks found. Create your first task!"})}):je.map(R=>t.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"text-white font-medium",children:R.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${cs(R.priority)}`,children:R.priority}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${ml(R.status)}`,children:R.status.replace("-"," ")})]}),t.jsx("div",{className:"text-slate-400 text-sm mb-2",children:R.description}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-1",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[R.progress||0,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${R.status==="completed"?"bg-green-500":R.status==="in-progress"?"bg-yellow-500":R.status==="started"?"bg-blue-500":"bg-slate-600"}`,style:{width:`${R.progress||0}%`}})})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-500",children:[t.jsxs("span",{children:[" ",R.subject]}),t.jsxs("span",{children:[" ",R.estimatedTime]}),t.jsxs("span",{children:[" Due: ",Zt(R.due)]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Status:"}),t.jsxs("select",{value:R.status,onChange:he=>Me(R.id,he.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Priority:"}),t.jsxs("select",{value:R.priority,onChange:he=>Ye(R.id,he.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsx("button",{onClick:()=>ge(R),className:"text-blue-400 hover:text-blue-300 text-xs px-2 py-1 rounded bg-slate-700/50 hover:bg-slate-700 transition-colors",children:"Edit"}),t.jsx("button",{onClick:()=>Mt(R.id),className:"text-red-400 hover:text-red-300 text-xs px-2 py-1 rounded bg-slate-700/50 hover:bg-slate-700 transition-colors",children:"Delete"})]})]},R.id))})]})]}),hn=()=>t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:v.filter(R=>R.status==="confirmed"||R.status==="scheduled").length}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Upcoming Sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 rounded-2xl p-6 border border-yellow-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:v.filter(R=>R.status==="pending").length}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Pending Requests"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:v.filter(R=>R.status==="completed").length}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed Sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",(v.reduce((R,he)=>R+(parseFloat(he.totalAmount)||0),0)||0).toFixed(0)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Spent"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"All Bookings"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx(Ue,{to:"/tutors",className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:"Book New Session"})})]}),t.jsx("div",{className:"space-y-4",children:oe?t.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 animate-pulse",children:t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-full"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded"})]}),t.jsx("div",{className:"w-20 h-6 bg-slate-700 rounded"})]})},R))}):v.length>0?v.map(R=>t.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:R.tutorName?.charAt(0)||"T"}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-semibold",children:R.sessionType||"Tutoring Session"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["with ",R.tutorName]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${R.status==="confirmed"||R.status==="scheduled"?"text-green-400 bg-green-500/20 border-green-500/30":R.status==="pending"?"text-yellow-400 bg-yellow-500/20 border-yellow-500/30":R.status==="completed"?"text-blue-400 bg-blue-500/20 border-blue-500/30":"text-slate-400 bg-slate-500/20 border-slate-500/30"}`,children:R.status?.charAt(0).toUpperCase()+R.status?.slice(1)}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold",children:["$",R.totalAmount]}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Math.round(R.duration*60),"min"]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-400 flex-1",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Date:"})," ",Zt(R.date)]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Time:"})," ",Hn(R.startTime)," - ",Hn(R.endTime)]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Type:"})," ",R.meetingType==="virtual"?" Virtual":" In-Person"]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-500",children:"Subject:"})," ",R.subject||"General Tutoring"]})]}),t.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[(R.status==="confirmed"||R.status==="scheduled")&&t.jsx(pd,{booking:R,onCompleted:he=>{I(C=>C.map(K=>K.id===he.id?he:K)),mt("Session marked as completed! You can now leave a review.")}}),R.status==="pending"&&t.jsx("button",{onClick:()=>it(R),className:"px-3 py-1 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-sm transition-all",title:"Cancel booking request",children:"Cancel Request"}),(R.status==="confirmed"||R.status==="scheduled")&&t.jsxs(t.Fragment,{children:[R.meetingType==="virtual"&&t.jsx("button",{onClick:()=>window.open(R.meetingLink||"#","_blank"),className:"px-3 py-1 text-green-400 hover:text-green-300 border border-green-500/30 hover:border-green-500/50 bg-green-500/10 hover:bg-green-500/20 rounded-lg text-sm transition-all",title:"Join virtual meeting",children:"Join Meeting"}),t.jsx("button",{onClick:()=>it(R),className:"px-3 py-1 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-sm transition-all",title:"Cancel session",children:"Cancel"})]}),R.status==="completed"&&(R.reviewSubmitted&&R.review?t.jsxs("div",{className:"mt-3 p-4 bg-slate-700/50 rounded-lg border border-slate-600/50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Your Review"}),t.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((he,C)=>t.jsx("svg",{className:`w-4 h-4 ${C<R.review.rating?"text-amber-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},C))})]}),R.review.reviewText&&t.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:['"',R.review.reviewText,'"']}),t.jsxs("div",{className:"flex items-center justify-between text-xs",children:[t.jsx("span",{className:`${R.review.wouldRecommend?"text-emerald-400":"text-slate-400"}`,children:R.review.wouldRecommend?" Would recommend":"Would not recommend"}),t.jsx("span",{className:"text-slate-500",children:new Date(R.review.reviewDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}):t.jsx("button",{onClick:()=>gt(R),className:"px-3 py-1 text-amber-400 hover:text-amber-300 border border-amber-500/30 hover:border-amber-500/50 bg-amber-500/10 hover:bg-amber-500/20 rounded-lg text-sm transition-all",title:"Leave a review",children:"Leave Review"}))]})]}),R.notes&&t.jsx("div",{className:"mt-3 p-3 bg-slate-700/50 rounded-lg",children:t.jsxs("div",{className:"text-slate-300 text-sm",children:[t.jsx("span",{className:"text-slate-500",children:"Notes:"})," ",R.notes]})})]},R.id)):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-slate-400",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"No bookings yet"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Your booking requests and confirmed sessions will appear here"}),t.jsxs(Ue,{to:"/tutors",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:[t.jsx("span",{className:"mr-2",children:""}),"Find a Tutor"]})]})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"Weekly Activity"})]}),t.jsx("div",{className:"grid grid-cols-7 gap-4",children:(s.progress?.weeklyActivity||[]).map(R=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-slate-400 text-xs mb-2",children:R.day}),t.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 space-y-2",children:[t.jsxs("div",{className:"text-white font-medium text-sm",children:[R.hours,"h"]}),t.jsxs("div",{className:"text-slate-400 text-xs",children:[R.tasks," tasks"]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1",children:t.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-emerald-500 to-teal-500",style:{width:`${R.hours/5*100}%`}})})]})]},R.day))})]})]}),ot=()=>{const R=Ol(xt),he=Bs(Vt),C=xt.toLocaleDateString("en-US",{month:"long",year:"numeric"}),K=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Q=Vt?new Date(xt.getFullYear(),xt.getMonth(),Vt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Select a day",ie=()=>{const be=new Date;Xn(be),Xt(be.getDate())};return t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-3 bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Monthly overview"}),t.jsx("h3",{className:"text-2xl font-bold text-white",children:C})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>Us(-1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800","aria-label":"Previous month",children:""}),t.jsx("button",{onClick:ie,className:"px-4 py-2 rounded-xl border border-slate-700 text-slate-200 hover:border-blue-500/60 hover:text-white transition-colors",children:"Today"}),t.jsx("button",{onClick:()=>Us(1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800","aria-label":"Next month",children:""})]})]}),t.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-slate-400 text-xs font-semibold uppercase tracking-wider mb-2",children:K.map(be=>t.jsx("div",{children:be},be))}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:R.map((be,X)=>{if(!be)return t.jsx("div",{className:"min-h-[110px] rounded-xl border border-dashed border-slate-800/70"},`empty-${X}`);const Ce=Bs(be),ze=be===new Date().getDate()&&xt.getMonth()===new Date().getMonth()&&xt.getFullYear()===new Date().getFullYear(),de=be===Vt;return t.jsxs("button",{onClick:()=>Xt(be),className:`min-h-[110px] rounded-2xl border text-left p-3 transition-all duration-200 ${de?"border-blue-500 bg-blue-500/10 shadow-lg shadow-blue-500/20":"border-slate-800/70 bg-slate-900/30 hover:border-blue-500/60"}`,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold",children:[t.jsx("span",{className:"text-white",children:be}),ze&&t.jsx("span",{className:"text-emerald-400 text-xs",children:"Today"})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[Ce.slice(0,2).map(He=>t.jsx("div",{className:`text-xs px-2 py-1 rounded-full border ${He.type==="session"?"bg-blue-500/10 border-blue-500/40 text-blue-200":He.priority==="high"?"bg-red-500/10 border-red-500/40 text-red-200":He.priority==="low"?"bg-emerald-500/10 border-emerald-500/40 text-emerald-200":"bg-amber-500/10 border-amber-500/40 text-amber-200"} whitespace-nowrap overflow-hidden text-ellipsis`,title:He.title,children:He.title||(He.type==="session"?"Session":He.subject||"Task")},He.id)),Ce.length>2&&t.jsxs("div",{className:"text-[10px] text-slate-400",children:["+",Ce.length-2," more"]})]})]},`day-${be}`)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-6",children:t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:Vt?Q:"Select a day"})]})}),Vt?he.length===0?t.jsx("div",{className:"text-center text-slate-400 py-8",children:"No sessions or tasks scheduled for this day."}):t.jsx("div",{className:"space-y-4",children:he.map(be=>t.jsxs("div",{className:"p-4 rounded-2xl border border-slate-800/70 bg-slate-900/40",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-semibold text-lg line-clamp-1",children:be.title}),t.jsx("p",{className:"text-slate-400 text-sm",children:be.type==="session"?`${be.subject} with ${be.tutor||"your tutor"}`:be.subject||"Personal study task"})]}),t.jsx("span",{className:`text-xs px-3 py-1 rounded-full border ${be.type==="session"?"border-blue-500/40 text-blue-300":be.priority==="high"?"border-red-500/40 text-red-300":be.priority==="low"?"border-emerald-500/40 text-emerald-300":"border-amber-500/40 text-amber-300"}`,children:be.type==="session"?"Session":"Task"})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-400",children:[t.jsxs("span",{children:[" ",Hn(be.time)]}),be.type==="session"?t.jsxs("span",{children:[" ",be.meetingType==="virtual"?"Virtual session":"In-person"]}):t.jsxs("span",{children:[" Status: ",be.status]})]})]},be.id))}):t.jsx("div",{className:"text-center text-slate-400 py-8",children:"Choose a day on the calendar to see details."})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Event Types"}),t.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-blue-500"}),t.jsx("span",{children:" Tutoring Sessions"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500"}),t.jsx("span",{children:" High Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-amber-500"}),t.jsx("span",{children:" Medium Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-emerald-500"}),t.jsx("span",{children:" Low Priority Tasks"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Quick Actions"}),t.jsx(Ue,{to:"/tutors",className:"w-full flex items-center justify-center px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold hover:opacity-90 transition",children:"Schedule Session"})]})]})]})},Bt=()=>{const R=v.length,he=v.filter(Ce=>Ce.status==="completed").length,C=v.filter(Ce=>Ce.status==="scheduled"||Ce.status==="confirmed").length;v.filter(Ce=>Ce.status==="cancelled").length;const K=v.filter(Ce=>Ce.reviewSubmitted).length,Q=je.length,ie=vt.completed,be=Q>0?Math.round(ie/Q*100):0,X=je.reduce((Ce,ze)=>{const de=ze.subject||"General";return Ce[de]||(Ce[de]={total:0,completed:0}),Ce[de].total++,ze.status==="completed"&&Ce[de].completed++,Ce},{});return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[be,"%"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completion Rate"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[vt.studyHours,"h"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Hours"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:he}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Sessions Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Jn}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Tasks"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"Session Analytics"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Total Sessions"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"All time bookings"})]}),t.jsx("div",{className:"text-2xl font-bold text-white",children:R})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-emerald-300 font-medium",children:"Completed"}),t.jsx("div",{className:"text-emerald-400/70 text-sm",children:"Finished sessions"})]}),t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:he})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-blue-300 font-medium",children:"Scheduled"}),t.jsx("div",{className:"text-blue-400/70 text-sm",children:"Upcoming sessions"})]}),t.jsx("div",{className:"text-2xl font-bold text-blue-400",children:C})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Reviews Given"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Sessions reviewed"})]}),t.jsx("div",{className:"text-2xl font-bold text-purple-400",children:K})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-purple-400",children:""}),t.jsx("span",{children:"Task Analytics"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Total Tasks"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"All tasks created"})]}),t.jsx("div",{className:"text-2xl font-bold text-white",children:Q})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-emerald-300 font-medium",children:"Completed"}),t.jsx("div",{className:"text-emerald-400/70 text-sm",children:"Tasks finished"})]}),t.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:ie})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-amber-300 font-medium",children:"In Progress"}),t.jsx("div",{className:"text-amber-400/70 text-sm",children:"Active tasks"})]}),t.jsx("div",{className:"text-2xl font-bold text-amber-400",children:vt.inProgress+vt.started})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:"Pending"}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Not started yet"})]}),t.jsx("div",{className:"text-2xl font-bold text-slate-400",children:vt.pending})]})]})]})]}),Object.keys(X).length>0&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-cyan-400",children:""}),t.jsx("span",{children:"Progress by Subject"})]}),t.jsx("div",{className:"space-y-4",children:Object.entries(X).map(([Ce,ze])=>{const de=Math.round(ze.completed/ze.total*100);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-white font-medium",children:Ce}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[ze.completed," / ",ze.total," tasks (",de,"%)"]})]}),t.jsx("div",{className:"w-full bg-slate-800 rounded-full h-3",children:t.jsx("div",{className:"h-3 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500 transition-all duration-300",style:{width:`${de}%`}})})]},Ce)})})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-blue-500/20",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:" Summary"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl font-bold text-blue-400 mb-1",children:R+Q}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Activities"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-3xl font-bold text-emerald-400 mb-1",children:he+ie}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl font-bold text-purple-400 mb-1",children:[vt.studyHours,"h"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Time"})]})]})]})]})},Kn=()=>{switch(o){case"tasks":return us();case"sessions":return hn();case"calendar":return ot();case"progress":return Bt();default:return Bl()}},xl=()=>{if(!ye)return null;const he=(()=>{switch(q){case"success":return{bg:"bg-emerald-500/10",border:"border-emerald-500/40",text:"text-emerald-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})};case"error":return{bg:"bg-red-500/10",border:"border-red-500/40",text:"text-red-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};case"warning":return{bg:"bg-amber-500/10",border:"border-amber-500/40",text:"text-amber-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})};case"info":return{bg:"bg-blue-500/10",border:"border-blue-500/40",text:"text-blue-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};default:return{bg:"bg-slate-500/10",border:"border-slate-500/40",text:"text-slate-400",icon:null}}})();return t.jsx("div",{className:`fixed top-20 right-4 z-50 ${he.bg} ${he.border} border backdrop-blur-sm rounded-xl shadow-2xl transform transition-all duration-300 ease-in-out animate-slide-in-right max-w-md`,children:t.jsxs("div",{className:"flex items-start space-x-3 p-4",children:[t.jsx("div",{className:`flex-shrink-0 ${he.text}`,children:he.icon}),t.jsx("div",{className:"flex-1 pt-0.5",children:t.jsx("p",{className:`text-sm font-medium ${he.text} leading-relaxed`,children:ye})}),t.jsx("button",{onClick:()=>F(""),className:`flex-shrink-0 ${he.text} hover:opacity-70 transition-opacity`,children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})};return t.jsxs("div",{className:"min-h-screen bg-slate-950",children:[t.jsxs("div",{className:"flex h-[calc(100vh-64px)]",children:[t.jsx("div",{className:"flex-1 overflow-auto",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:[In.text,", ",s?.profile?.fullName||s?.full_name||s?.name||s?.username||"Student","! ",In.emoji]}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Ready to make today productive? Here's your learning overview."})]}),Kn()]})}),t.jsx("div",{className:"w-80 bg-slate-900/30 backdrop-blur-sm border-l border-slate-800/50 overflow-auto",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Dashboard"}),t.jsx("div",{className:"space-y-1",children:os.map(R=>t.jsx("button",{onClick:()=>u(R.id),className:`w-full px-3 py-2 rounded-lg flex items-center transition-all duration-200 ${o===R.id?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:t.jsx("span",{className:"text-sm font-medium",children:R.label})},R.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Key Actions"}),t.jsx("div",{className:"space-y-2",children:Aa.map(R=>{const he=`w-full p-3 rounded-xl border bg-gradient-to-r ${R.gradient} ${R.border} transition-all duration-200 hover:border-white/40`,C=t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-white text-sm font-semibold",children:R.label}),t.jsx("div",{className:"text-slate-200 text-xs",children:R.description})]});return R.to?t.jsx(Ue,{to:R.to,className:`${he} block`,children:C},R.id):t.jsx("button",{onClick:R.onClick,className:`${he} text-left`,children:C},R.id)})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 rounded-2xl p-4 border border-red-500/20",children:[t.jsxs("h3",{className:"text-sm font-semibold text-red-300 mb-3 uppercase tracking-wide flex items-center space-x-2",children:[t.jsx("span",{className:"text-red-400",children:""}),t.jsx("span",{children:"Urgent Tasks"})]}),t.jsx("div",{className:"space-y-3",children:(s.urgentTasks||[]).slice(0,2).map((R,he)=>t.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/50 border border-slate-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("div",{className:"text-white text-xs font-medium line-clamp-2",children:R.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.priority==="high"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:R.priority})]}),t.jsx("div",{className:"text-slate-400 text-xs mb-1",children:R.subject}),t.jsxs("div",{className:"text-slate-500 text-xs",children:["Due: ",R.due]})]},R.title))}),t.jsx(Ue,{to:"/tasks",className:"block text-center mt-3 text-xs text-blue-400 hover:text-blue-300 font-medium",children:"View All Tasks "})]})]})})]}),t.jsx(Uf,{isEdit:!1,isOpen:d,onClose:Zn,newTask:ee,setNewTask:pe,errors:ue,loading:H,onSubmit:W}),t.jsx(Uf,{isEdit:!0,isOpen:x,onClose:Zn,newTask:ee,setNewTask:pe,errors:ue,loading:H,onSubmit:Te}),t.jsx(Os,{isOpen:f,onClose:()=>g(!1),booking:bt,onRescheduleSuccess:mn}),t.jsx(Mv,{isOpen:y,onClose:()=>S(!1),booking:bt,onCancelSuccess:yt}),is,t.jsx(xl,{})]})},zv="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Lv=()=>{const{user:s}=Ot(),[a,i]=T.useState(!1),[o,u]=T.useState(!0),[d,h]=T.useState(!0);return T.useEffect(()=>{s?(async()=>{try{if(!s||!s.id){u(!1);return}const p=localStorage.getItem("token");if(!p){console.log("No auth token found"),i(!0),h(!1);return}const f=await fetch(`${zv}/profiles/tutor/status`,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}});if(f.ok){const g=await f.json();if(console.log(" Profile status response:",g),g.success&&g.data){const y=g.data.isComplete;console.log("Profile isComplete:",y),i(!y)}else console.log("API returned success=false or no data"),i(!1)}else{console.log("API request failed with status:",f.status);try{const g=await f.json();console.log("Error details:",g)}catch{console.log("Could not parse error response")}i(!1)}}catch(p){console.error("Error checking profile status:",p),i(!1)}finally{h(!1)}})():(h(!1),u(!1))},[s]),d||!o||!a?null:t.jsx("div",{className:"bg-gradient-to-r from-amber-500/20 to-orange-500/20 border border-amber-500/30 rounded-2xl p-6 mb-8 backdrop-blur-sm",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-amber-500/20 rounded-xl flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Complete Your Profile"}),t.jsx("p",{className:"text-amber-100/80",children:"Complete your profile to be visible to students and receive booking requests."})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ue,{to:"/profile",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-medium rounded-lg transition-all duration-200",children:"Complete Profile"}),t.jsx("button",{onClick:()=>u(!1),className:"w-8 h-8 flex items-center justify-center text-amber-100/60 hover:text-amber-100 hover:bg-amber-500/20 rounded-lg transition-all duration-200",children:t.jsx("span",{className:"text-lg font-bold",children:""})})]})]})})},uo={async getSubjects(){try{return await at.get("/subjects")}catch(s){throw console.error("Error fetching subjects:",s),s}},async getSubjectsByCategory(){try{return await at.get("/subjects/by-category")}catch(s){throw console.error("Error fetching subjects by category:",s),s}},async createSubject(s){try{return await at.post("/subjects",s)}catch(a){throw console.error("Error creating subject:",a),a}},async updateSubject(s,a){try{return await at.put(`/subjects/${s}`,a)}catch(i){throw console.error("Error updating subject:",i),i}},async deleteSubject(s){try{return await at.delete(`/subjects/${s}`)}catch(a){throw console.error("Error deleting subject:",a),a}}},ba="https://sunke-vasan-varpe-varadaraju.onrender.com/api",qf=({isOpen:s,onClose:a,isEdit:i=!1,newTask:o,setNewTask:u,errors:d,loading:h,subjects:x,handleEditTask:p,handleAddTask:f})=>{const g=T.useCallback((y,S)=>{u(j=>({...j,[y]:S}))},[u]);return t.jsx(Ds,{isOpen:s,onClose:a,children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:i?"Edit Task":"Add New Task"}),d.general&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 mb-4",children:t.jsx("p",{className:"text-red-400 text-sm",children:d.general})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:o.title||"",onChange:y=>g("title",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.title?"border-red-500":"border-slate-700"}`,placeholder:"Enter task title",disabled:h}),d.title&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),t.jsx("textarea",{value:o.description||"",onChange:y=>g("description",y.target.value),rows:"3",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"Enter task description",disabled:h})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject *"}),t.jsxs("select",{value:o.subject||"",onChange:y=>g("subject",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.subject?"border-red-500":"border-slate-700"}`,disabled:h,children:[t.jsx("option",{value:"",children:"Select Subject"}),x.map(y=>t.jsx("option",{value:y.name,children:y.name},y.id))]}),d.subject&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:o.priority||"medium",onChange:y=>g("priority",y.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",disabled:h,children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Estimated Time *"}),t.jsx("input",{type:"text",value:o.estimatedTime||"",onChange:y=>g("estimatedTime",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.estimatedTime?"border-red-500":"border-slate-700"}`,placeholder:"e.g., 2 hours",disabled:h}),d.estimatedTime&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.estimatedTime})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date *"}),t.jsx("input",{type:"date",value:o.due||"",onChange:y=>g("due",y.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${d.due?"border-red-500":"border-slate-700"}`,disabled:h}),d.due&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:d.due})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsx(De,{variant:"secondary",onClick:a,disabled:h,children:"Cancel"}),t.jsx(De,{onClick:i?p:f,disabled:h,children:h?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:i?"Updating...":"Adding..."})]}):i?"Update Task":"Add Task"})]})]})})},Ov=()=>{const{user:s,loading:a}=Ot(),[i,o]=T.useState("overview"),[u,d]=T.useState(!1),[h,x]=T.useState(!1),[p,f]=T.useState(!1),[g,y]=T.useState(null),[S,j]=T.useState(""),[O,E]=T.useState(!1),[U,k]=T.useState(""),[z,H]=T.useState("success"),[ne,ye]=T.useState(!1),[F,q]=T.useState(0),[xe,ue]=T.useState("all"),[Y,_]=T.useState(!1),[P,se]=T.useState(null),[ae,ce]=T.useState([]),[A,ee]=T.useState(!0),[pe,je]=T.useState(null),[D,N]=T.useState([]),[B,v]=T.useState(!0),[I,oe]=T.useState(null),[me,ve]=T.useState(!0),[Ae,Re]=T.useState(null),[kt,xt]=T.useState(!0),[Xn,Vt]=T.useState(!1),[Xt,bt]=T.useState(!1),[pt,Ls]=T.useState([]),[In,Un]=T.useState(!0),[Wt,It]=T.useState([]),[Ht,mt]=T.useState({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),[Ct,dn]=T.useState({}),[W,ge]=T.useState({stats:{upcomingSessions:0,activeStudents:0,monthlyEarnings:0,averageRating:0},recentStudents:[],students:[],earnings:{total:0,thisMonth:0,thisWeek:0,todayEarnings:0,dailyEarnings:[]},todaySessions:[]}),Me=(()=>{const C=new Date().getHours();return C>=5&&C<12?{text:"Good Morning",emoji:""}:C>=12&&C<17?{text:"Good Afternoon",emoji:""}:C>=17&&C<21?{text:"Good Evening",emoji:""}:{text:"Good Night",emoji:""}})();if(a||!s)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4 mx-auto"}),t.jsx("p",{className:"text-white",children:"Loading dashboard..."})]})});const Ye=async()=>{try{console.log(" Loading pending booking requests..."),v(!0);const C=await fetch(`${ba}/booking/tutor/requests`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(console.log(" Response status:",C.status),console.log(" Response ok:",C.ok),!C.ok){const be=await C.text();throw console.error(" Response error:",be),new Error(`HTTP error! status: ${C.status} - ${be}`)}const K=await C.json();console.log(" Raw pending requests data:",K),console.log(" Data type:",typeof K),console.log(" Data keys:",K?Object.keys(K):"null");let Q=[];K&&K.requests&&Array.isArray(K.requests)?Q=K.requests:K&&Array.isArray(K)&&(Q=K),console.log(" Extracted requests:",Q);const ie=Q.filter(be=>(console.log(" Checking request status:",be.status,"for request:",be.id),be.status==="pending"));console.log(" Final filtered pending requests:",ie),N(ie)}catch(C){console.error(" Failed to load pending requests:",C),console.error(" Error details:",C.message),N([])}finally{v(!1)}},Mt=async()=>{try{console.log("Starting to load real sessions..."),ee(!0),je(null);const C=await Gt.getTutorSessions();console.log("Raw session data received:",C),console.log("Session data type:",typeof C),console.log("Session data keys:",C?Object.keys(C):"null");let K=[];if(C&&C.sessions&&Array.isArray(C.sessions))console.log("Using sessionData.sessions:",C.sessions),K=C.sessions;else if(C&&Array.isArray(C))console.log("Using sessionData directly:",C),K=C;else{console.warn("Invalid session data format:",C),ce([]);return}const Q=new Date,ie=[];for(const X of K){if(console.log(" Processing session - Full data:",JSON.stringify(X,null,2)),(X.status==="scheduled"||X.status==="confirmed")&&X.date){const de=X.date.includes("T")?X.date.split("T")[0]:X.date;let He;const Pe=X.end_time||X.endTime||X.session_end_time,qn=X.start_time||X.startTime||X.time||X.session_time;if(Pe)He=new Date(`${de}T${Pe}`),console.log(" Using end_time field:",Pe);else if(qn){const $n=X.duration_minutes||X.duration||60;He=new Date(`${de}T${qn}`),He.setMinutes(He.getMinutes()+$n),console.log(" Calculated end time from start_time:",qn,"+ duration:",$n,"minutes")}if(console.log(" Session ID:",X.id,"Status:",X.status),console.log(" Session date:",de,"End time:",He),console.log(" Current time:",Q,"Has passed:",He&&Q>He),He&&Q>He){console.log(" Auto-completing past session ID:",X.id);try{const $n=await Gt.markSessionComplete(X.id);console.log(" Successfully auto-completed session:",X.id,"Result:",$n),X.status="completed"}catch($n){console.error(" Failed to auto-complete session:",X.id),console.error(" Error details:",$n)}}}const ze={id:X.id||X.session_id||X.booking_id||`session-${Date.now()}`,studentId:X.studentId||X.student_id,studentName:X.studentName||X.student_name||"Unknown Student",subject:X.subject||"General Tutoring",topic:X.topic||X.notes||X.message||"Session topic",date:X.date||X.session_date||X.booking_date,time:X.time||X.session_time||X.start_time,duration:X.duration||X.duration_minutes||60,status:X.status==="completed"?"completed":X.status==="confirmed"?"scheduled":X.status||"scheduled",notes:X.notes||X.message||"",meetingType:X.meetingType||X.meeting_type||"virtual",meetingLink:X.meetingLink||X.meeting_link||null,location:X.location||null};console.log(" Mapped session result:",ze),ie.push(ze)}const be=ie.filter(X=>X.status!=="pending");console.log("Mapped sessions for UI (excluding pending):",be),ce(be)}catch(C){console.error("Failed to load real sessions:",C),console.error("Error details:",C.message,C.stack),je(C?.message||"Unknown error"),ce([])}finally{ee(!1)}},en=async()=>{try{ve(!0);const C=localStorage.getItem("token"),K=await fetch(`${ba}/booking/tutor/earnings`,{headers:{Authorization:`Bearer ${C}`}});if(!K.ok)throw new Error("Failed to fetch earnings data");const Q=await K.json();console.log(" Loaded earnings data:",Q),oe(Q)}catch(C){console.error(" Error loading earnings data:",C),Os("Failed to load earnings data")}finally{ve(!1)}},zt=async()=>{try{xt(!0);const C=localStorage.getItem("token"),K=await fetch(`${ba}/booking/tutor/overview`,{headers:{Authorization:`Bearer ${C}`}});if(!K.ok)throw new Error("Failed to fetch overview data");const Q=await K.json();console.log(" Loaded overview data:",Q),Re(Q)}catch(C){console.error(" Error loading overview data:",C)}finally{xt(!1)}};T.useEffect(()=>{Mt(),Ye(),en(),zt(),it(),gt(),Qe()},[]);const it=async()=>{try{ge({stats:{upcomingSessions:ae.filter(C=>C.status==="scheduled").length,activeStudents:34,monthlyEarnings:4680,averageRating:4.9},recentStudents:[{id:"1",name:"Alex Rodriguez",subject:"Mathematics",progress:85},{id:"2",name:"Emma Wilson",subject:"Physics",progress:92},{id:"3",name:"Mike Chen",subject:"Chemistry",progress:78},{id:"4",name:"Sarah Johnson",subject:"Computer Science",progress:95}],students:[{id:"1",name:"Alex Rodriguez",avatar:"https://via.placeholder.com/48",university:"UT Arlington",totalSessions:12,averageRating:4.8,progress:85},{id:"2",name:"Emma Wilson",avatar:"https://via.placeholder.com/48",university:"UT Arlington",totalSessions:8,averageRating:4.9,progress:92},{id:"3",name:"Mike Chen",avatar:"https://via.placeholder.com/48",university:"UT Arlington",totalSessions:15,averageRating:4.7,progress:78}],earnings:{total:15420,thisMonth:4680,thisWeek:1250,todayEarnings:300,dailyEarnings:[{date:"2025-11-20",amount:300,sessions:3},{date:"2025-11-19",amount:250,sessions:2},{date:"2025-11-18",amount:400,sessions:4}]},todaySessions:ae.filter(C=>(C.date?.includes("T")?C.date.split("T")[0]:C.date)===new Date().toISOString().split("T")[0])})}catch(C){console.error("Failed to load tutor data:",C)}},gt=async()=>{try{Un(!0);const C=await On.getTasks();console.log(" Loaded tutor tasks:",C.data);const K=C.data.map(Q=>({id:Q.id,title:Q.title,description:Q.description,subject:Q.subject,priority:Q.priority,status:Q.status,progress:Q.progress,due:Q.due_date,estimatedTime:Q.estimated_time,createdAt:Q.created_at,updatedAt:Q.updated_at}));Ls(K)}catch(C){console.error(" Error loading tasks:",C),Ls([])}finally{Un(!1)}},Qe=async()=>{try{const C=await uo.getSubjects();It(C.data||[])}catch(C){console.error(" Error loading subjects:",C),It([])}},mn=()=>{const C={};if(Ht.title.trim()||(C.title="Task title is required"),Ht.subject||(C.subject="Subject is required"),!Ht.due)C.due="Due date is required";else{const K=new Date(Ht.due),Q=new Date;Q.setHours(0,0,0,0),K<Q&&(C.due="Due date cannot be in the past")}return Ht.estimatedTime||(C.estimatedTime="Estimated time is required"),dn(C),Object.keys(C).length===0},yt=C=>{k(C),H("success"),setTimeout(()=>k(""),4e3)},Os=C=>{k(C),H("error"),setTimeout(()=>k(""),4e3)},is=async()=>{if(mn()){E(!0);try{const C=await On.createTask(Ht);console.log(" Task created:",C.data),await gt(),mt({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),dn({}),Vt(!1),yt("Task added successfully!")}catch(C){console.error(" Error creating task:",C),dn({general:"Failed to create task. Please try again."})}finally{E(!1)}}},Zn=async()=>{if(mn()){E(!0);try{await On.updateTask(Ht.id,Ht),await gt(),mt({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),dn({}),bt(!1),yt("Task updated successfully!")}catch(C){console.error(" Error updating task:",C),dn({general:"Failed to update task. Please try again."})}finally{E(!1)}}},dl=async(C,K)=>{try{const Q=pt.find(X=>X.id===C);if(!Q)return;let ie=Q.progress||0;switch(K){case"started":ie=25;break;case"in-progress":ie=50;break;case"completed":ie=100;break;default:ie=0}const be={...Q,status:K,progress:ie};await On.updateTask(C,be),console.log(" Task status changed:",C,K),await gt(),yt(`Task status updated to ${K}!`)}catch(Q){console.error(" Error changing task status:",Q),Os("Failed to update task status. Please try again.")}},vt=async(C,K)=>{try{const Q=pt.find(be=>be.id===C);if(!Q)return;const ie={...Q,priority:K};await On.updateTask(C,ie),console.log(" Task priority changed:",C,K),await gt(),yt(`Priority updated to ${K}!`)}catch(Q){console.error(" Error changing task priority:",Q),Os("Failed to update task priority. Please try again.")}},Jn=async C=>{if(window.confirm("Are you sure you want to delete this task?"))try{await On.deleteTask(C),await gt(),yt("Task deleted successfully!")}catch(K){console.error(" Error deleting task:",K),Os("Failed to delete task. Please try again.")}},os=()=>t.jsx(Ds,{isOpen:u,onClose:()=>d(!1),children:t.jsxs("div",{className:"p-6",children:[t.jsxs("h2",{className:"text-xl font-bold text-white mb-6",children:["My Students (",W.recentStudents.length,")"]}),t.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:W.recentStudents.map(C=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500/20 to-teal-500/20 flex items-center justify-center border border-emerald-500/30",children:t.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:C.name?C.name.split(" ").map(K=>K[0]).join(""):"U"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium",children:C.name}),t.jsx("p",{className:"text-slate-400 text-sm",children:C.subject}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[t.jsxs("p",{className:"text-slate-500 text-xs",children:["Progress: ",C.progress,"%"]}),t.jsx("div",{className:"w-12 bg-slate-700 rounded-full h-1",children:t.jsx("div",{className:"bg-emerald-500 h-1 rounded-full",style:{width:`${C.progress}%`}})})]})]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(De,{size:"sm",onClick:()=>{yt(`Message sent to ${C.name}!`),d(!1)},disabled:O,children:" Message"}),t.jsx(De,{variant:"secondary",size:"sm",onClick:()=>{yt(`Viewing ${C.name}'s profile...`),d(!1)},disabled:O,children:" Profile"})]})]})},C.id))}),t.jsxs("div",{className:"mt-6 flex space-x-3",children:[t.jsx(De,{variant:"secondary",onClick:()=>yt("Searching for new students..."),className:"flex-1",disabled:O,children:"Find New Students"}),t.jsx(De,{onClick:()=>d(!1),className:"flex-1",children:"Close"})]})]})}),Aa=()=>t.jsx(Ds,{isOpen:h,onClose:()=>x(!1),children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Teaching Analytics"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:W.stats.upcomingSessions}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Week's Sessions"})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:W.stats.averageRating}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Average Rating"})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",W.stats.monthlyEarnings]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Month"})]}),t.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:W.stats.activeStudents}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Active Students"})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-medium mb-2",children:"Popular Subjects"}),t.jsx("div",{className:"space-y-2",children:["Mathematics","Physics","Chemistry"].map((C,K)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:C}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-20 bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${100-K*30}%`}})}),t.jsxs("span",{className:"text-white text-sm",children:[100-K*30,"%"]})]})]},C))})]})}),t.jsx("div",{className:"mt-6",children:t.jsx(De,{onClick:()=>x(!1),className:"w-full",children:"Close"})})]})}),cs=C=>{y(C),f(!0)},ml=async()=>{if(g)try{console.log(" Cancelling session:",g.id),E(!0);const C=g.id.toString().startsWith("session-")?g.id.replace("session-",""):g.id,K=await fetch(`${ba}/booking/tutor/bookings/${C}/cancel`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({reason:S||"Session cancelled by tutor"})});if(!K.ok){const ie=await K.json();throw new Error(ie.error||"Failed to cancel session")}const Q=await K.json();console.log(" Session cancelled:",Q),f(!1),y(null),j(""),k("Session cancelled successfully. Student has been notified."),setTimeout(()=>k(""),5e3),Mt()}catch(C){console.error(" Error cancelling session:",C),alert("Failed to cancel session: "+C.message)}finally{E(!1)}},Zt=async C=>{try{console.log(" Accepting booking request:",C);const K=await fetch(`${ba}/booking/requests/${C}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:"accept",responseMessage:"Your booking request has been accepted!"})});if(!K.ok){const ie=await K.json();throw new Error(`Failed to accept request: ${ie.error||K.status}`)}const Q=await K.json();console.log(" Booking request accepted:",Q),N(ie=>ie.filter(be=>be.id!==C)),Ye(),Mt(),en()}catch(K){console.error(" Error accepting booking request:",K),alert("Failed to accept booking request: "+K.message)}},Hn=async C=>{try{console.log(" Rejecting booking request:",C);const K=await fetch(`${ba}/booking/requests/${C}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:"decline",responseMessage:"Sorry, I cannot accommodate this booking request at this time."})});if(!K.ok){const ie=await K.json();throw new Error(`Failed to reject request: ${ie.error||K.status}`)}const Q=await K.json();console.log(" Booking request declined:",Q),N(ie=>ie.filter(be=>be.id!==C)),Ye()}catch(K){console.error(" Error rejecting booking request:",K),alert("Failed to reject booking request: "+K.message)}},hl=C=>["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Tutor Together//Tutor Sessions Export//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",C.filter(Q=>Q.status==="upcoming").map(Q=>{const ie=new Date(`${Q.date}T${Q.time}`),be=new Date(ie.getTime()+Q.duration*60*1e3),X=Ce=>Ce.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";return["BEGIN:VEVENT",`DTSTART:${X(ie)}`,`DTEND:${X(be)}`,`SUMMARY:${Q.subject} - Tutoring Session with ${Q.student}`,`DESCRIPTION:Tutoring session for ${Q.subject} with student ${Q.student}. Notes: ${Q.notes||"No additional notes"}`,`LOCATION:${Q.meetingLink||"TBD"}`,`UID:${Q.id}@tutortogether.com`,"STATUS:CONFIRMED","END:VEVENT"].join(`\r
`)}).join(`\r
`),"END:VCALENDAR"].join(`\r
`),fl=async(C="ical")=>{ye(!0);try{await new Promise(ie=>setTimeout(ie,1500));const K=ae.filter(ie=>ie.status==="scheduled");if(K.length===0){k("No upcoming sessions to export"),setTimeout(()=>k(null),3e3);return}const Q=hl(ae);if(C==="ical"){const ie=new Blob([Q],{type:"text/calendar;charset=utf-8"}),be=window.URL.createObjectURL(ie),X=document.createElement("a");X.href=be,X.download=`tutor-sessions-${new Date().toISOString().split("T")[0]}.ics`,document.body.appendChild(X),X.click(),document.body.removeChild(X),window.URL.revokeObjectURL(be)}k(`${K.length} sessions exported successfully!`),setTimeout(()=>k(null),3e3)}catch(K){console.error("Export failed:",K),k("Export failed. Please try again."),setTimeout(()=>k(null),3e3)}finally{ye(!1)}},Ol=()=>U&&t.jsx("div",{className:"fixed top-4 right-4 z-50 bg-green-500/20 border border-green-500/30 text-green-400 px-4 py-2 rounded-lg",children:U}),Bs=()=>{const C={pending:pt.filter(ie=>ie.status==="pending").length,started:pt.filter(ie=>ie.status==="started").length,inProgress:pt.filter(ie=>ie.status==="in-progress").length,completed:pt.filter(ie=>ie.status==="completed").length,studyHours:pt.reduce((ie,be)=>{if(be.status==="completed"&&be.estimatedTime){const X=parseFloat(be.estimatedTime.match(/\d+/)?.[0]||0);return ie+X}return ie},0)},K=ie=>{switch(ie){case"high":return"bg-red-500/20 text-red-400 border-red-500/30";case"medium":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"low":return"bg-green-500/20 text-green-400 border-green-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},Q=ie=>{switch(ie){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"in-progress":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"started":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"pending":return"bg-slate-500/20 text-slate-400 border-slate-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}};return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-gradient-to-br from-slate-500/20 to-gray-500/20 rounded-2xl p-6 border border-slate-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:C.pending}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Pending"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:C.started}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Started"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:C.inProgress}),t.jsx("div",{className:"text-slate-400 text-sm",children:"In Progress"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:C.completed}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:C.studyHours}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Study Hours"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"All Tasks"})]}),t.jsx("button",{onClick:()=>Vt(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl transition-all duration-200 transform hover:scale-105",children:"+ Add Task"})]}),t.jsx("div",{className:"space-y-4",children:In?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):pt.length===0?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-slate-400",children:"No tasks found. Create your first task!"})}):pt.map(ie=>t.jsxs("div",{className:"flex items-start space-x-4 p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"text-white font-medium",children:ie.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${K(ie.priority)}`,children:ie.priority}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Q(ie.status)}`,children:ie.status.replace("-"," ")})]}),ie.description&&t.jsx("div",{className:"text-slate-400 text-sm mb-2",children:ie.description}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-1",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[ie.progress||0,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:t.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${ie.status==="completed"?"bg-green-500":ie.status==="in-progress"?"bg-yellow-500":ie.status==="started"?"bg-blue-500":"bg-slate-600"}`,style:{width:`${ie.progress||0}%`}})})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-500",children:[t.jsxs("span",{children:[" ",ie.subject]}),t.jsxs("span",{children:[" ",ie.estimatedTime]}),t.jsxs("span",{children:[" Due: ",new Date(ie.due).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})]})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Status:"}),t.jsxs("select",{value:ie.status,onChange:be=>dl(ie.id,be.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-slate-400 text-xs",children:"Priority:"}),t.jsxs("select",{value:ie.priority,onChange:be=>vt(ie.id,be.target.value),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-xs text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]}),t.jsx("button",{onClick:()=>{mt(ie),bt(!0)},className:"px-3 py-1 text-blue-400 hover:text-blue-300 border border-blue-500/30 hover:border-blue-500/50 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-xs transition-all",children:"Edit"}),t.jsx("button",{onClick:()=>Jn(ie.id),className:"px-3 py-1 text-red-400 hover:text-red-300 border border-red-500/30 hover:border-red-500/50 bg-red-500/10 hover:bg-red-500/20 rounded-lg text-xs transition-all",children:"Delete"})]})]},ie.id))})]})]})};W.stats.upcomingSessions,W.stats.activeStudents,`${W.stats.monthlyEarnings}`,W.stats.averageRating;const Us=[{id:"overview",label:"Overview",icon:"home"},{id:"sessions",label:"Sessions",icon:"book"},{id:"tasks",label:"Tasks",icon:"clipboard"},{id:"earnings",label:"Earnings",icon:"dollar"}],Bl=[{id:"calendar",label:"Calendar",description:"Glance at your week",to:"/calendar",gradient:"from-blue-500/20 via-indigo-500/10 to-indigo-500/20",border:"border-blue-500/30"},{id:"profile",label:"Profile",description:"Manage your tutor profile",to:"/tutor-profile",gradient:"from-purple-500/20 via-violet-500/10 to-violet-500/20",border:"border-purple-500/30"},{id:"add-task",label:"Add Task",description:"Capture prep or follow-ups",onClick:()=>Vt(!0),gradient:"from-rose-500/20 via-pink-500/10 to-pink-500/20",border:"border-rose-500/30"},{id:"messages",label:"Messages",description:"Jump into student chats",to:"/messages",gradient:"from-amber-500/20 via-orange-500/10 to-orange-500/20",border:"border-amber-500/30"}],us=C=>{switch(C){case"completed":return"bg-green-500/20 text-green-400 border-green-500/30";case"scheduled":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"in-progress":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"cancelled":return"bg-red-500/20 text-red-400 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}},hn=C=>new Date(C).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),ot=C=>{const[K,Q]=C.split(":"),ie=new Date;return ie.setHours(parseInt(K),parseInt(Q)),ie.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},Bt=()=>{console.log("realSessions:",ae),console.log("pendingRequests:",D);const C=ae||[],K=(D||[]).map(X=>({id:X.id,studentId:X.studentId,studentName:X.studentName||"Unknown Student",subject:X.subject||"General",topic:X.notes||"Session requested",date:X.date,time:X.startTime,duration:X.duration*60||60,status:"pending",notes:X.notes||"",meetingType:X.meetingType||"virtual",meetingLink:null,location:X.location||null,createdAt:X.createdAt})),Q=[...C,...K];console.log("Using combined sessions:",Q),console.log("Confirmed sessions:",C.length),console.log("Pending requests:",K.length);const be=(()=>{if(xe==="all")return Q;if(xe==="upcoming")return Q.filter(X=>X.status==="scheduled"||X.status==="pending");if(xe==="completed")return Q.filter(X=>X.status==="completed");if(xe==="today"){const X=new Date().toISOString().split("T")[0];return Q.filter(Ce=>(Ce.date&&Ce.date.includes("T")?Ce.date.split("T")[0]:Ce.date)===X)}return Q})();return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:"Sessions Management"}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx("button",{onClick:()=>fl("ical"),disabled:ne,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 text-sm",children:ne?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export Calendar"})]})})})]}),t.jsx("div",{className:"flex space-x-1 mb-6 bg-slate-800/30 rounded-lg p-1",children:[{id:"all",label:"All Sessions",count:Q.length},{id:"today",label:"Today",count:Q.filter(X=>(X.date&&X.date.includes("T")?X.date.split("T")[0]:X.date)===new Date().toISOString().split("T")[0]).length},{id:"upcoming",label:"Upcoming",count:Q.filter(X=>X.status==="scheduled"||X.status==="pending").length},{id:"completed",label:"Completed",count:Q.filter(X=>X.status==="completed").length}].map(X=>t.jsxs("button",{onClick:()=>ue(X.id),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${xe===X.id?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[X.label,t.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-slate-700/50 text-xs",children:X.count})]},X.id))}),t.jsx("div",{className:"space-y-4",children:A?t.jsxs("div",{className:"text-center py-12",children:[t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto"})]}),t.jsx("p",{className:"text-slate-400 mt-4",children:"Loading sessions..."})]}):pe?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-red-400 text-lg mb-2",children:""}),t.jsx("h4",{className:"text-red-300 font-medium mb-1",children:"Error loading sessions"}),t.jsx("p",{className:"text-red-500 text-sm mb-4",children:pe}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Retry"})]}):be.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-slate-400 text-lg mb-2",children:""}),t.jsx("h4",{className:"text-slate-300 font-medium mb-1",children:"No sessions found"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"No sessions match the current filter criteria."})]}):be.map(X=>t.jsx("div",{className:"bg-slate-800/30 rounded-xl p-4 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500/20 to-cyan-500/20 flex items-center justify-center border border-blue-500/30",children:t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:X.studentName?X.studentName.split(" ").map(Ce=>Ce[0]).join(""):"U"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[t.jsx("h4",{className:"text-white font-medium",children:X.subject}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${us(X.status)}`,children:X.status})]}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["with ",X.studentName]}),t.jsx("p",{className:"text-slate-500 text-xs mt-1",children:X.topic})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-white font-medium",children:hn(X.date)}),t.jsx("div",{className:"text-slate-400 text-sm",children:ot(X.time)}),t.jsxs("div",{className:"text-slate-500 text-xs",children:[X.duration," minutes"]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[t.jsx("button",{onClick:()=>{se(X),_(!0)},className:"px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded-lg text-xs hover:bg-blue-500/30 transition-colors",children:"View Details"}),X.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>Zt(X.id),className:"px-3 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded-lg text-xs hover:bg-green-500/30 transition-colors",children:"Accept"}),t.jsx("button",{onClick:()=>Hn(X.id),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-xs hover:bg-red-500/30 transition-colors",children:"Decline"})]}),(X.status==="scheduled"||X.status==="confirmed")&&t.jsx(pd,{booking:{...X,endTime:X.endTime||X.time,studentName:X.studentName},onCompleted:Ce=>{ce(ze=>ze.map(de=>de.id===Ce.id?{...de,status:"completed"}:de))},className:"text-xs px-2 py-1"}),X.status==="scheduled"&&t.jsx("button",{onClick:()=>cs(X),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-xs hover:bg-red-500/30 transition-colors",children:"Cancel"}),X.meetingLink&&X.status==="scheduled"&&t.jsx("a",{href:X.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 rounded-lg text-xs hover:bg-emerald-500/30 transition-colors",children:"Join Meeting"})]})]})]})},X.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"This Week"}),t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Q.filter(X=>{const Ce=X.date.includes("T")?X.date.split("T")[0]:X.date,ze=new Date(Ce),de=new Date;de.setDate(de.getDate()-de.getDay());const He=new Date(de);return He.setDate(de.getDate()+6),ze>=de&&ze<=He}).length}),t.jsx("div",{className:"text-slate-500 text-xs",children:"Sessions scheduled"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"Completion Rate"}),t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[Q.length>0?Math.round(Q.filter(X=>X.status==="completed").length/Q.length*100):0,"%"]}),t.jsx("div",{className:"text-slate-500 text-xs",children:"Sessions completed"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"Total Hours"}),t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:Math.round(Q.reduce((X,Ce)=>X+Ce.duration,0)/60)}),t.jsx("div",{className:"text-slate-500 text-xs",children:"Hours taught"})]})]})]})},Kn=()=>t.jsx(Ds,{isOpen:Y,onClose:()=>_(!1),children:t.jsx("div",{className:"p-6",children:P&&t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Session Details"}),t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Subject"}),t.jsx("p",{className:"text-white",children:P.subject})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Status"}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${us(P.status)}`,children:P.status})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Student"}),t.jsx("p",{className:"text-white",children:P.studentName})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Topic"}),t.jsx("p",{className:"text-white",children:P.topic})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Date & Time"}),t.jsxs("p",{className:"text-white",children:[hn(P.date)," at ",ot(P.time)]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-1",children:"Duration"}),t.jsxs("p",{className:"text-white",children:[P.duration," minutes"]})]})]})}),P.notes&&t.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:P.status==="pending"?"Student Notes / Message":"Session Notes"}),t.jsxs("p",{className:"text-slate-300 text-sm italic",children:['"',P.notes,'"']})]}),P.meetingLink&&t.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[t.jsx("h4",{className:"text-slate-400 text-sm font-medium mb-2",children:"Meeting Link"}),t.jsx("a",{href:P.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 text-sm break-all",children:P.meetingLink})]})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(De,{variant:"secondary",onClick:()=>_(!1),className:"flex-1",children:"Close"}),P.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsx(De,{onClick:()=>{_(!1),Zt(P.id)},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:"Accept Request"}),t.jsx(De,{onClick:()=>{_(!1),Hn(P.id)},className:"flex-1 bg-red-600 hover:bg-red-700",children:"Decline Request"})]}),P.status==="scheduled"&&t.jsxs(t.Fragment,{children:[t.jsx(De,{onClick:()=>{_(!1),cs(P)},className:"flex-1 bg-red-600 hover:bg-red-700",children:"Cancel Session"}),P.meetingLink&&t.jsx(De,{onClick:()=>{window.open(P.meetingLink,"_blank")},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",children:"Join Meeting"})]})]})]})})});if(A)return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-8",children:[t.jsxs("div",{className:"animate-pulse text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto"})]}),t.jsx("p",{className:"text-slate-400 mt-4 text-center",children:"Loading dashboard..."})]})});const xl=()=>{const C=Ae?.stats?.pendingRequests||0,K=Ae?.stats?.scheduledSessions||0,Q=Ae?.stats?.completedSessions||0,ie=Ae?.stats?.totalStudents||0,be=Ae?.stats?.todayEarnings||0,X=Ae?.stats?.monthEarnings||0,Ce=Ae?.profile?.rating||0,ze=Ae?.profile?.totalReviews||0;return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-orange-500/10 to-red-500/10 rounded-2xl p-6 border border-orange-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Pending Requests"}),t.jsx("span",{className:"text-orange-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:C}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Awaiting response"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Scheduled Sessions"}),t.jsx("span",{className:"text-blue-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:K}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Confirmed bookings"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Completed"}),t.jsx("span",{className:"text-emerald-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:Q}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Total sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Total Students"}),t.jsx("span",{className:"text-purple-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:ie}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Unique students"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-yellow-500/10 rounded-2xl p-6 border border-amber-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Today's Earnings"}),t.jsx("span",{className:"text-amber-400 text-2xl",children:""})]}),t.jsxs("div",{className:"text-white text-3xl font-bold",children:["$",be.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"From completed sessions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-teal-500/10 to-cyan-500/10 rounded-2xl p-6 border border-teal-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"This Month"}),t.jsx("span",{className:"text-teal-400 text-2xl",children:""})]}),t.jsxs("div",{className:"text-white text-3xl font-bold",children:["$",X.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-xs mt-1",children:"Total earnings"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/10 to-blue-500/10 rounded-2xl p-6 border border-indigo-500/30",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Rating"}),t.jsx("span",{className:"text-indigo-400 text-2xl",children:""})]}),t.jsx("div",{className:"text-white text-3xl font-bold",children:Ce.toFixed(1)}),t.jsxs("div",{className:"text-slate-400 text-xs mt-1",children:[ze," reviews"]})]})]}),D.length>0&&t.jsxs("div",{className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 rounded-2xl p-6 border border-orange-500/30 backdrop-blur-sm",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-orange-400",children:""}),t.jsx("span",{children:"New Booking Requests"}),t.jsx("span",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full",children:D.length})]})}),t.jsx("div",{className:"space-y-4",children:B?t.jsxs("div",{className:"text-center py-4",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading requests..."})]}):D.map(de=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-orange-500/20 hover:bg-slate-800/70 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500/20 to-red-500/20 flex items-center justify-center border border-orange-500/30",children:t.jsx("span",{className:"text-orange-400 text-sm font-medium",children:de.studentName?de.studentName.split(" ").map(He=>He[0]).join(""):"S"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-white font-medium",children:de.subject||"Session Request"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["from ",de.studentName||"Student","  ",new Date(de.booking_date||de.date).toLocaleDateString()," at ",de.start_time||de.startTime]}),de.notes&&t.jsxs("p",{className:"text-slate-300 text-sm mt-1 italic",children:['"',de.notes,'"']})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>{se({id:de.id,subject:de.subject||"Session Request",studentName:de.studentName||"Student",studentEmail:de.studentEmail,date:de.date,time:de.startTime,duration:(de.duration||1)*60,topic:"Booking Request",notes:de.notes,status:"pending",meetingType:de.meetingType,location:de.location}),_(!0)},className:"px-3 py-1 bg-slate-700/50 text-slate-300 border border-slate-600/50 rounded-lg text-sm hover:bg-slate-700 transition-colors",children:"Details"}),t.jsx("button",{onClick:()=>Zt(de.id),className:"px-3 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Accept"}),t.jsx("button",{onClick:()=>Hn(de.id),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Reject"})]})]})},de.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-amber-400",children:""}),t.jsx("span",{children:"Pending Tasks"})]}),t.jsx("button",{onClick:()=>o("tasks"),className:"text-blue-400 hover:text-blue-300 text-sm font-medium",children:"View All "})]}),In?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),t.jsx("p",{className:"text-slate-400 mt-2",children:"Loading tasks..."})]}):pt.filter(de=>de.status!=="completed").length>0?t.jsx("div",{className:"space-y-3",children:pt.filter(de=>de.status!=="completed").slice(0,5).map(de=>t.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("div",{className:"text-white font-medium",children:de.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${de.priority==="high"?"bg-red-500/20 text-red-400":de.priority==="medium"?"bg-amber-500/20 text-amber-400":"bg-green-500/20 text-green-400"}`,children:de.priority})]}),t.jsx("div",{className:"text-slate-400 text-sm",children:de.description}),t.jsxs("div",{className:"flex items-center space-x-3 mt-2 text-xs text-slate-500",children:[t.jsxs("span",{children:[" ",de.subject]}),t.jsxs("span",{children:[" ",de.estimatedTime]}),t.jsxs("span",{children:[" Due: ",new Date(de.due).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Progress"}),t.jsxs("div",{className:"text-sm font-medium text-blue-400",children:[de.progress||0,"%"]})]})})]},de.id))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h4",{className:"text-white font-medium mb-2",children:"All caught up!"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"No pending tasks at the moment"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:t.jsx("span",{children:"Today's Sessions"})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:()=>fl("ical"),disabled:ne,className:"px-3 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-lg font-medium transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 text-sm",children:ne?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export"})]})}),t.jsx("span",{className:"text-slate-400 text-sm",children:"All today's sessions shown below"})]})]}),t.jsx("div",{className:"space-y-4",children:ae.length>0?ae.filter(de=>(de.date.includes("T")?de.date.split("T")[0]:de.date)===new Date().toISOString().split("T")[0]).length>0?ae.filter(de=>(de.date.includes("T")?de.date.split("T")[0]:de.date)===new Date().toISOString().split("T")[0]).map(de=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500/20 to-cyan-500/20 flex items-center justify-center border border-blue-500/30",children:t.jsx("span",{className:"text-blue-400 text-sm font-medium",children:de.student?de.student.split(" ").map(He=>He[0]).join(""):de.studentName?de.studentName.split(" ").map(He=>He[0]).join(""):"U"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium",children:de.subject||"Session"}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["with ",de.student||de.studentName||"Student"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-white font-medium",children:ot(de.time)}),t.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium border ${us(de.status)}`,children:de.status})]}),de.status==="scheduled"&&t.jsx("button",{onClick:()=>cs(de),className:"px-3 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-xs hover:bg-red-500/30 transition-colors",children:"Cancel"})]})]})},de.id)):t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 text-center",children:t.jsx("p",{className:"text-slate-400",children:"No sessions scheduled for today"})}):t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 text-center",children:t.jsx("p",{className:"text-slate-400",children:"No sessions found"})})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:t.jsx("span",{children:"Recent Students"})}),t.jsx(Ue,{to:"/students",className:"text-emerald-400 hover:text-emerald-300 text-sm font-medium",children:"View All "})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:W.recentStudents.slice(0,4).map(de=>t.jsx("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50 hover:bg-slate-800/50 transition-colors",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-500/20 to-teal-500/20 flex items-center justify-center border border-emerald-500/30",children:t.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:de.name?de.name.split(" ").map(He=>He[0]).join(""):"U"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-white font-medium text-sm",children:de.name}),t.jsx("p",{className:"text-slate-400 text-xs",children:de.subject}),t.jsxs("p",{className:"text-slate-500 text-xs",children:["Progress: ",de.progress,"%"]})]})]})},de.id))})]})]})},R=()=>{if(me)return t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:"Loading earnings data..."})]})});const C=I?.summary?.totalEarnings||0,K=I?.summary?.thisMonthEarnings||0,Q=I?.summary?.thisWeekEarnings||0,ie=I?.summary?.todayEarnings||0,be=I?.summary?.completedSessionsCount||0,X=I?.summary?.averagePerSession||0,Ce=I?.profile?.hourlyRate||0,ze=I?.earningsByDate||[],de=I?.earningsBySubject||[],He=I?.recentSessions||[];return t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl p-6 border border-blue-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",C.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Earnings"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 rounded-2xl p-6 border border-emerald-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",K.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Month"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-2xl p-6 border border-purple-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",Q.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"This Week"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-6 border border-amber-500/30",children:[t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",ie.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Today"})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:"Recent Earnings"})]}),ze.length>0?t.jsx("div",{className:"space-y-3",children:ze.slice(0,10).map(Pe=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg hover:bg-slate-800/70 transition-colors",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-white font-medium",children:new Date(Pe.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Pe.sessionCount," session",Pe.sessionCount!==1?"s":""]})]}),t.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:["$",Pe.totalAmount.toFixed(2)]})]},Pe.date))}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-slate-500 text-6xl mb-4",children:""}),t.jsx("p",{className:"text-slate-400",children:"No completed sessions yet"}),t.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Complete sessions to start earning"})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-emerald-500/10 via-teal-500/10 to-cyan-500/10 rounded-2xl p-6 border border-emerald-500/20",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:" Summary"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-emerald-400 mb-1",children:be}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Sessions Completed"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-cyan-400 mb-1",children:["$",X.toFixed(2)]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Avg per Session"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-3xl font-bold text-blue-400 mb-1",children:["$",Ce.toFixed(2),"/hr"]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Hourly Rate"})]})]})]}),de.length>0&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-blue-400",children:""}),t.jsx("span",{children:"Earnings by Subject"})]}),t.jsx("div",{className:"space-y-3",children:de.map(Pe=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-medium",children:Pe.subject}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Pe.sessionCount," session",Pe.sessionCount!==1?"s":"","  Avg: $",Pe.averageAmount.toFixed(2)]})]}),t.jsxs("div",{className:"text-xl font-bold text-blue-400",children:["$",Pe.totalAmount.toFixed(2)]})]},Pe.subject))})]}),He.length>0&&t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2 mb-6",children:[t.jsx("span",{className:"text-purple-400",children:""}),t.jsx("span",{children:"Recent Completed Sessions"})]}),t.jsx("div",{className:"space-y-3",children:He.slice(0,10).map(Pe=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg hover:bg-slate-800/70 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-white font-medium",children:Pe.subject}),t.jsxs("div",{className:"text-slate-400 text-sm",children:[Pe.studentName,"  ",new Date(Pe.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),"  ",Pe.duration," min"]}),Pe.reviewRating&&t.jsx("div",{className:"flex items-center space-x-1 mt-1",children:[...Array(5)].map((qn,$n)=>t.jsx("svg",{className:`w-3 h-3 ${$n<Pe.reviewRating?"text-amber-400":"text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},$n))})]}),t.jsxs("div",{className:"text-lg font-bold text-emerald-400",children:["$",Pe.amount.toFixed(2)]})]},Pe.id))})]})]})},he=()=>{switch(i){case"sessions":return Bt();case"earnings":return R();case"tasks":return Bs();default:return xl()}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 pt-16",children:[U&&(()=>{const K=(()=>{switch(z){case"success":return{bg:"bg-emerald-500/10",border:"border-emerald-500/40",text:"text-emerald-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})};case"error":return{bg:"bg-red-500/10",border:"border-red-500/40",text:"text-red-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};case"warning":return{bg:"bg-amber-500/10",border:"border-amber-500/40",text:"text-amber-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})};case"info":return{bg:"bg-blue-500/10",border:"border-blue-500/40",text:"text-blue-400",icon:t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};default:return{bg:"bg-slate-500/10",border:"border-slate-500/40",text:"text-slate-400",icon:null}}})();return t.jsx("div",{className:`fixed top-20 right-4 z-50 ${K.bg} ${K.border} border backdrop-blur-sm rounded-xl shadow-2xl transform transition-all duration-300 ease-in-out animate-slide-in-right max-w-md`,children:t.jsxs("div",{className:"flex items-start space-x-3 p-4",children:[t.jsx("div",{className:`flex-shrink-0 ${K.text}`,children:K.icon}),t.jsx("div",{className:"flex-1 pt-0.5",children:t.jsx("p",{className:`text-sm font-medium ${K.text} leading-relaxed`,children:U})}),t.jsx("button",{onClick:()=>k(""),className:`flex-shrink-0 ${K.text} hover:opacity-70 transition-opacity`,children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})(),t.jsxs("div",{className:"flex min-h-screen",children:[t.jsx("div",{className:"flex-1 flex flex-col",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:[Me.text,", ",s?.profile?.fullName||s?.full_name||s?.name||s?.username||"Tutor","! ",Me.emoji]}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Ready to inspire students today? Here's your teaching overview."})]}),t.jsx(Lv,{}),he()]})}),t.jsx("div",{className:"w-80 bg-slate-900/30 backdrop-blur-sm border-l border-slate-800/50 overflow-auto",children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Tutor Dashboard"}),t.jsx("div",{className:"space-y-1",children:Us.map(C=>t.jsx("button",{onClick:()=>o(C.id),className:`w-full px-3 py-2 rounded-lg flex items-center transition-all duration-200 ${i===C.id?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:t.jsx("span",{className:"text-sm font-medium",children:C.label})},C.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Actions"}),t.jsx("div",{className:"space-y-2",children:Bl.map(C=>{const K=`w-full p-3 rounded-xl border bg-gradient-to-r ${C.gradient} ${C.border} transition-all duration-200 hover:border-white/40`,Q=t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-white text-sm font-semibold",children:C.label}),t.jsx("div",{className:"text-slate-200 text-xs",children:C.description})]});return C.to?t.jsx(Ue,{to:C.to,className:`${K} block`,children:Q},C.id):t.jsx("button",{onClick:C.onClick,className:`${K} text-left`,children:Q},C.id)})})]}),t.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl p-4 border border-blue-500/20",children:[t.jsx("h3",{className:"text-sm font-semibold text-blue-300 mb-3 uppercase tracking-wide",children:t.jsx("span",{children:"Today's Sessions"})}),t.jsx("div",{className:"space-y-3",children:W.todaySessions.slice(0,2).map(C=>t.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/50 border border-slate-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("div",{className:"text-white text-xs font-medium line-clamp-2",children:C.subject}),t.jsx("div",{className:"text-blue-400 text-xs font-medium",children:ot(C.time)})]}),t.jsxs("div",{className:"text-slate-400 text-xs mb-1",children:["with ",C.student]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${us(C.status)}`,children:C.status})})]},C.id))})]})]})})]}),t.jsx(os,{}),t.jsx(Aa,{}),t.jsx(Ds,{isOpen:p,onClose:()=>f(!1),children:t.jsxs("div",{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Cancel Session"}),g&&t.jsxs("div",{className:"mb-6",children:[t.jsx("div",{className:"text-white font-medium",children:g.subject}),t.jsxs("div",{className:"text-slate-400 text-sm",children:["with ",g.student]}),t.jsxs("div",{className:"text-slate-500 text-sm mt-1",children:["Scheduled: ",ot(g.time)]})]}),t.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("svg",{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-red-400 font-medium",children:"Are you sure you want to cancel this session?"}),t.jsx("p",{className:"text-red-300 text-sm mt-1",children:"This action cannot be undone. The student will be notified of the cancellation."})]})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Reason for Cancellation"}),t.jsx("textarea",{rows:"3",value:S,onChange:C=>j(C.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white resize-none focus:outline-none focus:border-blue-500",placeholder:"Optional: Explain why you need to cancel",disabled:O})]}),t.jsxs("div",{className:"flex space-x-3 mt-6",children:[t.jsx(De,{variant:"secondary",onClick:()=>{f(!1),j("")},className:"flex-1",disabled:O,children:"Keep Session"}),t.jsx(De,{onClick:ml,className:"flex-1 bg-red-600 hover:bg-red-700 border-red-600",disabled:O,children:O?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin inline-block mr-2"}),"Cancelling..."]}):"Cancel Session"})]})]})}),t.jsx(Kn,{}),t.jsx(qf,{isOpen:Xn,onClose:()=>{Vt(!1),mt({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),dn({})},isEdit:!1,newTask:Ht,setNewTask:mt,errors:Ct,loading:O,subjects:Wt,handleEditTask:Zn,handleAddTask:is}),t.jsx(qf,{isOpen:Xt,onClose:()=>{bt(!1),mt({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",due:""}),dn({})},isEdit:!0,newTask:Ht,setNewTask:mt,errors:Ct,loading:O,subjects:Wt,handleEditTask:Zn,handleAddTask:is}),t.jsx(Ol,{})]})},As="https://sunke-vasan-varpe-varadaraju.onrender.com/api";class Bv{getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}async getDashboardStats(){try{return await(await fetch(`${As}/admin/dashboard/stats`,{headers:this.getHeaders()})).json()}catch(a){return console.error("Error fetching dashboard stats:",a),{success:!1,message:a.message}}}async getTutorApplications(a=null){try{const i=a?`${As}/admin/tutors/applications?status=${a}`:`${As}/admin/tutors/applications`;return await(await fetch(i,{headers:this.getHeaders()})).json()}catch(i){return console.error("Error fetching tutor applications:",i),{success:!1,message:i.message}}}async getTutorApplication(a){try{return await(await fetch(`${As}/admin/tutors/applications/${a}`,{headers:this.getHeaders()})).json()}catch(i){return console.error("Error fetching tutor application:",i),{success:!1,message:i.message}}}async updateTutorStatus(a,i,o=""){try{return await(await fetch(`${As}/admin/tutors/applications/${a}/status`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify({status:i,notes:o})})).json()}catch(u){return console.error("Error updating tutor status:",u),{success:!1,message:u.message}}}async getAllSessions(a=50,i=0){try{return await(await fetch(`${As}/admin/sessions?limit=${a}&offset=${i}`,{headers:this.getHeaders()})).json()}catch(o){return console.error("Error fetching sessions:",o),{success:!1,message:o.message}}}async getEarningsSummary(){try{return await(await fetch(`${As}/admin/earnings`,{headers:this.getHeaders()})).json()}catch(a){return console.error("Error fetching earnings summary:",a),{success:!1,message:a.message}}}async getAllUsers(a={}){try{const i=new URLSearchParams;a.role&&i.append("role",a.role),a.status&&i.append("status",a.status),a.limit&&i.append("limit",a.limit),a.offset&&i.append("offset",a.offset);const o=`${As}/admin/users${i.toString()?"?"+i.toString():""}`;return await(await fetch(o,{headers:this.getHeaders()})).json()}catch(i){return console.error("Error fetching users:",i),{success:!1,message:i.message}}}async updateUserStatus(a,i,o=""){try{return await(await fetch(`${As}/admin/users/${a}/status`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify({is_active:i,reason:o})})).json()}catch(u){return console.error("Error updating user status:",u),{success:!1,message:u.message}}}}const _s=new Bv,Uv=()=>{const{user:s}=Ot(),[a,i]=T.useState("dashboard"),[o,u]=T.useState(!0),[d,h]=T.useState(null),[x,p]=T.useState([]),[f,g]=T.useState([]),[y,S]=T.useState(null),[j,O]=T.useState("all"),[E,U]=T.useState([]),[k,z]=T.useState("all"),[H,ne]=T.useState("all"),F=(()=>{const A=new Date().getHours();return A>=5&&A<12?{text:"Good Morning",emoji:""}:A>=12&&A<17?{text:"Good Afternoon",emoji:""}:A>=17&&A<21?{text:"Good Evening",emoji:""}:{text:"Good Night",emoji:""}})();T.useEffect(()=>{q()},[]);const q=async()=>{u(!0);const A=await _s.getDashboardStats();A.success&&h(A.data),u(!1)},xe=async(A=null)=>{const ee=await _s.getTutorApplications(A);ee.success&&p(ee.data)},ue=async()=>{const A=await _s.getAllSessions();A.success&&g(A.data.sessions)},Y=async()=>{const A=await _s.getEarningsSummary();A.success&&S(A.data)},_=async()=>{const A={};k!=="all"&&(A.role=k),H!=="all"&&(A.status=H);const ee=await _s.getAllUsers(A);ee.success&&U(ee.data)};T.useEffect(()=>{a==="applications"?xe(j==="all"?null:j):a==="sessions"?ue():a==="earnings"?Y():a==="users"&&_()},[a,j,k,H]);const P=async A=>{const ee=prompt("Enter approval notes (optional):"),pe=await _s.updateTutorStatus(A,"approved",ee);pe.success?(alert("Tutor approved successfully!"),xe(j==="all"?null:j),q()):alert("Failed to approve tutor: "+pe.message)},se=async A=>{const ee=prompt("Enter rejection reason:");if(!ee)return;const pe=await _s.updateTutorStatus(A,"rejected",ee);pe.success?(alert("Tutor application rejected"),xe(j==="all"?null:j),q()):alert("Failed to reject tutor: "+pe.message)},ae=async(A,ee)=>{const pe=prompt(`Enter reason for suspending ${ee}:`);if(!pe)return;const je=await _s.updateUserStatus(A,!1,pe);je.success?(alert("User suspended successfully"),_(),q()):alert("Failed to suspend user: "+je.message)},ce=async(A,ee)=>{if(!confirm(`Activate user ${ee}?`))return;const pe=await _s.updateUserStatus(A,!0,"Account reactivated by admin");pe.success?(alert("User activated successfully"),_(),q()):alert("Failed to activate user: "+pe.message)};return o?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"text-white",children:"Loading admin dashboard..."})}):t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Admin Dashboard ",F.emoji]}),t.jsxs("p",{className:"text-slate-400",children:[F.text,", ",s?.full_name||"Admin","!"]})]}),t.jsx("div",{className:"flex space-x-4 mb-8 border-b border-slate-800",children:["dashboard","applications","sessions","earnings","users"].map(A=>t.jsx("button",{onClick:()=>i(A),className:`px-4 py-2 font-medium capitalize transition-colors ${a===A?"text-purple-400 border-b-2 border-purple-400":"text-slate-400 hover:text-white"}`,children:A},A))}),a==="dashboard"&&d&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(ss,{title:"Total Students",value:d.stats.total_students,icon:""}),t.jsx(ss,{title:"Total Tutors",value:d.stats.total_tutors,icon:""}),t.jsx(ss,{title:"Pending Applications",value:d.stats.pending_applications,icon:"",color:"yellow"}),t.jsx(ss,{title:"Total Sessions",value:d.stats.total_sessions,icon:""}),t.jsx(ss,{title:"Completed Sessions",value:d.stats.completed_sessions,icon:"",color:"green"}),t.jsx(ss,{title:"Total Earnings",value:`$${parseFloat(d.stats.total_earnings).toFixed(2)}`,icon:"",color:"green"})]}),a==="applications"&&t.jsxs("div",{children:[t.jsx("div",{className:"mb-4 flex space-x-2",children:["all","pending","approved","rejected"].map(A=>t.jsx("button",{onClick:()=>O(A),className:`px-4 py-2 rounded-lg capitalize ${j===A?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:A},A))}),t.jsxs("div",{className:"space-y-4",children:[x.map(A=>t.jsx("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-800",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:A.full_name}),t.jsx("p",{className:"text-slate-400 mb-2",children:A.email}),t.jsx("p",{className:"text-slate-300 mb-4",children:A.bio}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Hourly Rate:"}),t.jsxs("span",{className:"text-white ml-2",children:["$",A.hourly_rate]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Location:"}),t.jsxs("span",{className:"text-white ml-2",children:[A.location_city,", ",A.location_state]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Subjects:"}),t.jsx("span",{className:"text-white ml-2",children:A.subjects_taught?.join(", ")})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-slate-400",children:"Status:"}),t.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs ${A.approval_status==="approved"?"bg-green-900 text-green-200":A.approval_status==="rejected"?"bg-red-900 text-red-200":"bg-yellow-900 text-yellow-200"}`,children:A.approval_status})]})]}),A.admin_notes&&t.jsxs("div",{className:"mt-4 p-3 bg-slate-800 rounded",children:[t.jsx("p",{className:"text-sm text-slate-400",children:"Admin Notes:"}),t.jsx("p",{className:"text-white",children:A.admin_notes})]})]}),A.approval_status==="pending"&&t.jsxs("div",{className:"flex space-x-2 ml-4",children:[t.jsx("button",{onClick:()=>P(A.account_id),className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Approve"}),t.jsx("button",{onClick:()=>se(A.account_id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Reject"})]})]})},A.id)),x.length===0&&t.jsx("div",{className:"text-center py-12 text-slate-400",children:"No applications found"})]})]}),a==="sessions"&&t.jsxs("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Student"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Tutor"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Subject"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Date"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Duration"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Cost"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-800",children:f.map(A=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:A.student_name}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:A.tutor_name}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:A.subject}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:new Date(A.session_date).toLocaleDateString()}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-300",children:[A.duration_hours,"h"]}),t.jsxs("td",{className:"px-6 py-4 text-sm text-green-400",children:["$",A.session_cost]}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs ${A.status==="completed"?"bg-green-900 text-green-200":A.status==="confirmed"?"bg-blue-900 text-blue-200":A.status==="cancelled"?"bg-red-900 text-red-200":"bg-yellow-900 text-yellow-200"}`,children:A.status})})]},A.id))})]})}),f.length===0&&t.jsx("div",{className:"text-center py-12 text-slate-400",children:"No sessions found"})]}),a==="earnings"&&y&&t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx(ss,{title:"Total Earnings",value:`$${parseFloat(y.summary.total_earnings||0).toFixed(2)}`,icon:"",color:"green"}),t.jsx(ss,{title:"Pending Earnings",value:`$${parseFloat(y.summary.pending_earnings||0).toFixed(2)}`,icon:"",color:"yellow"}),t.jsx(ss,{title:"Completed Sessions",value:y.summary.completed_sessions,icon:""}),t.jsx(ss,{title:"Avg Session Value",value:`$${parseFloat(y.summary.avg_session_value||0).toFixed(2)}`,icon:""})]}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Top Earning Tutors"}),t.jsx("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Tutor"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Sessions"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Hourly Rate"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Total Earned"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-800",children:y.topTutors.map((A,ee)=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"text-sm text-white",children:A.full_name}),t.jsx("div",{className:"text-xs text-slate-400",children:A.email})]}),t.jsx("td",{className:"px-6 py-4 text-sm text-white",children:A.session_count}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-300",children:["$",A.hourly_rate,"/hr"]}),t.jsxs("td",{className:"px-6 py-4 text-sm text-green-400 font-semibold",children:["$",parseFloat(A.total_earned).toFixed(2)]})]},ee))})]})})]}),a==="users"&&t.jsxs("div",{children:[t.jsxs("div",{className:"mb-4 flex space-x-2",children:[t.jsxs("select",{value:k,onChange:A=>z(A.target.value),className:"px-4 py-2 bg-slate-800 text-slate-300 border border-slate-700 rounded-lg focus:outline-none focus:border-purple-500",children:[t.jsx("option",{value:"all",children:"All Roles"}),t.jsx("option",{value:"student",children:"Students"}),t.jsx("option",{value:"tutor",children:"Tutors"})]}),t.jsxs("select",{value:H,onChange:A=>ne(A.target.value),className:"px-4 py-2 bg-slate-800 text-slate-300 border border-slate-700 rounded-lg focus:outline-none focus:border-purple-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]}),t.jsxs("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-800",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Joined"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-800",children:E.map(A=>t.jsxs("tr",{className:"hover:bg-slate-800/50",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("div",{className:"text-sm text-white font-medium",children:A.full_name})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:A.email}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${A.role==="admin"?"bg-purple-900 text-purple-200":A.role==="tutor"?"bg-blue-900 text-blue-200":"bg-green-900 text-green-200"}`,children:A.role})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-300",children:new Date(A.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),t.jsx("td",{className:"px-6 py-4 text-sm",children:t.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${A.is_active?"bg-green-900 text-green-200":"bg-red-900 text-red-200"}`,children:A.is_active?"Active":"Suspended"})}),t.jsx("td",{className:"px-6 py-4 text-sm",children:A.role!=="admin"&&t.jsx("div",{className:"flex space-x-2",children:A.is_active?t.jsx("button",{onClick:()=>ae(A.id,A.full_name),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-lg text-xs transition-colors",children:"Suspend"}):t.jsx("button",{onClick:()=>ce(A.id,A.full_name),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-lg text-xs transition-colors",children:"Activate"})})})]},A.id))})]})}),E.length===0&&t.jsx("div",{className:"text-center py-12 text-slate-400",children:"No users found"})]})]})]})})},ss=({title:s,value:a,icon:i,color:o="purple"})=>{const u={purple:"from-purple-600 to-blue-600",green:"from-green-600 to-emerald-600",yellow:"from-yellow-600 to-orange-600",red:"from-red-600 to-pink-600"};return t.jsx("div",{className:`bg-gradient-to-r ${u[o]} rounded-lg p-6 text-white`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm opacity-90 mb-1",children:s}),t.jsx("p",{className:"text-3xl font-bold",children:a})]}),t.jsx("div",{className:"text-4xl opacity-80",children:i})]})})},Hv=()=>{const{user:s}=Ot(),a=Qn(),[i,o]=T.useState(""),[u,d]=T.useState("all"),[h,x]=T.useState("all"),[p,f]=T.useState("all"),[g,y]=T.useState("rating"),[S,j]=T.useState([]),[O,E]=T.useState(["all"]),[U,k]=T.useState(!1),[z,H]=T.useState(null),[ne,ye]=T.useState("grid"),F=async()=>{k(!0),H(null);try{const _={search:i,subject:u!=="all"?u:"",sortBy:g};if(h!=="all"){const[se,ae]=h.split("-");se&&se!=="70+"&&(_.minPrice=se),ae&&(_.maxPrice=ae),h==="70+"&&(_.minPrice=70)}const P=await Zu.getAllTutors(_);console.log(" Loaded tutors from database:",P),j(P)}catch(_){console.error("Failed to load tutors:",_),H("Failed to load tutors. Please try again.")}finally{k(!1)}},q=async()=>{try{const _=await Zu.getTutorSubjects();E(["all",..._])}catch(_){console.error("Failed to load subjects:",_),E(["all","Mathematics","Physics","Chemistry","Computer Science","Economics","English","Biology"])}},xe=[{value:"all",label:"All Prices"},{value:"0-30",label:"$0 - $30"},{value:"30-50",label:"$30 - $50"},{value:"50-70",label:"$50 - $70"},{value:"70+",label:"$70+"}],ue=_=>{a("/messages",{state:{selectedUser:{id:_.id,full_name:_.name,email:_.email,user_role:"tutor",username:_.username}}})};T.useEffect(()=>{F(),q()},[]),T.useEffect(()=>{const _=setTimeout(()=>{F()},300);return()=>clearTimeout(_)},[i,u,h,g]);const Y=S;return t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:t.jsx("span",{children:"Find Your Perfect Tutor"})}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Connect with expert tutors across all subjects"})]}),t.jsx("div",{className:"mb-8 bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Search"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",placeholder:"Search tutors or subjects...",value:i,onChange:_=>o(_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject"}),t.jsx("select",{value:u,onChange:_=>d(_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:O.map(_=>t.jsx("option",{value:_,children:_==="all"?"All Subjects":_},_))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Price Range"}),t.jsx("select",{value:h,onChange:_=>x(_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:xe.map(_=>t.jsx("option",{value:_.value,children:_.label},_.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sort By"}),t.jsxs("select",{value:g,onChange:_=>y(_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:[t.jsx("option",{value:"rating",children:"Highest Rated"}),t.jsx("option",{value:"price-low",children:"Price: Low to High"}),t.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]})]})}),t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"text-slate-300",children:[U?t.jsx("span",{className:"text-slate-400",children:"Loading tutors..."}):z?t.jsx("span",{className:"text-red-400",children:z}):t.jsx("span",{className:"font-medium text-white",children:Y.length}),!U&&!z&&" tutors found"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>ye("list"),className:`px-4 py-2 rounded-lg transition-colors ${ne==="list"?"bg-slate-700/50 border border-slate-600/50 text-white":"bg-slate-800/50 border border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:"List"}),t.jsx("button",{onClick:()=>ye("grid"),className:`px-4 py-2 rounded-lg transition-colors ${ne==="grid"?"bg-slate-700/50 border border-slate-600/50 text-white":"bg-slate-800/50 border border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:"Grid"})]})]}),U?t.jsx("div",{className:ne==="grid"?"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:[1,2,3].map(_=>t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-6 animate-pulse",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700"}),t.jsxs("div",{children:[t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded"})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"w-full h-3 bg-slate-700 rounded"}),t.jsx("div",{className:"w-3/4 h-3 bg-slate-700 rounded"}),t.jsx("div",{className:"w-1/2 h-3 bg-slate-700 rounded"})]})]},_))}):ne==="grid"?t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:Y.map(_=>t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm overflow-hidden hover:border-slate-700/50 transition-colors",children:[t.jsxs("div",{className:"p-6 pb-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:_.avatar}),_.online&&t.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-slate-900"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:_.name}),t.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"text-white font-medium",children:_.rating}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",_.reviews," reviews)"]})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold text-lg",children:["$",_.hourlyRate]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"per hour"})]})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.subjects.slice(0,3).map((P,se)=>t.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 text-sm",children:P},se)),_.subjects.length>3&&t.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 border border-slate-600/50 rounded-full text-slate-300 text-sm",children:["+",_.subjects.length-3," more"]})]})}),t.jsx("p",{className:"text-slate-300 text-sm mb-4 line-clamp-2",children:_.bio}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-slate-400 text-xs",children:"Total Bookings"}),t.jsx("div",{className:"text-white text-sm font-medium",children:_.totalBookings||0})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-slate-400 text-xs",children:"Response Time"}),t.jsx("div",{className:"text-white text-sm font-medium",children:_.responseTime})]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${_.online?"bg-emerald-400":"bg-slate-500"}`}),t.jsx("span",{className:"text-slate-300 text-sm",children:_.availability})]}),t.jsx("div",{className:"flex items-center space-x-1",children:_.languages.slice(0,2).map((P,se)=>t.jsx("span",{className:"px-2 py-1 bg-slate-800/50 rounded text-slate-300 text-xs",children:P},se))})]}),_.availableSessions&&_.availableSessions.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-slate-300 text-xs font-medium mb-2",children:"Next Available Sessions"}),t.jsxs("div",{className:"space-y-1",children:[_.availableSessions.slice(0,2).map((P,se)=>t.jsxs("div",{className:"flex items-center justify-between bg-slate-800/30 rounded-lg p-2",children:[t.jsx("div",{className:"text-slate-300 text-xs",children:new Date(P.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),t.jsxs("div",{className:"text-white text-xs font-medium",children:[P.startTime," - ",P.endTime]})]},se)),_.availableSessions.length>2&&t.jsxs("div",{className:"text-center text-slate-400 text-xs",children:["+",_.availableSessions.length-2," more slots"]})]})]})]}),t.jsx("div",{className:"px-6 pb-6",children:t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(Ue,{to:`/booking/${_.id}`,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-colors text-center",children:"Book Session"}),t.jsx("button",{onClick:()=>ue(_),className:"px-4 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors",children:"Message"})]})})]},_.id))}):t.jsx("div",{className:"space-y-4",children:Y.map(_=>t.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm hover:border-slate-700/50 transition-colors",children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:_.avatar}),_.online&&t.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-emerald-500 rounded-full border-2 border-slate-900"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-start justify-between mb-2",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:_.name}),t.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"text-white font-medium",children:_.rating}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",_.reviews," reviews)"]})]})]})}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[_.subjects.slice(0,4).map((P,se)=>t.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 text-sm",children:P},se)),_.subjects.length>4&&t.jsxs("span",{className:"px-3 py-1 bg-slate-700/50 border border-slate-600/50 rounded-full text-slate-300 text-sm",children:["+",_.subjects.length-4," more"]})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:_.bio}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:"text-slate-400",children:["Total Bookings: ",t.jsx("span",{className:"text-white",children:_.totalBookings||0})]}),t.jsxs("span",{className:"text-slate-400",children:["Response: ",t.jsx("span",{className:"text-white",children:_.responseTime})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${_.online?"bg-emerald-400":"bg-slate-500"}`}),t.jsx("span",{className:"text-slate-300 text-sm",children:_.availability})]})]})]})]}),t.jsxs("div",{className:"flex flex-col items-end space-y-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-white font-bold text-2xl",children:["$",_.hourlyRate]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"per hour"})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(Ue,{to:`/booking/${_.id}`,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-colors text-center",children:"Book Session"}),t.jsx("button",{onClick:()=>ue(_),className:"px-4 py-2 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors",children:"Message"})]})]})]})})},_.id))}),!U&&Y.length>0&&t.jsx("div",{className:"text-center mt-8",children:t.jsx("button",{className:"px-6 py-3 bg-slate-800/50 border border-slate-700/50 text-white rounded-lg hover:bg-slate-700/50 transition-colors",children:"Load More Tutors"})}),!U&&!z&&Y.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-slate-400",children:""})}),t.jsx("h3",{className:"text-white font-medium mb-2",children:"No tutors found"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Try adjusting your search criteria"})]}),z&&!U&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-red-400",children:""})}),t.jsx("h3",{className:"text-white font-medium mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:z}),t.jsx("button",{onClick:F,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Try Again"})]})]})})},qv={createBookingRequest:async s=>{try{return await at.post("/booking/requests",s)}catch(a){throw a.response?.data||a}},getStudentBookingRequests:async(s=null,a=10,i=0)=>{try{const o=new URLSearchParams;return s&&o.append("status",s),o.append("limit",a),o.append("offset",i),await at.get(`/booking/student/requests?${o}`)}catch(o){throw o.response?.data||o}},getTutorBookingRequests:async(s="pending",a=10,i=0)=>{try{const o=new URLSearchParams;return s&&o.append("status",s),o.append("limit",a),o.append("offset",i),await at.get(`/booking/tutor/requests?${o}`)}catch(o){throw o.response?.data||o}},respondToBookingRequest:async(s,a,i="")=>{try{return await at.put(`/booking/requests/${s}/respond`,{action:a,responseMessage:i})}catch(o){throw o.response?.data||o}},getBookingRequestDetails:async s=>{try{return await at.get(`/booking/requests/${s}`)}catch(a){throw a.response?.data||a}}},Rl=()=>{const s=[];for(let a=9;a<17;a++)s.push({startTime:`${a.toString().padStart(2,"0")}:00`,endTime:`${(a+1).toString().padStart(2,"0")}:00`});return s},$f=()=>({Monday:Rl(),Tuesday:Rl(),Wednesday:Rl(),Thursday:Rl(),Friday:Rl(),Saturday:Rl(),Sunday:Rl()}),$v=()=>{const{tutorId:s}=Ty(),a=Qn(),{user:i}=Ot(),[o,u]=T.useState(null),[d,h]=T.useState({}),[x,p]=T.useState(""),[f,g]=T.useState(null),[y,S]=T.useState("general"),[j,O]=T.useState(""),[E,U]=T.useState("virtual"),[k,z]=T.useState(""),[H,ne]=T.useState(""),[ye,F]=T.useState(""),[q,xe]=T.useState(!0),[ue,Y]=T.useState(!1),[_,P]=T.useState(null),[se,ae]=T.useState(0);T.useEffect(()=>{s&&(async()=>{try{xe(!0),P(null);try{const B=await Zu.getTutorById(s);u(B)}catch{u({id:s,name:"Abhinay Kotla",avatar:"AK",rating:4.8,reviews:95,hourlyRate:50,subjects:["Mathematics","Computer Science"],experience:"5+ years",responseTime:"< 45 min"})}try{const B=await Gt.getTutorAvailability(s);console.log(" Availability data received:",B);const v=B.availability||{};Object.keys(v).length>0?h(v):(console.log(" Tutor has no availability set, using default weekday schedule"),h($f()))}catch(B){console.error(" Error loading tutor availability:",B),console.log(" Using demo availability data"),h($f())}}catch(B){console.error("Error loading booking data:",B),P("Failed to load booking information")}finally{xe(!1)}})()},[s]);const ce=()=>{const N=[],B=new Date;B.setHours(0,0,0,0);const v=new Date(B);v.setDate(B.getDate()+se*7);for(let I=0;I<7;I++){const oe=new Date(v);if(oe.setDate(v.getDate()+I),se===0&&oe<B)continue;const me=oe.toLocaleDateString("en-US",{weekday:"long"}),ve=oe.getFullYear(),Ae=String(oe.getMonth()+1).padStart(2,"0"),Re=String(oe.getDate()).padStart(2,"0"),kt=`${ve}-${Ae}-${Re}`;d[me]&&d[me].length>0&&N.push({date:kt,dayName:me,displayDate:oe.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})}return N},A=()=>{if(!x)return[];const[N,B,v]=x.split("-").map(Number),oe=new Date(N,B-1,v).toLocaleDateString("en-US",{weekday:"long"});if(console.log(" Selected date:",x,"-> Day name:",oe),console.log(" Availability object keys:",Object.keys(d)),console.log(" Available slots for",oe,":",d[oe]),!d[oe]||d[oe].length===0){console.log(" No slots found for",oe,"- generating default slots");const me=[];for(let ve=9;ve<17;ve++)me.push({startTime:`${ve.toString().padStart(2,"0")}:00`,endTime:`${(ve+1).toString().padStart(2,"0")}:00`});return me}return d[oe]||[]},ee=async()=>{if(!f||!x){P("Please select a date and time slot");return}if(!j){P("Please select a subject for the session");return}if(E==="in_person"&&!k.trim()){P("Please provide a meeting location for in-person sessions");return}try{Y(!0),P(null);const N={tutorId:s,bookingDate:x,startTime:f.startTime,endTime:f.endTime,sessionType:y,subject:j||"General",notes:ye,meetingType:E,meetingLink:E==="virtual"?H:null,location:E==="in_person"?k:null};try{const B=await qv.createBookingRequest(N);console.log(" Booking request created:",B),a("/student-dashboard",{state:{message:`Booking request sent to ${o.name}! They will be notified and can accept or decline your request.`,type:"success",activeTab:"sessions"},replace:!0});return}catch(B){if(console.error("Error creating booking request:",B),B.error){P(B.error);return}console.log("API not available, using mock flow")}setTimeout(()=>{a("/student-dashboard",{state:{message:`Booking request sent to ${o.name}! They will be notified and can accept or decline your request. Check your Sessions tab for updates.`,type:"success",activeTab:"sessions"},replace:!0})},1500)}catch(N){console.error("Error creating booking request:",N),P(N.error||"Failed to send booking request")}finally{Y(!1)}},pe=[{value:"general",label:"General Tutoring"},{value:"homework",label:"Homework Help"},{value:"exam_prep",label:"Exam Preparation"},{value:"project",label:"Project Assistance"},{value:"consultation",label:"Academic Consultation"}];if(q)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-8",children:t.jsxs("div",{className:"animate-pulse text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto"})]})})});if(_&&!o)return t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-red-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl text-red-400",children:""})}),t.jsx("h2",{className:"text-white font-medium mb-2",children:"Failed to Load"}),t.jsx("p",{className:"text-slate-400 text-sm mb-4",children:_}),t.jsx("button",{onClick:()=>a("/tutors"),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Back to Tutors"})]})});const je=ce(),D=A();return t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("button",{onClick:()=>a("/tutors"),className:"text-slate-400 hover:text-white mb-4 flex items-center space-x-2 transition-colors",children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Back to Tutors"})]}),t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Book a Session"}),t.jsxs("p",{className:"text-slate-400",children:["Schedule a tutoring session with ",o?.name]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-6 sticky top-8",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl",children:o?.avatar}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:o?.name}),t.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-3",children:[t.jsx("span",{className:"text-yellow-400",children:""}),t.jsx("span",{className:"text-white font-medium",children:o?.rating}),t.jsxs("span",{className:"text-slate-400 text-sm",children:["(",o?.reviews," reviews)"]})]}),t.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:["$",o?.hourlyRate]}),t.jsx("div",{className:"text-slate-400 text-sm",children:"per hour"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-white font-medium mb-3",children:"Subjects"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o?.subjects?.slice(0,4).map((N,B)=>t.jsx("span",{className:"px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-blue-300 text-sm",children:N},B))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"Experience"}),t.jsx("span",{className:"text-white",children:o?.experience})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-400",children:"Response Time"}),t.jsx("span",{className:"text-white",children:o?.responseTime})]})]})]})}),t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"text-white font-medium",children:"Select Date"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:()=>ae(Math.max(0,se-1)),disabled:se===0,className:`p-2 rounded-lg border transition-colors ${se===0?"bg-slate-800/50 border-slate-700/50 text-slate-500 cursor-not-allowed":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:""}),t.jsx("span",{className:"text-slate-300 text-sm min-w-20 text-center",children:se===0?"This Week":se===1?"Next Week":`${se} weeks`}),t.jsx("button",{onClick:()=>ae(Math.min(8,se+1)),disabled:se>=8,className:`p-2 rounded-lg border transition-colors ${se>=8?"bg-slate-800/50 border-slate-700/50 text-slate-500 cursor-not-allowed":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:""})]})]}),je.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:je.map(N=>t.jsxs("button",{onClick:()=>{p(N.date),g(null)},className:`p-3 rounded-lg border transition-colors text-center ${x===N.date?"bg-blue-500/20 border-blue-500/50 text-blue-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:[t.jsx("div",{className:"font-medium",children:N.displayDate}),t.jsx("div",{className:"text-xs text-slate-400",children:N.dayName})]},N.date))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-slate-400 mb-2",children:"No availability found"}),t.jsx("div",{className:"text-slate-500 text-sm",children:se===0?"This tutor has no available slots this week":`This tutor has no available slots in ${se===1?"next week":`${se} weeks`}`}),t.jsx("div",{className:"text-slate-500 text-xs mt-1",children:"Try navigating to different weeks using the arrows above"})]})]}),x&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-white font-medium mb-4",children:"Select Time"}),D.length>0?t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:D.map((N,B)=>t.jsxs("button",{onClick:()=>g(N),className:`p-3 rounded-lg border transition-colors text-center ${f===N?"bg-blue-500/20 border-blue-500/50 text-blue-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:[t.jsxs("div",{className:"font-medium",children:[Gt.formatTime(N.startTime)," - ",Gt.formatTime(N.endTime)]}),t.jsxs("div",{className:"text-xs text-slate-400",children:[Gt.calculateDuration(N.startTime,N.endTime),"h session"]})]},B))}):t.jsx("div",{className:"text-center py-4",children:t.jsx("div",{className:"text-slate-400",children:"No time slots available"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Session Type"}),t.jsx("select",{value:y,onChange:N=>S(N.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:pe.map(N=>t.jsx("option",{value:N.value,children:N.label},N.value))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Subject"}),t.jsxs("select",{value:j,onChange:N=>O(N.target.value),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white focus:outline-none focus:border-blue-500/50",children:[t.jsx("option",{value:"",children:"Select a subject..."}),o?.subjects?.map((N,B)=>t.jsx("option",{value:N,children:N},B))]}),o?.subjects?.length===0&&t.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"No subjects available for this tutor"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Meeting Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx("button",{type:"button",onClick:()=>U("virtual"),className:`p-4 rounded-lg border transition-all ${E==="virtual"?"bg-blue-500/20 border-blue-500/50 text-blue-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Virtual"}),t.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Online meeting via video call"})]})}),t.jsx("button",{type:"button",onClick:()=>U("in_person"),className:`p-4 rounded-lg border transition-all ${E==="in_person"?"bg-green-500/20 border-green-500/50 text-green-300":"bg-slate-800/50 border-slate-700/50 text-slate-300 hover:bg-slate-700/50"}`,children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"In-Person"}),t.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"Meet at a physical location"})]})})]})]}),E==="in_person"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Meeting Location"}),t.jsx("input",{type:"text",value:k,onChange:N=>z(N.target.value),placeholder:"Enter the meeting location (e.g., University Library, Cafe, etc.)",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-green-500/50",required:!0})]}),E==="virtual"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Meeting Link (Optional)"}),t.jsx("input",{type:"url",value:H,onChange:N=>ne(N.target.value),placeholder:"Enter meeting link (Zoom, Google Meet, etc.) or leave blank for tutor to provide",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50"}),t.jsx("div",{className:"mt-2 text-xs text-slate-400",children:" If left blank, the tutor will provide the meeting link when they accept your booking"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-white font-medium mb-3",children:"Session Notes (Optional)"}),t.jsx("textarea",{value:ye,onChange:N=>F(N.target.value),placeholder:"Any specific topics you'd like to focus on, questions you have, or additional information for the tutor...",rows:4,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none"})]}),_&&t.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:t.jsx("div",{className:"text-red-300 text-sm",children:_})}),f&&x&&t.jsxs("div",{className:"mb-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[t.jsx("h5",{className:"text-blue-300 font-medium mb-2",children:"Booking Summary"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Date:"}),t.jsx("span",{className:"text-white",children:new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Time:"}),t.jsxs("span",{className:"text-white",children:[Gt.formatTime(f.startTime)," - ",Gt.formatTime(f.endTime)]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Duration:"}),t.jsxs("span",{className:"text-white",children:[Gt.calculateDuration(f.startTime,f.endTime)," hour(s)"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Meeting Type:"}),t.jsxs("span",{className:"text-white flex items-center space-x-1",children:[t.jsx("span",{children:E==="virtual"?"":""}),t.jsx("span",{children:E==="virtual"?"Virtual":"In-Person"})]})]}),E==="in_person"&&k&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Location:"}),t.jsx("span",{className:"text-white",children:k})]}),E==="virtual"&&H&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-slate-300",children:"Meeting Link:"}),t.jsx("span",{className:"text-white text-xs truncate max-w-48",title:H,children:H})]}),t.jsxs("div",{className:"flex justify-between font-medium",children:[t.jsx("span",{className:"text-slate-300",children:"Total Cost:"}),t.jsxs("span",{className:"text-white",children:["$",(Gt.calculateDuration(f.startTime,f.endTime)*o?.hourlyRate).toFixed(2)]})]})]})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{onClick:()=>a("/tutors"),className:"flex-1 px-6 py-3 bg-slate-800/50 border border-slate-700/50 text-slate-300 rounded-lg hover:bg-slate-700/50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:ee,disabled:!f||!x||ue,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-colors ${f&&x&&!ue?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white":"bg-slate-700/50 text-slate-400 cursor-not-allowed"}`,children:ue?"Booking...":"Book Session"})]})]})})]})]})})},Zi="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Yv=()=>{const{user:s}=Ot(),[a,i]=T.useState(!1),[o,u]=T.useState(!0),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState([]),[y,S]=T.useState([]),[j,O]=T.useState([]),[E,U]=T.useState({full_name:"",email:"",phone_number:"",bio:"",location_city:"",location_state:"",profile_image:"",hourly_rate:"",subjects_taught:[],available_days:[],response_time_avg:"",is_online:!1,rating:null,total_reviews:null,total_sessions:null,current_school:"",graduation_year:null,grade_level:"",subjects_of_interest:[],learning_goals:""});T.useEffect(()=>{(async()=>{if(!s){u(!1);return}try{u(!0),p(null);const xe=s.role==="student"?`${Zi}/profiles/student`:`${Zi}/profiles/tutor`;console.log("Fetching profile from:",xe),console.log("User object:",s),console.log("User role:",s.role),console.log("Token exists:",!!localStorage.getItem("token")),console.log("Token:",localStorage.getItem("token")?.substring(0,50)+"...");const ue=await fetch(xe,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(console.log("Response status:",ue.status),ue.ok){const Y=await ue.json();if(console.log("Profile data received:",Y),Y.success){U({full_name:Y.data.full_name||"",email:Y.data.email||"",phone_number:Y.data.phone_number||"",bio:Y.data.bio||"",location_city:Y.data.location_city||"",location_state:Y.data.location_state||"",profile_image:Y.data.profile_image||"",hourly_rate:Y.data.hourly_rate||"",subjects_taught:Array.isArray(Y.data.subjects_taught)?Y.data.subjects_taught:Y.data.subjects_taught?Y.data.subjects_taught.split(",").map(se=>se.trim()):[],available_days:Array.isArray(Y.data.available_days)?Y.data.available_days:Y.data.available_days?Y.data.available_days.split(",").map(se=>se.trim()):[],response_time_avg:Y.data.response_time_avg||"",is_online:Y.data.is_online||!1,rating:Y.data.rating,total_reviews:Y.data.total_reviews,total_sessions:Y.data.total_sessions,current_school:Y.data.current_school||"",graduation_year:Y.data.graduation_year||null,grade_level:Y.data.grade_level||"",subjects_of_interest:Array.isArray(Y.data.subjects_of_interest)?Y.data.subjects_of_interest:Y.data.subjects_of_interest?Y.data.subjects_of_interest.split(",").map(se=>se.trim()):[],learning_goals:Y.data.learning_goals||""});const _=Array.isArray(Y.data.subjects_taught)?Y.data.subjects_taught:Y.data.subjects_taught?Y.data.subjects_taught.split(",").map(se=>se.trim()):[];S(_);const P=Array.isArray(Y.data.available_days)?Y.data.available_days:Y.data.available_days?Y.data.available_days.split(",").map(se=>se.trim()):[];if(O(P),s?.role==="student"){const se=Array.isArray(Y.data.subjects_of_interest)?Y.data.subjects_of_interest:Y.data.subjects_of_interest?Y.data.subjects_of_interest.split(",").map(ae=>ae.trim()):[];S(se)}p(null)}else p(Y.message||"Failed to load profile data")}else{const Y=await ue.json().catch(()=>({}));console.error("Failed to fetch profile:",ue.statusText,Y),p(Y.message||`Failed to load profile data (${ue.status})`)}}catch(xe){console.error("Error fetching profile:",xe),p("Error loading profile data"),U(ue=>({...ue,name:s?.name||"",email:s?.email||""}))}finally{u(!1)}})(),k()},[s]);const k=async()=>{try{const q=await uo.getSubjects();q.success&&g(q.data)}catch(q){console.error("Error fetching subjects:",q),g([{id:"1",name:"Mathematics",category:"academic"},{id:"2",name:"Physics",category:"academic"},{id:"3",name:"Chemistry",category:"academic"},{id:"4",name:"Computer Science",category:"academic"},{id:"5",name:"Biology",category:"academic"},{id:"6",name:"English",category:"academic"},{id:"7",name:"History",category:"academic"},{id:"8",name:"Economics",category:"academic"}])}},z=(q,xe)=>{U(ue=>({...ue,[q]:xe}))},H=q=>{S(xe=>xe.includes(q)?xe.filter(ue=>ue!==q):[...xe,q])},ne=q=>{O(xe=>xe.includes(q)?xe.filter(ue=>ue!==q):[...xe,q])},ye=async()=>{if(s)try{h(!0),p(null);const q=s.role==="student"?`${Zi}/profiles/student`:`${Zi}/profiles/tutor`,xe={full_name:E.full_name,phone_number:E.phone_number,bio:E.bio,location_city:E.location_city,location_state:E.location_state,profile_image:E.profile_image,...s.role==="tutor"&&{hourly_rate:E.hourly_rate?parseFloat(E.hourly_rate):null,subjects_taught:y,available_days:j,response_time_avg:E.response_time_avg?parseFloat(E.response_time_avg):null,is_online:E.is_online},...s.role==="student"&&{current_school:E.current_school,graduation_year:E.graduation_year?parseInt(E.graduation_year):null,grade_level:E.grade_level,subjects_of_interest:y,learning_goals:E.learning_goals}},ue=await fetch(q,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(xe)}),Y=await ue.json();ue.ok&&Y.success?(i(!1),p(null),console.log("Profile saved successfully:",Y.data)):(p(Y.message||`Failed to save profile (${ue.status})`),console.error("Save error:",Y))}catch(q){p("Error saving profile"),console.error("Error saving profile:",q)}finally{h(!1)}},F=()=>{i(!1),s?.id&&window.location.reload()};return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:"Loading profile..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900",children:t.jsx(Kt,{className:"py-8",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Profile"}),t.jsxs("p",{className:"text-slate-400",children:["Manage your ",s?.role||"account"," information"]})]}),x&&t.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-lg",children:t.jsx("p",{className:"text-red-400 text-sm",children:x})}),t.jsxs(zs,{className:"p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:E.full_name?E.full_name.split(" ").map(q=>q[0]).join("").toUpperCase():E.email?E.email[0].toUpperCase():"?"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:E.full_name||E.email||"No Name"}),t.jsx("p",{className:"text-slate-400",children:E.email}),t.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-400 rounded text-sm capitalize mt-1",children:s?.role})]})]}),t.jsx(De,{variant:a?"secondary":"primary",onClick:()=>i(!a),children:a?"Cancel":"Edit"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),a?t.jsx(Tt,{value:E.full_name,onChange:q=>z("full_name",q.target.value),placeholder:"Enter your full name"}):t.jsx("p",{className:"text-white",children:E.full_name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),a?t.jsx(Tt,{type:"email",value:E.email,onChange:q=>z("email",q.target.value),placeholder:"Enter your email"}):t.jsx("p",{className:"text-white",children:E.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),a?t.jsx(Tt,{value:E.phone_number,onChange:q=>z("phone_number",q.target.value),placeholder:"Enter your phone number"}):t.jsx("p",{className:"text-white",children:E.phone_number})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"City"}),a?t.jsx(Tt,{value:E.location_city,onChange:q=>z("location_city",q.target.value),placeholder:"Enter your city"}):t.jsx("p",{className:"text-white",children:E.location_city})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"State"}),a?t.jsx(Tt,{value:E.location_state,onChange:q=>z("location_state",q.target.value),placeholder:"Enter your state"}):t.jsx("p",{className:"text-white",children:E.location_state})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"About"}),a?t.jsx("textarea",{value:E.bio,onChange:q=>z("bio",q.target.value),className:"w-full h-24 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none",placeholder:"Tell us about yourself..."}):t.jsx("p",{className:"text-white leading-relaxed",children:E.bio})]}),s?.role==="student"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t border-slate-700/50 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Student Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Current School"}),a?t.jsx(Tt,{value:E.current_school,onChange:q=>z("current_school",q.target.value),placeholder:"Enter your school name"}):t.jsx("p",{className:"text-white",children:E.current_school||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Grade Level"}),a?t.jsx(Tt,{value:E.grade_level,onChange:q=>z("grade_level",q.target.value),placeholder:"e.g., 10th Grade, Sophomore"}):t.jsx("p",{className:"text-white",children:E.grade_level||"Not specified"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Graduation Year"}),a?t.jsx(Tt,{type:"number",min:"2020",max:"2040",value:E.graduation_year||"",onChange:q=>z("graduation_year",q.target.value),placeholder:"2025"}):t.jsx("p",{className:"text-white",children:E.graduation_year||"Not specified"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subjects of Interest"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-slate-800/50 p-3 rounded-md border border-slate-600",children:f.map(q=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:y.includes(q.name),onChange:()=>H(q.name),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:q.name})]},q.id))}),y.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:y.map(q=>t.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs",children:q},q))})]}):t.jsx("div",{className:"text-white",children:Array.isArray(E.subjects_of_interest)&&E.subjects_of_interest.length>0?t.jsx("div",{className:"flex flex-wrap gap-1",children:E.subjects_of_interest.map(q=>t.jsx("span",{className:"bg-slate-600 text-white px-2 py-1 rounded text-sm",children:q},q))}):t.jsx("p",{children:"Not specified"})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Learning Goals"}),a?t.jsx("textarea",{value:E.learning_goals,onChange:q=>z("learning_goals",q.target.value),className:"w-full h-24 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none",placeholder:"What would you like to achieve with tutoring?"}):t.jsx("p",{className:"text-white leading-relaxed",children:E.learning_goals||"Not specified"})]})]})}),s?.role==="tutor"&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"border-t border-slate-700/50 pt-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tutor Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Hourly Rate ($)"}),a?t.jsx(Tt,{type:"number",step:"0.01",value:E.hourly_rate||"",onChange:q=>z("hourly_rate",q.target.value),placeholder:"35.00"}):t.jsxs("p",{className:"text-white",children:["$",E.hourly_rate||"Not set","/hour"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subjects Taught"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-slate-800/50 p-3 rounded-md border border-slate-600",children:f.map(q=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:y.includes(q.name),onChange:()=>H(q.name),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:q.name})]},q.id))}),y.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:y.map(q=>t.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-xs",children:q},q))})]}):t.jsx("div",{className:"text-white",children:Array.isArray(E.subjects_taught)&&E.subjects_taught.length>0?t.jsx("div",{className:"flex flex-wrap gap-1",children:E.subjects_taught.map(q=>t.jsx("span",{className:"bg-slate-600 text-white px-2 py-1 rounded text-sm",children:q},q))}):t.jsx("p",{children:"Not specified"})})]})]}),t.jsxs("div",{className:"bg-slate-800/20 rounded-lg p-4 mb-6",children:[t.jsx("h4",{className:"text-md font-semibold text-slate-300 mb-3 flex items-center",children:"Analytics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.rating?` ${Number(E.rating).toFixed(1)}`:" N/A"}),t.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"Rating"})]}),t.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.total_reviews||0}),t.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"Total Reviews"})]}),t.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:E.total_sessions||0}),t.jsx("div",{className:"text-sm text-slate-400 mt-1",children:"Sessions Completed"})]})]})]}),"                                        ",t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Avg Response Time (minutes)"}),a?t.jsx(Tt,{type:"number",min:"0",value:E.response_time_avg||"",onChange:q=>z("response_time_avg",q.target.value),placeholder:"15"}):t.jsx("p",{className:"text-white",children:E.response_time_avg?`${E.response_time_avg} minutes`:"Not tracked"})]}),t.jsx("div",{className:"space-y-4",children:t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:E.is_online,onChange:q=>z("is_online",q.target.checked),disabled:!a,className:"rounded bg-slate-800 border-slate-700 text-blue-500 focus:ring-blue-500 disabled:opacity-50"}),t.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Currently Online"})]})})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Available Days"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 bg-slate-800/50 p-3 rounded-md border border-slate-600",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(q=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:j.includes(q),onChange:()=>ne(q),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:q})]},q))}),j.length>0&&t.jsx("div",{className:"text-xs text-slate-400",children:"Default hours: 9:00 AM - 5:00 PM on selected days"}),j.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:j.map(q=>t.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded text-xs",children:q},q))})]}):t.jsx("div",{className:"text-white",children:Array.isArray(E.available_days)&&E.available_days.length>0?t.jsxs("div",{children:[t.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:E.available_days.map(q=>t.jsx("span",{className:"bg-slate-600 text-white px-2 py-1 rounded text-sm",children:q},q))}),t.jsx("p",{className:"text-xs text-slate-400",children:"Available 9:00 AM - 5:00 PM on selected days"})]}):t.jsx("p",{className:"text-slate-400",children:"No availability set"})})]})]})})]}),a&&t.jsxs("div",{className:"flex justify-center space-x-4 mt-8",children:[t.jsx(De,{onClick:ye,disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"}),t.jsx(De,{variant:"secondary",onClick:F,disabled:d,children:"Cancel"})]})]})]})})})},Yf="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Fv=()=>{const{user:s}=Ot(),[a,i]=T.useState(!1),[o,u]=T.useState(!0),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState(null),[y,S]=T.useState([]),[j,O]=T.useState([]),[E,U]=T.useState([]),[k,z]=T.useState({full_name:"",email:"",phone_number:"",bio:"",location_city:"",location_state:"",hourly_rate:"",subjects_taught:[],available_days:[],response_time_avg:"",is_online:!1,rating:null,total_reviews:0,total_sessions:0}),H=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];T.useEffect(()=>{ne(),ye()},[]);const ne=async()=>{try{u(!0),p(null);const _=localStorage.getItem("token");console.log(" Fetching tutor profile with token:",_?"Token exists":"No token");const P=await fetch(`${Yf}/profiles/tutor`,{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}});console.log(" Response status:",P.status);const se=await P.json();if(console.log(" Response data:",se),P.ok&&se.success){const ae=se.data;z({full_name:ae.full_name||"",email:ae.email||"",phone_number:ae.phone_number||"",bio:ae.bio||ae.account_bio||"",location_city:ae.location_city||"",location_state:ae.location_state||"",hourly_rate:ae.hourly_rate||"",subjects_taught:Array.isArray(ae.subjects_taught)?ae.subjects_taught:[],available_days:Array.isArray(ae.available_days)?ae.available_days:[],response_time_avg:ae.response_time_avg||"",is_online:ae.is_online||!1,rating:ae.rating,total_reviews:ae.total_reviews||0,total_sessions:ae.total_sessions||0}),O(Array.isArray(ae.subjects_taught)?ae.subjects_taught:[]),U(Array.isArray(ae.available_days)?ae.available_days:[])}else p(se.message||"Failed to load profile")}catch(_){console.error("Error fetching profile:",_),p("Failed to load profile")}finally{u(!1)}},ye=async()=>{try{const _=await uo.getSubjects();_.success&&S(_.data)}catch(_){console.error("Error fetching subjects:",_)}},F=(_,P)=>{z(se=>({...se,[_]:P}))},q=_=>{O(P=>P.includes(_)?P.filter(se=>se!==_):[...P,_])},xe=_=>{U(P=>P.includes(_)?P.filter(se=>se!==_):[...P,_])},ue=async()=>{try{h(!0),p(null),g(null);const _={full_name:k.full_name,phone_number:k.phone_number,bio:k.bio,location_city:k.location_city,location_state:k.location_state,hourly_rate:k.hourly_rate?parseFloat(k.hourly_rate):null,subjects_taught:j,available_days:E,response_time_avg:k.response_time_avg?parseInt(k.response_time_avg):null,is_online:k.is_online},P=await fetch(`${Yf}/profiles/tutor`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify(_)}),se=await P.json();P.ok&&se.success?(g("Profile updated successfully!"),i(!1),ne(),setTimeout(()=>g(null),3e3)):p(se.message||"Failed to save profile")}catch(_){console.error("Error saving profile:",_),p("Failed to save profile")}finally{h(!1)}},Y=()=>{i(!1),ne()};return o?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-400",children:"Loading profile..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Tutor Profile"}),t.jsx("p",{className:"text-slate-400",children:"Manage your tutoring information"})]}),x&&t.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/50 rounded-lg",children:t.jsx("p",{className:"text-red-400 text-sm",children:x})}),f&&t.jsx("div",{className:"mb-6 p-4 bg-green-900/20 border border-green-500/50 rounded-lg",children:t.jsx("p",{className:"text-green-400 text-sm",children:f})}),t.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-2xl font-bold",children:k.full_name?k.full_name.split(" ").map(_=>_[0]).join("").toUpperCase():"?"}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:k.full_name||"No Name"}),t.jsx("p",{className:"text-slate-400",children:k.email}),t.jsx("span",{className:"inline-block px-2 py-1 bg-blue-600/20 text-blue-400 rounded text-sm mt-1",children:"Tutor"})]})]}),t.jsx("button",{onClick:()=>a?Y():i(!0),className:`px-6 py-2 rounded-lg font-semibold transition-colors ${a?"bg-slate-700 text-white hover:bg-slate-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:a?"Cancel":"Edit"})]}),t.jsxs("div",{className:"space-y-6 mb-8",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),a?t.jsx("input",{type:"text",value:k.full_name,onChange:_=>F("full_name",_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your full name"}):t.jsx("p",{className:"text-white",children:k.full_name||"Not set"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),t.jsx("p",{className:"text-white",children:k.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Phone Number"}),a?t.jsx("input",{type:"text",value:k.phone_number,onChange:_=>F("phone_number",_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your phone number"}):t.jsx("p",{className:"text-white",children:k.phone_number||"Not set"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"City"}),a?t.jsx("input",{type:"text",value:k.location_city,onChange:_=>F("location_city",_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your city"}):t.jsx("p",{className:"text-white",children:k.location_city||"Not set"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"State"}),a?t.jsx("input",{type:"text",value:k.location_state,onChange:_=>F("location_state",_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"Enter your state"}):t.jsx("p",{className:"text-white",children:k.location_state||"Not set"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"About"}),a?t.jsx("textarea",{value:k.bio,onChange:_=>F("bio",_.target.value),className:"w-full h-24 px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 resize-none",placeholder:"Tell students about yourself..."}):t.jsx("p",{className:"text-white leading-relaxed",children:k.bio||"Not set"})]})]}),t.jsxs("div",{className:"border-t border-slate-700/50 pt-8 space-y-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Tutoring Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Hourly Rate ($)"}),a?t.jsx("input",{type:"number",step:"0.01",value:k.hourly_rate,onChange:_=>F("hourly_rate",_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"35.00"}):t.jsxs("p",{className:"text-white",children:["$",k.hourly_rate||"Not set","/hour"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Avg Response Time (minutes)"}),a?t.jsx("input",{type:"number",min:"0",value:k.response_time_avg,onChange:_=>F("response_time_avg",_.target.value),className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50",placeholder:"15"}):t.jsx("p",{className:"text-white",children:k.response_time_avg?`${k.response_time_avg} minutes`:"Not tracked"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subjects Taught"}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:y.map(_=>t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-slate-700/30 p-2 rounded",children:[t.jsx("input",{type:"checkbox",checked:j.includes(_.name),onChange:()=>q(_.name),className:"rounded border-slate-500 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-slate-300",children:_.name})]},_.id))}),j.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(_=>t.jsx("span",{className:"bg-blue-600/20 text-blue-400 px-3 py-1 rounded-full text-sm border border-blue-500/30",children:_},_))})]}):t.jsx("div",{children:k.subjects_taught.length>0?t.jsx("div",{className:"flex flex-wrap gap-2",children:k.subjects_taught.map(_=>t.jsx("span",{className:"bg-slate-700/50 text-slate-300 px-3 py-1 rounded-full text-sm",children:_},_))}):t.jsx("p",{className:"text-slate-400",children:"No subjects selected"})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Available Days ",t.jsx("span",{className:"text-slate-500 text-xs",children:"(Classes available 9 AM - 5 PM)"})]}),a?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:H.map(_=>t.jsxs("label",{className:`flex items-center justify-center space-x-2 cursor-pointer p-3 rounded-lg border transition-all ${E.includes(_)?"bg-green-600/20 border-green-500/50 text-green-400":"bg-slate-800/50 border-slate-700/50 text-slate-400 hover:border-slate-600"}`,children:[t.jsx("input",{type:"checkbox",checked:E.includes(_),onChange:()=>xe(_),className:"sr-only"}),t.jsx("span",{className:"text-sm font-medium",children:_})]},_))}),E.length>0&&t.jsxs("p",{className:"text-xs text-slate-400",children:["Students can book sessions on ",E.join(", ")," between 9:00 AM - 5:00 PM"]})]}):t.jsx("div",{children:k.available_days.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex flex-wrap gap-2",children:k.available_days.map(_=>t.jsx("span",{className:"bg-green-600/20 text-green-400 px-3 py-1 rounded-full text-sm border border-green-500/30",children:_},_))}),t.jsx("p",{className:"text-xs text-slate-400",children:"Available 9:00 AM - 5:00 PM on selected days"})]}):t.jsx("p",{className:"text-slate-400",children:"No availability set"})})]}),t.jsx("div",{className:"flex items-center space-x-6",children:t.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.is_online,onChange:_=>F("is_online",_.target.checked),disabled:!a,className:"rounded bg-slate-800 border-slate-700 text-blue-500 focus:ring-blue-500 disabled:opacity-50"}),t.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Currently Online"})]})})]}),t.jsxs("div",{className:"border-t border-slate-700/50 pt-8 mt-8",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Analytics"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.rating?` ${Number(k.rating).toFixed(1)}`:"N/A"}),t.jsx("div",{className:"text-sm text-slate-400",children:"Rating"})]}),t.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.total_reviews}),t.jsx("div",{className:"text-sm text-slate-400",children:"Total Reviews"})]}),t.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:k.total_sessions}),t.jsx("div",{className:"text-sm text-slate-400",children:"Sessions Completed"})]})]})]}),a&&t.jsxs("div",{className:"flex justify-center space-x-4 mt-8 pt-6 border-t border-slate-700/50",children:[t.jsx("button",{onClick:ue,disabled:d,className:"px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?t.jsxs("span",{className:"flex items-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"}),t.jsx("button",{onClick:Y,disabled:d,className:"px-8 py-3 bg-slate-700 text-white rounded-lg font-semibold hover:bg-slate-600 disabled:opacity-50 transition-colors",children:"Cancel"})]})]})]})})},Gv=()=>t.jsx(Kt,{className:"py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-8xl mb-8",children:""}),t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"404 - Page Not Found"}),t.jsx("p",{className:"text-gray-400 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),t.jsx(Ue,{to:"/",children:t.jsx(De,{children:"Return Home"})})]})}),Vv=()=>t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 to-slate-900",children:t.jsx(Kt,{className:"py-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl flex items-center justify-center mx-auto mb-6",children:t.jsx("span",{className:"text-white font-bold text-3xl",children:"T"})}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"About Tutor Together"}),t.jsx("p",{className:"text-xl text-slate-300 max-w-2xl mx-auto leading-relaxed",children:"Connecting learners with expert tutors to unlock academic potential and achieve educational goals together."})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-8 border border-slate-700/50",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mb-4",children:t.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.293l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z",clipRule:"evenodd"})})}),t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Our Mission"}),t.jsx("p",{className:"text-slate-300 leading-relaxed",children:"To make quality education accessible to everyone by connecting students with passionate, qualified tutors who can provide personalized learning experiences tailored to individual needs."})]})}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-8 border border-slate-700/50",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center mb-4",children:t.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"What We Offer"}),t.jsx("p",{className:"text-slate-300 leading-relaxed",children:"A comprehensive platform featuring expert tutors across all subjects, flexible scheduling, secure messaging, and an AI assistant to support your learning journey 24/7."})]})})]}),t.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[t.jsxs("div",{className:"text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})})}),t.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Expert Tutors"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Qualified professionals with proven track records in their subjects"})]}),t.jsxs("div",{className:"text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})}),t.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Flexible Scheduling"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Book sessions that fit your schedule with easy calendar integration"})]}),t.jsxs("div",{className:"text-center p-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-500 to-green-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z",clipRule:"evenodd"})})}),t.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"AI Assistant"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"24/7 AI support for instant help with questions and study guidance"})]})]}),t.jsxs("div",{className:"text-center bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-3xl p-8 border border-blue-500/20",children:[t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Ready to Start Learning?"}),t.jsx("p",{className:"text-slate-300 mb-6 max-w-2xl mx-auto",children:"Join thousands of students who have already improved their academic performance with our platform."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx("a",{href:"/register",className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200",children:"Get Started"}),t.jsx("a",{href:"/tutors",className:"px-8 py-3 bg-slate-800 text-white font-semibold rounded-xl border border-slate-600 hover:bg-slate-700 transition-all duration-200",children:"Find Tutors"})]})]})]})})}),Pv=()=>t.jsx(Kt,{className:"py-20",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-400 mb-8",children:"You don't have permission to access this page."}),t.jsx("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Go to Home"})]})}),Ml={async getTasks(){try{return await at.get("/tasks")}catch(s){throw console.error("Error fetching tasks:",s),s}},async createTask(s){try{const a={title:s.title,description:s.description,subject:s.subject,priority:s.priority,estimatedTime:s.estimatedTime,dueDate:s.due};return await at.post("/tasks",a)}catch(a){throw console.error("Error creating task:",a),a}},async updateTask(s,a){try{const i={title:a.title,description:a.description,subject:a.subject,priority:a.priority,estimatedTime:a.estimatedTime,dueDate:a.due,status:a.status,progress:a.progress};return await at.put(`/tasks/${s}`,i)}catch(i){throw console.error("Error updating task:",i),i}},async deleteTask(s){try{return await at.delete(`/tasks/${s}`)}catch(a){throw console.error("Error deleting task:",a),a}}},Qv=()=>{const{user:s}=Ot(),[a,i]=T.useState(new Date),[o,u]=T.useState(new Date().getDate()),[d,h]=T.useState(!1),[x,p]=T.useState(null),[f,g]=T.useState([]),[y,S]=T.useState(!0),[j,O]=T.useState([]),[E,U]=T.useState(!0);T.useEffect(()=>{const N=async()=>{try{S(!0);let v;s?.role==="student"?v=await Gt.getStudentBookings():s?.role==="tutor"?v=await Gt.getTutorBookings():v=[],console.log(" Raw API response for bookings:",v),console.log(" Response type:",typeof v),console.log(" Response keys:",v?Object.keys(v):"none"),v&&v.bookings&&(console.log(" bookings.bookings found:",v.bookings),console.log(" bookings.bookings length:",v.bookings.length),console.log(" First booking:",v.bookings[0]));const I=v?.bookings||v?.data||v||[];console.log(" Extracted bookings array:",I),console.log(" Bookings array length:",I.length);const oe=Array.isArray(I)?I:[];console.log(" Setting realBookings to:",oe),g(oe)}catch(v){console.error("Failed to load bookings for calendar:",v),console.log(" Setting realBookings to empty array due to error"),g([])}finally{S(!1)}},B=async()=>{try{U(!0);const v=await Ml.getTasks();console.log("Loaded tasks for calendar:",v.data);const I=v.data.map(oe=>{let me=oe.due_date;if(oe.due_date){const ve=new Date(oe.due_date);if(!isNaN(ve.getTime())){const Ae=ve.getFullYear(),Re=String(ve.getMonth()+1).padStart(2,"0"),kt=String(ve.getDate()).padStart(2,"0");me=`${Ae}-${Re}-${kt}`}}return console.log("Task date transformation:",oe.due_date,"->",me),{id:`task-${oe.id}`,title:oe.title,date:me,time:"23:59",type:"task",priority:oe.priority,status:oe.status,subject:oe.subject,description:oe.description,progress:oe.progress,color:oe.priority==="high"?"bg-red-500":oe.priority==="medium"?"bg-amber-500":"bg-green-500"}});console.log("Transformed tasks for calendar:",I),O(I)}catch(v){console.error("Failed to load tasks for calendar:",v),O([])}finally{U(!1)}};s?.role==="student"||s?.role==="tutor"?(N(),B()):(S(!1),U(!1))},[s?.role]);const z=(()=>{console.log("realBookings in getEventsForRole:",f),console.log("user role:",s?.role);const N=(Array.isArray(f)?f:[]).map(v=>(console.log("Processing booking for calendar:",v),!v.id||!v.date?(console.warn("Booking missing required fields:",v),null):s?.role==="tutor"?{id:v.id,title:`${v.subject||"Session"} - ${v.studentName||"Student"}`,date:v.date,time:v.startTime||"00:00",type:"session",status:v.status||"pending",student:v.studentName||"Student",subject:v.subject||"General",duration:v.duration||60,meetingType:v.meetingType||"virtual",location:v.location||null,totalAmount:v.totalAmount||0,color:v.status==="completed"?"bg-green-500":v.status==="confirmed"||v.status==="scheduled"?"bg-blue-500":v.status==="pending"?"bg-yellow-500":v.status==="cancelled"?"bg-red-500":v.status==="rejected"?"bg-red-400":"bg-gray-500"}:{id:v.id,title:`${v.subject||"Session"} - ${v.tutorName||"Tutor"}`,date:v.date,time:v.startTime||"00:00",type:"session",tutor:v.tutorName||"Tutor",subject:v.subject||"General",status:v.status||"pending",meetingType:v.meetingType||"virtual",location:v.location||null,duration:v.duration||60,totalAmount:v.totalAmount||0,color:v.status==="confirmed"||v.status==="scheduled"?"bg-green-500":v.status==="pending"?"bg-yellow-500":v.status==="completed"?"bg-blue-500":v.status==="cancelled"?"bg-red-500":v.status==="rejected"?"bg-red-400":"bg-gray-500"})).filter(Boolean),B=[...N,...j];return console.log(" Calendar Events Summary:"),console.log("- Booking events:",N.length,N),console.log("- Task events:",j.length,j),console.log("- All combined events:",B.length,B),B})(),H=N=>["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Tutor Together//Calendar Export//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH",N.map(v=>{const I=new Date(`${v.date}T${v.time}`),oe=v.duration||60,me=new Date(I.getTime()+oe*60*1e3),ve=Ae=>Ae.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";return["BEGIN:VEVENT",`DTSTART:${ve(I)}`,`DTEND:${ve(me)}`,`SUMMARY:${v.title}`,`DESCRIPTION:${v.type==="session"?s?.role==="tutor"?`Tutoring session with ${v.student} - ${v.subject}: ${v.topic||"General tutoring"}`:`Tutoring session with ${v.tutor} - ${v.subject}${v.meetingType?` (${v.meetingType==="virtual"?"Virtual":"In-Person"})`:""}${v.location?` - Location: ${v.location}`:""}`:v.type==="task"?`Priority: ${v.priority}`:`Location: ${v.location||"TBD"}`}`,`UID:${v.id}@tutortogether.com`,"STATUS:CONFIRMED","END:VEVENT"].join(`\r
`)}).join(`\r
`),"END:VCALENDAR"].join(`\r
`),ne=async()=>{h(!0);try{await new Promise(oe=>setTimeout(oe,1500));const N=H(z),B=new Blob([N],{type:"text/calendar;charset=utf-8"}),v=window.URL.createObjectURL(B),I=document.createElement("a");I.href=v,I.download=`tutor-together-calendar-${new Date().toISOString().split("T")[0]}.ics`,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(v),p("Calendar exported successfully as iCal!"),setTimeout(()=>p(null),3e3)}catch(N){console.error("Export failed:",N),p("Export failed. Please try again."),setTimeout(()=>p(null),3e3)}finally{h(!1)}},ye=N=>{const B=N.getFullYear(),v=N.getMonth(),I=new Date(B,v,1),me=new Date(B,v+1,0).getDate(),ve=I.getDay(),Ae=[];for(let Re=0;Re<ve;Re++)Ae.push(null);for(let Re=1;Re<=me;Re++)Ae.push(Re);return Ae},F=N=>N.toLocaleDateString("en-US",{year:"numeric",month:"long"}),q=N=>{if(!N)return[];const B=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(N).padStart(2,"0")}`,v=z.filter(I=>I.date===B);return console.log(`Events for ${B} (day ${N}):`,v),v},xe=()=>{if(!o)return[];const N=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(o).padStart(2,"0")}`;return z.filter(B=>B.date===N)},ue=N=>{const B=new Date(a);B.setMonth(a.getMonth()+N),i(B),B.getMonth()===new Date().getMonth()&&B.getFullYear()===new Date().getFullYear()?u(new Date().getDate()):u(1)},Y=()=>{const N=new Date;i(N),u(N.getDate())},_=(N="00:00")=>{const[B="0",v="0"]=N.split(":"),I=new Date;return I.setHours(parseInt(B,10),parseInt(v,10)),I.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},P=(N="00:00")=>{const[B="0",v="00"]=N.split(":"),I=(parseInt(B,10)+1)%24;return`${String(I).padStart(2,"0")}:${v||"00"}`},se=s?.role==="tutor"?"/tutor-dashboard":"/student-dashboard",ae=[{id:"overview",label:"Overview",to:se,state:{activeTab:"overview"}},{id:"sessions",label:"Sessions",to:se,state:{activeTab:"sessions"}},{id:"calendar",label:"Calendar",to:null},{id:"tasks",label:"Tasks",to:se,state:{activeTab:"tasks"}},{id:"progress",label:"Progress",to:se,state:{activeTab:"progress"}}],ce=[{id:"book-session",label:"Book Session",description:"Browse tutors and lock in a time",to:"/tutors",gradient:"from-blue-500/20 via-cyan-500/10 to-cyan-500/20",border:"border-blue-500/30"},{id:"ai-assistant",label:"AI Assistant",description:"Get instant answers or study help",to:"/chatbot",gradient:"from-emerald-500/20 via-teal-500/10 to-teal-500/20",border:"border-emerald-500/30"},{id:"add-task",label:"Add Task",description:"Capture homework or study goals",to:"/tasks",gradient:"from-rose-500/20 via-pink-500/10 to-pink-500/20",border:"border-rose-500/30"},{id:"messages",label:"Messages",description:"Continue conversations with tutors",to:"/messages",gradient:"from-amber-500/20 via-orange-500/10 to-orange-500/20",border:"border-amber-500/30"}],A=(s?.urgentTasks||[]).slice(0,2),ee=N=>N.type==="session"?"bg-blue-500/10 border-blue-500/40 text-blue-200":N.priority==="high"?"bg-red-500/10 border-red-500/40 text-red-200":N.priority==="low"?"bg-emerald-500/10 border-emerald-500/40 text-emerald-200":"bg-amber-500/10 border-amber-500/40 text-amber-200",pe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],je=o?new Date(a.getFullYear(),a.getMonth(),o).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Select a day",D=o?xe():[];return y||E?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 p-8",children:t.jsxs("div",{className:"animate-pulse text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full mx-auto mb-4"}),t.jsx("div",{className:"w-32 h-4 bg-slate-700 rounded mx-auto mb-2"}),t.jsx("div",{className:"w-24 h-3 bg-slate-700 rounded mx-auto mb-12 text-slate-400",children:"Loading calendar data..."})]})})}):t.jsxs("div",{className:"min-h-screen bg-slate-950",children:[t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:t.jsxs("div",{className:"flex flex-col xl:flex-row gap-8",children:[t.jsxs("div",{className:"flex-1 space-y-8",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:s?.role==="tutor"?"Tutor availability & sessions":"Student study schedule"}),t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white flex items-center space-x-2",children:t.jsx("span",{children:" Calendar"})})]}),t.jsx("button",{onClick:ne,className:"px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-2xl font-semibold transition-all duration-200 flex items-center space-x-2 disabled:opacity-70",disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Exporting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:""}),t.jsx("span",{children:"Export Calendar"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[t.jsxs("div",{className:"lg:col-span-3 bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Monthly overview"}),t.jsx("h2",{className:"text-2xl font-bold text-white",children:F(a)})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>ue(-1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800",children:""}),t.jsx("button",{onClick:Y,className:"px-4 py-2 rounded-xl border border-slate-700 text-slate-200 hover:border-blue-500/60 hover:text-white transition-colors",children:"Today"}),t.jsx("button",{onClick:()=>ue(1),className:"p-2 rounded-full border border-slate-700 text-slate-300 hover:bg-slate-800",children:""})]})]}),t.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-slate-400 text-xs font-semibold uppercase tracking-wider mb-2",children:pe.map(N=>t.jsx("div",{children:N},N))}),t.jsx("div",{className:"grid grid-cols-7 gap-2",children:ye(a).map((N,B)=>{if(!N)return t.jsx("div",{className:"min-h-[110px] rounded-xl border border-dashed border-slate-800/70"},`empty-${B}`);const v=q(N),I=N===new Date().getDate()&&a.getMonth()===new Date().getMonth()&&a.getFullYear()===new Date().getFullYear(),oe=o===N;return t.jsxs("button",{onClick:()=>u(N),className:`min-h-[110px] rounded-2xl border text-left p-3 transition-all duration-200 ${oe?"border-blue-500 bg-blue-500/10 shadow-lg shadow-blue-500/20":"border-slate-800/70 bg-slate-900/30 hover:border-blue-500/60"}`,children:[t.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold",children:[t.jsx("span",{className:"text-white",children:N}),I&&t.jsx("span",{className:"text-emerald-400 text-xs",children:"Today"})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[v.slice(0,2).map(me=>t.jsx("div",{className:`text-xs px-2 py-1 rounded-full border ${ee(me)} whitespace-nowrap overflow-hidden text-ellipsis`,title:me.title,children:me.title||(me.subject??"Event")},me.id)),v.length>2&&t.jsxs("div",{className:"text-[10px] text-slate-400",children:["+",v.length-2," more"]})]})]},`day-${N}`)})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-6",children:t.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center space-x-2",children:[t.jsx("span",{className:"text-emerald-400",children:""}),t.jsx("span",{children:je})]})}),D.length===0?t.jsx("div",{className:"text-center text-slate-400 py-8",children:"No sessions or tasks scheduled for this day."}):t.jsx("div",{className:"space-y-4",children:D.map(N=>t.jsxs("div",{className:"p-4 rounded-2xl border border-slate-800/70 bg-slate-900/40",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-semibold text-lg line-clamp-1",children:N.title}),t.jsx("p",{className:"text-slate-400 text-sm",children:N.type==="session"?`${N.subject} with ${s?.role==="tutor"?N.student:N.tutor||"your tutor"}`:N.subject||"Personal study task"})]}),t.jsx("span",{className:`text-xs px-3 py-1 rounded-full border ${ee(N)}`,children:N.type==="session"?N.status||"Session":"Task"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-slate-400",children:[t.jsxs("span",{children:[" ",_(N.time)]}),N.type==="session"?t.jsxs("span",{children:[" ",N.meetingType==="virtual"?"Virtual session":"In-person"]}):t.jsxs("span",{children:[" Status: ",N.status]})]}),N.type==="session"&&t.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[N.status&&t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N.status==="completed"?"bg-emerald-500/20 text-emerald-300":"bg-blue-500/10 text-blue-200 border border-blue-500/30"}`,children:N.status}),(N.status==="scheduled"||N.status==="confirmed")&&t.jsx(pd,{booking:{...N,endTime:N.endTime||P(N.time),tutorName:s?.role==="student"?N.tutor:null,studentName:s?.role==="tutor"?N.student:null},onCompleted:B=>{g(v=>v.map(I=>I.id===B.id?{...I,status:"completed"}:I))},className:"text-xs px-3 py-1"})]}),N.type==="task"&&t.jsxs("div",{className:"mt-3 text-xs text-slate-400",children:["Progress: ",N.progress||0,"%"]})]},N.id))})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Event Types"}),t.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-blue-500"}),t.jsx("span",{children:" Tutoring Sessions"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-red-500"}),t.jsx("span",{children:" High Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-amber-500"}),t.jsx("span",{children:" Medium Priority Tasks"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"w-4 h-4 rounded-full bg-emerald-500"}),t.jsx("span",{children:" Low Priority Tasks"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-6 border border-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-4 uppercase tracking-wide",children:"Quick Actions"}),t.jsx(Ue,{to:"/tutors",className:"w-full flex items-center justify-center px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold hover:opacity-90 transition",children:"Schedule Session"})]})]})]})]}),t.jsxs("div",{className:"w-full xl:w-80 space-y-6",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Dashboard"}),t.jsx("div",{className:"space-y-1",children:ae.map(N=>{const v=`w-full px-3 py-2 rounded-lg flex items-center transition-all duration-200 ${N.id==="calendar"?"bg-white/10 text-white shadow-lg border border-white/20":"text-slate-400 hover:text-white hover:bg-white/5"}`;return N.to?t.jsx(Ue,{to:N.to,state:N.state,className:v,children:t.jsx("span",{className:"text-sm font-medium",children:N.label})},N.id):t.jsx("button",{className:v,disabled:!0,children:t.jsx("span",{className:"text-sm font-medium",children:N.label})},N.id)})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl p-4 border border-slate-800/50",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3 uppercase tracking-wide",children:"Key Actions"}),t.jsx("div",{className:"space-y-2",children:ce.map(N=>t.jsxs(Ue,{to:N.to,className:`block w-full p-3 rounded-xl border bg-gradient-to-r ${N.gradient} ${N.border} transition-all duration-200 hover:border-white/40`,children:[t.jsx("div",{className:"text-white text-sm font-semibold",children:N.label}),t.jsx("div",{className:"text-slate-200 text-xs",children:N.description})]},N.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-orange-500/10 rounded-2xl p-4 border border-red-500/20",children:[t.jsxs("h3",{className:"text-sm font-semibold text-red-300 mb-3 uppercase tracking-wide flex items-center space-x-2",children:[t.jsx("span",{className:"text-red-400",children:""}),t.jsx("span",{children:"Urgent Tasks"})]}),t.jsx("div",{className:"space-y-3",children:A.length>0?A.map((N,B)=>t.jsxs("div",{className:"p-3 rounded-xl bg-slate-900/50 border border-slate-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between mb-1",children:[t.jsx("div",{className:"text-white text-xs font-medium line-clamp-2",children:N.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.priority==="high"?"bg-red-500/20 text-red-400":N.priority==="medium"?"bg-amber-500/20 text-amber-400":"bg-green-500/20 text-green-400"}`,children:N.priority})]}),t.jsx("div",{className:"text-slate-400 text-xs mb-1",children:N.subject}),t.jsxs("div",{className:"text-slate-500 text-xs",children:["Due: ",N.due]})]},N.id||`${N.title}-${B}`)):t.jsx("div",{className:"text-slate-400 text-xs",children:"No urgent tasks right now."})}),t.jsx(Ue,{to:"/tasks",className:"block text-center mt-3 text-xs text-blue-400 hover:text-blue-300 font-medium",children:"View All Tasks "})]})]})]})}),x&&t.jsx("div",{className:"fixed top-4 right-4 z-50 bg-emerald-500/20 border border-emerald-500/30 text-emerald-400 px-6 py-3 rounded-lg backdrop-blur-sm shadow-lg",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{children:""}),t.jsx("span",{children:x})]})})]})},Du="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Xv=()=>{const{user:s}=Ot(),a=Sn(),[i,o]=T.useState([]),[u,d]=T.useState([]),[h,x]=T.useState(null),[p,f]=T.useState([]),[g,y]=T.useState(""),[S,j]=T.useState(""),[O,E]=T.useState(!0),[U,k]=T.useState(!1),z=T.useRef(null);T.useEffect(()=>{ne()},[]),T.useEffect(()=>{if(a.state?.selectedUser){const Y=a.state.selectedUser;x(Y),o(_=>_.some(se=>se.id===Y.id)?_:[..._,Y])}},[a.state]),T.useEffect(()=>{if(S.trim()==="")d(i);else{const Y=i.filter(_=>_.full_name?.toLowerCase().includes(S.toLowerCase())||_.email?.toLowerCase().includes(S.toLowerCase())||_.user_role?.toLowerCase().includes(S.toLowerCase()));d(Y)}},[S,i]),T.useEffect(()=>{h&&ye(h.id)},[h]),T.useEffect(()=>{H()},[p]);const H=()=>{z.current?.scrollIntoView({behavior:"smooth"})},ne=async()=>{try{const Y=localStorage.getItem("token"),_=await fetch(`${Du}/messages/users`,{headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}});if(_.ok){const P=await _.json();o(P.data||[])}else console.error("Failed to fetch users")}catch(Y){console.error("Error fetching users:",Y)}finally{E(!1)}},ye=async Y=>{try{const _=localStorage.getItem("token"),P=await fetch(`${Du}/messages/${Y}`,{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}});if(P.ok){const se=await P.json();f(se.data||[])}else console.error("Failed to fetch messages")}catch(_){console.error("Error fetching messages:",_)}},F=async()=>{if(g.trim()&&h&&!U){k(!0);const Y=g.trim();y("");try{const _=localStorage.getItem("token");(await fetch(`${Du}/messages/send`,{method:"POST",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify({recipientId:h.id,content:Y})})).ok?ye(h.id):(console.error("Failed to send message"),y(Y))}catch(_){console.error("Error sending message:",_),y(Y)}finally{k(!1)}}},q=Y=>Y?Y.split(" ").map(_=>_[0]).join("").toUpperCase():"U",xe=Y=>{const _=new Date(Y),se=Math.floor((new Date-_)/(1e3*60));return se<1?"Just now":se<60?`${se}m ago`:se<1440?_.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):_.toLocaleDateString()},ue=Y=>{const _=Y.user_role||Y.role||"user";return _.charAt(0).toUpperCase()+_.slice(1)};return O?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-lg",children:"Loading..."})}):t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:" Messages"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Connect with tutors and students."})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-200px)]",children:[t.jsxs("div",{className:"lg:col-span-4 bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b border-slate-800/50",children:[t.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"People"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",value:S,onChange:Y=>j(Y.target.value),placeholder:"Search people...",className:"w-full px-4 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50"}),t.jsx("span",{className:"absolute right-3 top-2.5 text-slate-400",children:""})]})]}),t.jsx("div",{className:"overflow-y-auto flex-1",children:u.length===0?t.jsx("div",{className:"p-6 text-center text-slate-400",children:S?"No people found":"No users available"}):u.map(Y=>t.jsx("div",{onClick:()=>x(Y),className:`p-4 border-b border-slate-800/30 cursor-pointer hover:bg-slate-800/30 transition-colors ${h?.id===Y.id?"bg-slate-800/50 border-l-4 border-l-blue-500":""}`,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:q(Y.full_name)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-white font-medium truncate",children:Y.full_name||Y.email}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${Y.user_role==="tutor"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:ue(Y)})}),Y.subjects_taught&&t.jsxs("p",{className:"text-slate-400 text-xs mt-1 truncate",children:["Subjects: ",Y.subjects_taught]}),Y.current_school&&t.jsxs("p",{className:"text-slate-400 text-xs mt-1 truncate",children:["School: ",Y.current_school]}),Y.location_city&&t.jsxs("p",{className:"text-slate-400 text-xs mt-1 truncate",children:[" ",Y.location_city]})]})]})},Y.id))})]}),t.jsx("div",{className:"lg:col-span-8 bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm flex flex-col overflow-hidden",children:h?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-6 border-b border-slate-800/50 flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:q(h.full_name)}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-white font-semibold",children:h.full_name||h.email}),t.jsxs("p",{className:"text-slate-400 text-sm",children:[ue(h),h.subjects_taught&&`  ${h.subjects_taught}`]})]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:p.length===0?t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsxs("p",{className:"text-slate-400 text-sm",children:["Start a conversation with ",h.full_name||h.email]})]})}):t.jsxs("div",{className:"relative",children:[p.map((Y,_)=>{const P=Y.sender_id===s?.id,se=new Date(Y.created_at),ae=_===0||new Date(p[_-1].created_at).toDateString()!==se.toDateString();return t.jsxs("div",{className:"relative",children:[ae&&t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"px-3 py-1 bg-slate-800/50 rounded-full border border-slate-700/50",children:t.jsx("span",{className:"text-xs text-slate-400",children:se.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})})}),t.jsxs("div",{className:`flex items-end gap-3 mb-6 ${P?"justify-end":"justify-start"}`,children:[!P&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-emerald-400 to-blue-500 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 mb-1",children:q(h.full_name)}),t.jsxs("div",{className:`relative max-w-xs lg:max-w-md ${P?"order-1":"order-2"}`,children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl shadow-lg ${P?"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-br-md":"bg-slate-800/70 border border-slate-700/50 text-white rounded-bl-md backdrop-blur-sm"}`,children:t.jsx("p",{className:"text-sm leading-relaxed",children:Y.content})}),t.jsxs("div",{className:`flex items-center gap-1 mt-1 ${P?"justify-end":"justify-start"}`,children:[t.jsx("span",{className:"text-xs text-slate-500",children:xe(Y.created_at)}),P&&t.jsx("span",{className:"text-xs text-slate-500",children:""})]}),t.jsx("div",{className:`absolute top-3 w-0 h-0 ${P?"right-0 translate-x-1 border-l-8 border-l-blue-500 border-t-8 border-t-transparent border-b-8 border-b-transparent":"left-0 -translate-x-1 border-r-8 border-r-slate-800 border-t-8 border-t-transparent border-b-8 border-b-transparent"}`})]}),P&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-violet-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs flex-shrink-0 mb-1",children:q(s?.name)})]})]},Y.id)}),t.jsx("div",{ref:z})]})}),t.jsxs("div",{className:"p-6 border-t border-slate-800/50 bg-slate-900/30 backdrop-blur-sm",children:[t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",value:g,onChange:Y=>y(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&F(),placeholder:`Message ${h.full_name||h.email}...`,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500/50 focus:ring-2 focus:ring-blue-500/20 pr-12 transition-all"}),t.jsx("button",{onClick:F,className:`absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-lg transition-all ${g.trim()&&!U?"text-blue-400 hover:text-blue-300 hover:bg-blue-500/10":"text-slate-600 cursor-not-allowed"}`,disabled:!g.trim()||U,children:U?t.jsx("div",{className:"w-5 h-5 border-2 border-slate-600 border-t-blue-400 rounded-full animate-spin"}):t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M2.94 6.412A2 2 0 004.414 5h11.172a2 2 0 001.474 1.412L12 10l5.06 3.588A2 2 0 0015.586 15H4.414a2 2 0 00-1.474-1.412L8 10 2.94 6.412z"})})})]})}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsx("div",{className:"text-xs text-slate-500",children:"Press Enter to send"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${h?"bg-green-400":"bg-slate-600"}`}),t.jsx("span",{className:"text-xs text-slate-500",children:h?"Online":"Offline"})]})]})]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-slate-800/50 flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("h3",{className:"text-white font-medium mb-2",children:"Select a person to chat"}),t.jsx("p",{className:"text-slate-400 text-sm",children:"Choose someone from the list to start messaging"})]})})})]})]})})};function Iv(s,a){const i={};return(s[s.length-1]===""?[...s,""]:s).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const Zv=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Jv=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kv={};function Ff(s,a){return(Kv.jsx?Jv:Zv).test(s)}const Wv=/[ \t\n\f\r]/g;function ej(s){return typeof s=="object"?s.type==="text"?Gf(s.value):!1:Gf(s)}function Gf(s){return s.replace(Wv,"")===""}class Rr{constructor(a,i,o){this.normal=i,this.property=a,o&&(this.space=o)}}Rr.prototype.normal={};Rr.prototype.property={};Rr.prototype.space=void 0;function Xx(s,a){const i={},o={};for(const u of s)Object.assign(i,u.property),Object.assign(o,u.normal);return new Rr(i,o,a)}function Ju(s){return s.toLowerCase()}class un{constructor(a,i){this.attribute=i,this.property=a}}un.prototype.attribute="";un.prototype.booleanish=!1;un.prototype.boolean=!1;un.prototype.commaOrSpaceSeparated=!1;un.prototype.commaSeparated=!1;un.prototype.defined=!1;un.prototype.mustUseProperty=!1;un.prototype.number=!1;un.prototype.overloadedBoolean=!1;un.prototype.property="";un.prototype.spaceSeparated=!1;un.prototype.space=void 0;let tj=0;const Be=Ll(),Rt=Ll(),Ku=Ll(),fe=Ll(),lt=Ll(),Na=Ll(),jn=Ll();function Ll(){return 2**++tj}const Wu=Object.freeze(Object.defineProperty({__proto__:null,boolean:Be,booleanish:Rt,commaOrSpaceSeparated:jn,commaSeparated:Na,number:fe,overloadedBoolean:Ku,spaceSeparated:lt},Symbol.toStringTag,{value:"Module"})),Ru=Object.keys(Wu);class gd extends un{constructor(a,i,o,u){let d=-1;if(super(a,i),Vf(this,"space",u),typeof o=="number")for(;++d<Ru.length;){const h=Ru[d];Vf(this,Ru[d],(o&Wu[h])===Wu[h])}}}gd.prototype.defined=!0;function Vf(s,a,i){i&&(s[a]=i)}function Ca(s){const a={},i={};for(const[o,u]of Object.entries(s.properties)){const d=new gd(o,s.transform(s.attributes||{},o),u,s.space);s.mustUseProperty&&s.mustUseProperty.includes(o)&&(d.mustUseProperty=!0),a[o]=d,i[Ju(o)]=o,i[Ju(d.attribute)]=o}return new Rr(a,i,s.space)}const Ix=Ca({properties:{ariaActiveDescendant:null,ariaAtomic:Rt,ariaAutoComplete:null,ariaBusy:Rt,ariaChecked:Rt,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:lt,ariaCurrent:null,ariaDescribedBy:lt,ariaDetails:null,ariaDisabled:Rt,ariaDropEffect:lt,ariaErrorMessage:null,ariaExpanded:Rt,ariaFlowTo:lt,ariaGrabbed:Rt,ariaHasPopup:null,ariaHidden:Rt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:lt,ariaLevel:fe,ariaLive:null,ariaModal:Rt,ariaMultiLine:Rt,ariaMultiSelectable:Rt,ariaOrientation:null,ariaOwns:lt,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:Rt,ariaReadOnly:Rt,ariaRelevant:null,ariaRequired:Rt,ariaRoleDescription:lt,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:Rt,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null},transform(s,a){return a==="role"?a:"aria-"+a.slice(4).toLowerCase()}});function Zx(s,a){return a in s?s[a]:a}function Jx(s,a){return Zx(s,a.toLowerCase())}const nj=Ca({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Na,acceptCharset:lt,accessKey:lt,action:null,allow:null,allowFullScreen:Be,allowPaymentRequest:Be,allowUserMedia:Be,alt:null,as:null,async:Be,autoCapitalize:null,autoComplete:lt,autoFocus:Be,autoPlay:Be,blocking:lt,capture:null,charSet:null,checked:Be,cite:null,className:lt,cols:fe,colSpan:null,content:null,contentEditable:Rt,controls:Be,controlsList:lt,coords:fe|Na,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Be,defer:Be,dir:null,dirName:null,disabled:Be,download:Ku,draggable:Rt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Be,formTarget:null,headers:lt,height:fe,hidden:Ku,high:fe,href:null,hrefLang:null,htmlFor:lt,httpEquiv:lt,id:null,imageSizes:null,imageSrcSet:null,inert:Be,inputMode:null,integrity:null,is:null,isMap:Be,itemId:null,itemProp:lt,itemRef:lt,itemScope:Be,itemType:lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Be,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:Be,muted:Be,name:null,nonce:null,noModule:Be,noValidate:Be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Be,optimum:fe,pattern:null,ping:lt,placeholder:null,playsInline:Be,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Be,referrerPolicy:null,rel:lt,required:Be,reversed:Be,rows:fe,rowSpan:fe,sandbox:lt,scope:null,scoped:Be,seamless:Be,selected:Be,shadowRootClonable:Be,shadowRootDelegatesFocus:Be,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:Rt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:Be,useMap:null,value:Rt,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:lt,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Be,declare:Be,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:Be,noHref:Be,noShade:Be,noWrap:Be,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:Rt,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Be,disableRemotePlayback:Be,prefix:null,property:null,results:fe,security:null,unselectable:null},space:"html",transform:Jx}),sj=Ca({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:jn,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:Be,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Na,g2:Na,glyphName:Na,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:jn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:jn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:jn,rev:jn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:jn,requiredFeatures:jn,requiredFonts:jn,requiredFormats:jn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:jn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:jn,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:jn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Zx}),Kx=Ca({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(s,a){return"xlink:"+a.slice(5).toLowerCase()}}),Wx=Ca({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Jx}),ep=Ca({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(s,a){return"xml:"+a.slice(3).toLowerCase()}}),lj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},aj=/[A-Z]/g,Pf=/-[a-z]/g,rj=/^data[-\w.:]+$/i;function ij(s,a){const i=Ju(a);let o=a,u=un;if(i in s.normal)return s.property[s.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&rj.test(a)){if(a.charAt(4)==="-"){const d=a.slice(5).replace(Pf,cj);o="data"+d.charAt(0).toUpperCase()+d.slice(1)}else{const d=a.slice(4);if(!Pf.test(d)){let h=d.replace(aj,oj);h.charAt(0)!=="-"&&(h="-"+h),a="data"+h}}u=gd}return new u(o,a)}function oj(s){return"-"+s.toLowerCase()}function cj(s){return s.charAt(1).toUpperCase()}const uj=Xx([Ix,nj,Kx,Wx,ep],"html"),bd=Xx([Ix,sj,Kx,Wx,ep],"svg");function dj(s){return s.join(" ").trim()}var ya={},Mu,Qf;function mj(){if(Qf)return Mu;Qf=1;var s=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,a=/\n/g,i=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,u=/^:\s*/,d=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,h=/^[;\s]*/,x=/^\s+|\s+$/g,p=`
`,f="/",g="*",y="",S="comment",j="declaration";function O(U,k){if(typeof U!="string")throw new TypeError("First argument must be a string");if(!U)return[];k=k||{};var z=1,H=1;function ne(ae){var ce=ae.match(a);ce&&(z+=ce.length);var A=ae.lastIndexOf(p);H=~A?ae.length-A:H+ae.length}function ye(){var ae={line:z,column:H};return function(ce){return ce.position=new F(ae),ue(),ce}}function F(ae){this.start=ae,this.end={line:z,column:H},this.source=k.source}F.prototype.content=U;function q(ae){var ce=new Error(k.source+":"+z+":"+H+": "+ae);if(ce.reason=ae,ce.filename=k.source,ce.line=z,ce.column=H,ce.source=U,!k.silent)throw ce}function xe(ae){var ce=ae.exec(U);if(ce){var A=ce[0];return ne(A),U=U.slice(A.length),ce}}function ue(){xe(i)}function Y(ae){var ce;for(ae=ae||[];ce=_();)ce!==!1&&ae.push(ce);return ae}function _(){var ae=ye();if(!(f!=U.charAt(0)||g!=U.charAt(1))){for(var ce=2;y!=U.charAt(ce)&&(g!=U.charAt(ce)||f!=U.charAt(ce+1));)++ce;if(ce+=2,y===U.charAt(ce-1))return q("End of comment missing");var A=U.slice(2,ce-2);return H+=2,ne(A),U=U.slice(ce),H+=2,ae({type:S,comment:A})}}function P(){var ae=ye(),ce=xe(o);if(ce){if(_(),!xe(u))return q("property missing ':'");var A=xe(d),ee=ae({type:j,property:E(ce[0].replace(s,y)),value:A?E(A[0].replace(s,y)):y});return xe(h),ee}}function se(){var ae=[];Y(ae);for(var ce;ce=P();)ce!==!1&&(ae.push(ce),Y(ae));return ae}return ue(),se()}function E(U){return U?U.replace(x,y):y}return Mu=O,Mu}var Xf;function hj(){if(Xf)return ya;Xf=1;var s=ya&&ya.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ya,"__esModule",{value:!0}),ya.default=i;const a=s(mj());function i(o,u){let d=null;if(!o||typeof o!="string")return d;const h=(0,a.default)(o),x=typeof u=="function";return h.forEach(p=>{if(p.type!=="declaration")return;const{property:f,value:g}=p;x?u(f,g,p):g&&(d=d||{},d[f]=g)}),d}return ya}var jr={},If;function fj(){if(If)return jr;If=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.camelCase=void 0;var s=/^--[a-zA-Z0-9_-]+$/,a=/-([a-z])/g,i=/^[^-]+$/,o=/^-(webkit|moz|ms|o|khtml)-/,u=/^-(ms)-/,d=function(f){return!f||i.test(f)||s.test(f)},h=function(f,g){return g.toUpperCase()},x=function(f,g){return"".concat(g,"-")},p=function(f,g){return g===void 0&&(g={}),d(f)?f:(f=f.toLowerCase(),g.reactCompat?f=f.replace(u,x):f=f.replace(o,x),f.replace(a,h))};return jr.camelCase=p,jr}var Nr,Zf;function xj(){if(Zf)return Nr;Zf=1;var s=Nr&&Nr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}},a=s(hj()),i=fj();function o(u,d){var h={};return!u||typeof u!="string"||(0,a.default)(u,function(x,p){x&&p&&(h[(0,i.camelCase)(x,d)]=p)}),h}return o.default=o,Nr=o,Nr}var pj=xj();const gj=io(pj),tp=np("end"),yd=np("start");function np(s){return a;function a(i){const o=i&&i.position&&i.position[s]||{};if(typeof o.line=="number"&&o.line>0&&typeof o.column=="number"&&o.column>0)return{line:o.line,column:o.column,offset:typeof o.offset=="number"&&o.offset>-1?o.offset:void 0}}}function bj(s){const a=yd(s),i=tp(s);if(a&&i)return{start:a,end:i}}function Tr(s){return!s||typeof s!="object"?"":"position"in s||"type"in s?Jf(s.position):"start"in s||"end"in s?Jf(s):"line"in s||"column"in s?ed(s):""}function ed(s){return Kf(s&&s.line)+":"+Kf(s&&s.column)}function Jf(s){return ed(s&&s.start)+"-"+ed(s&&s.end)}function Kf(s){return s&&typeof s=="number"?s:1}class Qt extends Error{constructor(a,i,o){super(),typeof i=="string"&&(o=i,i=void 0);let u="",d={},h=!1;if(i&&("line"in i&&"column"in i?d={place:i}:"start"in i&&"end"in i?d={place:i}:"type"in i?d={ancestors:[i],place:i.position}:d={...i}),typeof a=="string"?u=a:!d.cause&&a&&(h=!0,u=a.message,d.cause=a),!d.ruleId&&!d.source&&typeof o=="string"){const p=o.indexOf(":");p===-1?d.ruleId=o:(d.source=o.slice(0,p),d.ruleId=o.slice(p+1))}if(!d.place&&d.ancestors&&d.ancestors){const p=d.ancestors[d.ancestors.length-1];p&&(d.place=p.position)}const x=d.place&&"start"in d.place?d.place.start:d.place;this.ancestors=d.ancestors||void 0,this.cause=d.cause||void 0,this.column=x?x.column:void 0,this.fatal=void 0,this.file="",this.message=u,this.line=x?x.line:void 0,this.name=Tr(d.place)||"1:1",this.place=d.place||void 0,this.reason=this.message,this.ruleId=d.ruleId||void 0,this.source=d.source||void 0,this.stack=h&&d.cause&&typeof d.cause.stack=="string"?d.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Qt.prototype.file="";Qt.prototype.name="";Qt.prototype.reason="";Qt.prototype.message="";Qt.prototype.stack="";Qt.prototype.column=void 0;Qt.prototype.line=void 0;Qt.prototype.ancestors=void 0;Qt.prototype.cause=void 0;Qt.prototype.fatal=void 0;Qt.prototype.place=void 0;Qt.prototype.ruleId=void 0;Qt.prototype.source=void 0;const vd={}.hasOwnProperty,yj=new Map,vj=/[A-Z]/g,jj=new Set(["table","tbody","thead","tfoot","tr"]),Nj=new Set(["td","th"]),sp="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function wj(s,a){if(!a||a.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=a.filePath||void 0;let o;if(a.development){if(typeof a.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");o=Dj(i,a.jsxDEV)}else{if(typeof a.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof a.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");o=_j(i,a.jsx,a.jsxs)}const u={Fragment:a.Fragment,ancestors:[],components:a.components||{},create:o,elementAttributeNameCase:a.elementAttributeNameCase||"react",evaluater:a.createEvaluater?a.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:a.ignoreInvalidStyle||!1,passKeys:a.passKeys!==!1,passNode:a.passNode||!1,schema:a.space==="svg"?bd:uj,stylePropertyNameCase:a.stylePropertyNameCase||"dom",tableCellAlignToStyle:a.tableCellAlignToStyle!==!1},d=lp(u,s,void 0);return d&&typeof d!="string"?d:u.create(s,u.Fragment,{children:d||void 0},void 0)}function lp(s,a,i){if(a.type==="element")return Sj(s,a,i);if(a.type==="mdxFlowExpression"||a.type==="mdxTextExpression")return Tj(s,a);if(a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement")return Cj(s,a,i);if(a.type==="mdxjsEsm")return kj(s,a);if(a.type==="root")return Ej(s,a,i);if(a.type==="text")return Aj(s,a)}function Sj(s,a,i){const o=s.schema;let u=o;a.tagName.toLowerCase()==="svg"&&o.space==="html"&&(u=bd,s.schema=u),s.ancestors.push(a);const d=rp(s,a.tagName,!1),h=Rj(s,a);let x=Nd(s,a);return jj.has(a.tagName)&&(x=x.filter(function(p){return typeof p=="string"?!ej(p):!0})),ap(s,h,d,a),jd(h,x),s.ancestors.pop(),s.schema=o,s.create(a,d,h,i)}function Tj(s,a){if(a.data&&a.data.estree&&s.evaluater){const o=a.data.estree.body[0];return o.type,s.evaluater.evaluateExpression(o.expression)}Ar(s,a.position)}function kj(s,a){if(a.data&&a.data.estree&&s.evaluater)return s.evaluater.evaluateProgram(a.data.estree);Ar(s,a.position)}function Cj(s,a,i){const o=s.schema;let u=o;a.name==="svg"&&o.space==="html"&&(u=bd,s.schema=u),s.ancestors.push(a);const d=a.name===null?s.Fragment:rp(s,a.name,!0),h=Mj(s,a),x=Nd(s,a);return ap(s,h,d,a),jd(h,x),s.ancestors.pop(),s.schema=o,s.create(a,d,h,i)}function Ej(s,a,i){const o={};return jd(o,Nd(s,a)),s.create(a,s.Fragment,o,i)}function Aj(s,a){return a.value}function ap(s,a,i,o){typeof i!="string"&&i!==s.Fragment&&s.passNode&&(a.node=o)}function jd(s,a){if(a.length>0){const i=a.length>1?a:a[0];i&&(s.children=i)}}function _j(s,a,i){return o;function o(u,d,h,x){const f=Array.isArray(h.children)?i:a;return x?f(d,h,x):f(d,h)}}function Dj(s,a){return i;function i(o,u,d,h){const x=Array.isArray(d.children),p=yd(o);return a(u,d,h,x,{columnNumber:p?p.column-1:void 0,fileName:s,lineNumber:p?p.line:void 0},void 0)}}function Rj(s,a){const i={};let o,u;for(u in a.properties)if(u!=="children"&&vd.call(a.properties,u)){const d=zj(s,u,a.properties[u]);if(d){const[h,x]=d;s.tableCellAlignToStyle&&h==="align"&&typeof x=="string"&&Nj.has(a.tagName)?o=x:i[h]=x}}if(o){const d=i.style||(i.style={});d[s.stylePropertyNameCase==="css"?"text-align":"textAlign"]=o}return i}function Mj(s,a){const i={};for(const o of a.attributes)if(o.type==="mdxJsxExpressionAttribute")if(o.data&&o.data.estree&&s.evaluater){const d=o.data.estree.body[0];d.type;const h=d.expression;h.type;const x=h.properties[0];x.type,Object.assign(i,s.evaluater.evaluateExpression(x.argument))}else Ar(s,a.position);else{const u=o.name;let d;if(o.value&&typeof o.value=="object")if(o.value.data&&o.value.data.estree&&s.evaluater){const x=o.value.data.estree.body[0];x.type,d=s.evaluater.evaluateExpression(x.expression)}else Ar(s,a.position);else d=o.value===null?!0:o.value;i[u]=d}return i}function Nd(s,a){const i=[];let o=-1;const u=s.passKeys?new Map:yj;for(;++o<a.children.length;){const d=a.children[o];let h;if(s.passKeys){const p=d.type==="element"?d.tagName:d.type==="mdxJsxFlowElement"||d.type==="mdxJsxTextElement"?d.name:void 0;if(p){const f=u.get(p)||0;h=p+"-"+f,u.set(p,f+1)}}const x=lp(s,d,h);x!==void 0&&i.push(x)}return i}function zj(s,a,i){const o=ij(s.schema,a);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=o.commaSeparated?Iv(i):dj(i)),o.property==="style"){let u=typeof i=="object"?i:Lj(s,String(i));return s.stylePropertyNameCase==="css"&&(u=Oj(u)),["style",u]}return[s.elementAttributeNameCase==="react"&&o.space?lj[o.property]||o.property:o.attribute,i]}}function Lj(s,a){try{return gj(a,{reactCompat:!0})}catch(i){if(s.ignoreInvalidStyle)return{};const o=i,u=new Qt("Cannot parse `style` attribute",{ancestors:s.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw u.file=s.filePath||void 0,u.url=sp+"#cannot-parse-style-attribute",u}}function rp(s,a,i){let o;if(!i)o={type:"Literal",value:a};else if(a.includes(".")){const u=a.split(".");let d=-1,h;for(;++d<u.length;){const x=Ff(u[d])?{type:"Identifier",name:u[d]}:{type:"Literal",value:u[d]};h=h?{type:"MemberExpression",object:h,property:x,computed:!!(d&&x.type==="Literal"),optional:!1}:x}o=h}else o=Ff(a)&&!/^[a-z]/.test(a)?{type:"Identifier",name:a}:{type:"Literal",value:a};if(o.type==="Literal"){const u=o.value;return vd.call(s.components,u)?s.components[u]:u}if(s.evaluater)return s.evaluater.evaluateExpression(o);Ar(s)}function Ar(s,a){const i=new Qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:s.ancestors,place:a,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=s.filePath||void 0,i.url=sp+"#cannot-handle-mdx-estrees-without-createevaluater",i}function Oj(s){const a={};let i;for(i in s)vd.call(s,i)&&(a[Bj(i)]=s[i]);return a}function Bj(s){let a=s.replace(vj,Uj);return a.slice(0,3)==="ms-"&&(a="-"+a),a}function Uj(s){return"-"+s.toLowerCase()}const zu={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Hj={};function qj(s,a){const i=Hj,o=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,u=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return ip(s,o,u)}function ip(s,a,i){if($j(s)){if("value"in s)return s.type==="html"&&!i?"":s.value;if(a&&"alt"in s&&s.alt)return s.alt;if("children"in s)return Wf(s.children,a,i)}return Array.isArray(s)?Wf(s,a,i):""}function Wf(s,a,i){const o=[];let u=-1;for(;++u<s.length;)o[u]=ip(s[u],a,i);return o.join("")}function $j(s){return!!(s&&typeof s=="object")}const ex=document.createElement("i");function wd(s){const a="&"+s+";";ex.innerHTML=a;const i=ex.textContent;return i.charCodeAt(i.length-1)===59&&s!=="semi"||i===a?!1:i}function rs(s,a,i,o){const u=s.length;let d=0,h;if(a<0?a=-a>u?0:u+a:a=a>u?u:a,i=i>0?i:0,o.length<1e4)h=Array.from(o),h.unshift(a,i),s.splice(...h);else for(i&&s.splice(a,i);d<o.length;)h=o.slice(d,d+1e4),h.unshift(a,0),s.splice(...h),d+=1e4,a+=1e4}function Bn(s,a){return s.length>0?(rs(s,s.length,0,a),s):a}const tx={}.hasOwnProperty;function Yj(s){const a={};let i=-1;for(;++i<s.length;)Fj(a,s[i]);return a}function Fj(s,a){let i;for(i in a){const u=(tx.call(s,i)?s[i]:void 0)||(s[i]={}),d=a[i];let h;if(d)for(h in d){tx.call(u,h)||(u[h]=[]);const x=d[h];Gj(u[h],Array.isArray(x)?x:x?[x]:[])}}}function Gj(s,a){let i=-1;const o=[];for(;++i<a.length;)(a[i].add==="after"?s:o).push(a[i]);rs(s,0,0,o)}function op(s,a){const i=Number.parseInt(s,a);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function wa(s){return s.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const as=cl(/[A-Za-z]/),Nn=cl(/[\dA-Za-z]/),Vj=cl(/[#-'*+\--9=?A-Z^-~]/);function td(s){return s!==null&&(s<32||s===127)}const nd=cl(/\d/),Pj=cl(/[\dA-Fa-f]/),Qj=cl(/[!-/:-@[-`{-~]/);function Ee(s){return s!==null&&s<-2}function cn(s){return s!==null&&(s<0||s===32)}function Je(s){return s===-2||s===-1||s===32}const Xj=cl(new RegExp("\\p{P}|\\p{S}","u")),Ij=cl(/\s/);function cl(s){return a;function a(i){return i!==null&&i>-1&&s.test(String.fromCharCode(i))}}function Ea(s){const a=[];let i=-1,o=0,u=0;for(;++i<s.length;){const d=s.charCodeAt(i);let h="";if(d===37&&Nn(s.charCodeAt(i+1))&&Nn(s.charCodeAt(i+2)))u=2;else if(d<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(d))||(h=String.fromCharCode(d));else if(d>55295&&d<57344){const x=s.charCodeAt(i+1);d<56320&&x>56319&&x<57344?(h=String.fromCharCode(d,x),u=1):h=""}else h=String.fromCharCode(d);h&&(a.push(s.slice(o,i),encodeURIComponent(h)),o=i+u+1,h=""),u&&(i+=u,u=0)}return a.join("")+s.slice(o)}function rt(s,a,i,o){const u=o?o-1:Number.POSITIVE_INFINITY;let d=0;return h;function h(p){return Je(p)?(s.enter(i),x(p)):a(p)}function x(p){return Je(p)&&d++<u?(s.consume(p),x):(s.exit(i),a(p))}}const Zj={tokenize:Jj};function Jj(s){const a=s.attempt(this.parser.constructs.contentInitial,o,u);let i;return a;function o(x){if(x===null){s.consume(x);return}return s.enter("lineEnding"),s.consume(x),s.exit("lineEnding"),rt(s,a,"linePrefix")}function u(x){return s.enter("paragraph"),d(x)}function d(x){const p=s.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,h(x)}function h(x){if(x===null){s.exit("chunkText"),s.exit("paragraph"),s.consume(x);return}return Ee(x)?(s.consume(x),s.exit("chunkText"),d):(s.consume(x),h)}}const Kj={tokenize:Wj},nx={tokenize:e1};function Wj(s){const a=this,i=[];let o=0,u,d,h;return x;function x(H){if(o<i.length){const ne=i[o];return a.containerState=ne[1],s.attempt(ne[0].continuation,p,f)(H)}return f(H)}function p(H){if(o++,a.containerState._closeFlow){a.containerState._closeFlow=void 0,u&&z();const ne=a.events.length;let ye=ne,F;for(;ye--;)if(a.events[ye][0]==="exit"&&a.events[ye][1].type==="chunkFlow"){F=a.events[ye][1].end;break}k(o);let q=ne;for(;q<a.events.length;)a.events[q][1].end={...F},q++;return rs(a.events,ye+1,0,a.events.slice(ne)),a.events.length=q,f(H)}return x(H)}function f(H){if(o===i.length){if(!u)return S(H);if(u.currentConstruct&&u.currentConstruct.concrete)return O(H);a.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return a.containerState={},s.check(nx,g,y)(H)}function g(H){return u&&z(),k(o),S(H)}function y(H){return a.parser.lazy[a.now().line]=o!==i.length,h=a.now().offset,O(H)}function S(H){return a.containerState={},s.attempt(nx,j,O)(H)}function j(H){return o++,i.push([a.currentConstruct,a.containerState]),S(H)}function O(H){if(H===null){u&&z(),k(0),s.consume(H);return}return u=u||a.parser.flow(a.now()),s.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:d}),E(H)}function E(H){if(H===null){U(s.exit("chunkFlow"),!0),k(0),s.consume(H);return}return Ee(H)?(s.consume(H),U(s.exit("chunkFlow")),o=0,a.interrupt=void 0,x):(s.consume(H),E)}function U(H,ne){const ye=a.sliceStream(H);if(ne&&ye.push(null),H.previous=d,d&&(d.next=H),d=H,u.defineSkip(H.start),u.write(ye),a.parser.lazy[H.start.line]){let F=u.events.length;for(;F--;)if(u.events[F][1].start.offset<h&&(!u.events[F][1].end||u.events[F][1].end.offset>h))return;const q=a.events.length;let xe=q,ue,Y;for(;xe--;)if(a.events[xe][0]==="exit"&&a.events[xe][1].type==="chunkFlow"){if(ue){Y=a.events[xe][1].end;break}ue=!0}for(k(o),F=q;F<a.events.length;)a.events[F][1].end={...Y},F++;rs(a.events,xe+1,0,a.events.slice(q)),a.events.length=F}}function k(H){let ne=i.length;for(;ne-- >H;){const ye=i[ne];a.containerState=ye[1],ye[0].exit.call(a,s)}i.length=H}function z(){u.write([null]),d=void 0,u=void 0,a.containerState._closeFlow=void 0}}function e1(s,a,i){return rt(s,s.attempt(this.parser.constructs.document,a,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function sx(s){if(s===null||cn(s)||Ij(s))return 1;if(Xj(s))return 2}function Sd(s,a,i){const o=[];let u=-1;for(;++u<s.length;){const d=s[u].resolveAll;d&&!o.includes(d)&&(a=d(a,i),o.push(d))}return a}const sd={name:"attention",resolveAll:t1,tokenize:n1};function t1(s,a){let i=-1,o,u,d,h,x,p,f,g;for(;++i<s.length;)if(s[i][0]==="enter"&&s[i][1].type==="attentionSequence"&&s[i][1]._close){for(o=i;o--;)if(s[o][0]==="exit"&&s[o][1].type==="attentionSequence"&&s[o][1]._open&&a.sliceSerialize(s[o][1]).charCodeAt(0)===a.sliceSerialize(s[i][1]).charCodeAt(0)){if((s[o][1]._close||s[i][1]._open)&&(s[i][1].end.offset-s[i][1].start.offset)%3&&!((s[o][1].end.offset-s[o][1].start.offset+s[i][1].end.offset-s[i][1].start.offset)%3))continue;p=s[o][1].end.offset-s[o][1].start.offset>1&&s[i][1].end.offset-s[i][1].start.offset>1?2:1;const y={...s[o][1].end},S={...s[i][1].start};lx(y,-p),lx(S,p),h={type:p>1?"strongSequence":"emphasisSequence",start:y,end:{...s[o][1].end}},x={type:p>1?"strongSequence":"emphasisSequence",start:{...s[i][1].start},end:S},d={type:p>1?"strongText":"emphasisText",start:{...s[o][1].end},end:{...s[i][1].start}},u={type:p>1?"strong":"emphasis",start:{...h.start},end:{...x.end}},s[o][1].end={...h.start},s[i][1].start={...x.end},f=[],s[o][1].end.offset-s[o][1].start.offset&&(f=Bn(f,[["enter",s[o][1],a],["exit",s[o][1],a]])),f=Bn(f,[["enter",u,a],["enter",h,a],["exit",h,a],["enter",d,a]]),f=Bn(f,Sd(a.parser.constructs.insideSpan.null,s.slice(o+1,i),a)),f=Bn(f,[["exit",d,a],["enter",x,a],["exit",x,a],["exit",u,a]]),s[i][1].end.offset-s[i][1].start.offset?(g=2,f=Bn(f,[["enter",s[i][1],a],["exit",s[i][1],a]])):g=0,rs(s,o-1,i-o+3,f),i=o+f.length-g-2;break}}for(i=-1;++i<s.length;)s[i][1].type==="attentionSequence"&&(s[i][1].type="data");return s}function n1(s,a){const i=this.parser.constructs.attentionMarkers.null,o=this.previous,u=sx(o);let d;return h;function h(p){return d=p,s.enter("attentionSequence"),x(p)}function x(p){if(p===d)return s.consume(p),x;const f=s.exit("attentionSequence"),g=sx(p),y=!g||g===2&&u||i.includes(p),S=!u||u===2&&g||i.includes(o);return f._open=!!(d===42?y:y&&(u||!S)),f._close=!!(d===42?S:S&&(g||!y)),a(p)}}function lx(s,a){s.column+=a,s.offset+=a,s._bufferIndex+=a}const s1={name:"autolink",tokenize:l1};function l1(s,a,i){let o=0;return u;function u(j){return s.enter("autolink"),s.enter("autolinkMarker"),s.consume(j),s.exit("autolinkMarker"),s.enter("autolinkProtocol"),d}function d(j){return as(j)?(s.consume(j),h):j===64?i(j):f(j)}function h(j){return j===43||j===45||j===46||Nn(j)?(o=1,x(j)):f(j)}function x(j){return j===58?(s.consume(j),o=0,p):(j===43||j===45||j===46||Nn(j))&&o++<32?(s.consume(j),x):(o=0,f(j))}function p(j){return j===62?(s.exit("autolinkProtocol"),s.enter("autolinkMarker"),s.consume(j),s.exit("autolinkMarker"),s.exit("autolink"),a):j===null||j===32||j===60||td(j)?i(j):(s.consume(j),p)}function f(j){return j===64?(s.consume(j),g):Vj(j)?(s.consume(j),f):i(j)}function g(j){return Nn(j)?y(j):i(j)}function y(j){return j===46?(s.consume(j),o=0,g):j===62?(s.exit("autolinkProtocol").type="autolinkEmail",s.enter("autolinkMarker"),s.consume(j),s.exit("autolinkMarker"),s.exit("autolink"),a):S(j)}function S(j){if((j===45||Nn(j))&&o++<63){const O=j===45?S:y;return s.consume(j),O}return i(j)}}const mo={partial:!0,tokenize:a1};function a1(s,a,i){return o;function o(d){return Je(d)?rt(s,u,"linePrefix")(d):u(d)}function u(d){return d===null||Ee(d)?a(d):i(d)}}const cp={continuation:{tokenize:i1},exit:o1,name:"blockQuote",tokenize:r1};function r1(s,a,i){const o=this;return u;function u(h){if(h===62){const x=o.containerState;return x.open||(s.enter("blockQuote",{_container:!0}),x.open=!0),s.enter("blockQuotePrefix"),s.enter("blockQuoteMarker"),s.consume(h),s.exit("blockQuoteMarker"),d}return i(h)}function d(h){return Je(h)?(s.enter("blockQuotePrefixWhitespace"),s.consume(h),s.exit("blockQuotePrefixWhitespace"),s.exit("blockQuotePrefix"),a):(s.exit("blockQuotePrefix"),a(h))}}function i1(s,a,i){const o=this;return u;function u(h){return Je(h)?rt(s,d,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h):d(h)}function d(h){return s.attempt(cp,a,i)(h)}}function o1(s){s.exit("blockQuote")}const up={name:"characterEscape",tokenize:c1};function c1(s,a,i){return o;function o(d){return s.enter("characterEscape"),s.enter("escapeMarker"),s.consume(d),s.exit("escapeMarker"),u}function u(d){return Qj(d)?(s.enter("characterEscapeValue"),s.consume(d),s.exit("characterEscapeValue"),s.exit("characterEscape"),a):i(d)}}const dp={name:"characterReference",tokenize:u1};function u1(s,a,i){const o=this;let u=0,d,h;return x;function x(y){return s.enter("characterReference"),s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),p}function p(y){return y===35?(s.enter("characterReferenceMarkerNumeric"),s.consume(y),s.exit("characterReferenceMarkerNumeric"),f):(s.enter("characterReferenceValue"),d=31,h=Nn,g(y))}function f(y){return y===88||y===120?(s.enter("characterReferenceMarkerHexadecimal"),s.consume(y),s.exit("characterReferenceMarkerHexadecimal"),s.enter("characterReferenceValue"),d=6,h=Pj,g):(s.enter("characterReferenceValue"),d=7,h=nd,g(y))}function g(y){if(y===59&&u){const S=s.exit("characterReferenceValue");return h===Nn&&!wd(o.sliceSerialize(S))?i(y):(s.enter("characterReferenceMarker"),s.consume(y),s.exit("characterReferenceMarker"),s.exit("characterReference"),a)}return h(y)&&u++<d?(s.consume(y),g):i(y)}}const ax={partial:!0,tokenize:m1},rx={concrete:!0,name:"codeFenced",tokenize:d1};function d1(s,a,i){const o=this,u={partial:!0,tokenize:ye};let d=0,h=0,x;return p;function p(F){return f(F)}function f(F){const q=o.events[o.events.length-1];return d=q&&q[1].type==="linePrefix"?q[2].sliceSerialize(q[1],!0).length:0,x=F,s.enter("codeFenced"),s.enter("codeFencedFence"),s.enter("codeFencedFenceSequence"),g(F)}function g(F){return F===x?(h++,s.consume(F),g):h<3?i(F):(s.exit("codeFencedFenceSequence"),Je(F)?rt(s,y,"whitespace")(F):y(F))}function y(F){return F===null||Ee(F)?(s.exit("codeFencedFence"),o.interrupt?a(F):s.check(ax,E,ne)(F)):(s.enter("codeFencedFenceInfo"),s.enter("chunkString",{contentType:"string"}),S(F))}function S(F){return F===null||Ee(F)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),y(F)):Je(F)?(s.exit("chunkString"),s.exit("codeFencedFenceInfo"),rt(s,j,"whitespace")(F)):F===96&&F===x?i(F):(s.consume(F),S)}function j(F){return F===null||Ee(F)?y(F):(s.enter("codeFencedFenceMeta"),s.enter("chunkString",{contentType:"string"}),O(F))}function O(F){return F===null||Ee(F)?(s.exit("chunkString"),s.exit("codeFencedFenceMeta"),y(F)):F===96&&F===x?i(F):(s.consume(F),O)}function E(F){return s.attempt(u,ne,U)(F)}function U(F){return s.enter("lineEnding"),s.consume(F),s.exit("lineEnding"),k}function k(F){return d>0&&Je(F)?rt(s,z,"linePrefix",d+1)(F):z(F)}function z(F){return F===null||Ee(F)?s.check(ax,E,ne)(F):(s.enter("codeFlowValue"),H(F))}function H(F){return F===null||Ee(F)?(s.exit("codeFlowValue"),z(F)):(s.consume(F),H)}function ne(F){return s.exit("codeFenced"),a(F)}function ye(F,q,xe){let ue=0;return Y;function Y(ce){return F.enter("lineEnding"),F.consume(ce),F.exit("lineEnding"),_}function _(ce){return F.enter("codeFencedFence"),Je(ce)?rt(F,P,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ce):P(ce)}function P(ce){return ce===x?(F.enter("codeFencedFenceSequence"),se(ce)):xe(ce)}function se(ce){return ce===x?(ue++,F.consume(ce),se):ue>=h?(F.exit("codeFencedFenceSequence"),Je(ce)?rt(F,ae,"whitespace")(ce):ae(ce)):xe(ce)}function ae(ce){return ce===null||Ee(ce)?(F.exit("codeFencedFence"),q(ce)):xe(ce)}}}function m1(s,a,i){const o=this;return u;function u(h){return h===null?i(h):(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),d)}function d(h){return o.parser.lazy[o.now().line]?i(h):a(h)}}const Lu={name:"codeIndented",tokenize:f1},h1={partial:!0,tokenize:x1};function f1(s,a,i){const o=this;return u;function u(f){return s.enter("codeIndented"),rt(s,d,"linePrefix",5)(f)}function d(f){const g=o.events[o.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?h(f):i(f)}function h(f){return f===null?p(f):Ee(f)?s.attempt(h1,h,p)(f):(s.enter("codeFlowValue"),x(f))}function x(f){return f===null||Ee(f)?(s.exit("codeFlowValue"),h(f)):(s.consume(f),x)}function p(f){return s.exit("codeIndented"),a(f)}}function x1(s,a,i){const o=this;return u;function u(h){return o.parser.lazy[o.now().line]?i(h):Ee(h)?(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),u):rt(s,d,"linePrefix",5)(h)}function d(h){const x=o.events[o.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?a(h):Ee(h)?u(h):i(h)}}const p1={name:"codeText",previous:b1,resolve:g1,tokenize:y1};function g1(s){let a=s.length-4,i=3,o,u;if((s[i][1].type==="lineEnding"||s[i][1].type==="space")&&(s[a][1].type==="lineEnding"||s[a][1].type==="space")){for(o=i;++o<a;)if(s[o][1].type==="codeTextData"){s[i][1].type="codeTextPadding",s[a][1].type="codeTextPadding",i+=2,a-=2;break}}for(o=i-1,a++;++o<=a;)u===void 0?o!==a&&s[o][1].type!=="lineEnding"&&(u=o):(o===a||s[o][1].type==="lineEnding")&&(s[u][1].type="codeTextData",o!==u+2&&(s[u][1].end=s[o-1][1].end,s.splice(u+2,o-u-2),a-=o-u-2,o=u+2),u=void 0);return s}function b1(s){return s!==96||this.events[this.events.length-1][1].type==="characterEscape"}function y1(s,a,i){let o=0,u,d;return h;function h(y){return s.enter("codeText"),s.enter("codeTextSequence"),x(y)}function x(y){return y===96?(s.consume(y),o++,x):(s.exit("codeTextSequence"),p(y))}function p(y){return y===null?i(y):y===32?(s.enter("space"),s.consume(y),s.exit("space"),p):y===96?(d=s.enter("codeTextSequence"),u=0,g(y)):Ee(y)?(s.enter("lineEnding"),s.consume(y),s.exit("lineEnding"),p):(s.enter("codeTextData"),f(y))}function f(y){return y===null||y===32||y===96||Ee(y)?(s.exit("codeTextData"),p(y)):(s.consume(y),f)}function g(y){return y===96?(s.consume(y),u++,g):u===o?(s.exit("codeTextSequence"),s.exit("codeText"),a(y)):(d.type="codeTextData",f(y))}}class v1{constructor(a){this.left=a?[...a]:[],this.right=[]}get(a){if(a<0||a>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+a+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return a<this.left.length?this.left[a]:this.right[this.right.length-a+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(a,i){const o=i??Number.POSITIVE_INFINITY;return o<this.left.length?this.left.slice(a,o):a>this.left.length?this.right.slice(this.right.length-o+this.left.length,this.right.length-a+this.left.length).reverse():this.left.slice(a).concat(this.right.slice(this.right.length-o+this.left.length).reverse())}splice(a,i,o){const u=i||0;this.setCursor(Math.trunc(a));const d=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return o&&wr(this.left,o),d.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(a){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(a)}pushMany(a){this.setCursor(Number.POSITIVE_INFINITY),wr(this.left,a)}unshift(a){this.setCursor(0),this.right.push(a)}unshiftMany(a){this.setCursor(0),wr(this.right,a.reverse())}setCursor(a){if(!(a===this.left.length||a>this.left.length&&this.right.length===0||a<0&&this.left.length===0))if(a<this.left.length){const i=this.left.splice(a,Number.POSITIVE_INFINITY);wr(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-a,Number.POSITIVE_INFINITY);wr(this.left,i.reverse())}}}function wr(s,a){let i=0;if(a.length<1e4)s.push(...a);else for(;i<a.length;)s.push(...a.slice(i,i+1e4)),i+=1e4}function mp(s){const a={};let i=-1,o,u,d,h,x,p,f;const g=new v1(s);for(;++i<g.length;){for(;i in a;)i=a[i];if(o=g.get(i),i&&o[1].type==="chunkFlow"&&g.get(i-1)[1].type==="listItemPrefix"&&(p=o[1]._tokenizer.events,d=0,d<p.length&&p[d][1].type==="lineEndingBlank"&&(d+=2),d<p.length&&p[d][1].type==="content"))for(;++d<p.length&&p[d][1].type!=="content";)p[d][1].type==="chunkText"&&(p[d][1]._isInFirstContentOfListItem=!0,d++);if(o[0]==="enter")o[1].contentType&&(Object.assign(a,j1(g,i)),i=a[i],f=!0);else if(o[1]._container){for(d=i,u=void 0;d--;)if(h=g.get(d),h[1].type==="lineEnding"||h[1].type==="lineEndingBlank")h[0]==="enter"&&(u&&(g.get(u)[1].type="lineEndingBlank"),h[1].type="lineEnding",u=d);else if(!(h[1].type==="linePrefix"||h[1].type==="listItemIndent"))break;u&&(o[1].end={...g.get(u)[1].start},x=g.slice(u,i),x.unshift(o),g.splice(u,i-u+1,x))}}return rs(s,0,Number.POSITIVE_INFINITY,g.slice(0)),!f}function j1(s,a){const i=s.get(a)[1],o=s.get(a)[2];let u=a-1;const d=[];let h=i._tokenizer;h||(h=o.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(h._contentTypeTextTrailing=!0));const x=h.events,p=[],f={};let g,y,S=-1,j=i,O=0,E=0;const U=[E];for(;j;){for(;s.get(++u)[1]!==j;);d.push(u),j._tokenizer||(g=o.sliceStream(j),j.next||g.push(null),y&&h.defineSkip(j.start),j._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=!0),h.write(g),j._isInFirstContentOfListItem&&(h._gfmTasklistFirstContentOfListItem=void 0)),y=j,j=j.next}for(j=i;++S<x.length;)x[S][0]==="exit"&&x[S-1][0]==="enter"&&x[S][1].type===x[S-1][1].type&&x[S][1].start.line!==x[S][1].end.line&&(E=S+1,U.push(E),j._tokenizer=void 0,j.previous=void 0,j=j.next);for(h.events=[],j?(j._tokenizer=void 0,j.previous=void 0):U.pop(),S=U.length;S--;){const k=x.slice(U[S],U[S+1]),z=d.pop();p.push([z,z+k.length-1]),s.splice(z,2,k)}for(p.reverse(),S=-1;++S<p.length;)f[O+p[S][0]]=O+p[S][1],O+=p[S][1]-p[S][0]-1;return f}const N1={resolve:S1,tokenize:T1},w1={partial:!0,tokenize:k1};function S1(s){return mp(s),s}function T1(s,a){let i;return o;function o(x){return s.enter("content"),i=s.enter("chunkContent",{contentType:"content"}),u(x)}function u(x){return x===null?d(x):Ee(x)?s.check(w1,h,d)(x):(s.consume(x),u)}function d(x){return s.exit("chunkContent"),s.exit("content"),a(x)}function h(x){return s.consume(x),s.exit("chunkContent"),i.next=s.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,u}}function k1(s,a,i){const o=this;return u;function u(h){return s.exit("chunkContent"),s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),rt(s,d,"linePrefix")}function d(h){if(h===null||Ee(h))return i(h);const x=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?a(h):s.interrupt(o.parser.constructs.flow,i,a)(h)}}function hp(s,a,i,o,u,d,h,x,p){const f=p||Number.POSITIVE_INFINITY;let g=0;return y;function y(k){return k===60?(s.enter(o),s.enter(u),s.enter(d),s.consume(k),s.exit(d),S):k===null||k===32||k===41||td(k)?i(k):(s.enter(o),s.enter(h),s.enter(x),s.enter("chunkString",{contentType:"string"}),E(k))}function S(k){return k===62?(s.enter(d),s.consume(k),s.exit(d),s.exit(u),s.exit(o),a):(s.enter(x),s.enter("chunkString",{contentType:"string"}),j(k))}function j(k){return k===62?(s.exit("chunkString"),s.exit(x),S(k)):k===null||k===60||Ee(k)?i(k):(s.consume(k),k===92?O:j)}function O(k){return k===60||k===62||k===92?(s.consume(k),j):j(k)}function E(k){return!g&&(k===null||k===41||cn(k))?(s.exit("chunkString"),s.exit(x),s.exit(h),s.exit(o),a(k)):g<f&&k===40?(s.consume(k),g++,E):k===41?(s.consume(k),g--,E):k===null||k===32||k===40||td(k)?i(k):(s.consume(k),k===92?U:E)}function U(k){return k===40||k===41||k===92?(s.consume(k),E):E(k)}}function fp(s,a,i,o,u,d){const h=this;let x=0,p;return f;function f(j){return s.enter(o),s.enter(u),s.consume(j),s.exit(u),s.enter(d),g}function g(j){return x>999||j===null||j===91||j===93&&!p||j===94&&!x&&"_hiddenFootnoteSupport"in h.parser.constructs?i(j):j===93?(s.exit(d),s.enter(u),s.consume(j),s.exit(u),s.exit(o),a):Ee(j)?(s.enter("lineEnding"),s.consume(j),s.exit("lineEnding"),g):(s.enter("chunkString",{contentType:"string"}),y(j))}function y(j){return j===null||j===91||j===93||Ee(j)||x++>999?(s.exit("chunkString"),g(j)):(s.consume(j),p||(p=!Je(j)),j===92?S:y)}function S(j){return j===91||j===92||j===93?(s.consume(j),x++,y):y(j)}}function xp(s,a,i,o,u,d){let h;return x;function x(S){return S===34||S===39||S===40?(s.enter(o),s.enter(u),s.consume(S),s.exit(u),h=S===40?41:S,p):i(S)}function p(S){return S===h?(s.enter(u),s.consume(S),s.exit(u),s.exit(o),a):(s.enter(d),f(S))}function f(S){return S===h?(s.exit(d),p(h)):S===null?i(S):Ee(S)?(s.enter("lineEnding"),s.consume(S),s.exit("lineEnding"),rt(s,f,"linePrefix")):(s.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===h||S===null||Ee(S)?(s.exit("chunkString"),f(S)):(s.consume(S),S===92?y:g)}function y(S){return S===h||S===92?(s.consume(S),g):g(S)}}function kr(s,a){let i;return o;function o(u){return Ee(u)?(s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),i=!0,o):Je(u)?rt(s,o,i?"linePrefix":"lineSuffix")(u):a(u)}}const C1={name:"definition",tokenize:A1},E1={partial:!0,tokenize:_1};function A1(s,a,i){const o=this;let u;return d;function d(j){return s.enter("definition"),h(j)}function h(j){return fp.call(o,s,x,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(j)}function x(j){return u=wa(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),j===58?(s.enter("definitionMarker"),s.consume(j),s.exit("definitionMarker"),p):i(j)}function p(j){return cn(j)?kr(s,f)(j):f(j)}function f(j){return hp(s,g,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(j)}function g(j){return s.attempt(E1,y,y)(j)}function y(j){return Je(j)?rt(s,S,"whitespace")(j):S(j)}function S(j){return j===null||Ee(j)?(s.exit("definition"),o.parser.defined.push(u),a(j)):i(j)}}function _1(s,a,i){return o;function o(x){return cn(x)?kr(s,u)(x):i(x)}function u(x){return xp(s,d,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(x)}function d(x){return Je(x)?rt(s,h,"whitespace")(x):h(x)}function h(x){return x===null||Ee(x)?a(x):i(x)}}const D1={name:"hardBreakEscape",tokenize:R1};function R1(s,a,i){return o;function o(d){return s.enter("hardBreakEscape"),s.consume(d),u}function u(d){return Ee(d)?(s.exit("hardBreakEscape"),a(d)):i(d)}}const M1={name:"headingAtx",resolve:z1,tokenize:L1};function z1(s,a){let i=s.length-2,o=3,u,d;return s[o][1].type==="whitespace"&&(o+=2),i-2>o&&s[i][1].type==="whitespace"&&(i-=2),s[i][1].type==="atxHeadingSequence"&&(o===i-1||i-4>o&&s[i-2][1].type==="whitespace")&&(i-=o+1===i?2:4),i>o&&(u={type:"atxHeadingText",start:s[o][1].start,end:s[i][1].end},d={type:"chunkText",start:s[o][1].start,end:s[i][1].end,contentType:"text"},rs(s,o,i-o+1,[["enter",u,a],["enter",d,a],["exit",d,a],["exit",u,a]])),s}function L1(s,a,i){let o=0;return u;function u(g){return s.enter("atxHeading"),d(g)}function d(g){return s.enter("atxHeadingSequence"),h(g)}function h(g){return g===35&&o++<6?(s.consume(g),h):g===null||cn(g)?(s.exit("atxHeadingSequence"),x(g)):i(g)}function x(g){return g===35?(s.enter("atxHeadingSequence"),p(g)):g===null||Ee(g)?(s.exit("atxHeading"),a(g)):Je(g)?rt(s,x,"whitespace")(g):(s.enter("atxHeadingText"),f(g))}function p(g){return g===35?(s.consume(g),p):(s.exit("atxHeadingSequence"),x(g))}function f(g){return g===null||g===35||cn(g)?(s.exit("atxHeadingText"),x(g)):(s.consume(g),f)}}const O1=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ix=["pre","script","style","textarea"],B1={concrete:!0,name:"htmlFlow",resolveTo:q1,tokenize:$1},U1={partial:!0,tokenize:F1},H1={partial:!0,tokenize:Y1};function q1(s){let a=s.length;for(;a--&&!(s[a][0]==="enter"&&s[a][1].type==="htmlFlow"););return a>1&&s[a-2][1].type==="linePrefix"&&(s[a][1].start=s[a-2][1].start,s[a+1][1].start=s[a-2][1].start,s.splice(a-2,2)),s}function $1(s,a,i){const o=this;let u,d,h,x,p;return f;function f(v){return g(v)}function g(v){return s.enter("htmlFlow"),s.enter("htmlFlowData"),s.consume(v),y}function y(v){return v===33?(s.consume(v),S):v===47?(s.consume(v),d=!0,E):v===63?(s.consume(v),u=3,o.interrupt?a:D):as(v)?(s.consume(v),h=String.fromCharCode(v),U):i(v)}function S(v){return v===45?(s.consume(v),u=2,j):v===91?(s.consume(v),u=5,x=0,O):as(v)?(s.consume(v),u=4,o.interrupt?a:D):i(v)}function j(v){return v===45?(s.consume(v),o.interrupt?a:D):i(v)}function O(v){const I="CDATA[";return v===I.charCodeAt(x++)?(s.consume(v),x===I.length?o.interrupt?a:P:O):i(v)}function E(v){return as(v)?(s.consume(v),h=String.fromCharCode(v),U):i(v)}function U(v){if(v===null||v===47||v===62||cn(v)){const I=v===47,oe=h.toLowerCase();return!I&&!d&&ix.includes(oe)?(u=1,o.interrupt?a(v):P(v)):O1.includes(h.toLowerCase())?(u=6,I?(s.consume(v),k):o.interrupt?a(v):P(v)):(u=7,o.interrupt&&!o.parser.lazy[o.now().line]?i(v):d?z(v):H(v))}return v===45||Nn(v)?(s.consume(v),h+=String.fromCharCode(v),U):i(v)}function k(v){return v===62?(s.consume(v),o.interrupt?a:P):i(v)}function z(v){return Je(v)?(s.consume(v),z):Y(v)}function H(v){return v===47?(s.consume(v),Y):v===58||v===95||as(v)?(s.consume(v),ne):Je(v)?(s.consume(v),H):Y(v)}function ne(v){return v===45||v===46||v===58||v===95||Nn(v)?(s.consume(v),ne):ye(v)}function ye(v){return v===61?(s.consume(v),F):Je(v)?(s.consume(v),ye):H(v)}function F(v){return v===null||v===60||v===61||v===62||v===96?i(v):v===34||v===39?(s.consume(v),p=v,q):Je(v)?(s.consume(v),F):xe(v)}function q(v){return v===p?(s.consume(v),p=null,ue):v===null||Ee(v)?i(v):(s.consume(v),q)}function xe(v){return v===null||v===34||v===39||v===47||v===60||v===61||v===62||v===96||cn(v)?ye(v):(s.consume(v),xe)}function ue(v){return v===47||v===62||Je(v)?H(v):i(v)}function Y(v){return v===62?(s.consume(v),_):i(v)}function _(v){return v===null||Ee(v)?P(v):Je(v)?(s.consume(v),_):i(v)}function P(v){return v===45&&u===2?(s.consume(v),A):v===60&&u===1?(s.consume(v),ee):v===62&&u===4?(s.consume(v),N):v===63&&u===3?(s.consume(v),D):v===93&&u===5?(s.consume(v),je):Ee(v)&&(u===6||u===7)?(s.exit("htmlFlowData"),s.check(U1,B,se)(v)):v===null||Ee(v)?(s.exit("htmlFlowData"),se(v)):(s.consume(v),P)}function se(v){return s.check(H1,ae,B)(v)}function ae(v){return s.enter("lineEnding"),s.consume(v),s.exit("lineEnding"),ce}function ce(v){return v===null||Ee(v)?se(v):(s.enter("htmlFlowData"),P(v))}function A(v){return v===45?(s.consume(v),D):P(v)}function ee(v){return v===47?(s.consume(v),h="",pe):P(v)}function pe(v){if(v===62){const I=h.toLowerCase();return ix.includes(I)?(s.consume(v),N):P(v)}return as(v)&&h.length<8?(s.consume(v),h+=String.fromCharCode(v),pe):P(v)}function je(v){return v===93?(s.consume(v),D):P(v)}function D(v){return v===62?(s.consume(v),N):v===45&&u===2?(s.consume(v),D):P(v)}function N(v){return v===null||Ee(v)?(s.exit("htmlFlowData"),B(v)):(s.consume(v),N)}function B(v){return s.exit("htmlFlow"),a(v)}}function Y1(s,a,i){const o=this;return u;function u(h){return Ee(h)?(s.enter("lineEnding"),s.consume(h),s.exit("lineEnding"),d):i(h)}function d(h){return o.parser.lazy[o.now().line]?i(h):a(h)}}function F1(s,a,i){return o;function o(u){return s.enter("lineEnding"),s.consume(u),s.exit("lineEnding"),s.attempt(mo,a,i)}}const G1={name:"htmlText",tokenize:V1};function V1(s,a,i){const o=this;let u,d,h;return x;function x(D){return s.enter("htmlText"),s.enter("htmlTextData"),s.consume(D),p}function p(D){return D===33?(s.consume(D),f):D===47?(s.consume(D),ye):D===63?(s.consume(D),H):as(D)?(s.consume(D),xe):i(D)}function f(D){return D===45?(s.consume(D),g):D===91?(s.consume(D),d=0,O):as(D)?(s.consume(D),z):i(D)}function g(D){return D===45?(s.consume(D),j):i(D)}function y(D){return D===null?i(D):D===45?(s.consume(D),S):Ee(D)?(h=y,ee(D)):(s.consume(D),y)}function S(D){return D===45?(s.consume(D),j):y(D)}function j(D){return D===62?A(D):D===45?S(D):y(D)}function O(D){const N="CDATA[";return D===N.charCodeAt(d++)?(s.consume(D),d===N.length?E:O):i(D)}function E(D){return D===null?i(D):D===93?(s.consume(D),U):Ee(D)?(h=E,ee(D)):(s.consume(D),E)}function U(D){return D===93?(s.consume(D),k):E(D)}function k(D){return D===62?A(D):D===93?(s.consume(D),k):E(D)}function z(D){return D===null||D===62?A(D):Ee(D)?(h=z,ee(D)):(s.consume(D),z)}function H(D){return D===null?i(D):D===63?(s.consume(D),ne):Ee(D)?(h=H,ee(D)):(s.consume(D),H)}function ne(D){return D===62?A(D):H(D)}function ye(D){return as(D)?(s.consume(D),F):i(D)}function F(D){return D===45||Nn(D)?(s.consume(D),F):q(D)}function q(D){return Ee(D)?(h=q,ee(D)):Je(D)?(s.consume(D),q):A(D)}function xe(D){return D===45||Nn(D)?(s.consume(D),xe):D===47||D===62||cn(D)?ue(D):i(D)}function ue(D){return D===47?(s.consume(D),A):D===58||D===95||as(D)?(s.consume(D),Y):Ee(D)?(h=ue,ee(D)):Je(D)?(s.consume(D),ue):A(D)}function Y(D){return D===45||D===46||D===58||D===95||Nn(D)?(s.consume(D),Y):_(D)}function _(D){return D===61?(s.consume(D),P):Ee(D)?(h=_,ee(D)):Je(D)?(s.consume(D),_):ue(D)}function P(D){return D===null||D===60||D===61||D===62||D===96?i(D):D===34||D===39?(s.consume(D),u=D,se):Ee(D)?(h=P,ee(D)):Je(D)?(s.consume(D),P):(s.consume(D),ae)}function se(D){return D===u?(s.consume(D),u=void 0,ce):D===null?i(D):Ee(D)?(h=se,ee(D)):(s.consume(D),se)}function ae(D){return D===null||D===34||D===39||D===60||D===61||D===96?i(D):D===47||D===62||cn(D)?ue(D):(s.consume(D),ae)}function ce(D){return D===47||D===62||cn(D)?ue(D):i(D)}function A(D){return D===62?(s.consume(D),s.exit("htmlTextData"),s.exit("htmlText"),a):i(D)}function ee(D){return s.exit("htmlTextData"),s.enter("lineEnding"),s.consume(D),s.exit("lineEnding"),pe}function pe(D){return Je(D)?rt(s,je,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):je(D)}function je(D){return s.enter("htmlTextData"),h(D)}}const Td={name:"labelEnd",resolveAll:I1,resolveTo:Z1,tokenize:J1},P1={tokenize:K1},Q1={tokenize:W1},X1={tokenize:eN};function I1(s){let a=-1;const i=[];for(;++a<s.length;){const o=s[a][1];if(i.push(s[a]),o.type==="labelImage"||o.type==="labelLink"||o.type==="labelEnd"){const u=o.type==="labelImage"?4:2;o.type="data",a+=u}}return s.length!==i.length&&rs(s,0,s.length,i),s}function Z1(s,a){let i=s.length,o=0,u,d,h,x;for(;i--;)if(u=s[i][1],d){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;s[i][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(h){if(s[i][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(d=i,u.type!=="labelLink")){o=2;break}}else u.type==="labelEnd"&&(h=i);const p={type:s[d][1].type==="labelLink"?"link":"image",start:{...s[d][1].start},end:{...s[s.length-1][1].end}},f={type:"label",start:{...s[d][1].start},end:{...s[h][1].end}},g={type:"labelText",start:{...s[d+o+2][1].end},end:{...s[h-2][1].start}};return x=[["enter",p,a],["enter",f,a]],x=Bn(x,s.slice(d+1,d+o+3)),x=Bn(x,[["enter",g,a]]),x=Bn(x,Sd(a.parser.constructs.insideSpan.null,s.slice(d+o+4,h-3),a)),x=Bn(x,[["exit",g,a],s[h-2],s[h-1],["exit",f,a]]),x=Bn(x,s.slice(h+1)),x=Bn(x,[["exit",p,a]]),rs(s,d,s.length,x),s}function J1(s,a,i){const o=this;let u=o.events.length,d,h;for(;u--;)if((o.events[u][1].type==="labelImage"||o.events[u][1].type==="labelLink")&&!o.events[u][1]._balanced){d=o.events[u][1];break}return x;function x(S){return d?d._inactive?y(S):(h=o.parser.defined.includes(wa(o.sliceSerialize({start:d.end,end:o.now()}))),s.enter("labelEnd"),s.enter("labelMarker"),s.consume(S),s.exit("labelMarker"),s.exit("labelEnd"),p):i(S)}function p(S){return S===40?s.attempt(P1,g,h?g:y)(S):S===91?s.attempt(Q1,g,h?f:y)(S):h?g(S):y(S)}function f(S){return s.attempt(X1,g,y)(S)}function g(S){return a(S)}function y(S){return d._balanced=!0,i(S)}}function K1(s,a,i){return o;function o(y){return s.enter("resource"),s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),u}function u(y){return cn(y)?kr(s,d)(y):d(y)}function d(y){return y===41?g(y):hp(s,h,x,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function h(y){return cn(y)?kr(s,p)(y):g(y)}function x(y){return i(y)}function p(y){return y===34||y===39||y===40?xp(s,f,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function f(y){return cn(y)?kr(s,g)(y):g(y)}function g(y){return y===41?(s.enter("resourceMarker"),s.consume(y),s.exit("resourceMarker"),s.exit("resource"),a):i(y)}}function W1(s,a,i){const o=this;return u;function u(x){return fp.call(o,s,d,h,"reference","referenceMarker","referenceString")(x)}function d(x){return o.parser.defined.includes(wa(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?a(x):i(x)}function h(x){return i(x)}}function eN(s,a,i){return o;function o(d){return s.enter("reference"),s.enter("referenceMarker"),s.consume(d),s.exit("referenceMarker"),u}function u(d){return d===93?(s.enter("referenceMarker"),s.consume(d),s.exit("referenceMarker"),s.exit("reference"),a):i(d)}}const tN={name:"labelStartImage",resolveAll:Td.resolveAll,tokenize:nN};function nN(s,a,i){const o=this;return u;function u(x){return s.enter("labelImage"),s.enter("labelImageMarker"),s.consume(x),s.exit("labelImageMarker"),d}function d(x){return x===91?(s.enter("labelMarker"),s.consume(x),s.exit("labelMarker"),s.exit("labelImage"),h):i(x)}function h(x){return x===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(x):a(x)}}const sN={name:"labelStartLink",resolveAll:Td.resolveAll,tokenize:lN};function lN(s,a,i){const o=this;return u;function u(h){return s.enter("labelLink"),s.enter("labelMarker"),s.consume(h),s.exit("labelMarker"),s.exit("labelLink"),d}function d(h){return h===94&&"_hiddenFootnoteSupport"in o.parser.constructs?i(h):a(h)}}const Ou={name:"lineEnding",tokenize:aN};function aN(s,a){return i;function i(o){return s.enter("lineEnding"),s.consume(o),s.exit("lineEnding"),rt(s,a,"linePrefix")}}const no={name:"thematicBreak",tokenize:rN};function rN(s,a,i){let o=0,u;return d;function d(f){return s.enter("thematicBreak"),h(f)}function h(f){return u=f,x(f)}function x(f){return f===u?(s.enter("thematicBreakSequence"),p(f)):o>=3&&(f===null||Ee(f))?(s.exit("thematicBreak"),a(f)):i(f)}function p(f){return f===u?(s.consume(f),o++,p):(s.exit("thematicBreakSequence"),Je(f)?rt(s,x,"whitespace")(f):x(f))}}const on={continuation:{tokenize:uN},exit:mN,name:"list",tokenize:cN},iN={partial:!0,tokenize:hN},oN={partial:!0,tokenize:dN};function cN(s,a,i){const o=this,u=o.events[o.events.length-1];let d=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,h=0;return x;function x(j){const O=o.containerState.type||(j===42||j===43||j===45?"listUnordered":"listOrdered");if(O==="listUnordered"?!o.containerState.marker||j===o.containerState.marker:nd(j)){if(o.containerState.type||(o.containerState.type=O,s.enter(O,{_container:!0})),O==="listUnordered")return s.enter("listItemPrefix"),j===42||j===45?s.check(no,i,f)(j):f(j);if(!o.interrupt||j===49)return s.enter("listItemPrefix"),s.enter("listItemValue"),p(j)}return i(j)}function p(j){return nd(j)&&++h<10?(s.consume(j),p):(!o.interrupt||h<2)&&(o.containerState.marker?j===o.containerState.marker:j===41||j===46)?(s.exit("listItemValue"),f(j)):i(j)}function f(j){return s.enter("listItemMarker"),s.consume(j),s.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||j,s.check(mo,o.interrupt?i:g,s.attempt(iN,S,y))}function g(j){return o.containerState.initialBlankLine=!0,d++,S(j)}function y(j){return Je(j)?(s.enter("listItemPrefixWhitespace"),s.consume(j),s.exit("listItemPrefixWhitespace"),S):i(j)}function S(j){return o.containerState.size=d+o.sliceSerialize(s.exit("listItemPrefix"),!0).length,a(j)}}function uN(s,a,i){const o=this;return o.containerState._closeFlow=void 0,s.check(mo,u,d);function u(x){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,rt(s,a,"listItemIndent",o.containerState.size+1)(x)}function d(x){return o.containerState.furtherBlankLines||!Je(x)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,h(x)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,s.attempt(oN,a,h)(x))}function h(x){return o.containerState._closeFlow=!0,o.interrupt=void 0,rt(s,s.attempt(on,a,i),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x)}}function dN(s,a,i){const o=this;return rt(s,u,"listItemIndent",o.containerState.size+1);function u(d){const h=o.events[o.events.length-1];return h&&h[1].type==="listItemIndent"&&h[2].sliceSerialize(h[1],!0).length===o.containerState.size?a(d):i(d)}}function mN(s){s.exit(this.containerState.type)}function hN(s,a,i){const o=this;return rt(s,u,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(d){const h=o.events[o.events.length-1];return!Je(d)&&h&&h[1].type==="listItemPrefixWhitespace"?a(d):i(d)}}const ox={name:"setextUnderline",resolveTo:fN,tokenize:xN};function fN(s,a){let i=s.length,o,u,d;for(;i--;)if(s[i][0]==="enter"){if(s[i][1].type==="content"){o=i;break}s[i][1].type==="paragraph"&&(u=i)}else s[i][1].type==="content"&&s.splice(i,1),!d&&s[i][1].type==="definition"&&(d=i);const h={type:"setextHeading",start:{...s[o][1].start},end:{...s[s.length-1][1].end}};return s[u][1].type="setextHeadingText",d?(s.splice(u,0,["enter",h,a]),s.splice(d+1,0,["exit",s[o][1],a]),s[o][1].end={...s[d][1].end}):s[o][1]=h,s.push(["exit",h,a]),s}function xN(s,a,i){const o=this;let u;return d;function d(f){let g=o.events.length,y;for(;g--;)if(o.events[g][1].type!=="lineEnding"&&o.events[g][1].type!=="linePrefix"&&o.events[g][1].type!=="content"){y=o.events[g][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||y)?(s.enter("setextHeadingLine"),u=f,h(f)):i(f)}function h(f){return s.enter("setextHeadingLineSequence"),x(f)}function x(f){return f===u?(s.consume(f),x):(s.exit("setextHeadingLineSequence"),Je(f)?rt(s,p,"lineSuffix")(f):p(f))}function p(f){return f===null||Ee(f)?(s.exit("setextHeadingLine"),a(f)):i(f)}}const pN={tokenize:gN};function gN(s){const a=this,i=s.attempt(mo,o,s.attempt(this.parser.constructs.flowInitial,u,rt(s,s.attempt(this.parser.constructs.flow,u,s.attempt(N1,u)),"linePrefix")));return i;function o(d){if(d===null){s.consume(d);return}return s.enter("lineEndingBlank"),s.consume(d),s.exit("lineEndingBlank"),a.currentConstruct=void 0,i}function u(d){if(d===null){s.consume(d);return}return s.enter("lineEnding"),s.consume(d),s.exit("lineEnding"),a.currentConstruct=void 0,i}}const bN={resolveAll:gp()},yN=pp("string"),vN=pp("text");function pp(s){return{resolveAll:gp(s==="text"?jN:void 0),tokenize:a};function a(i){const o=this,u=this.parser.constructs[s],d=i.attempt(u,h,x);return h;function h(g){return f(g)?d(g):x(g)}function x(g){if(g===null){i.consume(g);return}return i.enter("data"),i.consume(g),p}function p(g){return f(g)?(i.exit("data"),d(g)):(i.consume(g),p)}function f(g){if(g===null)return!0;const y=u[g];let S=-1;if(y)for(;++S<y.length;){const j=y[S];if(!j.previous||j.previous.call(o,o.previous))return!0}return!1}}}function gp(s){return a;function a(i,o){let u=-1,d;for(;++u<=i.length;)d===void 0?i[u]&&i[u][1].type==="data"&&(d=u,u++):(!i[u]||i[u][1].type!=="data")&&(u!==d+2&&(i[d][1].end=i[u-1][1].end,i.splice(d+2,u-d-2),u=d+2),d=void 0);return s?s(i,o):i}}function jN(s,a){let i=0;for(;++i<=s.length;)if((i===s.length||s[i][1].type==="lineEnding")&&s[i-1][1].type==="data"){const o=s[i-1][1],u=a.sliceStream(o);let d=u.length,h=-1,x=0,p;for(;d--;){const f=u[d];if(typeof f=="string"){for(h=f.length;f.charCodeAt(h-1)===32;)x++,h--;if(h)break;h=-1}else if(f===-2)p=!0,x++;else if(f!==-1){d++;break}}if(a._contentTypeTextTrailing&&i===s.length&&(x=0),x){const f={type:i===s.length||p||x<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:d?h:o.start._bufferIndex+h,_index:o.start._index+d,line:o.end.line,column:o.end.column-x,offset:o.end.offset-x},end:{...o.end}};o.end={...f.start},o.start.offset===o.end.offset?Object.assign(o,f):(s.splice(i,0,["enter",f,a],["exit",f,a]),i+=2)}i++}return s}const NN={42:on,43:on,45:on,48:on,49:on,50:on,51:on,52:on,53:on,54:on,55:on,56:on,57:on,62:cp},wN={91:C1},SN={[-2]:Lu,[-1]:Lu,32:Lu},TN={35:M1,42:no,45:[ox,no],60:B1,61:ox,95:no,96:rx,126:rx},kN={38:dp,92:up},CN={[-5]:Ou,[-4]:Ou,[-3]:Ou,33:tN,38:dp,42:sd,60:[s1,G1],91:sN,92:[D1,up],93:Td,95:sd,96:p1},EN={null:[sd,bN]},AN={null:[42,95]},_N={null:[]},DN=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:AN,contentInitial:wN,disable:_N,document:NN,flow:TN,flowInitial:SN,insideSpan:EN,string:kN,text:CN},Symbol.toStringTag,{value:"Module"}));function RN(s,a,i){let o={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const u={},d=[];let h=[],x=[];const p={attempt:q(ye),check:q(F),consume:z,enter:H,exit:ne,interrupt:q(F,{interrupt:!0})},f={code:null,containerState:{},defineSkip:E,events:[],now:O,parser:s,previous:null,sliceSerialize:S,sliceStream:j,write:y};let g=a.tokenize.call(f,p);return a.resolveAll&&d.push(a),f;function y(_){return h=Bn(h,_),U(),h[h.length-1]!==null?[]:(xe(a,0),f.events=Sd(d,f.events,f),f.events)}function S(_,P){return zN(j(_),P)}function j(_){return MN(h,_)}function O(){const{_bufferIndex:_,_index:P,line:se,column:ae,offset:ce}=o;return{_bufferIndex:_,_index:P,line:se,column:ae,offset:ce}}function E(_){u[_.line]=_.column,Y()}function U(){let _;for(;o._index<h.length;){const P=h[o._index];if(typeof P=="string")for(_=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===_&&o._bufferIndex<P.length;)k(P.charCodeAt(o._bufferIndex));else k(P)}}function k(_){g=g(_)}function z(_){Ee(_)?(o.line++,o.column=1,o.offset+=_===-3?2:1,Y()):_!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===h[o._index].length&&(o._bufferIndex=-1,o._index++)),f.previous=_}function H(_,P){const se=P||{};return se.type=_,se.start=O(),f.events.push(["enter",se,f]),x.push(se),se}function ne(_){const P=x.pop();return P.end=O(),f.events.push(["exit",P,f]),P}function ye(_,P){xe(_,P.from)}function F(_,P){P.restore()}function q(_,P){return se;function se(ae,ce,A){let ee,pe,je,D;return Array.isArray(ae)?B(ae):"tokenize"in ae?B([ae]):N(ae);function N(me){return ve;function ve(Ae){const Re=Ae!==null&&me[Ae],kt=Ae!==null&&me.null,xt=[...Array.isArray(Re)?Re:Re?[Re]:[],...Array.isArray(kt)?kt:kt?[kt]:[]];return B(xt)(Ae)}}function B(me){return ee=me,pe=0,me.length===0?A:v(me[pe])}function v(me){return ve;function ve(Ae){return D=ue(),je=me,me.partial||(f.currentConstruct=me),me.name&&f.parser.constructs.disable.null.includes(me.name)?oe():me.tokenize.call(P?Object.assign(Object.create(f),P):f,p,I,oe)(Ae)}}function I(me){return _(je,D),ce}function oe(me){return D.restore(),++pe<ee.length?v(ee[pe]):A}}}function xe(_,P){_.resolveAll&&!d.includes(_)&&d.push(_),_.resolve&&rs(f.events,P,f.events.length-P,_.resolve(f.events.slice(P),f)),_.resolveTo&&(f.events=_.resolveTo(f.events,f))}function ue(){const _=O(),P=f.previous,se=f.currentConstruct,ae=f.events.length,ce=Array.from(x);return{from:ae,restore:A};function A(){o=_,f.previous=P,f.currentConstruct=se,f.events.length=ae,x=ce,Y()}}function Y(){o.line in u&&o.column<2&&(o.column=u[o.line],o.offset+=u[o.line]-1)}}function MN(s,a){const i=a.start._index,o=a.start._bufferIndex,u=a.end._index,d=a.end._bufferIndex;let h;if(i===u)h=[s[i].slice(o,d)];else{if(h=s.slice(i,u),o>-1){const x=h[0];typeof x=="string"?h[0]=x.slice(o):h.shift()}d>0&&h.push(s[u].slice(0,d))}return h}function zN(s,a){let i=-1;const o=[];let u;for(;++i<s.length;){const d=s[i];let h;if(typeof d=="string")h=d;else switch(d){case-5:{h="\r";break}case-4:{h=`
`;break}case-3:{h=`\r
`;break}case-2:{h=a?" ":"	";break}case-1:{if(!a&&u)continue;h=" ";break}default:h=String.fromCharCode(d)}u=d===-2,o.push(h)}return o.join("")}function LN(s){const o={constructs:Yj([DN,...(s||{}).extensions||[]]),content:u(Zj),defined:[],document:u(Kj),flow:u(pN),lazy:{},string:u(yN),text:u(vN)};return o;function u(d){return h;function h(x){return RN(o,d,x)}}}function ON(s){for(;!mp(s););return s}const cx=/[\0\t\n\r]/g;function BN(){let s=1,a="",i=!0,o;return u;function u(d,h,x){const p=[];let f,g,y,S,j;for(d=a+(typeof d=="string"?d.toString():new TextDecoder(h||void 0).decode(d)),y=0,a="",i&&(d.charCodeAt(0)===65279&&y++,i=void 0);y<d.length;){if(cx.lastIndex=y,f=cx.exec(d),S=f&&f.index!==void 0?f.index:d.length,j=d.charCodeAt(S),!f){a=d.slice(y);break}if(j===10&&y===S&&o)p.push(-3),o=void 0;else switch(o&&(p.push(-5),o=void 0),y<S&&(p.push(d.slice(y,S)),s+=S-y),j){case 0:{p.push(65533),s++;break}case 9:{for(g=Math.ceil(s/4)*4,p.push(-2);s++<g;)p.push(-1);break}case 10:{p.push(-4),s=1;break}default:o=!0,s=1}y=S+1}return x&&(o&&p.push(-5),a&&p.push(a),p.push(null)),p}}const UN=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function HN(s){return s.replace(UN,qN)}function qN(s,a,i){if(a)return a;if(i.charCodeAt(0)===35){const u=i.charCodeAt(1),d=u===120||u===88;return op(i.slice(d?2:1),d?16:10)}return wd(i)||s}const bp={}.hasOwnProperty;function $N(s,a,i){return typeof a!="string"&&(i=a,a=void 0),YN(i)(ON(LN(i).document().write(BN()(s,a,!0))))}function YN(s){const a={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(Un),autolinkProtocol:ue,autolinkEmail:ue,atxHeading:d(bt),blockQuote:d(kt),characterEscape:ue,characterReference:ue,codeFenced:d(xt),codeFencedFenceInfo:h,codeFencedFenceMeta:h,codeIndented:d(xt,h),codeText:d(Xn,h),codeTextData:ue,data:ue,codeFlowValue:ue,definition:d(Vt),definitionDestinationString:h,definitionLabelString:h,definitionTitleString:h,emphasis:d(Xt),hardBreakEscape:d(pt),hardBreakTrailing:d(pt),htmlFlow:d(Ls,h),htmlFlowData:ue,htmlText:d(Ls,h),htmlTextData:ue,image:d(In),label:h,link:d(Un),listItem:d(It),listItemValue:S,listOrdered:d(Wt,y),listUnordered:d(Wt),paragraph:d(Ht),reference:v,referenceString:h,resourceDestinationString:h,resourceTitleString:h,setextHeading:d(bt),strong:d(mt),thematicBreak:d(dn)},exit:{atxHeading:p(),atxHeadingSequence:ye,autolink:p(),autolinkEmail:Re,autolinkProtocol:Ae,blockQuote:p(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:me,characterReference:ve,codeFenced:p(U),codeFencedFence:E,codeFencedFenceInfo:j,codeFencedFenceMeta:O,codeFlowValue:Y,codeIndented:p(k),codeText:p(ce),codeTextData:Y,data:Y,definition:p(),definitionDestinationString:ne,definitionLabelString:z,definitionTitleString:H,emphasis:p(),hardBreakEscape:p(P),hardBreakTrailing:p(P),htmlFlow:p(se),htmlFlowData:Y,htmlText:p(ae),htmlTextData:Y,image:p(ee),label:je,labelText:pe,lineEnding:_,link:p(A),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:I,resourceDestinationString:D,resourceTitleString:N,resource:B,setextHeading:p(xe),setextHeadingLineSequence:q,setextHeadingText:F,strong:p(),thematicBreak:p()}};yp(a,(s||{}).mdastExtensions||[]);const i={};return o;function o(W){let ge={type:"root",children:[]};const Te={stack:[ge],tokenStack:[],config:a,enter:x,exit:f,buffer:h,resume:g,data:i},Me=[];let Ye=-1;for(;++Ye<W.length;)if(W[Ye][1].type==="listOrdered"||W[Ye][1].type==="listUnordered")if(W[Ye][0]==="enter")Me.push(Ye);else{const Mt=Me.pop();Ye=u(W,Mt,Ye)}for(Ye=-1;++Ye<W.length;){const Mt=a[W[Ye][0]];bp.call(Mt,W[Ye][1].type)&&Mt[W[Ye][1].type].call(Object.assign({sliceSerialize:W[Ye][2].sliceSerialize},Te),W[Ye][1])}if(Te.tokenStack.length>0){const Mt=Te.tokenStack[Te.tokenStack.length-1];(Mt[1]||ux).call(Te,void 0,Mt[0])}for(ge.position={start:ol(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:ol(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},Ye=-1;++Ye<a.transforms.length;)ge=a.transforms[Ye](ge)||ge;return ge}function u(W,ge,Te){let Me=ge-1,Ye=-1,Mt=!1,en,zt,it,gt;for(;++Me<=Te;){const Qe=W[Me];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?Ye++:Ye--,gt=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(en&&!gt&&!Ye&&!it&&(it=Me),gt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:gt=void 0}if(!Ye&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||Ye===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(en){let mn=Me;for(zt=void 0;mn--;){const yt=W[mn];if(yt[1].type==="lineEnding"||yt[1].type==="lineEndingBlank"){if(yt[0]==="exit")continue;zt&&(W[zt][1].type="lineEndingBlank",Mt=!0),yt[1].type="lineEnding",zt=mn}else if(!(yt[1].type==="linePrefix"||yt[1].type==="blockQuotePrefix"||yt[1].type==="blockQuotePrefixWhitespace"||yt[1].type==="blockQuoteMarker"||yt[1].type==="listItemIndent"))break}it&&(!zt||it<zt)&&(en._spread=!0),en.end=Object.assign({},zt?W[zt][1].start:Qe[1].end),W.splice(zt||Me,0,["exit",en,Qe[2]]),Me++,Te++}if(Qe[1].type==="listItemPrefix"){const mn={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};en=mn,W.splice(Me,0,["enter",mn,Qe[2]]),Me++,Te++,it=void 0,gt=!0}}}return W[ge][1]._spread=Mt,Te}function d(W,ge){return Te;function Te(Me){x.call(this,W(Me),Me),ge&&ge.call(this,Me)}}function h(){this.stack.push({type:"fragment",children:[]})}function x(W,ge,Te){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([ge,Te||void 0]),W.position={start:ol(ge.start),end:void 0}}function p(W){return ge;function ge(Te){W&&W.call(this,Te),f.call(this,Te)}}function f(W,ge){const Te=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==W.type&&(ge?ge.call(this,W,Me[0]):(Me[1]||ux).call(this,W,Me[0]));else throw new Error("Cannot close `"+W.type+"` ("+Tr({start:W.start,end:W.end})+"): its not open");Te.position.end=ol(W.end)}function g(){return qj(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function S(W){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function j(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=W}function O(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=W}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function U(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.value=W.replace(/(\r?\n|\r)$/g,"")}function z(W){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ge,Te.identifier=wa(this.sliceSerialize(W)).toLowerCase()}function H(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.title=W}function ne(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.url=W}function ye(W){const ge=this.stack[this.stack.length-1];if(!ge.depth){const Te=this.sliceSerialize(W).length;ge.depth=Te}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function q(W){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function xe(){this.data.setextHeadingSlurpLineEnding=void 0}function ue(W){const Te=this.stack[this.stack.length-1].children;let Me=Te[Te.length-1];(!Me||Me.type!=="text")&&(Me=Ct(),Me.position={start:ol(W.start),end:void 0},Te.push(Me)),this.stack.push(Me)}function Y(W){const ge=this.stack.pop();ge.value+=this.sliceSerialize(W),ge.position.end=ol(W.end)}function _(W){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Te=ge.children[ge.children.length-1];Te.position.end=ol(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&a.canContainEols.includes(ge.type)&&(ue.call(this,W),Y.call(this,W))}function P(){this.data.atHardBreak=!0}function se(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.value=W}function ae(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.value=W}function ce(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.value=W}function A(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ge,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function ee(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ge,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function pe(W){const ge=this.sliceSerialize(W),Te=this.stack[this.stack.length-2];Te.label=HN(ge),Te.identifier=wa(ge).toLowerCase()}function je(){const W=this.stack[this.stack.length-1],ge=this.resume(),Te=this.stack[this.stack.length-1];if(this.data.inReference=!0,Te.type==="link"){const Me=W.children;Te.children=Me}else Te.alt=ge}function D(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.url=W}function N(){const W=this.resume(),ge=this.stack[this.stack.length-1];ge.title=W}function B(){this.data.inReference=void 0}function v(){this.data.referenceType="collapsed"}function I(W){const ge=this.resume(),Te=this.stack[this.stack.length-1];Te.label=ge,Te.identifier=wa(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function oe(W){this.data.characterReferenceType=W.type}function me(W){const ge=this.sliceSerialize(W),Te=this.data.characterReferenceType;let Me;Te?(Me=op(ge,Te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=wd(ge);const Ye=this.stack[this.stack.length-1];Ye.value+=Me}function ve(W){const ge=this.stack.pop();ge.position.end=ol(W.end)}function Ae(W){Y.call(this,W);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(W)}function Re(W){Y.call(this,W);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(W)}function kt(){return{type:"blockquote",children:[]}}function xt(){return{type:"code",lang:null,meta:null,value:""}}function Xn(){return{type:"inlineCode",value:""}}function Vt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Xt(){return{type:"emphasis",children:[]}}function bt(){return{type:"heading",depth:0,children:[]}}function pt(){return{type:"break"}}function Ls(){return{type:"html",value:""}}function In(){return{type:"image",title:null,url:"",alt:null}}function Un(){return{type:"link",title:null,url:"",children:[]}}function Wt(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function It(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function Ht(){return{type:"paragraph",children:[]}}function mt(){return{type:"strong",children:[]}}function Ct(){return{type:"text",value:""}}function dn(){return{type:"thematicBreak"}}}function ol(s){return{line:s.line,column:s.column,offset:s.offset}}function yp(s,a){let i=-1;for(;++i<a.length;){const o=a[i];Array.isArray(o)?yp(s,o):FN(s,o)}}function FN(s,a){let i;for(i in a)if(bp.call(a,i))switch(i){case"canContainEols":{const o=a[i];o&&s[i].push(...o);break}case"transforms":{const o=a[i];o&&s[i].push(...o);break}case"enter":case"exit":{const o=a[i];o&&Object.assign(s[i],o);break}}}function ux(s,a){throw s?new Error("Cannot close `"+s.type+"` ("+Tr({start:s.start,end:s.end})+"): a different token (`"+a.type+"`, "+Tr({start:a.start,end:a.end})+") is open"):new Error("Cannot close document, a token (`"+a.type+"`, "+Tr({start:a.start,end:a.end})+") is still open")}function GN(s){const a=this;a.parser=i;function i(o){return $N(o,{...a.data("settings"),...s,extensions:a.data("micromarkExtensions")||[],mdastExtensions:a.data("fromMarkdownExtensions")||[]})}}function VN(s,a){const i={type:"element",tagName:"blockquote",properties:{},children:s.wrap(s.all(a),!0)};return s.patch(a,i),s.applyData(a,i)}function PN(s,a){const i={type:"element",tagName:"br",properties:{},children:[]};return s.patch(a,i),[s.applyData(a,i),{type:"text",value:`
`}]}function QN(s,a){const i=a.value?a.value+`
`:"",o={},u=a.lang?a.lang.split(/\s+/):[];u.length>0&&(o.className=["language-"+u[0]]);let d={type:"element",tagName:"code",properties:o,children:[{type:"text",value:i}]};return a.meta&&(d.data={meta:a.meta}),s.patch(a,d),d=s.applyData(a,d),d={type:"element",tagName:"pre",properties:{},children:[d]},s.patch(a,d),d}function XN(s,a){const i={type:"element",tagName:"del",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function IN(s,a){const i={type:"element",tagName:"em",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function ZN(s,a){const i=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",o=String(a.identifier).toUpperCase(),u=Ea(o.toLowerCase()),d=s.footnoteOrder.indexOf(o);let h,x=s.footnoteCounts.get(o);x===void 0?(x=0,s.footnoteOrder.push(o),h=s.footnoteOrder.length):h=d+1,x+=1,s.footnoteCounts.set(o,x);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+u,id:i+"fnref-"+u+(x>1?"-"+x:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(h)}]};s.patch(a,p);const f={type:"element",tagName:"sup",properties:{},children:[p]};return s.patch(a,f),s.applyData(a,f)}function JN(s,a){const i={type:"element",tagName:"h"+a.depth,properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function KN(s,a){if(s.options.allowDangerousHtml){const i={type:"raw",value:a.value};return s.patch(a,i),s.applyData(a,i)}}function vp(s,a){const i=a.referenceType;let o="]";if(i==="collapsed"?o+="[]":i==="full"&&(o+="["+(a.label||a.identifier)+"]"),a.type==="imageReference")return[{type:"text",value:"!["+a.alt+o}];const u=s.all(a),d=u[0];d&&d.type==="text"?d.value="["+d.value:u.unshift({type:"text",value:"["});const h=u[u.length-1];return h&&h.type==="text"?h.value+=o:u.push({type:"text",value:o}),u}function WN(s,a){const i=String(a.identifier).toUpperCase(),o=s.definitionById.get(i);if(!o)return vp(s,a);const u={src:Ea(o.url||""),alt:a.alt};o.title!==null&&o.title!==void 0&&(u.title=o.title);const d={type:"element",tagName:"img",properties:u,children:[]};return s.patch(a,d),s.applyData(a,d)}function e2(s,a){const i={src:Ea(a.url)};a.alt!==null&&a.alt!==void 0&&(i.alt=a.alt),a.title!==null&&a.title!==void 0&&(i.title=a.title);const o={type:"element",tagName:"img",properties:i,children:[]};return s.patch(a,o),s.applyData(a,o)}function t2(s,a){const i={type:"text",value:a.value.replace(/\r?\n|\r/g," ")};s.patch(a,i);const o={type:"element",tagName:"code",properties:{},children:[i]};return s.patch(a,o),s.applyData(a,o)}function n2(s,a){const i=String(a.identifier).toUpperCase(),o=s.definitionById.get(i);if(!o)return vp(s,a);const u={href:Ea(o.url||"")};o.title!==null&&o.title!==void 0&&(u.title=o.title);const d={type:"element",tagName:"a",properties:u,children:s.all(a)};return s.patch(a,d),s.applyData(a,d)}function s2(s,a){const i={href:Ea(a.url)};a.title!==null&&a.title!==void 0&&(i.title=a.title);const o={type:"element",tagName:"a",properties:i,children:s.all(a)};return s.patch(a,o),s.applyData(a,o)}function l2(s,a,i){const o=s.all(a),u=i?a2(i):jp(a),d={},h=[];if(typeof a.checked=="boolean"){const g=o[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},o.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:a.checked,disabled:!0},children:[]}),d.className=["task-list-item"]}let x=-1;for(;++x<o.length;){const g=o[x];(u||x!==0||g.type!=="element"||g.tagName!=="p")&&h.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!u?h.push(...g.children):h.push(g)}const p=o[o.length-1];p&&(u||p.type!=="element"||p.tagName!=="p")&&h.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:d,children:h};return s.patch(a,f),s.applyData(a,f)}function a2(s){let a=!1;if(s.type==="list"){a=s.spread||!1;const i=s.children;let o=-1;for(;!a&&++o<i.length;)a=jp(i[o])}return a}function jp(s){const a=s.spread;return a??s.children.length>1}function r2(s,a){const i={},o=s.all(a);let u=-1;for(typeof a.start=="number"&&a.start!==1&&(i.start=a.start);++u<o.length;){const h=o[u];if(h.type==="element"&&h.tagName==="li"&&h.properties&&Array.isArray(h.properties.className)&&h.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const d={type:"element",tagName:a.ordered?"ol":"ul",properties:i,children:s.wrap(o,!0)};return s.patch(a,d),s.applyData(a,d)}function i2(s,a){const i={type:"element",tagName:"p",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function o2(s,a){const i={type:"root",children:s.wrap(s.all(a))};return s.patch(a,i),s.applyData(a,i)}function c2(s,a){const i={type:"element",tagName:"strong",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}function u2(s,a){const i=s.all(a),o=i.shift(),u=[];if(o){const h={type:"element",tagName:"thead",properties:{},children:s.wrap([o],!0)};s.patch(a.children[0],h),u.push(h)}if(i.length>0){const h={type:"element",tagName:"tbody",properties:{},children:s.wrap(i,!0)},x=yd(a.children[1]),p=tp(a.children[a.children.length-1]);x&&p&&(h.position={start:x,end:p}),u.push(h)}const d={type:"element",tagName:"table",properties:{},children:s.wrap(u,!0)};return s.patch(a,d),s.applyData(a,d)}function d2(s,a,i){const o=i?i.children:void 0,d=(o?o.indexOf(a):1)===0?"th":"td",h=i&&i.type==="table"?i.align:void 0,x=h?h.length:a.children.length;let p=-1;const f=[];for(;++p<x;){const y=a.children[p],S={},j=h?h[p]:void 0;j&&(S.align=j);let O={type:"element",tagName:d,properties:S,children:[]};y&&(O.children=s.all(y),s.patch(y,O),O=s.applyData(y,O)),f.push(O)}const g={type:"element",tagName:"tr",properties:{},children:s.wrap(f,!0)};return s.patch(a,g),s.applyData(a,g)}function m2(s,a){const i={type:"element",tagName:"td",properties:{},children:s.all(a)};return s.patch(a,i),s.applyData(a,i)}const dx=9,mx=32;function h2(s){const a=String(s),i=/\r?\n|\r/g;let o=i.exec(a),u=0;const d=[];for(;o;)d.push(hx(a.slice(u,o.index),u>0,!0),o[0]),u=o.index+o[0].length,o=i.exec(a);return d.push(hx(a.slice(u),u>0,!1)),d.join("")}function hx(s,a,i){let o=0,u=s.length;if(a){let d=s.codePointAt(o);for(;d===dx||d===mx;)o++,d=s.codePointAt(o)}if(i){let d=s.codePointAt(u-1);for(;d===dx||d===mx;)u--,d=s.codePointAt(u-1)}return u>o?s.slice(o,u):""}function f2(s,a){const i={type:"text",value:h2(String(a.value))};return s.patch(a,i),s.applyData(a,i)}function x2(s,a){const i={type:"element",tagName:"hr",properties:{},children:[]};return s.patch(a,i),s.applyData(a,i)}const p2={blockquote:VN,break:PN,code:QN,delete:XN,emphasis:IN,footnoteReference:ZN,heading:JN,html:KN,imageReference:WN,image:e2,inlineCode:t2,linkReference:n2,link:s2,listItem:l2,list:r2,paragraph:i2,root:o2,strong:c2,table:u2,tableCell:m2,tableRow:d2,text:f2,thematicBreak:x2,toml:Ji,yaml:Ji,definition:Ji,footnoteDefinition:Ji};function Ji(){}const Np=-1,ho=0,Cr=1,ao=2,kd=3,Cd=4,Ed=5,Ad=6,wp=7,Sp=8,fx=typeof self=="object"?self:globalThis,g2=(s,a)=>{const i=(u,d)=>(s.set(d,u),u),o=u=>{if(s.has(u))return s.get(u);const[d,h]=a[u];switch(d){case ho:case Np:return i(h,u);case Cr:{const x=i([],u);for(const p of h)x.push(o(p));return x}case ao:{const x=i({},u);for(const[p,f]of h)x[o(p)]=o(f);return x}case kd:return i(new Date(h),u);case Cd:{const{source:x,flags:p}=h;return i(new RegExp(x,p),u)}case Ed:{const x=i(new Map,u);for(const[p,f]of h)x.set(o(p),o(f));return x}case Ad:{const x=i(new Set,u);for(const p of h)x.add(o(p));return x}case wp:{const{name:x,message:p}=h;return i(new fx[x](p),u)}case Sp:return i(BigInt(h),u);case"BigInt":return i(Object(BigInt(h)),u);case"ArrayBuffer":return i(new Uint8Array(h).buffer,h);case"DataView":{const{buffer:x}=new Uint8Array(h);return i(new DataView(x),h)}}return i(new fx[d](h),u)};return o},xx=s=>g2(new Map,s)(0),va="",{toString:b2}={},{keys:y2}=Object,Sr=s=>{const a=typeof s;if(a!=="object"||!s)return[ho,a];const i=b2.call(s).slice(8,-1);switch(i){case"Array":return[Cr,va];case"Object":return[ao,va];case"Date":return[kd,va];case"RegExp":return[Cd,va];case"Map":return[Ed,va];case"Set":return[Ad,va];case"DataView":return[Cr,i]}return i.includes("Array")?[Cr,i]:i.includes("Error")?[wp,i]:[ao,i]},Ki=([s,a])=>s===ho&&(a==="function"||a==="symbol"),v2=(s,a,i,o)=>{const u=(h,x)=>{const p=o.push(h)-1;return i.set(x,p),p},d=h=>{if(i.has(h))return i.get(h);let[x,p]=Sr(h);switch(x){case ho:{let g=h;switch(p){case"bigint":x=Sp,g=h.toString();break;case"function":case"symbol":if(s)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return u([Np],h)}return u([x,g],h)}case Cr:{if(p){let S=h;return p==="DataView"?S=new Uint8Array(h.buffer):p==="ArrayBuffer"&&(S=new Uint8Array(h)),u([p,[...S]],h)}const g=[],y=u([x,g],h);for(const S of h)g.push(d(S));return y}case ao:{if(p)switch(p){case"BigInt":return u([p,h.toString()],h);case"Boolean":case"Number":case"String":return u([p,h.valueOf()],h)}if(a&&"toJSON"in h)return d(h.toJSON());const g=[],y=u([x,g],h);for(const S of y2(h))(s||!Ki(Sr(h[S])))&&g.push([d(S),d(h[S])]);return y}case kd:return u([x,h.toISOString()],h);case Cd:{const{source:g,flags:y}=h;return u([x,{source:g,flags:y}],h)}case Ed:{const g=[],y=u([x,g],h);for(const[S,j]of h)(s||!(Ki(Sr(S))||Ki(Sr(j))))&&g.push([d(S),d(j)]);return y}case Ad:{const g=[],y=u([x,g],h);for(const S of h)(s||!Ki(Sr(S)))&&g.push(d(S));return y}}const{message:f}=h;return u([x,{name:p,message:f}],h)};return d},px=(s,{json:a,lossy:i}={})=>{const o=[];return v2(!(a||i),!!a,new Map,o)(s),o},ro=typeof structuredClone=="function"?(s,a)=>a&&("json"in a||"lossy"in a)?xx(px(s,a)):structuredClone(s):(s,a)=>xx(px(s,a));function j2(s,a){const i=[{type:"text",value:""}];return a>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(a)}]}),i}function N2(s,a){return"Back to reference "+(s+1)+(a>1?"-"+a:"")}function w2(s){const a=typeof s.options.clobberPrefix=="string"?s.options.clobberPrefix:"user-content-",i=s.options.footnoteBackContent||j2,o=s.options.footnoteBackLabel||N2,u=s.options.footnoteLabel||"Footnotes",d=s.options.footnoteLabelTagName||"h2",h=s.options.footnoteLabelProperties||{className:["sr-only"]},x=[];let p=-1;for(;++p<s.footnoteOrder.length;){const f=s.footnoteById.get(s.footnoteOrder[p]);if(!f)continue;const g=s.all(f),y=String(f.identifier).toUpperCase(),S=Ea(y.toLowerCase());let j=0;const O=[],E=s.footnoteCounts.get(y);for(;E!==void 0&&++j<=E;){O.length>0&&O.push({type:"text",value:" "});let z=typeof i=="string"?i:i(p,j);typeof z=="string"&&(z={type:"text",value:z}),O.push({type:"element",tagName:"a",properties:{href:"#"+a+"fnref-"+S+(j>1?"-"+j:""),dataFootnoteBackref:"",ariaLabel:typeof o=="string"?o:o(p,j),className:["data-footnote-backref"]},children:Array.isArray(z)?z:[z]})}const U=g[g.length-1];if(U&&U.type==="element"&&U.tagName==="p"){const z=U.children[U.children.length-1];z&&z.type==="text"?z.value+=" ":U.children.push({type:"text",value:" "}),U.children.push(...O)}else g.push(...O);const k={type:"element",tagName:"li",properties:{id:a+"fn-"+S},children:s.wrap(g,!0)};s.patch(f,k),x.push(k)}if(x.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:d,properties:{...ro(h),id:"footnote-label"},children:[{type:"text",value:u}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:s.wrap(x,!0)},{type:"text",value:`
`}]}}const Tp=(function(s){if(s==null)return C2;if(typeof s=="function")return fo(s);if(typeof s=="object")return Array.isArray(s)?S2(s):T2(s);if(typeof s=="string")return k2(s);throw new Error("Expected function, string, or object as test")});function S2(s){const a=[];let i=-1;for(;++i<s.length;)a[i]=Tp(s[i]);return fo(o);function o(...u){let d=-1;for(;++d<a.length;)if(a[d].apply(this,u))return!0;return!1}}function T2(s){const a=s;return fo(i);function i(o){const u=o;let d;for(d in s)if(u[d]!==a[d])return!1;return!0}}function k2(s){return fo(a);function a(i){return i&&i.type===s}}function fo(s){return a;function a(i,o,u){return!!(E2(i)&&s.call(this,i,typeof o=="number"?o:void 0,u||void 0))}}function C2(){return!0}function E2(s){return s!==null&&typeof s=="object"&&"type"in s}const kp=[],A2=!0,gx=!1,_2="skip";function D2(s,a,i,o){let u;typeof a=="function"&&typeof i!="function"?(o=i,i=a):u=a;const d=Tp(u),h=o?-1:1;x(s,void 0,[])();function x(p,f,g){const y=p&&typeof p=="object"?p:{};if(typeof y.type=="string"){const j=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(S,"name",{value:"node ("+(p.type+(j?"<"+j+">":""))+")"})}return S;function S(){let j=kp,O,E,U;if((!a||d(p,f,g[g.length-1]||void 0))&&(j=R2(i(p,g)),j[0]===gx))return j;if("children"in p&&p.children){const k=p;if(k.children&&j[0]!==_2)for(E=(o?k.children.length:-1)+h,U=g.concat(k);E>-1&&E<k.children.length;){const z=k.children[E];if(O=x(z,E,U)(),O[0]===gx)return O;E=typeof O[1]=="number"?O[1]:E+h}}return j}}}function R2(s){return Array.isArray(s)?s:typeof s=="number"?[A2,s]:s==null?kp:[s]}function Cp(s,a,i,o){let u,d,h;typeof a=="function"&&typeof i!="function"?(d=void 0,h=a,u=i):(d=a,h=i,u=o),D2(s,d,x,u);function x(p,f){const g=f[f.length-1],y=g?g.children.indexOf(p):void 0;return h(p,y,g)}}const ld={}.hasOwnProperty,M2={};function z2(s,a){const i=a||M2,o=new Map,u=new Map,d=new Map,h={...p2,...i.handlers},x={all:f,applyData:O2,definitionById:o,footnoteById:u,footnoteCounts:d,footnoteOrder:[],handlers:h,one:p,options:i,patch:L2,wrap:U2};return Cp(s,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?o:u,S=String(g.identifier).toUpperCase();y.has(S)||y.set(S,g)}}),x;function p(g,y){const S=g.type,j=x.handlers[S];if(ld.call(x.handlers,S)&&j)return j(x,g,y);if(x.options.passThrough&&x.options.passThrough.includes(S)){if("children"in g){const{children:E,...U}=g,k=ro(U);return k.children=x.all(g),k}return ro(g)}return(x.options.unknownHandler||B2)(x,g,y)}function f(g){const y=[];if("children"in g){const S=g.children;let j=-1;for(;++j<S.length;){const O=x.one(S[j],g);if(O){if(j&&S[j-1].type==="break"&&(!Array.isArray(O)&&O.type==="text"&&(O.value=bx(O.value)),!Array.isArray(O)&&O.type==="element")){const E=O.children[0];E&&E.type==="text"&&(E.value=bx(E.value))}Array.isArray(O)?y.push(...O):y.push(O)}}}return y}}function L2(s,a){s.position&&(a.position=bj(s))}function O2(s,a){let i=a;if(s&&s.data){const o=s.data.hName,u=s.data.hChildren,d=s.data.hProperties;if(typeof o=="string")if(i.type==="element")i.tagName=o;else{const h="children"in i?i.children:[i];i={type:"element",tagName:o,properties:{},children:h}}i.type==="element"&&d&&Object.assign(i.properties,ro(d)),"children"in i&&i.children&&u!==null&&u!==void 0&&(i.children=u)}return i}function B2(s,a){const i=a.data||{},o="value"in a&&!(ld.call(i,"hProperties")||ld.call(i,"hChildren"))?{type:"text",value:a.value}:{type:"element",tagName:"div",properties:{},children:s.all(a)};return s.patch(a,o),s.applyData(a,o)}function U2(s,a){const i=[];let o=-1;for(a&&i.push({type:"text",value:`
`});++o<s.length;)o&&i.push({type:"text",value:`
`}),i.push(s[o]);return a&&s.length>0&&i.push({type:"text",value:`
`}),i}function bx(s){let a=0,i=s.charCodeAt(a);for(;i===9||i===32;)a++,i=s.charCodeAt(a);return s.slice(a)}function yx(s,a){const i=z2(s,a),o=i.one(s,void 0),u=w2(i),d=Array.isArray(o)?{type:"root",children:o}:o||{type:"root",children:[]};return u&&d.children.push({type:"text",value:`
`},u),d}function H2(s,a){return s&&"run"in s?async function(i,o){const u=yx(i,{file:o,...a});await s.run(u,o)}:function(i,o){return yx(i,{file:o,...s||a})}}function vx(s){if(s)throw s}var Bu,jx;function q2(){if(jx)return Bu;jx=1;var s=Object.prototype.hasOwnProperty,a=Object.prototype.toString,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u=function(f){return typeof Array.isArray=="function"?Array.isArray(f):a.call(f)==="[object Array]"},d=function(f){if(!f||a.call(f)!=="[object Object]")return!1;var g=s.call(f,"constructor"),y=f.constructor&&f.constructor.prototype&&s.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!y)return!1;var S;for(S in f);return typeof S>"u"||s.call(f,S)},h=function(f,g){i&&g.name==="__proto__"?i(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},x=function(f,g){if(g==="__proto__")if(s.call(f,g)){if(o)return o(f,g).value}else return;return f[g]};return Bu=function p(){var f,g,y,S,j,O,E=arguments[0],U=1,k=arguments.length,z=!1;for(typeof E=="boolean"&&(z=E,E=arguments[1]||{},U=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});U<k;++U)if(f=arguments[U],f!=null)for(g in f)y=x(E,g),S=x(f,g),E!==S&&(z&&S&&(d(S)||(j=u(S)))?(j?(j=!1,O=y&&u(y)?y:[]):O=y&&d(y)?y:{},h(E,{name:g,newValue:p(z,O,S)})):typeof S<"u"&&h(E,{name:g,newValue:S}));return E},Bu}var $2=q2();const Uu=io($2);function ad(s){if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)}function Y2(){const s=[],a={run:i,use:o};return a;function i(...u){let d=-1;const h=u.pop();if(typeof h!="function")throw new TypeError("Expected function as last argument, not "+h);x(null,...u);function x(p,...f){const g=s[++d];let y=-1;if(p){h(p);return}for(;++y<u.length;)(f[y]===null||f[y]===void 0)&&(f[y]=u[y]);u=f,g?F2(g,x)(...f):h(null,...f)}}function o(u){if(typeof u!="function")throw new TypeError("Expected `middelware` to be a function, not "+u);return s.push(u),a}}function F2(s,a){let i;return o;function o(...h){const x=s.length>h.length;let p;x&&h.push(u);try{p=s.apply(this,h)}catch(f){const g=f;if(x&&i)throw g;return u(g)}x||(p&&p.then&&typeof p.then=="function"?p.then(d,u):p instanceof Error?u(p):d(p))}function u(h,...x){i||(i=!0,a(h,...x))}function d(h){u(null,h)}}const ls={basename:G2,dirname:V2,extname:P2,join:Q2,sep:"/"};function G2(s,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');Mr(s);let i=0,o=-1,u=s.length,d;if(a===void 0||a.length===0||a.length>s.length){for(;u--;)if(s.codePointAt(u)===47){if(d){i=u+1;break}}else o<0&&(d=!0,o=u+1);return o<0?"":s.slice(i,o)}if(a===s)return"";let h=-1,x=a.length-1;for(;u--;)if(s.codePointAt(u)===47){if(d){i=u+1;break}}else h<0&&(d=!0,h=u+1),x>-1&&(s.codePointAt(u)===a.codePointAt(x--)?x<0&&(o=u):(x=-1,o=h));return i===o?o=h:o<0&&(o=s.length),s.slice(i,o)}function V2(s){if(Mr(s),s.length===0)return".";let a=-1,i=s.length,o;for(;--i;)if(s.codePointAt(i)===47){if(o){a=i;break}}else o||(o=!0);return a<0?s.codePointAt(0)===47?"/":".":a===1&&s.codePointAt(0)===47?"//":s.slice(0,a)}function P2(s){Mr(s);let a=s.length,i=-1,o=0,u=-1,d=0,h;for(;a--;){const x=s.codePointAt(a);if(x===47){if(h){o=a+1;break}continue}i<0&&(h=!0,i=a+1),x===46?u<0?u=a:d!==1&&(d=1):u>-1&&(d=-1)}return u<0||i<0||d===0||d===1&&u===i-1&&u===o+1?"":s.slice(u,i)}function Q2(...s){let a=-1,i;for(;++a<s.length;)Mr(s[a]),s[a]&&(i=i===void 0?s[a]:i+"/"+s[a]);return i===void 0?".":X2(i)}function X2(s){Mr(s);const a=s.codePointAt(0)===47;let i=I2(s,!a);return i.length===0&&!a&&(i="."),i.length>0&&s.codePointAt(s.length-1)===47&&(i+="/"),a?"/"+i:i}function I2(s,a){let i="",o=0,u=-1,d=0,h=-1,x,p;for(;++h<=s.length;){if(h<s.length)x=s.codePointAt(h);else{if(x===47)break;x=47}if(x===47){if(!(u===h-1||d===1))if(u!==h-1&&d===2){if(i.length<2||o!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",o=0):(i=i.slice(0,p),o=i.length-1-i.lastIndexOf("/")),u=h,d=0;continue}}else if(i.length>0){i="",o=0,u=h,d=0;continue}}a&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+s.slice(u+1,h):i=s.slice(u+1,h),o=h-u-1;u=h,d=0}else x===46&&d>-1?d++:d=-1}return i}function Mr(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}const Z2={cwd:J2};function J2(){return"/"}function rd(s){return!!(s!==null&&typeof s=="object"&&"href"in s&&s.href&&"protocol"in s&&s.protocol&&s.auth===void 0)}function K2(s){if(typeof s=="string")s=new URL(s);else if(!rd(s)){const a=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+s+"`");throw a.code="ERR_INVALID_ARG_TYPE",a}if(s.protocol!=="file:"){const a=new TypeError("The URL must be of scheme file");throw a.code="ERR_INVALID_URL_SCHEME",a}return W2(s)}function W2(s){if(s.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const a=s.pathname;let i=-1;for(;++i<a.length;)if(a.codePointAt(i)===37&&a.codePointAt(i+1)===50){const o=a.codePointAt(i+2);if(o===70||o===102){const u=new TypeError("File URL path must not include encoded / characters");throw u.code="ERR_INVALID_FILE_URL_PATH",u}}return decodeURIComponent(a)}const Hu=["history","path","basename","stem","extname","dirname"];class Ep{constructor(a){let i;a?rd(a)?i={path:a}:typeof a=="string"||ew(a)?i={value:a}:i=a:i={},this.cwd="cwd"in i?"":Z2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let o=-1;for(;++o<Hu.length;){const d=Hu[o];d in i&&i[d]!==void 0&&i[d]!==null&&(this[d]=d==="history"?[...i[d]]:i[d])}let u;for(u in i)Hu.includes(u)||(this[u]=i[u])}get basename(){return typeof this.path=="string"?ls.basename(this.path):void 0}set basename(a){$u(a,"basename"),qu(a,"basename"),this.path=ls.join(this.dirname||"",a)}get dirname(){return typeof this.path=="string"?ls.dirname(this.path):void 0}set dirname(a){Nx(this.basename,"dirname"),this.path=ls.join(a||"",this.basename)}get extname(){return typeof this.path=="string"?ls.extname(this.path):void 0}set extname(a){if(qu(a,"extname"),Nx(this.dirname,"extname"),a){if(a.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(a.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ls.join(this.dirname,this.stem+(a||""))}get path(){return this.history[this.history.length-1]}set path(a){rd(a)&&(a=K2(a)),$u(a,"path"),this.path!==a&&this.history.push(a)}get stem(){return typeof this.path=="string"?ls.basename(this.path,this.extname):void 0}set stem(a){$u(a,"stem"),qu(a,"stem"),this.path=ls.join(this.dirname||"",a+(this.extname||""))}fail(a,i,o){const u=this.message(a,i,o);throw u.fatal=!0,u}info(a,i,o){const u=this.message(a,i,o);return u.fatal=void 0,u}message(a,i,o){const u=new Qt(a,i,o);return this.path&&(u.name=this.path+":"+u.name,u.file=this.path),u.fatal=!1,this.messages.push(u),u}toString(a){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(a||void 0).decode(this.value)}}function qu(s,a){if(s&&s.includes(ls.sep))throw new Error("`"+a+"` cannot be a path: did not expect `"+ls.sep+"`")}function $u(s,a){if(!s)throw new Error("`"+a+"` cannot be empty")}function Nx(s,a){if(!s)throw new Error("Setting `"+a+"` requires `path` to be set too")}function ew(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const tw=(function(s){const o=this.constructor.prototype,u=o[s],d=function(){return u.apply(d,arguments)};return Object.setPrototypeOf(d,o),d}),nw={}.hasOwnProperty;class _d extends tw{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Y2()}copy(){const a=new _d;let i=-1;for(;++i<this.attachers.length;){const o=this.attachers[i];a.use(...o)}return a.data(Uu(!0,{},this.namespace)),a}data(a,i){return typeof a=="string"?arguments.length===2?(Gu("data",this.frozen),this.namespace[a]=i,this):nw.call(this.namespace,a)&&this.namespace[a]||void 0:a?(Gu("data",this.frozen),this.namespace=a,this):this.namespace}freeze(){if(this.frozen)return this;const a=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...o]=this.attachers[this.freezeIndex];if(o[0]===!1)continue;o[0]===!0&&(o[0]=void 0);const u=i.call(a,...o);typeof u=="function"&&this.transformers.use(u)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(a){this.freeze();const i=Wi(a),o=this.parser||this.Parser;return Yu("parse",o),o(String(i),i)}process(a,i){const o=this;return this.freeze(),Yu("process",this.parser||this.Parser),Fu("process",this.compiler||this.Compiler),i?u(void 0,i):new Promise(u);function u(d,h){const x=Wi(a),p=o.parse(x);o.run(p,x,function(g,y,S){if(g||!y||!S)return f(g);const j=y,O=o.stringify(j,S);aw(O)?S.value=O:S.result=O,f(g,S)});function f(g,y){g||!y?h(g):d?d(y):i(void 0,y)}}}processSync(a){let i=!1,o;return this.freeze(),Yu("processSync",this.parser||this.Parser),Fu("processSync",this.compiler||this.Compiler),this.process(a,u),Sx("processSync","process",i),o;function u(d,h){i=!0,vx(d),o=h}}run(a,i,o){wx(a),this.freeze();const u=this.transformers;return!o&&typeof i=="function"&&(o=i,i=void 0),o?d(void 0,o):new Promise(d);function d(h,x){const p=Wi(i);u.run(a,p,f);function f(g,y,S){const j=y||a;g?x(g):h?h(j):o(void 0,j,S)}}}runSync(a,i){let o=!1,u;return this.run(a,i,d),Sx("runSync","run",o),u;function d(h,x){vx(h),u=x,o=!0}}stringify(a,i){this.freeze();const o=Wi(i),u=this.compiler||this.Compiler;return Fu("stringify",u),wx(a),u(a,o)}use(a,...i){const o=this.attachers,u=this.namespace;if(Gu("use",this.frozen),a!=null)if(typeof a=="function")p(a,i);else if(typeof a=="object")Array.isArray(a)?x(a):h(a);else throw new TypeError("Expected usable value, not `"+a+"`");return this;function d(f){if(typeof f=="function")p(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[g,...y]=f;p(g,y)}else h(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function h(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");x(f.plugins),f.settings&&(u.settings=Uu(!0,u.settings,f.settings))}function x(f){let g=-1;if(f!=null)if(Array.isArray(f))for(;++g<f.length;){const y=f[g];d(y)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function p(f,g){let y=-1,S=-1;for(;++y<o.length;)if(o[y][0]===f){S=y;break}if(S===-1)o.push([f,...g]);else if(g.length>0){let[j,...O]=g;const E=o[S][1];ad(E)&&ad(j)&&(j=Uu(!0,E,j)),o[S]=[f,j,...O]}}}}const sw=new _d().freeze();function Yu(s,a){if(typeof a!="function")throw new TypeError("Cannot `"+s+"` without `parser`")}function Fu(s,a){if(typeof a!="function")throw new TypeError("Cannot `"+s+"` without `compiler`")}function Gu(s,a){if(a)throw new Error("Cannot call `"+s+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wx(s){if(!ad(s)||typeof s.type!="string")throw new TypeError("Expected node, got `"+s+"`")}function Sx(s,a,i){if(!i)throw new Error("`"+s+"` finished async. Use `"+a+"` instead")}function Wi(s){return lw(s)?s:new Ep(s)}function lw(s){return!!(s&&typeof s=="object"&&"message"in s&&"messages"in s)}function aw(s){return typeof s=="string"||rw(s)}function rw(s){return!!(s&&typeof s=="object"&&"byteLength"in s&&"byteOffset"in s)}const iw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Tx=[],kx={allowDangerousHtml:!0},ow=/^(https?|ircs?|mailto|xmpp)$/i,cw=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function uw(s){const a=dw(s),i=mw(s);return hw(a.runSync(a.parse(i),i),s)}function dw(s){const a=s.rehypePlugins||Tx,i=s.remarkPlugins||Tx,o=s.remarkRehypeOptions?{...s.remarkRehypeOptions,...kx}:kx;return sw().use(GN).use(i).use(H2,o).use(a)}function mw(s){const a=s.children||"",i=new Ep;return typeof a=="string"&&(i.value=a),i}function hw(s,a){const i=a.allowedElements,o=a.allowElement,u=a.components,d=a.disallowedElements,h=a.skipHtml,x=a.unwrapDisallowed,p=a.urlTransform||fw;for(const g of cw)Object.hasOwn(a,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+iw+g.id,void 0);return Cp(s,f),wj(s,{Fragment:t.Fragment,components:u,ignoreInvalidStyle:!0,jsx:t.jsx,jsxs:t.jsxs,passKeys:!0,passNode:!0});function f(g,y,S){if(g.type==="raw"&&S&&typeof y=="number")return h?S.children.splice(y,1):S.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let j;for(j in zu)if(Object.hasOwn(zu,j)&&Object.hasOwn(g.properties,j)){const O=g.properties[j],E=zu[j];(E===null||E.includes(g.tagName))&&(g.properties[j]=p(String(O||""),j,g))}}if(g.type==="element"){let j=i?!i.includes(g.tagName):d?d.includes(g.tagName):!1;if(!j&&o&&typeof y=="number"&&(j=!o(g,y,S)),j&&S&&typeof y=="number")return x&&g.children?S.children.splice(y,1,...g.children):S.children.splice(y,1),y}}}function fw(s){const a=s.indexOf(":"),i=s.indexOf("?"),o=s.indexOf("#"),u=s.indexOf("/");return a===-1||u!==-1&&a>u||i!==-1&&a>i||o!==-1&&a>o||ow.test(s.slice(0,a))?s:""}const Vu="https://sunke-vasan-varpe-varadaraju.onrender.com/api";class xw{getHeaders(){return{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}}async getChatHistory(a=50){try{const i=await fetch(`${Vu}/ai-chat/history?limit=${a}`,{headers:this.getHeaders()}),o=await i.json();return i.ok&&o.success?{success:!0,data:o.data}:{success:!1,message:o.message||"Failed to load chat history"}}catch(i){return console.error("Error fetching chat history:",i),{success:!1,message:"Failed to connect to AI service"}}}async sendMessage(a){try{const i=await fetch(`${Vu}/ai-chat/message`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({message:a})}),o=await i.json();return i.ok&&o.success?{success:!0,data:o.data}:{success:!1,message:o.message||"Failed to get AI response"}}catch(i){return console.error("Error sending message:",i),{success:!1,message:"Failed to send message. Please try again."}}}async clearChatHistory(){try{const a=await fetch(`${Vu}/ai-chat/history`,{method:"DELETE",headers:this.getHeaders()}),i=await a.json();return a.ok&&i.success?{success:!0,data:i.data}:{success:!1,message:i.message||"Failed to clear chat history"}}catch(a){return console.error("Error clearing chat history:",a),{success:!1,message:"Failed to clear chat history"}}}}const Pu=new xw,pw=()=>{const{user:s}=Ot(),[a,i]=T.useState([]),[o,u]=T.useState(""),[d,h]=T.useState(!1),[x,p]=T.useState(!0),[f,g]=T.useState(null),y=T.useRef(null),S=()=>{y.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{S()},[a]),T.useEffect(()=>{j()},[]);const j=async()=>{try{p(!0);const z=await Pu.getChatHistory(50);if(z.success){const H=z.data.map((ne,ye)=>({id:ye+1,type:ne.role==="user"?"user":"bot",text:ne.message,timestamp:new Date(ne.created_at).toLocaleTimeString()}));i(H),H.length===0&&i([{id:1,type:"bot",text:`Hello ${s?.full_name||s?.name||"there"}!  I'm your AI assistant powered by Grok. I can help you with tutoring questions, learning strategies, scheduling help, and much more. How can I assist you today?`,timestamp:new Date().toLocaleTimeString()}])}else g(z.message||"Failed to load chat history")}catch(z){console.error("Error fetching chat history:",z),g("Failed to connect to AI service"),i([{id:1,type:"bot",text:`Hello ${s?.full_name||s?.name||"there"}!  I'm your AI assistant. How can I help you today?`,timestamp:new Date().toLocaleTimeString()}])}finally{p(!1)}},O=async()=>{if(!o.trim()||d)return;const z=o.trim(),H={id:a.length+1,type:"user",text:z,timestamp:new Date().toLocaleTimeString()};i(ne=>[...ne,H]),u(""),h(!0),g(null);try{const ne=await Pu.sendMessage(z);if(ne.success){const ye={id:a.length+2,type:"bot",text:ne.data.aiResponse.message,timestamp:new Date(ne.data.aiResponse.created_at).toLocaleTimeString()};i(F=>[...F,ye])}else g(ne.message||"Failed to get AI response"),i(ye=>ye.filter(F=>F.id!==H.id))}catch(ne){console.error("Error sending message:",ne),g("Failed to send message. Please try again."),i(ye=>ye.filter(F=>F.id!==H.id))}finally{h(!1)}},E=s?.account_type==="tutor"?["How can I improve my teaching methods?","Tips for managing my tutoring schedule","How to prepare lesson materials?","Strategies for engaging students","Help with responding to reviews","Growing my tutoring business"]:["Help me understand a concept","Study tips for my exams","How to find the right tutor?","Prepare for a tutoring session","Explain a difficult topic","Time management strategies"],U=z=>{u(z)},k=async()=>{if(confirm("Are you sure you want to clear all chat history? This cannot be undone."))try{const z=await Pu.clearChatHistory();z.success?i([{id:1,type:"bot",text:`Hello ${s?.full_name||s?.name||"there"}!  I'm your AI assistant. How can I help you today?`,timestamp:new Date().toLocaleTimeString()}]):g(z.message||"Failed to clear chat history")}catch(z){console.error("Error clearing chat history:",z),g("Failed to clear chat history")}};return x?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center mx-auto mb-4 animate-pulse",children:t.jsx("span",{className:"text-3xl",children:""})}),t.jsx("p",{className:"text-slate-400",children:"Loading your AI assistant..."})]})}):t.jsx("div",{className:"min-h-screen bg-slate-950",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center justify-center space-x-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsx("span",{children:"AI Assistant"})]}),t.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[t.jsx("p",{className:"text-slate-400 text-lg",children:"Powered by Grok AI"}),a.length>1&&t.jsx("button",{onClick:k,className:"text-sm text-slate-500 hover:text-red-400 transition-colors",children:"Clear History"})]})]}),f&&t.jsx("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/50 rounded-lg text-red-400 text-sm",children:f}),t.jsxs("div",{className:"bg-slate-900/50 rounded-2xl border border-slate-800/50 backdrop-blur-sm overflow-hidden",style:{height:"calc(100vh - 280px)"},children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",style:{height:"calc(100% - 140px)"},children:[a.map(z=>t.jsx("div",{className:`flex ${z.type==="user"?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-3xl flex items-start space-x-3 ${z.type==="user"?"flex-row-reverse space-x-reverse":""}`,children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${z.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-purple-500 to-pink-600"}`,children:t.jsx("span",{className:"text-white text-sm",children:z.type==="user"?"":""})}),t.jsxs("div",{className:`px-4 py-3 rounded-2xl ${z.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white":"bg-slate-800/50 border border-slate-700/50 text-white"}`,children:[t.jsx("div",{className:"text-sm leading-relaxed prose prose-invert prose-sm max-w-none prose-p:my-2 prose-ul:my-2 prose-ol:my-2 prose-li:my-1 prose-strong:text-white prose-code:text-purple-300 prose-code:bg-slate-900/50 prose-code:px-1 prose-code:py-0.5 prose-code:rounded",children:t.jsx(uw,{children:z.text})}),t.jsx("p",{className:`text-xs mt-2 ${z.type==="user"?"text-blue-100":"text-slate-400"}`,children:z.timestamp})]})]})},z.id)),t.jsx("div",{ref:y}),d&&t.jsx("div",{className:"flex justify-start",children:t.jsxs("div",{className:"max-w-3xl flex items-start space-x-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-600 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white text-sm",children:""})}),t.jsx("div",{className:"px-4 py-3 rounded-2xl bg-slate-800/50 border border-slate-700/50",children:t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),t.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})]}),a.length<=1&&t.jsxs("div",{className:"px-6 py-4 border-t border-slate-800/50",children:[t.jsx("h3",{className:"text-slate-300 text-sm font-medium mb-3",children:"Quick questions to get started:"}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:E.map((z,H)=>t.jsx("button",{onClick:()=>U(z),className:"px-3 py-2 bg-slate-800/50 border border-slate-700/50 rounded-lg text-slate-300 text-sm hover:bg-slate-700/50 transition-colors text-left",children:z},H))})]}),t.jsxs("div",{className:"p-6 border-t border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800/50 transition-colors",children:t.jsx("span",{className:"text-xl",children:""})}),t.jsxs("div",{className:"flex-1 relative",children:[t.jsx("input",{type:"text",value:o,onChange:z=>u(z.target.value),onKeyPress:z=>z.key==="Enter"&&O(),placeholder:"Ask me anything...",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-purple-500/50 pr-12",disabled:d}),t.jsx("button",{onClick:O,disabled:!o.trim()||d,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-purple-400 hover:text-purple-300 transition-colors disabled:text-slate-500 disabled:cursor-not-allowed",children:t.jsx("span",{className:"text-xl",children:""})})]}),t.jsx("button",{className:"p-2 text-slate-400 hover:text-white rounded-lg hover:bg-slate-800/50 transition-colors",children:t.jsx("span",{className:"text-xl",children:""})})]}),t.jsx("div",{className:"mt-2 text-center",children:t.jsx("p",{className:"text-slate-500 text-xs",children:"AI can make mistakes. Please verify important information and use your judgment."})})]})]})]})})};const gw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bw=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,i,o)=>o?o.toUpperCase():i.toLowerCase()),Cx=s=>{const a=bw(s);return a.charAt(0).toUpperCase()+a.slice(1)},Ap=(...s)=>s.filter((a,i,o)=>!!a&&a.trim()!==""&&o.indexOf(a)===i).join(" ").trim(),yw=s=>{for(const a in s)if(a.startsWith("aria-")||a==="role"||a==="title")return!0};var vw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jw=T.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:h,...x},p)=>T.createElement("svg",{ref:p,...vw,width:a,height:a,stroke:s,strokeWidth:o?Number(i)*24/Number(a):i,className:Ap("lucide",u),...!d&&!yw(x)&&{"aria-hidden":"true"},...x},[...h.map(([f,g])=>T.createElement(f,g)),...Array.isArray(d)?d:[d]]));const ul=(s,a)=>{const i=T.forwardRef(({className:o,...u},d)=>T.createElement(jw,{ref:d,iconNode:a,className:Ap(`lucide-${gw(Cx(s))}`,`lucide-${s}`,o),...u}));return i.displayName=Cx(s),i};const Nw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ww=ul("calendar",Nw);const Sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tw=ul("circle-check",Sw);const kw=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ex=ul("circle-play",kw);const Cw=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],id=ul("clock",Cw);const Ew=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Aw=ul("ellipsis",Ew);const _w=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Dw=ul("pen-line",_w);const Rw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mw=ul("plus",Rw);const zw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lw=ul("trash-2",zw),Ow=()=>{const{user:s}=Ot(),[a,i]=T.useState([]),[o,u]=T.useState([]),[d,h]=T.useState([]),[x,p]=T.useState(!0),[f,g]=T.useState(!1),[y,S]=T.useState(null),[j,O]=T.useState("all"),[E,U]=T.useState("due_date"),[k,z]=T.useState(""),[H,ne]=T.useState({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",dueDate:"",status:"pending",progress:0}),[ye,F]=T.useState({});T.useEffect(()=>{q(),xe()},[]),T.useEffect(()=>{ue()},[a,j,E,k]);const q=async()=>{try{p(!0);const v=await Ml.getTasks();v.success&&i(v.data)}catch(v){console.error("Error fetching tasks:",v)}finally{p(!1)}},xe=async()=>{try{const v=await uo.getSubjects();v.success&&h(v.data)}catch(v){console.error("Error fetching subjects:",v),h([{name:"Mathematics"},{name:"Physics"},{name:"Chemistry"},{name:"Biology"},{name:"Computer Science"},{name:"English"},{name:"History"},{name:"Other"}])}},ue=()=>{let v=[...a];k&&(v=v.filter(I=>I.title.toLowerCase().includes(k.toLowerCase())||I.subject.toLowerCase().includes(k.toLowerCase())||I.description?.toLowerCase().includes(k.toLowerCase()))),j!=="all"&&(v=v.filter(I=>I.status===j)),v.sort((I,oe)=>{switch(E){case"due_date":return new Date(I.due_date)-new Date(oe.due_date);case"priority":const me={high:3,medium:2,low:1};return me[oe.priority]-me[I.priority];case"created_at":return new Date(oe.created_at)-new Date(I.created_at);case"progress":return oe.progress-I.progress;default:return 0}}),u(v)},Y=async()=>{try{F({});const v={};if(H.title.trim()||(v.title="Title is required"),H.subject.trim()||(v.subject="Subject is required"),H.dueDate||(v.dueDate="Due date is required"),Object.keys(v).length>0){F(v);return}(await Ml.createTask({...H,due:H.dueDate})).success&&(await q(),g(!1),A())}catch(v){console.error("Error creating task:",v),F({general:"Failed to create task. Please try again."})}},_=async()=>{try{F({}),(await Ml.updateTask(y.id,{...H,due:H.dueDate})).success&&(await q(),g(!1),S(null),A())}catch(v){console.error("Error updating task:",v),F({general:"Failed to update task. Please try again."})}},P=async v=>{if(window.confirm("Are you sure you want to delete this task?"))try{(await Ml.deleteTask(v)).success&&await q()}catch(I){console.error("Error deleting task:",I)}},se=async(v,I,oe=null)=>{try{const me={status:I};oe!==null&&(me.progress=oe),(await Ml.updateTask(v,me)).success&&await q()}catch(me){console.error("Error updating task status:",me)}},ae=async(v,I)=>{try{const oe=I===100?"completed":I>0?"in-progress":"pending";(await Ml.updateTask(v,{progress:I,status:oe})).success&&await q()}catch(oe){console.error("Error updating task progress:",oe)}},ce=(v=null)=>{v?(S(v),ne({title:v.title,description:v.description||"",subject:v.subject,priority:v.priority,estimatedTime:v.estimated_time||"",dueDate:v.due_date,status:v.status,progress:v.progress})):(S(null),A()),g(!0),F({})},A=()=>{ne({title:"",description:"",subject:"",priority:"medium",estimatedTime:"",dueDate:"",status:"pending",progress:0})},ee=v=>{switch(v){case"high":return"text-red-400 bg-red-500/20";case"medium":return"text-yellow-400 bg-yellow-500/20";case"low":return"text-green-400 bg-green-500/20";default:return"text-gray-400 bg-gray-500/20"}},pe=v=>{switch(v){case"completed":return"text-green-400 bg-green-500/20";case"in-progress":return"text-blue-400 bg-blue-500/20";case"started":return"text-yellow-400 bg-yellow-500/20";case"pending":return"text-gray-400 bg-gray-500/20";default:return"text-gray-400 bg-gray-500/20"}},je=v=>{switch(v){case"completed":return t.jsx(Tw,{className:"w-4 h-4"});case"in-progress":return t.jsx(Ex,{className:"w-4 h-4"});case"started":return t.jsx(Ex,{className:"w-4 h-4"});case"pending":return t.jsx(id,{className:"w-4 h-4"});default:return t.jsx(id,{className:"w-4 h-4"})}},D=v=>new Date(v)<new Date&&new Date(v).toDateString()!==new Date().toDateString(),B=(()=>{const v=a.length,I=a.filter(ve=>ve.status==="completed").length,oe=a.filter(ve=>ve.status==="in-progress"||ve.status==="started").length,me=a.filter(ve=>D(ve.due_date)&&ve.status!=="completed").length;return{total:v,completed:I,inProgress:oe,overdue:me}})();return x?t.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:t.jsx("div",{className:"text-white text-lg",children:"Loading tasks..."})}):t.jsxs("div",{className:"min-h-screen bg-slate-950",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:" Tasks"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Manage your academic tasks and track progress"})]}),t.jsxs("button",{onClick:()=>ce(),className:"mt-4 md:mt-0 flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[t.jsx(Mw,{className:"w-5 h-5"}),t.jsx("span",{children:"Add Task"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:B.total}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Total Tasks"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-green-400 mb-1",children:B.completed}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Completed"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-1",children:B.inProgress}),t.jsx("div",{className:"text-slate-400 text-sm",children:"In Progress"})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsx("div",{className:"text-2xl font-bold text-red-400 mb-1",children:B.overdue}),t.jsx("div",{className:"text-slate-400 text-sm",children:"Overdue"})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4 mb-8",children:[t.jsx("div",{className:"flex-1",children:t.jsx("input",{type:"text",placeholder:"Search tasks...",value:k,onChange:v=>z(v.target.value),className:"w-full px-4 py-3 bg-slate-900/50 border border-slate-800/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-blue-500"})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{value:j,onChange:v=>O(v.target.value),className:"px-4 py-3 bg-slate-900/50 border border-slate-800/50 rounded-xl text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]}),t.jsxs("select",{value:E,onChange:v=>U(v.target.value),className:"px-4 py-3 bg-slate-900/50 border border-slate-800/50 rounded-xl text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"due_date",children:"Due Date"}),t.jsx("option",{value:"priority",children:"Priority"}),t.jsx("option",{value:"created_at",children:"Created Date"}),t.jsx("option",{value:"progress",children:"Progress"})]})]})]}),t.jsx("div",{className:"space-y-4",children:o.length===0?t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-12 text-center border border-slate-800/50",children:[t.jsx("div",{className:"text-slate-400 text-lg mb-4",children:"No tasks found"}),t.jsx("button",{onClick:()=>ce(),className:"text-blue-400 hover:text-blue-300 font-medium",children:"Create your first task"})]}):o.map(v=>t.jsx(Bw,{task:v,onEdit:()=>ce(v),onDelete:()=>P(v.id),onStatusUpdate:se,onProgressUpdate:ae,getPriorityColor:ee,getStatusColor:pe,getStatusIcon:je,isOverdue:D},v.id))})]}),f&&t.jsx(Uw,{isOpen:f,onClose:()=>{g(!1),S(null),A()},taskForm:H,setTaskForm:ne,errors:ye,isEditing:!!y,onSubmit:y?_:Y,subjects:d.map(v=>v.name)})]})},Bw=({task:s,onEdit:a,onDelete:i,onStatusUpdate:o,onProgressUpdate:u,getPriorityColor:d,getStatusColor:h,getStatusIcon:x,isOverdue:p})=>{const[f,g]=T.useState(!1),[y,S]=T.useState(s.progress),j=U=>{const k=parseInt(U.target.value);S(k),u(s.id,k)},O=new Date(s.due_date).toLocaleDateString(),E=p(s.due_date);return t.jsxs("div",{className:`bg-slate-900/50 rounded-xl p-6 border transition-all duration-200 hover:bg-slate-900/70 ${E?"border-red-500/50":"border-slate-800/50"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-white font-semibold text-lg",children:s.title}),t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(s.priority)}`,children:s.priority}),t.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${h(s.status)}`,children:[x(s.status),s.status]})]}),s.description&&t.jsx("p",{className:"text-slate-400 mb-3",children:s.description}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ww,{className:"w-4 h-4"}),t.jsxs("span",{className:E?"text-red-400":"",children:[O,E&&" (Overdue)"]})]}),t.jsxs("span",{children:[" ",s.subject]}),s.estimated_time&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(id,{className:"w-4 h-4"}),s.estimated_time]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>g(!f),className:"p-2 text-slate-400 hover:text-white transition-colors",title:"Toggle progress",children:t.jsx(Aw,{className:"w-4 h-4"})}),t.jsx("button",{onClick:a,className:"p-2 text-slate-400 hover:text-blue-400 transition-colors",title:"Edit task",children:t.jsx(Dw,{className:"w-4 h-4"})}),t.jsx("button",{onClick:i,className:"p-2 text-slate-400 hover:text-red-400 transition-colors",title:"Delete task",children:t.jsx(Lw,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-400 text-sm",children:"Progress"}),t.jsxs("span",{className:"text-white font-medium",children:[s.progress,"%"]})]}),t.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${s.progress}%`}})}),f&&t.jsxs("div",{className:"pt-2",children:[t.jsx("input",{type:"range",min:"0",max:"100",value:y,onChange:j,className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider"}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[t.jsx("span",{children:"0%"}),t.jsx("span",{children:"50%"}),t.jsx("span",{children:"100%"})]})]})]}),t.jsxs("div",{className:"flex gap-2 mt-4",children:[s.status==="pending"&&t.jsx("button",{onClick:()=>o(s.id,"started",Math.max(1,s.progress)),className:"px-3 py-1 bg-blue-500/20 text-blue-400 rounded-lg text-sm hover:bg-blue-500/30 transition-colors",children:"Start Task"}),(s.status==="started"||s.status==="in-progress")&&s.progress<100&&t.jsx("button",{onClick:()=>o(s.id,"completed",100),className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-lg text-sm hover:bg-green-500/30 transition-colors",children:"Mark Complete"}),s.status==="completed"&&t.jsx("button",{onClick:()=>o(s.id,"in-progress",Math.min(99,s.progress)),className:"px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-lg text-sm hover:bg-yellow-500/30 transition-colors",children:"Reopen Task"})]})]})},Uw=({isOpen:s,onClose:a,taskForm:i,setTaskForm:o,errors:u,isEditing:d,onSubmit:h,subjects:x=[]})=>{if(!s)return null;const p=(f,g)=>{o(y=>({...y,[f]:g}))};return t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-slate-900 rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:d?"Edit Task":"Create New Task"}),t.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white transition-colors",children:""})]}),u.general&&t.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3 mb-4",children:t.jsx("p",{className:"text-red-400 text-sm",children:u.general})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Title *"}),t.jsx("input",{type:"text",value:i.title,onChange:f=>p("title",f.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${u.title?"border-red-500":"border-slate-700"}`,placeholder:"Enter task title"}),u.title&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description"}),t.jsx("textarea",{value:i.description,onChange:f=>p("description",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"Enter task description",rows:"3"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Subject *"}),t.jsxs("select",{value:i.subject,onChange:f=>p("subject",f.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${u.subject?"border-red-500":"border-slate-700"}`,children:[t.jsx("option",{value:"",children:"Select Subject"}),x.map(f=>t.jsx("option",{value:f,children:f},f))]}),u.subject&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.subject})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:i.priority,onChange:f=>p("priority",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"high",children:"High"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Estimated Time"}),t.jsx("input",{type:"text",value:i.estimatedTime,onChange:f=>p("estimatedTime",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",placeholder:"e.g. 2 hours, 30 minutes"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Due Date *"}),t.jsx("input",{type:"date",value:i.dueDate,onChange:f=>p("dueDate",f.target.value),className:`w-full px-3 py-2 bg-slate-800 border rounded-lg text-white focus:outline-none focus:border-blue-500 ${u.dueDate?"border-red-500":"border-slate-700"}`}),u.dueDate&&t.jsx("p",{className:"text-red-400 text-xs mt-1",children:u.dueDate})]})]}),d&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),t.jsxs("select",{value:i.status,onChange:f=>p("status",f.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"started",children:"Started"}),t.jsx("option",{value:"in-progress",children:"In Progress"}),t.jsx("option",{value:"completed",children:"Completed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Progress (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",value:i.progress,onChange:f=>p("progress",parseInt(f.target.value)||0),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:border-blue-500"})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[t.jsx("button",{onClick:a,className:"px-6 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),t.jsx("button",{onClick:h,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg font-medium transition-all duration-200",children:d?"Update Task":"Create Task"})]})]})})},Hw=()=>t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 p-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:" Tutor Availability & Booking Flow"}),t.jsx("p",{className:"text-slate-400 text-lg",children:"Complete workflow from tutor setup to student booking"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:" Tutor Side (Dr. Johnson)"}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm",children:"1"}),t.jsx("h3",{className:"text-white font-semibold",children:"Access Dashboard"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Tutor logs in and sees dashboard with navigation tabs"}),t.jsx("div",{className:"bg-slate-800/30 rounded-lg p-3",children:t.jsx("div",{className:"text-slate-300 text-xs font-mono",children:"Dashboard  Session Management Tab"})})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-sm",children:"2"}),t.jsx("h3",{className:"text-white font-semibold",children:"Set Available Time Slots"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Use TutorAvailabilityManager to create time slots"}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:"Monday"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"9:00-10:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"14:00-15:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"16:00-17:00"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:"Tuesday"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"10:00-11:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"15:00-16:00"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-slate-300 text-sm",children:"Wednesday"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"9:00-10:00"}),t.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded",children:"17:00-18:00"})]})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white font-bold text-sm",children:"3"}),t.jsx("h3",{className:"text-white font-semibold",children:"Receive Booking Requests"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:`Notifications appear under "Today's Sessions"`}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-lg p-3 border border-blue-500/30",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/30 flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-xs",children:"3"})}),t.jsx("h4",{className:"text-white font-medium text-sm",children:"New Booking Requests"})]}),t.jsx("div",{className:"space-y-2",children:t.jsx("div",{className:"bg-white/10 rounded-lg p-2",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-white font-medium text-sm",children:"Alice Johnson"}),t.jsx("p",{className:"text-blue-200 text-xs",children:"Mathematics  Mon, Jan 15, 2024"})]}),t.jsx("div",{className:"text-white text-xs",children:"2:00 PM"})]})})})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold text-sm",children:"4"}),t.jsx("h3",{className:"text-white font-semibold",children:"Accept/Decline Requests"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Click on request to view details and respond"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{className:"px-3 py-1 bg-red-600/20 text-red-400 border border-red-500/30 rounded text-xs",children:"Decline"}),t.jsx("button",{className:"px-3 py-1 bg-emerald-600/20 text-emerald-400 border border-emerald-500/30 rounded text-xs",children:"Accept & Schedule"})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white mb-4 text-center",children:" Student Side (Alice)"}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-sm",children:"1"}),t.jsx("h3",{className:"text-white font-semibold",children:"Browse Tutors"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Student searches for tutors and sees available sessions"}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-slate-300 text-xs font-mono",children:"Find Tutors  Dr. Johnson  Available Sessions Preview"}),t.jsxs("div",{className:"mt-2 space-y-1",children:[t.jsxs("div",{className:"flex justify-between bg-slate-700/30 rounded p-2",children:[t.jsx("span",{className:"text-slate-300 text-xs",children:"Mon, Jan 15"}),t.jsx("span",{className:"text-white text-xs",children:"14:00 - 15:00"})]}),t.jsxs("div",{className:"flex justify-between bg-slate-700/30 rounded p-2",children:[t.jsx("span",{className:"text-slate-300 text-xs",children:"Mon, Jan 15"}),t.jsx("span",{className:"text-white text-xs",children:"16:00 - 17:00"})]})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold text-sm",children:"2"}),t.jsx("h3",{className:"text-white font-semibold",children:"Book Session"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:'Click "Book Session" to see full availability calendar'}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-white text-sm font-medium mb-2",children:"Select Date & Time"}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[t.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-blue-300 text-xs font-medium",children:"Mon 15"})}),t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-slate-300 text-xs",children:"Tue 16"})}),t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-slate-300 text-xs",children:"Wed 17"})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"bg-blue-500/20 border border-blue-500/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-blue-300 text-xs",children:"14:00 - 15:00"})}),t.jsx("div",{className:"bg-slate-700/30 border border-slate-600/30 rounded p-2 text-center",children:t.jsx("div",{className:"text-slate-300 text-xs",children:"16:00 - 17:00"})})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center text-white font-bold text-sm",children:"3"}),t.jsx("h3",{className:"text-white font-semibold",children:"Send Booking Request"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Add notes and submit request to tutor"}),t.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3",children:[t.jsx("textarea",{className:"w-full bg-slate-700/50 border border-slate-600/50 rounded p-2 text-white text-xs",rows:"3",placeholder:"Need help with calculus derivatives...",disabled:!0}),t.jsxs("div",{className:"mt-2 flex space-x-2",children:[t.jsx("button",{className:"px-3 py-1 bg-slate-700/50 text-slate-300 rounded text-xs",children:"Cancel"}),t.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded text-xs",children:"Send Request"})]})]})]}),t.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-6 border border-slate-800/50",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold text-sm",children:"4"}),t.jsx("h3",{className:"text-white font-semibold",children:"Receive Confirmation"})]}),t.jsx("p",{className:"text-slate-300 text-sm mb-3",children:"Get notification when tutor accepts the request"}),t.jsxs("div",{className:"bg-green-500/20 border border-green-500/30 rounded-lg p-3",children:[t.jsx("div",{className:"text-green-400 font-medium text-sm",children:" Session Confirmed!"}),t.jsx("div",{className:"text-green-200 text-xs mt-1",children:"Dr. Johnson accepted your booking request for Monday, Jan 15 at 2:00 PM"})]})]})]})]}),t.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl p-6 border border-blue-500/20",children:[t.jsx("h3",{className:"text-white font-semibold mb-4 text-center",children:" Navigation Guide"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-blue-300 font-medium mb-2",children:"For Tutors:"}),t.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[t.jsxs("li",{children:[" Login  Dashboard  ",t.jsx("span",{className:"text-white font-medium",children:'"Session Management"'})," tab"]}),t.jsx("li",{children:" Use TutorAvailabilityManager to set time slots"}),t.jsx("li",{children:` Check notifications under "Today's Sessions"`}),t.jsx("li",{children:" Accept/decline requests via notification modal"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-purple-300 font-medium mb-2",children:"For Students:"}),t.jsxs("ul",{className:"space-y-1 text-slate-300 text-sm",children:[t.jsxs("li",{children:[" Navigation: ",t.jsx("span",{className:"text-white font-medium",children:'"Find Tutors"'}),'  Select Tutor  "Book Session"']}),t.jsx("li",{children:" See available slots in tutor preview cards"}),t.jsx("li",{children:" Full calendar view in booking page"}),t.jsx("li",{children:" Submit request with notes"})]})]})]})]})]})}),qw=({children:s})=>(console.log(" Layout rendering with children:",!!s),t.jsxs("div",{className:"min-h-screen bg-black",children:[t.jsx(jv,{}),s,t.jsx(Nv,{})]}));function $w(){console.log(" App component rendering");const s="/Sunke_Vasan_Varpe_Varadaraju/";return console.log(" Router basename:",s),t.jsx(Qx,{children:t.jsx(Fx,{basename:s,children:t.jsx(qw,{children:t.jsxs(Hx,{children:[t.jsx(dt,{path:"/test",element:t.jsx("div",{style:{color:"white",padding:"20px"},children:" Test Route Working!"})}),t.jsx(dt,{path:"/",element:t.jsx(Tv,{})}),t.jsx(dt,{path:"/about",element:t.jsx(Vv,{})}),t.jsx(dt,{path:"/login",element:t.jsx(Qi,{children:t.jsx(kv,{})})}),t.jsx(dt,{path:"/register",element:t.jsx(Qi,{children:t.jsx(Cv,{})})}),t.jsx(dt,{path:"/forgot-password",element:t.jsx(Qi,{children:t.jsx(Av,{})})}),t.jsx(dt,{path:"/reset-password",element:t.jsx(Qi,{children:t.jsx(Dv,{})})}),t.jsx(dt,{path:"/student-dashboard",element:t.jsx(Ln,{requiredRole:"student",children:t.jsx(Hf,{})})}),t.jsx(dt,{path:"/tutor-dashboard",element:t.jsx(Ln,{requiredRole:"tutor",children:t.jsx(Ov,{})})}),t.jsx(dt,{path:"/admin-dashboard",element:t.jsx(Ln,{requiredRole:"admin",children:t.jsx(Uv,{})})}),t.jsx(dt,{path:"/tutors",element:t.jsx(Ln,{children:t.jsx(Hv,{})})}),t.jsx(dt,{path:"/booking/:tutorId",element:t.jsx(Ln,{children:t.jsx($v,{})})}),t.jsx(dt,{path:"/profile",element:t.jsx(Ln,{children:t.jsx(Yv,{})})}),t.jsx(dt,{path:"/tutor-profile",element:t.jsx(Ln,{requiredRole:"tutor",children:t.jsx(Fv,{})})}),t.jsx(dt,{path:"/calendar",element:t.jsx(Ln,{children:t.jsx(Qv,{})})}),t.jsx(dt,{path:"/messages",element:t.jsx(Ln,{children:t.jsx(Xv,{})})}),t.jsx(dt,{path:"/chatbot",element:t.jsx(Ln,{children:t.jsx(pw,{})})}),t.jsx(dt,{path:"/tasks",element:t.jsx(Ln,{children:t.jsx(Ow,{})})}),t.jsx(dt,{path:"/demo/availability-flow",element:t.jsx(Hw,{})}),t.jsx(dt,{path:"/dashboard",element:t.jsx(Ln,{children:t.jsx(Hf,{})})}),t.jsx(dt,{path:"/unauthorized",element:t.jsx(Pv,{})}),t.jsx(dt,{path:"*",element:t.jsx(Gv,{})})]})})})})}const Yw=()=>(console.log(" SimpleApp rendering"),t.jsxs("div",{style:{minHeight:"100vh",background:"black",color:"white",padding:"20px"},children:[t.jsx("h1",{children:" Simple App Test"}),t.jsx("p",{children:"If you see this, the basic React structure is working."}),t.jsxs(Qx,{children:[t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h2",{children:" Auth Provider Test"}),t.jsx(wv,{})]}),t.jsx(Fx,{children:t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h2",{children:" Router Test"}),t.jsxs(Hx,{children:[t.jsx(dt,{path:"/",element:t.jsx("div",{children:" Route is working!"})}),t.jsx(dt,{path:"*",element:t.jsx("div",{children:" Unknown route"})})]})]})})]}),t.jsx(Sv,{})]})),Fw=()=>{const s=()=>{console.log("Button clicked - JavaScript is working"),alert("JavaScript is working in this browser!")};return t.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif",backgroundColor:"#f0f0f0",minHeight:"100vh"},children:[t.jsx("h1",{children:"Tutor Together - Basic Mode"}),t.jsx("p",{children:"This is a minimal fallback version to test browser compatibility."}),t.jsx("button",{onClick:s,style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Test JavaScript"}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h2",{children:"Debug Information"}),t.jsxs("p",{children:["Current URL: ",window.location.href]}),t.jsxs("p",{children:["User Agent: ",navigator.userAgent]}),t.jsxs("p",{children:["Current Time: ",new Date().toLocaleString()]}),t.jsxs("div",{style:{marginTop:"20px",padding:"10px",backgroundColor:"#e6f3ff"},children:[t.jsx("h3",{children:"Chrome Troubleshooting Steps:"}),t.jsxs("ol",{children:[t.jsx("li",{children:"Open Chrome DevTools (F12)"}),t.jsx("li",{children:"Check Console tab for errors (red text)"}),t.jsx("li",{children:"Check Network tab for failed requests"}),t.jsx("li",{children:"Try opening in Incognito mode"}),t.jsx("li",{children:"Clear browser cache and cookies"}),t.jsx("li",{children:"Disable browser extensions"})]})]})]})]})},Gw="https://sunke-vasan-varpe-varadaraju.onrender.com/api",Vw=()=>{const[s,a]=T.useState([]),i=(d,h="info")=>{a(x=>[...x,{message:d,status:h,timestamp:new Date().toLocaleTimeString()}])};T.useEffect(()=>{console.log(" Starting comprehensive diagnostic..."),i(" Diagnostic component mounted","success");try{i(" React hooks working","success")}catch(d){i(` React hooks error: ${d.message}`,"error")}i(` User Agent: ${navigator.userAgent.substring(0,50)}...`,"info"),i(` Location: ${window.location.href}`,"info");try{console.log("Testing console access"),i(" Console access working","success")}catch(d){i(` Console error: ${d.message}`,"error")}try{localStorage.setItem("diagnostic_test","working"),localStorage.removeItem("diagnostic_test"),i(" LocalStorage working","success")}catch(d){i(` LocalStorage error: ${d.message}`,"error")}fetch(`${Gw}/health`).then(d=>{d.ok?i(" Backend connection successful","success"):i(` Backend responded with ${d.status}`,"warning")}).catch(d=>{i(` Backend connection failed: ${d.message}`,"error")});try{i(` Current path: ${window.location.pathname}`,"info"),i(" Router path accessible","success")}catch(d){i(` Router error: ${d.message}`,"error")}},[]);const o={position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.9)",color:"white",padding:"20px",borderRadius:"8px",fontSize:"12px",zIndex:1e5,maxWidth:"80vw",maxHeight:"80vh",overflow:"auto",border:"2px solid #00ff00",fontFamily:"monospace"},u=d=>{switch(d){case"success":return"#00ff00";case"error":return"#ff0000";case"warning":return"#ffaa00";default:return"#ffffff"}};return t.jsxs("div",{style:o,children:[t.jsxs("div",{style:{marginBottom:"15px",textAlign:"center"},children:[t.jsx("strong",{children:" STARTUP DIAGNOSTIC"}),t.jsxs("div",{children:["Total checks: ",s.length]})]}),t.jsx("div",{style:{maxHeight:"300px",overflow:"auto"},children:s.map((d,h)=>t.jsxs("div",{style:{color:u(d.status),marginBottom:"5px",padding:"2px 0"},children:["[",d.timestamp,"] ",d.message]},h))}),t.jsx("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"10px"},children:"Close this by refreshing without ?diagnostic in URL"})]})};console.log(" main.jsx loading");const Dd=new URLSearchParams(window.location.search),Pw=Dd.has("simple"),Qw=Dd.has("diagnostic"),Xw=Dd.has("basic");let so=$w;Xw?so=Fw:Pw?so=Yw:Qw&&(so=()=>t.jsx(Vw,{}));Xb.createRoot(document.getElementById("root")).render(t.jsx(Ax.StrictMode,{children:t.jsx(so,{})}));
